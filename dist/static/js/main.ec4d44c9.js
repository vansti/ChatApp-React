!function(t){function e(r){if(n[r])return n[r].exports;var i=n[r]={i:r,l:!1,exports:{}};return t[r].call(i.exports,i,i.exports,e),i.l=!0,i.exports}var n={};e.m=t,e.c=n,e.d=function(t,n,r){e.o(t,n)||Object.defineProperty(t,n,{configurable:!1,enumerable:!0,get:r})},e.n=function(t){var n=t&&t.__esModule?function(){return t.default}:function(){return t};return e.d(n,"a",n),n},e.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},e.p="/",e(e.s=289)}([function(t,e){"function"===typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},function(t,e,n){function r(t,e){for(var n in t)e[n]=t[n]}function i(t,e,n){return a(t,e,n)}var o=n(7),a=o.Buffer;a.from&&a.alloc&&a.allocUnsafe&&a.allocUnsafeSlow?t.exports=o:(r(o,e),e.Buffer=i),r(a,i),i.from=function(t,e,n){if("number"===typeof t)throw new TypeError("Argument must not be a number");return a(t,e,n)},i.alloc=function(t,e,n){if("number"!==typeof t)throw new TypeError("Argument must be a number");var r=a(t);return void 0!==e?"string"===typeof n?r.fill(e,n):r.fill(e):r.fill(0),r},i.allocUnsafe=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return a(t)},i.allocUnsafeSlow=function(t){if("number"!==typeof t)throw new TypeError("Argument must be a number");return o.SlowBuffer(t)}},function(t,e){var n=Array.isArray;t.exports=n},function(t,e,n){"use strict";t.exports=n(296)},function(t,e){function n(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}t.exports=n},function(t,e,n){(function(t){!function(t,e){"use strict";function r(t,e){if(!t)throw new Error(e||"Assertion failed")}function i(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}function o(t,e,n){if(o.isBN(t))return t;this.negative=0,this.words=null,this.length=0,this.red=null,null!==t&&("le"!==e&&"be"!==e||(n=e,e=10),this._init(t||0,e||10,n||"be"))}function a(t,e,n){for(var r=0,i=Math.min(t.length,n),o=e;o<i;o++){var a=t.charCodeAt(o)-48;r<<=4,r|=a>=49&&a<=54?a-49+10:a>=17&&a<=22?a-17+10:15&a}return r}function s(t,e,n,r){for(var i=0,o=Math.min(t.length,n),a=e;a<o;a++){var s=t.charCodeAt(a)-48;i*=r,i+=s>=49?s-49+10:s>=17?s-17+10:s}return i}function u(t){for(var e=new Array(t.bitLength()),n=0;n<e.length;n++){var r=n/26|0,i=n%26;e[n]=(t.words[r]&1<<i)>>>i}return e}function c(t,e,n){n.negative=e.negative^t.negative;var r=t.length+e.length|0;n.length=r,r=r-1|0;var i=0|t.words[0],o=0|e.words[0],a=i*o,s=67108863&a,u=a/67108864|0;n.words[0]=s;for(var c=1;c<r;c++){for(var f=u>>>26,l=67108863&u,h=Math.min(c,e.length-1),d=Math.max(0,c-t.length+1);d<=h;d++){var p=c-d|0;i=0|t.words[p],o=0|e.words[d],a=i*o+l,f+=a/67108864|0,l=67108863&a}n.words[c]=0|l,u=0|f}return 0!==u?n.words[c]=0|u:n.length--,n.strip()}function f(t,e,n){n.negative=e.negative^t.negative,n.length=t.length+e.length;for(var r=0,i=0,o=0;o<n.length-1;o++){var a=i;i=0;for(var s=67108863&r,u=Math.min(o,e.length-1),c=Math.max(0,o-t.length+1);c<=u;c++){var f=o-c,l=0|t.words[f],h=0|e.words[c],d=l*h,p=67108863&d;a=a+(d/67108864|0)|0,p=p+s|0,s=67108863&p,a=a+(p>>>26)|0,i+=a>>>26,a&=67108863}n.words[o]=s,r=a,a=i}return 0!==r?n.words[o]=r:n.length--,n.strip()}function l(t,e,n){return(new h).mulp(t,e,n)}function h(t,e){this.x=t,this.y=e}function d(t,e){this.name=t,this.p=new o(e,16),this.n=this.p.bitLength(),this.k=new o(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function p(){d.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function y(){d.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function m(){d.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function v(){d.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function g(t){if("string"===typeof t){var e=o._prime(t);this.m=e.p,this.prime=e}else r(t.gtn(1),"modulus must be greater than 1"),this.m=t,this.prime=null}function b(t){g.call(this,t),this.shift=this.m.bitLength(),this.shift%26!==0&&(this.shift+=26-this.shift%26),this.r=new o(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}"object"===typeof t?t.exports=o:e.BN=o,o.BN=o,o.wordSize=26;var _;try{_=n(554).Buffer}catch(t){}o.isBN=function(t){return t instanceof o||null!==t&&"object"===typeof t&&t.constructor.wordSize===o.wordSize&&Array.isArray(t.words)},o.max=function(t,e){return t.cmp(e)>0?t:e},o.min=function(t,e){return t.cmp(e)<0?t:e},o.prototype._init=function(t,e,n){if("number"===typeof t)return this._initNumber(t,e,n);if("object"===typeof t)return this._initArray(t,e,n);"hex"===e&&(e=16),r(e===(0|e)&&e>=2&&e<=36),t=t.toString().replace(/\s+/g,"");var i=0;"-"===t[0]&&i++,16===e?this._parseHex(t,i):this._parseBase(t,e,i),"-"===t[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initNumber=function(t,e,n){t<0&&(this.negative=1,t=-t),t<67108864?(this.words=[67108863&t],this.length=1):t<4503599627370496?(this.words=[67108863&t,t/67108864&67108863],this.length=2):(r(t<9007199254740992),this.words=[67108863&t,t/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),e,n)},o.prototype._initArray=function(t,e,n){if(r("number"===typeof t.length),t.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(t.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var o,a,s=0;if("be"===n)for(i=t.length-1,o=0;i>=0;i-=3)a=t[i]|t[i-1]<<8|t[i-2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);else if("le"===n)for(i=0,o=0;i<t.length;i+=3)a=t[i]|t[i+1]<<8|t[i+2]<<16,this.words[o]|=a<<s&67108863,this.words[o+1]=a>>>26-s&67108863,(s+=24)>=26&&(s-=26,o++);return this.strip()},o.prototype._parseHex=function(t,e){this.length=Math.ceil((t.length-e)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var r,i,o=0;for(n=t.length-6,r=0;n>=e;n-=6)i=a(t,n,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303,(o+=24)>=26&&(o-=26,r++);n+6!==e&&(i=a(t,e,n+6),this.words[r]|=i<<o&67108863,this.words[r+1]|=i>>>26-o&4194303),this.strip()},o.prototype._parseBase=function(t,e,n){this.words=[0],this.length=1;for(var r=0,i=1;i<=67108863;i*=e)r++;r--,i=i/e|0;for(var o=t.length-n,a=o%r,u=Math.min(o,o-a)+n,c=0,f=n;f<u;f+=r)c=s(t,f,f+r,e),this.imuln(i),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c);if(0!==a){var l=1;for(c=s(t,f,t.length,e),f=0;f<a;f++)l*=e;this.imuln(l),this.words[0]+c<67108864?this.words[0]+=c:this._iaddn(c)}},o.prototype.copy=function(t){t.words=new Array(this.length);for(var e=0;e<this.length;e++)t.words[e]=this.words[e];t.length=this.length,t.negative=this.negative,t.red=this.red},o.prototype.clone=function(){var t=new o(null);return this.copy(t),t},o.prototype._expand=function(t){for(;this.length<t;)this.words[this.length++]=0;return this},o.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},o.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},o.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var w=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],E=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],S=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];o.prototype.toString=function(t,e){t=t||10,e=0|e||1;var n;if(16===t||"hex"===t){n="";for(var i=0,o=0,a=0;a<this.length;a++){var s=this.words[a],u=(16777215&(s<<i|o)).toString(16);o=s>>>24-i&16777215,n=0!==o||a!==this.length-1?w[6-u.length]+u+n:u+n,i+=2,i>=26&&(i-=26,a--)}for(0!==o&&(n=o.toString(16)+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(t===(0|t)&&t>=2&&t<=36){var c=E[t],f=S[t];n="";var l=this.clone();for(l.negative=0;!l.isZero();){var h=l.modn(f).toString(t);l=l.idivn(f),n=l.isZero()?h+n:w[c-h.length]+h+n}for(this.isZero()&&(n="0"+n);n.length%e!==0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},o.prototype.toNumber=function(){var t=this.words[0];return 2===this.length?t+=67108864*this.words[1]:3===this.length&&1===this.words[2]?t+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-t:t},o.prototype.toJSON=function(){return this.toString(16)},o.prototype.toBuffer=function(t,e){return r("undefined"!==typeof _),this.toArrayLike(_,t,e)},o.prototype.toArray=function(t,e){return this.toArrayLike(Array,t,e)},o.prototype.toArrayLike=function(t,e,n){var i=this.byteLength(),o=n||Math.max(1,i);r(i<=o,"byte array longer than desired length"),r(o>0,"Requested array length <= 0"),this.strip();var a,s,u="le"===e,c=new t(o),f=this.clone();if(u){for(s=0;!f.isZero();s++)a=f.andln(255),f.iushrn(8),c[s]=a;for(;s<o;s++)c[s]=0}else{for(s=0;s<o-i;s++)c[s]=0;for(s=0;!f.isZero();s++)a=f.andln(255),f.iushrn(8),c[o-s-1]=a}return c},Math.clz32?o.prototype._countBits=function(t){return 32-Math.clz32(t)}:o.prototype._countBits=function(t){var e=t,n=0;return e>=4096&&(n+=13,e>>>=13),e>=64&&(n+=7,e>>>=7),e>=8&&(n+=4,e>>>=4),e>=2&&(n+=2,e>>>=2),n+e},o.prototype._zeroBits=function(t){if(0===t)return 26;var e=t,n=0;return 0===(8191&e)&&(n+=13,e>>>=13),0===(127&e)&&(n+=7,e>>>=7),0===(15&e)&&(n+=4,e>>>=4),0===(3&e)&&(n+=2,e>>>=2),0===(1&e)&&n++,n},o.prototype.bitLength=function(){var t=this.words[this.length-1],e=this._countBits(t);return 26*(this.length-1)+e},o.prototype.zeroBits=function(){if(this.isZero())return 0;for(var t=0,e=0;e<this.length;e++){var n=this._zeroBits(this.words[e]);if(t+=n,26!==n)break}return t},o.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},o.prototype.toTwos=function(t){return 0!==this.negative?this.abs().inotn(t).iaddn(1):this.clone()},o.prototype.fromTwos=function(t){return this.testn(t-1)?this.notn(t).iaddn(1).ineg():this.clone()},o.prototype.isNeg=function(){return 0!==this.negative},o.prototype.neg=function(){return this.clone().ineg()},o.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},o.prototype.iuor=function(t){for(;this.length<t.length;)this.words[this.length++]=0;for(var e=0;e<t.length;e++)this.words[e]=this.words[e]|t.words[e];return this.strip()},o.prototype.ior=function(t){return r(0===(this.negative|t.negative)),this.iuor(t)},o.prototype.or=function(t){return this.length>t.length?this.clone().ior(t):t.clone().ior(this)},o.prototype.uor=function(t){return this.length>t.length?this.clone().iuor(t):t.clone().iuor(this)},o.prototype.iuand=function(t){var e;e=this.length>t.length?t:this;for(var n=0;n<e.length;n++)this.words[n]=this.words[n]&t.words[n];return this.length=e.length,this.strip()},o.prototype.iand=function(t){return r(0===(this.negative|t.negative)),this.iuand(t)},o.prototype.and=function(t){return this.length>t.length?this.clone().iand(t):t.clone().iand(this)},o.prototype.uand=function(t){return this.length>t.length?this.clone().iuand(t):t.clone().iuand(this)},o.prototype.iuxor=function(t){var e,n;this.length>t.length?(e=this,n=t):(e=t,n=this);for(var r=0;r<n.length;r++)this.words[r]=e.words[r]^n.words[r];if(this!==e)for(;r<e.length;r++)this.words[r]=e.words[r];return this.length=e.length,this.strip()},o.prototype.ixor=function(t){return r(0===(this.negative|t.negative)),this.iuxor(t)},o.prototype.xor=function(t){return this.length>t.length?this.clone().ixor(t):t.clone().ixor(this)},o.prototype.uxor=function(t){return this.length>t.length?this.clone().iuxor(t):t.clone().iuxor(this)},o.prototype.inotn=function(t){r("number"===typeof t&&t>=0);var e=0|Math.ceil(t/26),n=t%26;this._expand(e),n>0&&e--;for(var i=0;i<e;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},o.prototype.notn=function(t){return this.clone().inotn(t)},o.prototype.setn=function(t,e){r("number"===typeof t&&t>=0);var n=t/26|0,i=t%26;return this._expand(n+1),this.words[n]=e?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},o.prototype.iadd=function(t){var e;if(0!==this.negative&&0===t.negative)return this.negative=0,e=this.isub(t),this.negative^=1,this._normSign();if(0===this.negative&&0!==t.negative)return t.negative=0,e=this.isub(t),t.negative=1,e._normSign();var n,r;this.length>t.length?(n=this,r=t):(n=t,r=this);for(var i=0,o=0;o<r.length;o++)e=(0|n.words[o])+(0|r.words[o])+i,this.words[o]=67108863&e,i=e>>>26;for(;0!==i&&o<n.length;o++)e=(0|n.words[o])+i,this.words[o]=67108863&e,i=e>>>26;if(this.length=n.length,0!==i)this.words[this.length]=i,this.length++;else if(n!==this)for(;o<n.length;o++)this.words[o]=n.words[o];return this},o.prototype.add=function(t){var e;return 0!==t.negative&&0===this.negative?(t.negative=0,e=this.sub(t),t.negative^=1,e):0===t.negative&&0!==this.negative?(this.negative=0,e=t.sub(this),this.negative=1,e):this.length>t.length?this.clone().iadd(t):t.clone().iadd(this)},o.prototype.isub=function(t){if(0!==t.negative){t.negative=0;var e=this.iadd(t);return t.negative=1,e._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(t),this.negative=1,this._normSign();var n=this.cmp(t);if(0===n)return this.negative=0,this.length=1,this.words[0]=0,this;var r,i;n>0?(r=this,i=t):(r=t,i=this);for(var o=0,a=0;a<i.length;a++)e=(0|r.words[a])-(0|i.words[a])+o,o=e>>26,this.words[a]=67108863&e;for(;0!==o&&a<r.length;a++)e=(0|r.words[a])+o,o=e>>26,this.words[a]=67108863&e;if(0===o&&a<r.length&&r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this.length=Math.max(this.length,a),r!==this&&(this.negative=1),this.strip()},o.prototype.sub=function(t){return this.clone().isub(t)};var T=function(t,e,n){var r,i,o,a=t.words,s=e.words,u=n.words,c=0,f=0|a[0],l=8191&f,h=f>>>13,d=0|a[1],p=8191&d,y=d>>>13,m=0|a[2],v=8191&m,g=m>>>13,b=0|a[3],_=8191&b,w=b>>>13,E=0|a[4],S=8191&E,T=E>>>13,C=0|a[5],I=8191&C,A=C>>>13,O=0|a[6],k=8191&O,R=O>>>13,P=0|a[7],x=8191&P,D=P>>>13,N=0|a[8],M=8191&N,L=N>>>13,j=0|a[9],U=8191&j,F=j>>>13,B=0|s[0],q=8191&B,W=B>>>13,V=0|s[1],H=8191&V,z=V>>>13,K=0|s[2],G=8191&K,Q=K>>>13,Y=0|s[3],X=8191&Y,$=Y>>>13,J=0|s[4],Z=8191&J,tt=J>>>13,et=0|s[5],nt=8191&et,rt=et>>>13,it=0|s[6],ot=8191&it,at=it>>>13,st=0|s[7],ut=8191&st,ct=st>>>13,ft=0|s[8],lt=8191&ft,ht=ft>>>13,dt=0|s[9],pt=8191&dt,yt=dt>>>13;n.negative=t.negative^e.negative,n.length=19,r=Math.imul(l,q),i=Math.imul(l,W),i=i+Math.imul(h,q)|0,o=Math.imul(h,W);var mt=(c+r|0)+((8191&i)<<13)|0;c=(o+(i>>>13)|0)+(mt>>>26)|0,mt&=67108863,r=Math.imul(p,q),i=Math.imul(p,W),i=i+Math.imul(y,q)|0,o=Math.imul(y,W),r=r+Math.imul(l,H)|0,i=i+Math.imul(l,z)|0,i=i+Math.imul(h,H)|0,o=o+Math.imul(h,z)|0;var vt=(c+r|0)+((8191&i)<<13)|0;c=(o+(i>>>13)|0)+(vt>>>26)|0,vt&=67108863,r=Math.imul(v,q),i=Math.imul(v,W),i=i+Math.imul(g,q)|0,o=Math.imul(g,W),r=r+Math.imul(p,H)|0,i=i+Math.imul(p,z)|0,i=i+Math.imul(y,H)|0,o=o+Math.imul(y,z)|0,r=r+Math.imul(l,G)|0,i=i+Math.imul(l,Q)|0,i=i+Math.imul(h,G)|0,o=o+Math.imul(h,Q)|0;var gt=(c+r|0)+((8191&i)<<13)|0;c=(o+(i>>>13)|0)+(gt>>>26)|0,gt&=67108863,r=Math.imul(_,q),i=Math.imul(_,W),i=i+Math.imul(w,q)|0,o=Math.imul(w,W),r=r+Math.imul(v,H)|0,i=i+Math.imul(v,z)|0,i=i+Math.imul(g,H)|0,o=o+Math.imul(g,z)|0,r=r+Math.imul(p,G)|0,i=i+Math.imul(p,Q)|0,i=i+Math.imul(y,G)|0,o=o+Math.imul(y,Q)|0,r=r+Math.imul(l,X)|0,i=i+Math.imul(l,$)|0,i=i+Math.imul(h,X)|0,o=o+Math.imul(h,$)|0;var bt=(c+r|0)+((8191&i)<<13)|0;c=(o+(i>>>13)|0)+(bt>>>26)|0,bt&=67108863,r=Math.imul(S,q),i=Math.imul(S,W),i=i+Math.imul(T,q)|0,o=Math.imul(T,W),r=r+Math.imul(_,H)|0,i=i+Math.imul(_,z)|0,i=i+Math.imul(w,H)|0,o=o+Math.imul(w,z)|0,r=r+Math.imul(v,G)|0,i=i+Math.imul(v,Q)|0,i=i+Math.imul(g,G)|0,o=o+Math.imul(g,Q)|0,r=r+Math.imul(p,X)|0,i=i+Math.imul(p,$)|0,i=i+Math.imul(y,X)|0,o=o+Math.imul(y,$)|0,r=r+Math.imul(l,Z)|0,i=i+Math.imul(l,tt)|0,i=i+Math.imul(h,Z)|0,o=o+Math.imul(h,tt)|0;var _t=(c+r|0)+((8191&i)<<13)|0;c=(o+(i>>>13)|0)+(_t>>>26)|0,_t&=67108863,r=Math.imul(I,q),i=Math.imul(I,W),i=i+Math.imul(A,q)|0,o=Math.imul(A,W),r=r+Math.imul(S,H)|0,i=i+Math.imul(S,z)|0,i=i+Math.imul(T,H)|0,o=o+Math.imul(T,z)|0,r=r+Math.imul(_,G)|0,i=i+Math.imul(_,Q)|0,i=i+Math.imul(w,G)|0,o=o+Math.imul(w,Q)|0,r=r+Math.imul(v,X)|0,i=i+Math.imul(v,$)|0,i=i+Math.imul(g,X)|0,o=o+Math.imul(g,$)|0,r=r+Math.imul(p,Z)|0,i=i+Math.imul(p,tt)|0,i=i+Math.imul(y,Z)|0,o=o+Math.imul(y,tt)|0,r=r+Math.imul(l,nt)|0,i=i+Math.imul(l,rt)|0,i=i+Math.imul(h,nt)|0,o=o+Math.imul(h,rt)|0;var wt=(c+r|0)+((8191&i)<<13)|0;c=(o+(i>>>13)|0)+(wt>>>26)|0,wt&=67108863,r=Math.imul(k,q),i=Math.imul(k,W),i=i+Math.imul(R,q)|0,o=Math.imul(R,W),r=r+Math.imul(I,H)|0,i=i+Math.imul(I,z)|0,i=i+Math.imul(A,H)|0,o=o+Math.imul(A,z)|0,r=r+Math.imul(S,G)|0,i=i+Math.imul(S,Q)|0,i=i+Math.imul(T,G)|0,o=o+Math.imul(T,Q)|0,r=r+Math.imul(_,X)|0,i=i+Math.imul(_,$)|0,i=i+Math.imul(w,X)|0,o=o+Math.imul(w,$)|0,r=r+Math.imul(v,Z)|0,i=i+Math.imul(v,tt)|0,i=i+Math.imul(g,Z)|0,o=o+Math.imul(g,tt)|0,r=r+Math.imul(p,nt)|0,i=i+Math.imul(p,rt)|0,i=i+Math.imul(y,nt)|0,o=o+Math.imul(y,rt)|0,r=r+Math.imul(l,ot)|0,i=i+Math.imul(l,at)|0,i=i+Math.imul(h,ot)|0,o=o+Math.imul(h,at)|0;var Et=(c+r|0)+((8191&i)<<13)|0;c=(o+(i>>>13)|0)+(Et>>>26)|0,Et&=67108863,r=Math.imul(x,q),i=Math.imul(x,W),i=i+Math.imul(D,q)|0,o=Math.imul(D,W),r=r+Math.imul(k,H)|0,i=i+Math.imul(k,z)|0,i=i+Math.imul(R,H)|0,o=o+Math.imul(R,z)|0,r=r+Math.imul(I,G)|0,i=i+Math.imul(I,Q)|0,i=i+Math.imul(A,G)|0,o=o+Math.imul(A,Q)|0,r=r+Math.imul(S,X)|0,i=i+Math.imul(S,$)|0,i=i+Math.imul(T,X)|0,o=o+Math.imul(T,$)|0,r=r+Math.imul(_,Z)|0,i=i+Math.imul(_,tt)|0,i=i+Math.imul(w,Z)|0,o=o+Math.imul(w,tt)|0,r=r+Math.imul(v,nt)|0,i=i+Math.imul(v,rt)|0,i=i+Math.imul(g,nt)|0,o=o+Math.imul(g,rt)|0,r=r+Math.imul(p,ot)|0,i=i+Math.imul(p,at)|0,i=i+Math.imul(y,ot)|0,o=o+Math.imul(y,at)|0,r=r+Math.imul(l,ut)|0,i=i+Math.imul(l,ct)|0,i=i+Math.imul(h,ut)|0,o=o+Math.imul(h,ct)|0;var St=(c+r|0)+((8191&i)<<13)|0;c=(o+(i>>>13)|0)+(St>>>26)|0,St&=67108863,r=Math.imul(M,q),i=Math.imul(M,W),i=i+Math.imul(L,q)|0,o=Math.imul(L,W),r=r+Math.imul(x,H)|0,i=i+Math.imul(x,z)|0,i=i+Math.imul(D,H)|0,o=o+Math.imul(D,z)|0,r=r+Math.imul(k,G)|0,i=i+Math.imul(k,Q)|0,i=i+Math.imul(R,G)|0,o=o+Math.imul(R,Q)|0,r=r+Math.imul(I,X)|0,i=i+Math.imul(I,$)|0,i=i+Math.imul(A,X)|0,o=o+Math.imul(A,$)|0,r=r+Math.imul(S,Z)|0,i=i+Math.imul(S,tt)|0,i=i+Math.imul(T,Z)|0,o=o+Math.imul(T,tt)|0,r=r+Math.imul(_,nt)|0,i=i+Math.imul(_,rt)|0,i=i+Math.imul(w,nt)|0,o=o+Math.imul(w,rt)|0,r=r+Math.imul(v,ot)|0,i=i+Math.imul(v,at)|0,i=i+Math.imul(g,ot)|0,o=o+Math.imul(g,at)|0,r=r+Math.imul(p,ut)|0,i=i+Math.imul(p,ct)|0,i=i+Math.imul(y,ut)|0,o=o+Math.imul(y,ct)|0,r=r+Math.imul(l,lt)|0,i=i+Math.imul(l,ht)|0,i=i+Math.imul(h,lt)|0,o=o+Math.imul(h,ht)|0;var Tt=(c+r|0)+((8191&i)<<13)|0;c=(o+(i>>>13)|0)+(Tt>>>26)|0,Tt&=67108863,r=Math.imul(U,q),i=Math.imul(U,W),i=i+Math.imul(F,q)|0,o=Math.imul(F,W),r=r+Math.imul(M,H)|0,i=i+Math.imul(M,z)|0,i=i+Math.imul(L,H)|0,o=o+Math.imul(L,z)|0,r=r+Math.imul(x,G)|0,i=i+Math.imul(x,Q)|0,i=i+Math.imul(D,G)|0,o=o+Math.imul(D,Q)|0,r=r+Math.imul(k,X)|0,i=i+Math.imul(k,$)|0,i=i+Math.imul(R,X)|0,o=o+Math.imul(R,$)|0,r=r+Math.imul(I,Z)|0,i=i+Math.imul(I,tt)|0,i=i+Math.imul(A,Z)|0,o=o+Math.imul(A,tt)|0,r=r+Math.imul(S,nt)|0,i=i+Math.imul(S,rt)|0,i=i+Math.imul(T,nt)|0,o=o+Math.imul(T,rt)|0,r=r+Math.imul(_,ot)|0,i=i+Math.imul(_,at)|0,i=i+Math.imul(w,ot)|0,o=o+Math.imul(w,at)|0,r=r+Math.imul(v,ut)|0,i=i+Math.imul(v,ct)|0,i=i+Math.imul(g,ut)|0,o=o+Math.imul(g,ct)|0,r=r+Math.imul(p,lt)|0,i=i+Math.imul(p,ht)|0,i=i+Math.imul(y,lt)|0,o=o+Math.imul(y,ht)|0,r=r+Math.imul(l,pt)|0,i=i+Math.imul(l,yt)|0,i=i+Math.imul(h,pt)|0,o=o+Math.imul(h,yt)|0;var Ct=(c+r|0)+((8191&i)<<13)|0;c=(o+(i>>>13)|0)+(Ct>>>26)|0,Ct&=67108863,r=Math.imul(U,H),i=Math.imul(U,z),i=i+Math.imul(F,H)|0,o=Math.imul(F,z),r=r+Math.imul(M,G)|0,i=i+Math.imul(M,Q)|0,i=i+Math.imul(L,G)|0,o=o+Math.imul(L,Q)|0,r=r+Math.imul(x,X)|0,i=i+Math.imul(x,$)|0,i=i+Math.imul(D,X)|0,o=o+Math.imul(D,$)|0,r=r+Math.imul(k,Z)|0,i=i+Math.imul(k,tt)|0,i=i+Math.imul(R,Z)|0,o=o+Math.imul(R,tt)|0,r=r+Math.imul(I,nt)|0,i=i+Math.imul(I,rt)|0,i=i+Math.imul(A,nt)|0,o=o+Math.imul(A,rt)|0,r=r+Math.imul(S,ot)|0,i=i+Math.imul(S,at)|0,i=i+Math.imul(T,ot)|0,o=o+Math.imul(T,at)|0,r=r+Math.imul(_,ut)|0,i=i+Math.imul(_,ct)|0,i=i+Math.imul(w,ut)|0,o=o+Math.imul(w,ct)|0,r=r+Math.imul(v,lt)|0,i=i+Math.imul(v,ht)|0,i=i+Math.imul(g,lt)|0,o=o+Math.imul(g,ht)|0,r=r+Math.imul(p,pt)|0,i=i+Math.imul(p,yt)|0,i=i+Math.imul(y,pt)|0,o=o+Math.imul(y,yt)|0;var It=(c+r|0)+((8191&i)<<13)|0;c=(o+(i>>>13)|0)+(It>>>26)|0,It&=67108863,r=Math.imul(U,G),i=Math.imul(U,Q),i=i+Math.imul(F,G)|0,o=Math.imul(F,Q),r=r+Math.imul(M,X)|0,i=i+Math.imul(M,$)|0,i=i+Math.imul(L,X)|0,o=o+Math.imul(L,$)|0,r=r+Math.imul(x,Z)|0,i=i+Math.imul(x,tt)|0,i=i+Math.imul(D,Z)|0,o=o+Math.imul(D,tt)|0,r=r+Math.imul(k,nt)|0,i=i+Math.imul(k,rt)|0,i=i+Math.imul(R,nt)|0,o=o+Math.imul(R,rt)|0,r=r+Math.imul(I,ot)|0,i=i+Math.imul(I,at)|0,i=i+Math.imul(A,ot)|0,o=o+Math.imul(A,at)|0,r=r+Math.imul(S,ut)|0,i=i+Math.imul(S,ct)|0,i=i+Math.imul(T,ut)|0,o=o+Math.imul(T,ct)|0,r=r+Math.imul(_,lt)|0,i=i+Math.imul(_,ht)|0,i=i+Math.imul(w,lt)|0,o=o+Math.imul(w,ht)|0,r=r+Math.imul(v,pt)|0,i=i+Math.imul(v,yt)|0,i=i+Math.imul(g,pt)|0,o=o+Math.imul(g,yt)|0;var At=(c+r|0)+((8191&i)<<13)|0;c=(o+(i>>>13)|0)+(At>>>26)|0,At&=67108863,r=Math.imul(U,X),i=Math.imul(U,$),i=i+Math.imul(F,X)|0,o=Math.imul(F,$),r=r+Math.imul(M,Z)|0,i=i+Math.imul(M,tt)|0,i=i+Math.imul(L,Z)|0,o=o+Math.imul(L,tt)|0,r=r+Math.imul(x,nt)|0,i=i+Math.imul(x,rt)|0,i=i+Math.imul(D,nt)|0,o=o+Math.imul(D,rt)|0,r=r+Math.imul(k,ot)|0,i=i+Math.imul(k,at)|0,i=i+Math.imul(R,ot)|0,o=o+Math.imul(R,at)|0,r=r+Math.imul(I,ut)|0,i=i+Math.imul(I,ct)|0,i=i+Math.imul(A,ut)|0,o=o+Math.imul(A,ct)|0,r=r+Math.imul(S,lt)|0,i=i+Math.imul(S,ht)|0,i=i+Math.imul(T,lt)|0,o=o+Math.imul(T,ht)|0,r=r+Math.imul(_,pt)|0,i=i+Math.imul(_,yt)|0,i=i+Math.imul(w,pt)|0,o=o+Math.imul(w,yt)|0;var Ot=(c+r|0)+((8191&i)<<13)|0;c=(o+(i>>>13)|0)+(Ot>>>26)|0,Ot&=67108863,r=Math.imul(U,Z),i=Math.imul(U,tt),i=i+Math.imul(F,Z)|0,o=Math.imul(F,tt),r=r+Math.imul(M,nt)|0,i=i+Math.imul(M,rt)|0,i=i+Math.imul(L,nt)|0,o=o+Math.imul(L,rt)|0,r=r+Math.imul(x,ot)|0,i=i+Math.imul(x,at)|0,i=i+Math.imul(D,ot)|0,o=o+Math.imul(D,at)|0,r=r+Math.imul(k,ut)|0,i=i+Math.imul(k,ct)|0,i=i+Math.imul(R,ut)|0,o=o+Math.imul(R,ct)|0,r=r+Math.imul(I,lt)|0,i=i+Math.imul(I,ht)|0,i=i+Math.imul(A,lt)|0,o=o+Math.imul(A,ht)|0,r=r+Math.imul(S,pt)|0,i=i+Math.imul(S,yt)|0,i=i+Math.imul(T,pt)|0,o=o+Math.imul(T,yt)|0;var kt=(c+r|0)+((8191&i)<<13)|0;c=(o+(i>>>13)|0)+(kt>>>26)|0,kt&=67108863,r=Math.imul(U,nt),i=Math.imul(U,rt),i=i+Math.imul(F,nt)|0,o=Math.imul(F,rt),r=r+Math.imul(M,ot)|0,i=i+Math.imul(M,at)|0,i=i+Math.imul(L,ot)|0,o=o+Math.imul(L,at)|0,r=r+Math.imul(x,ut)|0,i=i+Math.imul(x,ct)|0,i=i+Math.imul(D,ut)|0,o=o+Math.imul(D,ct)|0,r=r+Math.imul(k,lt)|0,i=i+Math.imul(k,ht)|0,i=i+Math.imul(R,lt)|0,o=o+Math.imul(R,ht)|0,r=r+Math.imul(I,pt)|0,i=i+Math.imul(I,yt)|0,i=i+Math.imul(A,pt)|0,o=o+Math.imul(A,yt)|0;var Rt=(c+r|0)+((8191&i)<<13)|0;c=(o+(i>>>13)|0)+(Rt>>>26)|0,Rt&=67108863,r=Math.imul(U,ot),i=Math.imul(U,at),i=i+Math.imul(F,ot)|0,o=Math.imul(F,at),r=r+Math.imul(M,ut)|0,i=i+Math.imul(M,ct)|0,i=i+Math.imul(L,ut)|0,o=o+Math.imul(L,ct)|0,r=r+Math.imul(x,lt)|0,i=i+Math.imul(x,ht)|0,i=i+Math.imul(D,lt)|0,o=o+Math.imul(D,ht)|0,r=r+Math.imul(k,pt)|0,i=i+Math.imul(k,yt)|0,i=i+Math.imul(R,pt)|0,o=o+Math.imul(R,yt)|0;var Pt=(c+r|0)+((8191&i)<<13)|0;c=(o+(i>>>13)|0)+(Pt>>>26)|0,Pt&=67108863,r=Math.imul(U,ut),i=Math.imul(U,ct),i=i+Math.imul(F,ut)|0,o=Math.imul(F,ct),r=r+Math.imul(M,lt)|0,i=i+Math.imul(M,ht)|0,i=i+Math.imul(L,lt)|0,o=o+Math.imul(L,ht)|0,r=r+Math.imul(x,pt)|0,i=i+Math.imul(x,yt)|0,i=i+Math.imul(D,pt)|0,o=o+Math.imul(D,yt)|0;var xt=(c+r|0)+((8191&i)<<13)|0;c=(o+(i>>>13)|0)+(xt>>>26)|0,xt&=67108863,r=Math.imul(U,lt),i=Math.imul(U,ht),i=i+Math.imul(F,lt)|0,o=Math.imul(F,ht),r=r+Math.imul(M,pt)|0,i=i+Math.imul(M,yt)|0,i=i+Math.imul(L,pt)|0,o=o+Math.imul(L,yt)|0;var Dt=(c+r|0)+((8191&i)<<13)|0;c=(o+(i>>>13)|0)+(Dt>>>26)|0,Dt&=67108863,r=Math.imul(U,pt),i=Math.imul(U,yt),i=i+Math.imul(F,pt)|0,o=Math.imul(F,yt);var Nt=(c+r|0)+((8191&i)<<13)|0;return c=(o+(i>>>13)|0)+(Nt>>>26)|0,Nt&=67108863,u[0]=mt,u[1]=vt,u[2]=gt,u[3]=bt,u[4]=_t,u[5]=wt,u[6]=Et,u[7]=St,u[8]=Tt,u[9]=Ct,u[10]=It,u[11]=At,u[12]=Ot,u[13]=kt,u[14]=Rt,u[15]=Pt,u[16]=xt,u[17]=Dt,u[18]=Nt,0!==c&&(u[19]=c,n.length++),n};Math.imul||(T=c),o.prototype.mulTo=function(t,e){var n=this.length+t.length;return 10===this.length&&10===t.length?T(this,t,e):n<63?c(this,t,e):n<1024?f(this,t,e):l(this,t,e)},h.prototype.makeRBT=function(t){for(var e=new Array(t),n=o.prototype._countBits(t)-1,r=0;r<t;r++)e[r]=this.revBin(r,n,t);return e},h.prototype.revBin=function(t,e,n){if(0===t||t===n-1)return t;for(var r=0,i=0;i<e;i++)r|=(1&t)<<e-i-1,t>>=1;return r},h.prototype.permute=function(t,e,n,r,i,o){for(var a=0;a<o;a++)r[a]=e[t[a]],i[a]=n[t[a]]},h.prototype.transform=function(t,e,n,r,i,o){this.permute(o,t,e,n,r,i);for(var a=1;a<i;a<<=1)for(var s=a<<1,u=Math.cos(2*Math.PI/s),c=Math.sin(2*Math.PI/s),f=0;f<i;f+=s)for(var l=u,h=c,d=0;d<a;d++){var p=n[f+d],y=r[f+d],m=n[f+d+a],v=r[f+d+a],g=l*m-h*v;v=l*v+h*m,m=g,n[f+d]=p+m,r[f+d]=y+v,n[f+d+a]=p-m,r[f+d+a]=y-v,d!==s&&(g=u*l-c*h,h=u*h+c*l,l=g)}},h.prototype.guessLen13b=function(t,e){var n=1|Math.max(e,t),r=1&n,i=0;for(n=n/2|0;n;n>>>=1)i++;return 1<<i+1+r},h.prototype.conjugate=function(t,e,n){if(!(n<=1))for(var r=0;r<n/2;r++){var i=t[r];t[r]=t[n-r-1],t[n-r-1]=i,i=e[r],e[r]=-e[n-r-1],e[n-r-1]=-i}},h.prototype.normalize13b=function(t,e){for(var n=0,r=0;r<e/2;r++){var i=8192*Math.round(t[2*r+1]/e)+Math.round(t[2*r]/e)+n;t[r]=67108863&i,n=i<67108864?0:i/67108864|0}return t},h.prototype.convert13b=function(t,e,n,i){for(var o=0,a=0;a<e;a++)o+=0|t[a],n[2*a]=8191&o,o>>>=13,n[2*a+1]=8191&o,o>>>=13;for(a=2*e;a<i;++a)n[a]=0;r(0===o),r(0===(-8192&o))},h.prototype.stub=function(t){for(var e=new Array(t),n=0;n<t;n++)e[n]=0;return e},h.prototype.mulp=function(t,e,n){var r=2*this.guessLen13b(t.length,e.length),i=this.makeRBT(r),o=this.stub(r),a=new Array(r),s=new Array(r),u=new Array(r),c=new Array(r),f=new Array(r),l=new Array(r),h=n.words;h.length=r,this.convert13b(t.words,t.length,a,r),this.convert13b(e.words,e.length,c,r),this.transform(a,o,s,u,r,i),this.transform(c,o,f,l,r,i);for(var d=0;d<r;d++){var p=s[d]*f[d]-u[d]*l[d];u[d]=s[d]*l[d]+u[d]*f[d],s[d]=p}return this.conjugate(s,u,r),this.transform(s,u,h,o,r,i),this.conjugate(h,o,r),this.normalize13b(h,r),n.negative=t.negative^e.negative,n.length=t.length+e.length,n.strip()},o.prototype.mul=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),this.mulTo(t,e)},o.prototype.mulf=function(t){var e=new o(null);return e.words=new Array(this.length+t.length),l(this,t,e)},o.prototype.imul=function(t){return this.clone().mulTo(t,this)},o.prototype.imuln=function(t){r("number"===typeof t),r(t<67108864);for(var e=0,n=0;n<this.length;n++){var i=(0|this.words[n])*t,o=(67108863&i)+(67108863&e);e>>=26,e+=i/67108864|0,e+=o>>>26,this.words[n]=67108863&o}return 0!==e&&(this.words[n]=e,this.length++),this},o.prototype.muln=function(t){return this.clone().imuln(t)},o.prototype.sqr=function(){return this.mul(this)},o.prototype.isqr=function(){return this.imul(this.clone())},o.prototype.pow=function(t){var e=u(t);if(0===e.length)return new o(1);for(var n=this,r=0;r<e.length&&0===e[r];r++,n=n.sqr());if(++r<e.length)for(var i=n.sqr();r<e.length;r++,i=i.sqr())0!==e[r]&&(n=n.mul(i));return n},o.prototype.iushln=function(t){r("number"===typeof t&&t>=0);var e,n=t%26,i=(t-n)/26,o=67108863>>>26-n<<26-n;if(0!==n){var a=0;for(e=0;e<this.length;e++){var s=this.words[e]&o,u=(0|this.words[e])-s<<n;this.words[e]=u|a,a=s>>>26-n}a&&(this.words[e]=a,this.length++)}if(0!==i){for(e=this.length-1;e>=0;e--)this.words[e+i]=this.words[e];for(e=0;e<i;e++)this.words[e]=0;this.length+=i}return this.strip()},o.prototype.ishln=function(t){return r(0===this.negative),this.iushln(t)},o.prototype.iushrn=function(t,e,n){r("number"===typeof t&&t>=0);var i;i=e?(e-e%26)/26:0;var o=t%26,a=Math.min((t-o)/26,this.length),s=67108863^67108863>>>o<<o,u=n;if(i-=a,i=Math.max(0,i),u){for(var c=0;c<a;c++)u.words[c]=this.words[c];u.length=a}if(0===a);else if(this.length>a)for(this.length-=a,c=0;c<this.length;c++)this.words[c]=this.words[c+a];else this.words[0]=0,this.length=1;var f=0;for(c=this.length-1;c>=0&&(0!==f||c>=i);c--){var l=0|this.words[c];this.words[c]=f<<26-o|l>>>o,f=l&s}return u&&0!==f&&(u.words[u.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},o.prototype.ishrn=function(t,e,n){return r(0===this.negative),this.iushrn(t,e,n)},o.prototype.shln=function(t){return this.clone().ishln(t)},o.prototype.ushln=function(t){return this.clone().iushln(t)},o.prototype.shrn=function(t){return this.clone().ishrn(t)},o.prototype.ushrn=function(t){return this.clone().iushrn(t)},o.prototype.testn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26,i=1<<e;return!(this.length<=n)&&!!(this.words[n]&i)},o.prototype.imaskn=function(t){r("number"===typeof t&&t>=0);var e=t%26,n=(t-e)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==e&&n++,this.length=Math.min(n,this.length),0!==e){var i=67108863^67108863>>>e<<e;this.words[this.length-1]&=i}return this.strip()},o.prototype.maskn=function(t){return this.clone().imaskn(t)},o.prototype.iaddn=function(t){return r("number"===typeof t),r(t<67108864),t<0?this.isubn(-t):0!==this.negative?1===this.length&&(0|this.words[0])<t?(this.words[0]=t-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(t),this.negative=1,this):this._iaddn(t)},o.prototype._iaddn=function(t){this.words[0]+=t;for(var e=0;e<this.length&&this.words[e]>=67108864;e++)this.words[e]-=67108864,e===this.length-1?this.words[e+1]=1:this.words[e+1]++;return this.length=Math.max(this.length,e+1),this},o.prototype.isubn=function(t){if(r("number"===typeof t),r(t<67108864),t<0)return this.iaddn(-t);if(0!==this.negative)return this.negative=0,this.iaddn(t),this.negative=1,this;if(this.words[0]-=t,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var e=0;e<this.length&&this.words[e]<0;e++)this.words[e]+=67108864,this.words[e+1]-=1;return this.strip()},o.prototype.addn=function(t){return this.clone().iaddn(t)},o.prototype.subn=function(t){return this.clone().isubn(t)},o.prototype.iabs=function(){return this.negative=0,this},o.prototype.abs=function(){return this.clone().iabs()},o.prototype._ishlnsubmul=function(t,e,n){var i,o=t.length+n;this._expand(o);var a,s=0;for(i=0;i<t.length;i++){a=(0|this.words[i+n])+s;var u=(0|t.words[i])*e;a-=67108863&u,s=(a>>26)-(u/67108864|0),this.words[i+n]=67108863&a}for(;i<this.length-n;i++)a=(0|this.words[i+n])+s,s=a>>26,this.words[i+n]=67108863&a;if(0===s)return this.strip();for(r(-1===s),s=0,i=0;i<this.length;i++)a=-(0|this.words[i])+s,s=a>>26,this.words[i]=67108863&a;return this.negative=1,this.strip()},o.prototype._wordDiv=function(t,e){var n=this.length-t.length,r=this.clone(),i=t,a=0|i.words[i.length-1];0!==(n=26-this._countBits(a))&&(i=i.ushln(n),r.iushln(n),a=0|i.words[i.length-1]);var s,u=r.length-i.length;if("mod"!==e){s=new o(null),s.length=u+1,s.words=new Array(s.length);for(var c=0;c<s.length;c++)s.words[c]=0}var f=r.clone()._ishlnsubmul(i,1,u);0===f.negative&&(r=f,s&&(s.words[u]=1));for(var l=u-1;l>=0;l--){var h=67108864*(0|r.words[i.length+l])+(0|r.words[i.length+l-1]);for(h=Math.min(h/a|0,67108863),r._ishlnsubmul(i,h,l);0!==r.negative;)h--,r.negative=0,r._ishlnsubmul(i,1,l),r.isZero()||(r.negative^=1);s&&(s.words[l]=h)}return s&&s.strip(),r.strip(),"div"!==e&&0!==n&&r.iushrn(n),{div:s||null,mod:r}},o.prototype.divmod=function(t,e,n){if(r(!t.isZero()),this.isZero())return{div:new o(0),mod:new o(0)};var i,a,s;return 0!==this.negative&&0===t.negative?(s=this.neg().divmod(t,e),"mod"!==e&&(i=s.div.neg()),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.iadd(t)),{div:i,mod:a}):0===this.negative&&0!==t.negative?(s=this.divmod(t.neg(),e),"mod"!==e&&(i=s.div.neg()),{div:i,mod:s.mod}):0!==(this.negative&t.negative)?(s=this.neg().divmod(t.neg(),e),"div"!==e&&(a=s.mod.neg(),n&&0!==a.negative&&a.isub(t)),{div:s.div,mod:a}):t.length>this.length||this.cmp(t)<0?{div:new o(0),mod:this}:1===t.length?"div"===e?{div:this.divn(t.words[0]),mod:null}:"mod"===e?{div:null,mod:new o(this.modn(t.words[0]))}:{div:this.divn(t.words[0]),mod:new o(this.modn(t.words[0]))}:this._wordDiv(t,e)},o.prototype.div=function(t){return this.divmod(t,"div",!1).div},o.prototype.mod=function(t){return this.divmod(t,"mod",!1).mod},o.prototype.umod=function(t){return this.divmod(t,"mod",!0).mod},o.prototype.divRound=function(t){var e=this.divmod(t);if(e.mod.isZero())return e.div;var n=0!==e.div.negative?e.mod.isub(t):e.mod,r=t.ushrn(1),i=t.andln(1),o=n.cmp(r);return o<0||1===i&&0===o?e.div:0!==e.div.negative?e.div.isubn(1):e.div.iaddn(1)},o.prototype.modn=function(t){r(t<=67108863);for(var e=(1<<26)%t,n=0,i=this.length-1;i>=0;i--)n=(e*n+(0|this.words[i]))%t;return n},o.prototype.idivn=function(t){r(t<=67108863);for(var e=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*e;this.words[n]=i/t|0,e=i%t}return this.strip()},o.prototype.divn=function(t){return this.clone().idivn(t)},o.prototype.egcd=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=new o(0),u=new o(1),c=0;e.isEven()&&n.isEven();)e.iushrn(1),n.iushrn(1),++c;for(var f=n.clone(),l=e.clone();!e.isZero();){for(var h=0,d=1;0===(e.words[0]&d)&&h<26;++h,d<<=1);if(h>0)for(e.iushrn(h);h-- >0;)(i.isOdd()||a.isOdd())&&(i.iadd(f),a.isub(l)),i.iushrn(1),a.iushrn(1);for(var p=0,y=1;0===(n.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(s.isOdd()||u.isOdd())&&(s.iadd(f),u.isub(l)),s.iushrn(1),u.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(s),a.isub(u)):(n.isub(e),s.isub(i),u.isub(a))}return{a:s,b:u,gcd:n.iushln(c)}},o.prototype._invmp=function(t){r(0===t.negative),r(!t.isZero());var e=this,n=t.clone();e=0!==e.negative?e.umod(t):e.clone();for(var i=new o(1),a=new o(0),s=n.clone();e.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,c=1;0===(e.words[0]&c)&&u<26;++u,c<<=1);if(u>0)for(e.iushrn(u);u-- >0;)i.isOdd()&&i.iadd(s),i.iushrn(1);for(var f=0,l=1;0===(n.words[0]&l)&&f<26;++f,l<<=1);if(f>0)for(n.iushrn(f);f-- >0;)a.isOdd()&&a.iadd(s),a.iushrn(1);e.cmp(n)>=0?(e.isub(n),i.isub(a)):(n.isub(e),a.isub(i))}var h;return h=0===e.cmpn(1)?i:a,h.cmpn(0)<0&&h.iadd(t),h},o.prototype.gcd=function(t){if(this.isZero())return t.abs();if(t.isZero())return this.abs();var e=this.clone(),n=t.clone();e.negative=0,n.negative=0;for(var r=0;e.isEven()&&n.isEven();r++)e.iushrn(1),n.iushrn(1);for(;;){for(;e.isEven();)e.iushrn(1);for(;n.isEven();)n.iushrn(1);var i=e.cmp(n);if(i<0){var o=e;e=n,n=o}else if(0===i||0===n.cmpn(1))break;e.isub(n)}return n.iushln(r)},o.prototype.invm=function(t){return this.egcd(t).a.umod(t)},o.prototype.isEven=function(){return 0===(1&this.words[0])},o.prototype.isOdd=function(){return 1===(1&this.words[0])},o.prototype.andln=function(t){return this.words[0]&t},o.prototype.bincn=function(t){r("number"===typeof t);var e=t%26,n=(t-e)/26,i=1<<e;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var o=i,a=n;0!==o&&a<this.length;a++){var s=0|this.words[a];s+=o,o=s>>>26,s&=67108863,this.words[a]=s}return 0!==o&&(this.words[a]=o,this.length++),this},o.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},o.prototype.cmpn=function(t){var e=t<0;if(0!==this.negative&&!e)return-1;if(0===this.negative&&e)return 1;this.strip();var n;if(this.length>1)n=1;else{e&&(t=-t),r(t<=67108863,"Number is too big");var i=0|this.words[0];n=i===t?0:i<t?-1:1}return 0!==this.negative?0|-n:n},o.prototype.cmp=function(t){if(0!==this.negative&&0===t.negative)return-1;if(0===this.negative&&0!==t.negative)return 1;var e=this.ucmp(t);return 0!==this.negative?0|-e:e},o.prototype.ucmp=function(t){if(this.length>t.length)return 1;if(this.length<t.length)return-1;for(var e=0,n=this.length-1;n>=0;n--){var r=0|this.words[n],i=0|t.words[n];if(r!==i){r<i?e=-1:r>i&&(e=1);break}}return e},o.prototype.gtn=function(t){return 1===this.cmpn(t)},o.prototype.gt=function(t){return 1===this.cmp(t)},o.prototype.gten=function(t){return this.cmpn(t)>=0},o.prototype.gte=function(t){return this.cmp(t)>=0},o.prototype.ltn=function(t){return-1===this.cmpn(t)},o.prototype.lt=function(t){return-1===this.cmp(t)},o.prototype.lten=function(t){return this.cmpn(t)<=0},o.prototype.lte=function(t){return this.cmp(t)<=0},o.prototype.eqn=function(t){return 0===this.cmpn(t)},o.prototype.eq=function(t){return 0===this.cmp(t)},o.red=function(t){return new g(t)},o.prototype.toRed=function(t){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),t.convertTo(this)._forceRed(t)},o.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},o.prototype._forceRed=function(t){return this.red=t,this},o.prototype.forceRed=function(t){return r(!this.red,"Already a number in reduction context"),this._forceRed(t)},o.prototype.redAdd=function(t){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,t)},o.prototype.redIAdd=function(t){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,t)},o.prototype.redSub=function(t){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,t)},o.prototype.redISub=function(t){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,t)},o.prototype.redShl=function(t){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,t)},o.prototype.redMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.mul(this,t)},o.prototype.redIMul=function(t){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,t),this.red.imul(this,t)},o.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},o.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},o.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},o.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},o.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},o.prototype.redPow=function(t){return r(this.red&&!t.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,t)};var C={k256:null,p224:null,p192:null,p25519:null};d.prototype._tmp=function(){var t=new o(null);return t.words=new Array(Math.ceil(this.n/13)),t},d.prototype.ireduce=function(t){var e,n=t;do{this.split(n,this.tmp),n=this.imulK(n),n=n.iadd(this.tmp),e=n.bitLength()}while(e>this.n);var r=e<this.n?-1:n.ucmp(this.p);return 0===r?(n.words[0]=0,n.length=1):r>0?n.isub(this.p):n.strip(),n},d.prototype.split=function(t,e){t.iushrn(this.n,0,e)},d.prototype.imulK=function(t){return t.imul(this.k)},i(p,d),p.prototype.split=function(t,e){for(var n=Math.min(t.length,9),r=0;r<n;r++)e.words[r]=t.words[r];if(e.length=n,t.length<=9)return t.words[0]=0,void(t.length=1);var i=t.words[9];for(e.words[e.length++]=4194303&i,r=10;r<t.length;r++){var o=0|t.words[r];t.words[r-10]=(4194303&o)<<4|i>>>22,i=o}i>>>=22,t.words[r-10]=i,0===i&&t.length>10?t.length-=10:t.length-=9},p.prototype.imulK=function(t){t.words[t.length]=0,t.words[t.length+1]=0,t.length+=2;for(var e=0,n=0;n<t.length;n++){var r=0|t.words[n];e+=977*r,t.words[n]=67108863&e,e=64*r+(e/67108864|0)}return 0===t.words[t.length-1]&&(t.length--,0===t.words[t.length-1]&&t.length--),t},i(y,d),i(m,d),i(v,d),v.prototype.imulK=function(t){for(var e=0,n=0;n<t.length;n++){var r=19*(0|t.words[n])+e,i=67108863&r;r>>>=26,t.words[n]=i,e=r}return 0!==e&&(t.words[t.length++]=e),t},o._prime=function(t){if(C[t])return C[t];var e;if("k256"===t)e=new p;else if("p224"===t)e=new y;else if("p192"===t)e=new m;else{if("p25519"!==t)throw new Error("Unknown prime "+t);e=new v}return C[t]=e,e},g.prototype._verify1=function(t){r(0===t.negative,"red works only with positives"),r(t.red,"red works only with red numbers")},g.prototype._verify2=function(t,e){r(0===(t.negative|e.negative),"red works only with positives"),r(t.red&&t.red===e.red,"red works only with red numbers")},g.prototype.imod=function(t){return this.prime?this.prime.ireduce(t)._forceRed(this):t.umod(this.m)._forceRed(this)},g.prototype.neg=function(t){return t.isZero()?t.clone():this.m.sub(t)._forceRed(this)},g.prototype.add=function(t,e){this._verify2(t,e);var n=t.add(e);return n.cmp(this.m)>=0&&n.isub(this.m),n._forceRed(this)},g.prototype.iadd=function(t,e){this._verify2(t,e);var n=t.iadd(e);return n.cmp(this.m)>=0&&n.isub(this.m),n},g.prototype.sub=function(t,e){this._verify2(t,e);var n=t.sub(e);return n.cmpn(0)<0&&n.iadd(this.m),n._forceRed(this)},g.prototype.isub=function(t,e){this._verify2(t,e);var n=t.isub(e);return n.cmpn(0)<0&&n.iadd(this.m),n},g.prototype.shl=function(t,e){return this._verify1(t),this.imod(t.ushln(e))},g.prototype.imul=function(t,e){return this._verify2(t,e),this.imod(t.imul(e))},g.prototype.mul=function(t,e){return this._verify2(t,e),this.imod(t.mul(e))},g.prototype.isqr=function(t){return this.imul(t,t.clone())},g.prototype.sqr=function(t){return this.mul(t,t)},g.prototype.sqrt=function(t){if(t.isZero())return t.clone();var e=this.m.andln(3);if(r(e%2===1),3===e){var n=this.m.add(new o(1)).iushrn(2);return this.pow(t,n)}for(var i=this.m.subn(1),a=0;!i.isZero()&&0===i.andln(1);)a++,i.iushrn(1);r(!i.isZero());var s=new o(1).toRed(this),u=s.redNeg(),c=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new o(2*f*f).toRed(this);0!==this.pow(f,c).cmp(u);)f.redIAdd(u);for(var l=this.pow(f,i),h=this.pow(t,i.addn(1).iushrn(1)),d=this.pow(t,i),p=a;0!==d.cmp(s);){for(var y=d,m=0;0!==y.cmp(s);m++)y=y.redSqr();r(m<p);var v=this.pow(l,new o(1).iushln(p-m-1));h=h.redMul(v),l=v.redSqr(),d=d.redMul(l),p=m}return h},g.prototype.invm=function(t){var e=t._invmp(this.m);return 0!==e.negative?(e.negative=0,this.imod(e).redNeg()):this.imod(e)},g.prototype.pow=function(t,e){if(e.isZero())return new o(1).toRed(this);if(0===e.cmpn(1))return t.clone();var n=new Array(16);n[0]=new o(1).toRed(this),n[1]=t;for(var r=2;r<n.length;r++)n[r]=this.mul(n[r-1],t);var i=n[0],a=0,s=0,u=e.bitLength()%26;for(0===u&&(u=26),r=e.length-1;r>=0;r--){for(var c=e.words[r],f=u-1;f>=0;f--){var l=c>>f&1;i!==n[0]&&(i=this.sqr(i)),0!==l||0!==a?(a<<=1,a|=l,(4===++s||0===r&&0===f)&&(i=this.mul(i,n[a]),s=0,a=0)):s=0}u=26}return i},g.prototype.convertTo=function(t){var e=t.umod(this.m);return e===t?e.clone():e},g.prototype.convertFrom=function(t){var e=t.clone();return e.red=null,e},o.mont=function(t){return new b(t)},i(b,g),b.prototype.convertTo=function(t){return this.imod(t.ushln(this.shift))},b.prototype.convertFrom=function(t){var e=this.imod(t.mul(this.rinv));return e.red=null,e},b.prototype.imul=function(t,e){if(t.isZero()||e.isZero())return t.words[0]=0,t.length=1,t;var n=t.imul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),o=i;return i.cmp(this.m)>=0?o=i.isub(this.m):i.cmpn(0)<0&&(o=i.iadd(this.m)),o._forceRed(this)},b.prototype.mul=function(t,e){if(t.isZero()||e.isZero())return new o(0)._forceRed(this);var n=t.mul(e),r=n.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=n.isub(r).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},b.prototype.invm=function(t){return this.imod(t._invmp(this.m).mul(this.r2))._forceRed(this)}}("undefined"===typeof t||t,this)}).call(e,n(41)(t))},function(t,e,n){t.exports=n(304)()},function(t,e,n){"use strict";(function(t){function r(){return o.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function i(t,e){if(r()<e)throw new RangeError("Invalid typed array length");return o.TYPED_ARRAY_SUPPORT?(t=new Uint8Array(e),t.__proto__=o.prototype):(null===t&&(t=new o(e)),t.length=e),t}function o(t,e,n){if(!o.TYPED_ARRAY_SUPPORT&&!(this instanceof o))return new o(t,e,n);if("number"===typeof t){if("string"===typeof e)throw new Error("If encoding is specified then the first argument must be a string");return c(this,t)}return a(this,t,e,n)}function a(t,e,n,r){if("number"===typeof e)throw new TypeError('"value" argument must not be a number');return"undefined"!==typeof ArrayBuffer&&e instanceof ArrayBuffer?h(t,e,n,r):"string"===typeof e?f(t,e,n):d(t,e)}function s(t){if("number"!==typeof t)throw new TypeError('"size" argument must be a number');if(t<0)throw new RangeError('"size" argument must not be negative')}function u(t,e,n,r){return s(e),e<=0?i(t,e):void 0!==n?"string"===typeof r?i(t,e).fill(n,r):i(t,e).fill(n):i(t,e)}function c(t,e){if(s(e),t=i(t,e<0?0:0|p(e)),!o.TYPED_ARRAY_SUPPORT)for(var n=0;n<e;++n)t[n]=0;return t}function f(t,e,n){if("string"===typeof n&&""!==n||(n="utf8"),!o.isEncoding(n))throw new TypeError('"encoding" must be a valid string encoding');var r=0|m(e,n);t=i(t,r);var a=t.write(e,n);return a!==r&&(t=t.slice(0,a)),t}function l(t,e){var n=e.length<0?0:0|p(e.length);t=i(t,n);for(var r=0;r<n;r+=1)t[r]=255&e[r];return t}function h(t,e,n,r){if(e.byteLength,n<0||e.byteLength<n)throw new RangeError("'offset' is out of bounds");if(e.byteLength<n+(r||0))throw new RangeError("'length' is out of bounds");return e=void 0===n&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,n):new Uint8Array(e,n,r),o.TYPED_ARRAY_SUPPORT?(t=e,t.__proto__=o.prototype):t=l(t,e),t}function d(t,e){if(o.isBuffer(e)){var n=0|p(e.length);return t=i(t,n),0===t.length?t:(e.copy(t,0,0,n),t)}if(e){if("undefined"!==typeof ArrayBuffer&&e.buffer instanceof ArrayBuffer||"length"in e)return"number"!==typeof e.length||Y(e.length)?i(t,0):l(t,e);if("Buffer"===e.type&&J(e.data))return l(t,e.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function p(t){if(t>=r())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+r().toString(16)+" bytes");return 0|t}function y(t){return+t!=t&&(t=0),o.alloc(+t)}function m(t,e){if(o.isBuffer(t))return t.length;if("undefined"!==typeof ArrayBuffer&&"function"===typeof ArrayBuffer.isView&&(ArrayBuffer.isView(t)||t instanceof ArrayBuffer))return t.byteLength;"string"!==typeof t&&(t=""+t);var n=t.length;if(0===n)return 0;for(var r=!1;;)switch(e){case"ascii":case"latin1":case"binary":return n;case"utf8":case"utf-8":case void 0:return H(t).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*n;case"hex":return n>>>1;case"base64":return G(t).length;default:if(r)return H(t).length;e=(""+e).toLowerCase(),r=!0}}function v(t,e,n){var r=!1;if((void 0===e||e<0)&&(e=0),e>this.length)return"";if((void 0===n||n>this.length)&&(n=this.length),n<=0)return"";if(n>>>=0,e>>>=0,n<=e)return"";for(t||(t="utf8");;)switch(t){case"hex":return x(this,e,n);case"utf8":case"utf-8":return O(this,e,n);case"ascii":return R(this,e,n);case"latin1":case"binary":return P(this,e,n);case"base64":return A(this,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D(this,e,n);default:if(r)throw new TypeError("Unknown encoding: "+t);t=(t+"").toLowerCase(),r=!0}}function g(t,e,n){var r=t[e];t[e]=t[n],t[n]=r}function b(t,e,n,r,i){if(0===t.length)return-1;if("string"===typeof n?(r=n,n=0):n>2147483647?n=2147483647:n<-2147483648&&(n=-2147483648),n=+n,isNaN(n)&&(n=i?0:t.length-1),n<0&&(n=t.length+n),n>=t.length){if(i)return-1;n=t.length-1}else if(n<0){if(!i)return-1;n=0}if("string"===typeof e&&(e=o.from(e,r)),o.isBuffer(e))return 0===e.length?-1:_(t,e,n,r,i);if("number"===typeof e)return e&=255,o.TYPED_ARRAY_SUPPORT&&"function"===typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(t,e,n):Uint8Array.prototype.lastIndexOf.call(t,e,n):_(t,[e],n,r,i);throw new TypeError("val must be string, number or Buffer")}function _(t,e,n,r,i){function o(t,e){return 1===a?t[e]:t.readUInt16BE(e*a)}var a=1,s=t.length,u=e.length;if(void 0!==r&&("ucs2"===(r=String(r).toLowerCase())||"ucs-2"===r||"utf16le"===r||"utf-16le"===r)){if(t.length<2||e.length<2)return-1;a=2,s/=2,u/=2,n/=2}var c;if(i){var f=-1;for(c=n;c<s;c++)if(o(t,c)===o(e,-1===f?0:c-f)){if(-1===f&&(f=c),c-f+1===u)return f*a}else-1!==f&&(c-=c-f),f=-1}else for(n+u>s&&(n=s-u),c=n;c>=0;c--){for(var l=!0,h=0;h<u;h++)if(o(t,c+h)!==o(e,h)){l=!1;break}if(l)return c}return-1}function w(t,e,n,r){n=Number(n)||0;var i=t.length-n;r?(r=Number(r))>i&&(r=i):r=i;var o=e.length;if(o%2!==0)throw new TypeError("Invalid hex string");r>o/2&&(r=o/2);for(var a=0;a<r;++a){var s=parseInt(e.substr(2*a,2),16);if(isNaN(s))return a;t[n+a]=s}return a}function E(t,e,n,r){return Q(H(e,t.length-n),t,n,r)}function S(t,e,n,r){return Q(z(e),t,n,r)}function T(t,e,n,r){return S(t,e,n,r)}function C(t,e,n,r){return Q(G(e),t,n,r)}function I(t,e,n,r){return Q(K(e,t.length-n),t,n,r)}function A(t,e,n){return 0===e&&n===t.length?X.fromByteArray(t):X.fromByteArray(t.slice(e,n))}function O(t,e,n){n=Math.min(t.length,n);for(var r=[],i=e;i<n;){var o=t[i],a=null,s=o>239?4:o>223?3:o>191?2:1;if(i+s<=n){var u,c,f,l;switch(s){case 1:o<128&&(a=o);break;case 2:u=t[i+1],128===(192&u)&&(l=(31&o)<<6|63&u)>127&&(a=l);break;case 3:u=t[i+1],c=t[i+2],128===(192&u)&&128===(192&c)&&(l=(15&o)<<12|(63&u)<<6|63&c)>2047&&(l<55296||l>57343)&&(a=l);break;case 4:u=t[i+1],c=t[i+2],f=t[i+3],128===(192&u)&&128===(192&c)&&128===(192&f)&&(l=(15&o)<<18|(63&u)<<12|(63&c)<<6|63&f)>65535&&l<1114112&&(a=l)}}null===a?(a=65533,s=1):a>65535&&(a-=65536,r.push(a>>>10&1023|55296),a=56320|1023&a),r.push(a),i+=s}return k(r)}function k(t){var e=t.length;if(e<=Z)return String.fromCharCode.apply(String,t);for(var n="",r=0;r<e;)n+=String.fromCharCode.apply(String,t.slice(r,r+=Z));return n}function R(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(127&t[i]);return r}function P(t,e,n){var r="";n=Math.min(t.length,n);for(var i=e;i<n;++i)r+=String.fromCharCode(t[i]);return r}function x(t,e,n){var r=t.length;(!e||e<0)&&(e=0),(!n||n<0||n>r)&&(n=r);for(var i="",o=e;o<n;++o)i+=V(t[o]);return i}function D(t,e,n){for(var r=t.slice(e,n),i="",o=0;o<r.length;o+=2)i+=String.fromCharCode(r[o]+256*r[o+1]);return i}function N(t,e,n){if(t%1!==0||t<0)throw new RangeError("offset is not uint");if(t+e>n)throw new RangeError("Trying to access beyond buffer length")}function M(t,e,n,r,i,a){if(!o.isBuffer(t))throw new TypeError('"buffer" argument must be a Buffer instance');if(e>i||e<a)throw new RangeError('"value" argument is out of bounds');if(n+r>t.length)throw new RangeError("Index out of range")}function L(t,e,n,r){e<0&&(e=65535+e+1);for(var i=0,o=Math.min(t.length-n,2);i<o;++i)t[n+i]=(e&255<<8*(r?i:1-i))>>>8*(r?i:1-i)}function j(t,e,n,r){e<0&&(e=4294967295+e+1);for(var i=0,o=Math.min(t.length-n,4);i<o;++i)t[n+i]=e>>>8*(r?i:3-i)&255}function U(t,e,n,r,i,o){if(n+r>t.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("Index out of range")}function F(t,e,n,r,i){return i||U(t,e,n,4,3.4028234663852886e38,-3.4028234663852886e38),$.write(t,e,n,r,23,4),n+4}function B(t,e,n,r,i){return i||U(t,e,n,8,1.7976931348623157e308,-1.7976931348623157e308),$.write(t,e,n,r,52,8),n+8}function q(t){if(t=W(t).replace(tt,""),t.length<2)return"";for(;t.length%4!==0;)t+="=";return t}function W(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function V(t){return t<16?"0"+t.toString(16):t.toString(16)}function H(t,e){e=e||1/0;for(var n,r=t.length,i=null,o=[],a=0;a<r;++a){if((n=t.charCodeAt(a))>55295&&n<57344){if(!i){if(n>56319){(e-=3)>-1&&o.push(239,191,189);continue}if(a+1===r){(e-=3)>-1&&o.push(239,191,189);continue}i=n;continue}if(n<56320){(e-=3)>-1&&o.push(239,191,189),i=n;continue}n=65536+(i-55296<<10|n-56320)}else i&&(e-=3)>-1&&o.push(239,191,189);if(i=null,n<128){if((e-=1)<0)break;o.push(n)}else if(n<2048){if((e-=2)<0)break;o.push(n>>6|192,63&n|128)}else if(n<65536){if((e-=3)<0)break;o.push(n>>12|224,n>>6&63|128,63&n|128)}else{if(!(n<1114112))throw new Error("Invalid code point");if((e-=4)<0)break;o.push(n>>18|240,n>>12&63|128,n>>6&63|128,63&n|128)}}return o}function z(t){for(var e=[],n=0;n<t.length;++n)e.push(255&t.charCodeAt(n));return e}function K(t,e){for(var n,r,i,o=[],a=0;a<t.length&&!((e-=2)<0);++a)n=t.charCodeAt(a),r=n>>8,i=n%256,o.push(i),o.push(r);return o}function G(t){return X.toByteArray(q(t))}function Q(t,e,n,r){for(var i=0;i<r&&!(i+n>=e.length||i>=t.length);++i)e[i+n]=t[i];return i}function Y(t){return t!==t}var X=n(518),$=n(519),J=n(247);e.Buffer=o,e.SlowBuffer=y,e.INSPECT_MAX_BYTES=50,o.TYPED_ARRAY_SUPPORT=void 0!==t.TYPED_ARRAY_SUPPORT?t.TYPED_ARRAY_SUPPORT:function(){try{var t=new Uint8Array(1);return t.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===t.foo()&&"function"===typeof t.subarray&&0===t.subarray(1,1).byteLength}catch(t){return!1}}(),e.kMaxLength=r(),o.poolSize=8192,o._augment=function(t){return t.__proto__=o.prototype,t},o.from=function(t,e,n){return a(null,t,e,n)},o.TYPED_ARRAY_SUPPORT&&(o.prototype.__proto__=Uint8Array.prototype,o.__proto__=Uint8Array,"undefined"!==typeof Symbol&&Symbol.species&&o[Symbol.species]===o&&Object.defineProperty(o,Symbol.species,{value:null,configurable:!0})),o.alloc=function(t,e,n){return u(null,t,e,n)},o.allocUnsafe=function(t){return c(null,t)},o.allocUnsafeSlow=function(t){return c(null,t)},o.isBuffer=function(t){return!(null==t||!t._isBuffer)},o.compare=function(t,e){if(!o.isBuffer(t)||!o.isBuffer(e))throw new TypeError("Arguments must be Buffers");if(t===e)return 0;for(var n=t.length,r=e.length,i=0,a=Math.min(n,r);i<a;++i)if(t[i]!==e[i]){n=t[i],r=e[i];break}return n<r?-1:r<n?1:0},o.isEncoding=function(t){switch(String(t).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},o.concat=function(t,e){if(!J(t))throw new TypeError('"list" argument must be an Array of Buffers');if(0===t.length)return o.alloc(0);var n;if(void 0===e)for(e=0,n=0;n<t.length;++n)e+=t[n].length;var r=o.allocUnsafe(e),i=0;for(n=0;n<t.length;++n){var a=t[n];if(!o.isBuffer(a))throw new TypeError('"list" argument must be an Array of Buffers');a.copy(r,i),i+=a.length}return r},o.byteLength=m,o.prototype._isBuffer=!0,o.prototype.swap16=function(){var t=this.length;if(t%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var e=0;e<t;e+=2)g(this,e,e+1);return this},o.prototype.swap32=function(){var t=this.length;if(t%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var e=0;e<t;e+=4)g(this,e,e+3),g(this,e+1,e+2);return this},o.prototype.swap64=function(){var t=this.length;if(t%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var e=0;e<t;e+=8)g(this,e,e+7),g(this,e+1,e+6),g(this,e+2,e+5),g(this,e+3,e+4);return this},o.prototype.toString=function(){var t=0|this.length;return 0===t?"":0===arguments.length?O(this,0,t):v.apply(this,arguments)},o.prototype.equals=function(t){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");return this===t||0===o.compare(this,t)},o.prototype.inspect=function(){var t="",n=e.INSPECT_MAX_BYTES;return this.length>0&&(t=this.toString("hex",0,n).match(/.{2}/g).join(" "),this.length>n&&(t+=" ... ")),"<Buffer "+t+">"},o.prototype.compare=function(t,e,n,r,i){if(!o.isBuffer(t))throw new TypeError("Argument must be a Buffer");if(void 0===e&&(e=0),void 0===n&&(n=t?t.length:0),void 0===r&&(r=0),void 0===i&&(i=this.length),e<0||n>t.length||r<0||i>this.length)throw new RangeError("out of range index");if(r>=i&&e>=n)return 0;if(r>=i)return-1;if(e>=n)return 1;if(e>>>=0,n>>>=0,r>>>=0,i>>>=0,this===t)return 0;for(var a=i-r,s=n-e,u=Math.min(a,s),c=this.slice(r,i),f=t.slice(e,n),l=0;l<u;++l)if(c[l]!==f[l]){a=c[l],s=f[l];break}return a<s?-1:s<a?1:0},o.prototype.includes=function(t,e,n){return-1!==this.indexOf(t,e,n)},o.prototype.indexOf=function(t,e,n){return b(this,t,e,n,!0)},o.prototype.lastIndexOf=function(t,e,n){return b(this,t,e,n,!1)},o.prototype.write=function(t,e,n,r){if(void 0===e)r="utf8",n=this.length,e=0;else if(void 0===n&&"string"===typeof e)r=e,n=this.length,e=0;else{if(!isFinite(e))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");e|=0,isFinite(n)?(n|=0,void 0===r&&(r="utf8")):(r=n,n=void 0)}var i=this.length-e;if((void 0===n||n>i)&&(n=i),t.length>0&&(n<0||e<0)||e>this.length)throw new RangeError("Attempt to write outside buffer bounds");r||(r="utf8");for(var o=!1;;)switch(r){case"hex":return w(this,t,e,n);case"utf8":case"utf-8":return E(this,t,e,n);case"ascii":return S(this,t,e,n);case"latin1":case"binary":return T(this,t,e,n);case"base64":return C(this,t,e,n);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I(this,t,e,n);default:if(o)throw new TypeError("Unknown encoding: "+r);r=(""+r).toLowerCase(),o=!0}},o.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var Z=4096;o.prototype.slice=function(t,e){var n=this.length;t=~~t,e=void 0===e?n:~~e,t<0?(t+=n)<0&&(t=0):t>n&&(t=n),e<0?(e+=n)<0&&(e=0):e>n&&(e=n),e<t&&(e=t);var r;if(o.TYPED_ARRAY_SUPPORT)r=this.subarray(t,e),r.__proto__=o.prototype;else{var i=e-t;r=new o(i,void 0);for(var a=0;a<i;++a)r[a]=this[a+t]}return r},o.prototype.readUIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return r},o.prototype.readUIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t+--e],i=1;e>0&&(i*=256);)r+=this[t+--e]*i;return r},o.prototype.readUInt8=function(t,e){return e||N(t,1,this.length),this[t]},o.prototype.readUInt16LE=function(t,e){return e||N(t,2,this.length),this[t]|this[t+1]<<8},o.prototype.readUInt16BE=function(t,e){return e||N(t,2,this.length),this[t]<<8|this[t+1]},o.prototype.readUInt32LE=function(t,e){return e||N(t,4,this.length),(this[t]|this[t+1]<<8|this[t+2]<<16)+16777216*this[t+3]},o.prototype.readUInt32BE=function(t,e){return e||N(t,4,this.length),16777216*this[t]+(this[t+1]<<16|this[t+2]<<8|this[t+3])},o.prototype.readIntLE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=this[t],i=1,o=0;++o<e&&(i*=256);)r+=this[t+o]*i;return i*=128,r>=i&&(r-=Math.pow(2,8*e)),r},o.prototype.readIntBE=function(t,e,n){t|=0,e|=0,n||N(t,e,this.length);for(var r=e,i=1,o=this[t+--r];r>0&&(i*=256);)o+=this[t+--r]*i;return i*=128,o>=i&&(o-=Math.pow(2,8*e)),o},o.prototype.readInt8=function(t,e){return e||N(t,1,this.length),128&this[t]?-1*(255-this[t]+1):this[t]},o.prototype.readInt16LE=function(t,e){e||N(t,2,this.length);var n=this[t]|this[t+1]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt16BE=function(t,e){e||N(t,2,this.length);var n=this[t+1]|this[t]<<8;return 32768&n?4294901760|n:n},o.prototype.readInt32LE=function(t,e){return e||N(t,4,this.length),this[t]|this[t+1]<<8|this[t+2]<<16|this[t+3]<<24},o.prototype.readInt32BE=function(t,e){return e||N(t,4,this.length),this[t]<<24|this[t+1]<<16|this[t+2]<<8|this[t+3]},o.prototype.readFloatLE=function(t,e){return e||N(t,4,this.length),$.read(this,t,!0,23,4)},o.prototype.readFloatBE=function(t,e){return e||N(t,4,this.length),$.read(this,t,!1,23,4)},o.prototype.readDoubleLE=function(t,e){return e||N(t,8,this.length),$.read(this,t,!0,52,8)},o.prototype.readDoubleBE=function(t,e){return e||N(t,8,this.length),$.read(this,t,!1,52,8)},o.prototype.writeUIntLE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){M(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=1,o=0;for(this[e]=255&t;++o<n&&(i*=256);)this[e+o]=t/i&255;return e+n},o.prototype.writeUIntBE=function(t,e,n,r){if(t=+t,e|=0,n|=0,!r){M(this,t,e,n,Math.pow(2,8*n)-1,0)}var i=n-1,o=1;for(this[e+i]=255&t;--i>=0&&(o*=256);)this[e+i]=t/o&255;return e+n},o.prototype.writeUInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,255,0),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),this[e]=255&t,e+1},o.prototype.writeUInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},o.prototype.writeUInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,65535,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},o.prototype.writeUInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e+3]=t>>>24,this[e+2]=t>>>16,this[e+1]=t>>>8,this[e]=255&t):j(this,t,e,!0),e+4},o.prototype.writeUInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,4294967295,0),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},o.prototype.writeIntLE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);M(this,t,e,n,i-1,-i)}var o=0,a=1,s=0;for(this[e]=255&t;++o<n&&(a*=256);)t<0&&0===s&&0!==this[e+o-1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeIntBE=function(t,e,n,r){if(t=+t,e|=0,!r){var i=Math.pow(2,8*n-1);M(this,t,e,n,i-1,-i)}var o=n-1,a=1,s=0;for(this[e+o]=255&t;--o>=0&&(a*=256);)t<0&&0===s&&0!==this[e+o+1]&&(s=1),this[e+o]=(t/a>>0)-s&255;return e+n},o.prototype.writeInt8=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,1,127,-128),o.TYPED_ARRAY_SUPPORT||(t=Math.floor(t)),t<0&&(t=255+t+1),this[e]=255&t,e+1},o.prototype.writeInt16LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8):L(this,t,e,!0),e+2},o.prototype.writeInt16BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,2,32767,-32768),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>8,this[e+1]=255&t):L(this,t,e,!1),e+2},o.prototype.writeInt32LE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),o.TYPED_ARRAY_SUPPORT?(this[e]=255&t,this[e+1]=t>>>8,this[e+2]=t>>>16,this[e+3]=t>>>24):j(this,t,e,!0),e+4},o.prototype.writeInt32BE=function(t,e,n){return t=+t,e|=0,n||M(this,t,e,4,2147483647,-2147483648),t<0&&(t=4294967295+t+1),o.TYPED_ARRAY_SUPPORT?(this[e]=t>>>24,this[e+1]=t>>>16,this[e+2]=t>>>8,this[e+3]=255&t):j(this,t,e,!1),e+4},o.prototype.writeFloatLE=function(t,e,n){return F(this,t,e,!0,n)},o.prototype.writeFloatBE=function(t,e,n){return F(this,t,e,!1,n)},o.prototype.writeDoubleLE=function(t,e,n){return B(this,t,e,!0,n)},o.prototype.writeDoubleBE=function(t,e,n){return B(this,t,e,!1,n)},o.prototype.copy=function(t,e,n,r){if(n||(n=0),r||0===r||(r=this.length),e>=t.length&&(e=t.length),e||(e=0),r>0&&r<n&&(r=n),r===n)return 0;if(0===t.length||0===this.length)return 0;if(e<0)throw new RangeError("targetStart out of bounds");if(n<0||n>=this.length)throw new RangeError("sourceStart out of bounds");if(r<0)throw new RangeError("sourceEnd out of bounds");r>this.length&&(r=this.length),t.length-e<r-n&&(r=t.length-e+n);var i,a=r-n;if(this===t&&n<e&&e<r)for(i=a-1;i>=0;--i)t[i+e]=this[i+n];else if(a<1e3||!o.TYPED_ARRAY_SUPPORT)for(i=0;i<a;++i)t[i+e]=this[i+n];else Uint8Array.prototype.set.call(t,this.subarray(n,n+a),e);return a},o.prototype.fill=function(t,e,n,r){if("string"===typeof t){if("string"===typeof e?(r=e,e=0,n=this.length):"string"===typeof n&&(r=n,n=this.length),1===t.length){var i=t.charCodeAt(0);i<256&&(t=i)}if(void 0!==r&&"string"!==typeof r)throw new TypeError("encoding must be a string");if("string"===typeof r&&!o.isEncoding(r))throw new TypeError("Unknown encoding: "+r)}else"number"===typeof t&&(t&=255);if(e<0||this.length<e||this.length<n)throw new RangeError("Out of range index");if(n<=e)return this;e>>>=0,n=void 0===n?this.length:n>>>0,t||(t=0);var a;if("number"===typeof t)for(a=e;a<n;++a)this[a]=t;else{var s=o.isBuffer(t)?t:H(new o(t,r).toString()),u=s.length;for(a=0;a<n-e;++a)this[a+e]=s[a%u]}return this};var tt=/[^+\/0-9A-Za-z-_]/g}).call(e,n(8))},function(t,e){var n;n=function(){return this}();try{n=n||Function("return this")()||(0,eval)("this")}catch(t){"object"===typeof window&&(n=window)}t.exports=n},function(t,e,n){function r(t){if(!o(t))return!1;var e=i(t);return e==s||e==u||e==a||e==c}var i=n(18),o=n(4),a="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",c="[object Proxy]";t.exports=r},function(t,e){function n(t){return null!=t&&"object"==typeof t}t.exports=n},function(t,e,n){var r=n(184),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();t.exports=o},function(t,e,n){"use strict";var r=e;r.version=n(560).version,r.utils=n(561),r.rand=n(269),r.curve=n(95),r.curves=n(566),r.ec=n(574),r.eddsa=n(578)},function(t,e){function n(t,e){if(!t)throw new Error(e||"Assertion failed")}t.exports=n,n.equal=function(t,e,n){if(t!=e)throw new Error(n||"Assertion failed: "+t+" != "+e)}},function(t,e,n){function r(t){return"function"==typeof t?t:null==t?a:"object"==typeof t?s(t)?o(t[0],t[1]):i(t):u(t)}var i=n(366),o=n(408),a=n(53),s=n(2),u=n(412);t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.actionsPrefix="@@reduxFirestore",i=e.actionTypes={START:r+"/START",ERROR:r+"/ERROR",CLEAR_DATA:r+"/CLEAR_DATA",CLEAR_ERROR:r+"/CLEAR_ERROR",CLEAR_ERRORS:r+"/CLEAR_ERRORS",SET_LISTENER:r+"/SET_LISTENER",UNSET_LISTENER:r+"/UNSET_LISTENER",GET_REQUEST:r+"/GET_REQUEST",GET_SUCCESS:r+"/GET_SUCCESS",GET_FAILURE:r+"/GET_FAILURE",SET_REQUEST:r+"/SET_REQUEST",SET_SUCCESS:r+"/SET_SUCCESS",SET_FAILURE:r+"/SET_FAILURE",ADD_REQUEST:r+"/ADD_REQUEST",ADD_SUCCESS:r+"/ADD_SUCCESS",ADD_FAILURE:r+"/ADD_FAILURE",UPDATE_REQUEST:r+"/UPDATE_REQUEST",UPDATE_SUCCESS:r+"/UPDATE_SUCCESS",UPDATE_FAILURE:r+"/UPDATE_FAILURE",DELETE_REQUEST:r+"/DELETE_REQUEST",DELETE_SUCCESS:r+"/DELETE_SUCCESS",DELETE_FAILURE:r+"/DELETE_FAILURE",ATTACH_LISTENER:r+"/ATTACH_LISTENER",LISTENER_RESPONSE:r+"/LISTENER_RESPONSE",LISTENER_ERROR:r+"/LISTENER_ERROR",ON_SNAPSHOT_REQUEST:r+"/ON_SNAPSHOT_REQUEST",ON_SNAPSHOT_SUCCESS:r+"/ON_SNAPSHOT_SUCCESS",ON_SNAPSHOT_FAILURE:r+"/ON_SNAPSHOT_FAILURE",DOCUMENT_ADDED:r+"/DOCUMENT_ADDED",DOCUMENT_MODIFIED:r+"/DOCUMENT_MODIFIED",DOCUMENT_REMOVED:r+"/DOCUMENT_REMOVED",TRANSACTION_START:r+"/TRANSACTION_START",TRANSACTION_SUCCESS:r+"/TRANSACTION_SUCCESS",TRANSACTION_FAILURE:r+"/TRANSACTION_FAILURE"},o=e.defaultConfig={logListenerError:!0,enhancerNamespace:"firestore",helpersNamespace:null,allowMultipleListeners:!1,preserveOnDelete:null,preserveOnListenerError:null,onAttemptCollectionDelete:null,mergeOrdered:!0,mergeOrderedDocUpdates:!0,mergeOrderedCollectionUpdates:!0};e.methodsToAddFromFirestore=["collection","configureClient","doc","batch","disableNetwork","enableNetwork","enablePersistence","ensureClientConfigured","setLogLevel","settings"];e.default={actionsPrefix:r,actionTypes:i,defaultConfig:o}},function(t,e,n){"use strict";var r=function(t,e,n,r,i,o,a,s){if(!t){var u;if(void 0===e)u=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],f=0;u=new Error(e.replace(/%s/g,function(){return c[f++]})),u.name="Invariant Violation"}throw u.framesToPop=1,u}};t.exports=r},function(t,e,n){"use strict";var r=n(329),i=(n(172),n(334));n.d(e,"a",function(){return r.a}),n.d(e,"b",function(){return i.a})},function(t,e,n){function r(t){return null==t?void 0===t?u:s:c&&c in Object(t)?o(t):a(t)}var i=n(39),o=n(362),a=n(363),s="[object Null]",u="[object Undefined]",c=i?i.toStringTag:void 0;t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=e.actionsPrefix="@@reactReduxFirebase",i=e.actionTypes={START:r+"/START",SET:r+"/SET",REMOVE:r+"/REMOVE",MERGE:r+"/MERGE",SET_PROFILE:r+"/SET_PROFILE",LOGIN:r+"/LOGIN",LOGOUT:r+"/LOGOUT",LOGIN_ERROR:r+"/LOGIN_ERROR",NO_VALUE:r+"/NO_VALUE",UNAUTHORIZED_ERROR:r+"/UNAUTHORIZED_ERROR",ERROR:r+"/ERROR",CLEAR_ERRORS:r+"/CLEAR_ERRORS",SET_LISTENER:r+"/SET_LISTENER",UNSET_LISTENER:r+"/UNSET_LISTENER",AUTHENTICATION_INIT_STARTED:r+"/AUTHENTICATION_INIT_STARTED",AUTHENTICATION_INIT_FINISHED:r+"/AUTHENTICATION_INIT_FINISHED",SESSION_START:r+"/SESSION_START",SESSION_END:r+"/SESSION_END",FILE_UPLOAD_START:r+"/FILE_UPLOAD_START",FILE_UPLOAD_ERROR:r+"/FILE_UPLOAD_ERROR",FILE_UPLOAD_PROGRESS:r+"/FILE_UPLOAD_PROGRESS",FILE_UPLOAD_COMPLETE:r+"/FILE_UPLOAD_COMPLETE",FILE_DELETE_START:r+"/FILE_DELETE_START",FILE_DELETE_ERROR:r+"/FILE_DELETE_ERROR",FILE_DELETE_COMPLETE:r+"/FILE_DELETE_COMPLETE",AUTH_UPDATE_START:r+"/AUTH_UPDATE_START",AUTH_UPDATE_SUCCESS:r+"/AUTH_UPDATE_SUCCESS",AUTH_UPDATE_ERROR:r+"/AUTH_UPDATE_ERROR",PROFILE_UPDATE_START:r+"/PROFILE_UPDATE_START",PROFILE_UPDATE_SUCCESS:r+"/PROFILE_UPDATE_SUCCESS",PROFILE_UPDATE_ERROR:r+"/PROFILE_UPDATE_ERROR",EMAIL_UPDATE_START:r+"/EMAIL_UPDATE_START",EMAIL_UPDATE_SUCCESS:r+"/EMAIL_UPDATE_SUCCESS",EMAIL_UPDATE_ERROR:r+"/EMAIL_UPDATE_ERROR",AUTH_RELOAD_START:r+"/AUTH_RELOAD_START",AUTH_RELOAD_ERROR:r+"/AUTH_RELOAD_ERROR",AUTH_RELOAD_SUCCESS:r+"/AUTH_RELOAD_SUCCESS",AUTH_LINK_START:r+"/AUTH_LINK_START",AUTH_LINK_ERROR:r+"/AUTH_LINK_ERROR",AUTH_LINK_SUCCESS:r+"/AUTH_LINK_SUCCESS",AUTH_EMPTY_CHANGE:r+"/AUTH_EMPTY_CHANGE"},o=e.defaultConfig={userProfile:null,presence:null,sessions:"sessions",enableLogging:!1,logErrors:!0,preserveOnLogout:null,preserveOnEmptyAuthChange:null,resetBeforeLogin:!0,updateProfileOnLogin:!0,enableRedirectHandling:!0,autoPopulateProfile:!1,setProfilePopulateResults:!1,dispatchOnUnsetListener:!0,dispatchRemoveAction:!1,enableEmptyAuthChanges:!0,firebaseStateName:"firebase",attachAuthIsReady:!1,keysToRemoveFromAuth:["appName","apiKey","authDomain","redirectEventId","stsTokenManager","uid"],keysToPreserveFromProviderData:["email","phoneNumber","photoURL","providerId","uid"]};e.supportedAuthProviders=["google","github","twitter","facebook"],e.topLevelPaths=["auth","profile","ordered","data"];e.default={actionTypes:i,defaultConfig:o}},function(t,e,n){"use strict";function r(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"===typeof t)if(e){if("hex"===e)for(t=t.replace(/[^a-z0-9]+/gi,""),t.length%2!==0&&(t="0"+t),r=0;r<t.length;r+=2)n.push(parseInt(t[r]+t[r+1],16))}else for(var r=0;r<t.length;r++){var i=t.charCodeAt(r),o=i>>8,a=255&i;o?n.push(o,a):n.push(a)}else for(r=0;r<t.length;r++)n[r]=0|t[r];return n}function i(t){for(var e="",n=0;n<t.length;n++)e+=s(t[n].toString(16));return e}function o(t){return(t>>>24|t>>>8&65280|t<<8&16711680|(255&t)<<24)>>>0}function a(t,e){for(var n="",r=0;r<t.length;r++){var i=t[r];"little"===e&&(i=o(i)),n+=u(i.toString(16))}return n}function s(t){return 1===t.length?"0"+t:t}function u(t){return 7===t.length?"0"+t:6===t.length?"00"+t:5===t.length?"000"+t:4===t.length?"0000"+t:3===t.length?"00000"+t:2===t.length?"000000"+t:1===t.length?"0000000"+t:t}function c(t,e,n,r){var i=n-e;O(i%4===0);for(var o=new Array(i/4),a=0,s=e;a<o.length;a++,s+=4){var u;u="big"===r?t[s]<<24|t[s+1]<<16|t[s+2]<<8|t[s+3]:t[s+3]<<24|t[s+2]<<16|t[s+1]<<8|t[s],o[a]=u>>>0}return o}function f(t,e){for(var n=new Array(4*t.length),r=0,i=0;r<t.length;r++,i+=4){var o=t[r];"big"===e?(n[i]=o>>>24,n[i+1]=o>>>16&255,n[i+2]=o>>>8&255,n[i+3]=255&o):(n[i+3]=o>>>24,n[i+2]=o>>>16&255,n[i+1]=o>>>8&255,n[i]=255&o)}return n}function l(t,e){return t>>>e|t<<32-e}function h(t,e){return t<<e|t>>>32-e}function d(t,e){return t+e>>>0}function p(t,e,n){return t+e+n>>>0}function y(t,e,n,r){return t+e+n+r>>>0}function m(t,e,n,r,i){return t+e+n+r+i>>>0}function v(t,e,n,r){var i=t[e],o=t[e+1],a=r+o>>>0,s=(a<r?1:0)+n+i;t[e]=s>>>0,t[e+1]=a}function g(t,e,n,r){return(e+r>>>0<e?1:0)+t+n>>>0}function b(t,e,n,r){return e+r>>>0}function _(t,e,n,r,i,o,a,s){var u=0,c=e;return c=c+r>>>0,u+=c<e?1:0,c=c+o>>>0,u+=c<o?1:0,c=c+s>>>0,u+=c<s?1:0,t+n+i+a+u>>>0}function w(t,e,n,r,i,o,a,s){return e+r+o+s>>>0}function E(t,e,n,r,i,o,a,s,u,c){var f=0,l=e;return l=l+r>>>0,f+=l<e?1:0,l=l+o>>>0,f+=l<o?1:0,l=l+s>>>0,f+=l<s?1:0,l=l+c>>>0,f+=l<c?1:0,t+n+i+a+u+f>>>0}function S(t,e,n,r,i,o,a,s,u,c){return e+r+o+s+c>>>0}function T(t,e,n){return(e<<32-n|t>>>n)>>>0}function C(t,e,n){return(t<<32-n|e>>>n)>>>0}function I(t,e,n){return t>>>n}function A(t,e,n){return(t<<32-n|e>>>n)>>>0}var O=n(13),k=n(0);e.inherits=k,e.toArray=r,e.toHex=i,e.htonl=o,e.toHex32=a,e.zero2=s,e.zero8=u,e.join32=c,e.split32=f,e.rotr32=l,e.rotl32=h,e.sum32=d,e.sum32_3=p,e.sum32_4=y,e.sum32_5=m,e.sum64=v,e.sum64_hi=g,e.sum64_lo=b,e.sum64_4_hi=_,e.sum64_4_lo=w,e.sum64_5_hi=E,e.sum64_5_lo=S,e.rotr64_hi=T,e.rotr64_lo=C,e.shr64_hi=I,e.shr64_lo=A},function(t,e,n){"use strict";var r=n(303);n.d(e,"a",function(){return r.a});var i=(n(311),n(165),n(312),n(314),n(316),n(318));n.d(e,"b",function(){return i.a});var o=n(166);n.d(e,"c",function(){return o.a});var a=(n(99),n(320),n(322));n.d(e,"d",function(){return a.a});var s=(n(324),n(325),n(326));n.d(e,"e",function(){return s.a})},function(t,e){function n(){throw new Error("setTimeout has not been defined")}function r(){throw new Error("clearTimeout has not been defined")}function i(t){if(f===setTimeout)return setTimeout(t,0);if((f===n||!f)&&setTimeout)return f=setTimeout,setTimeout(t,0);try{return f(t,0)}catch(e){try{return f.call(null,t,0)}catch(e){return f.call(this,t,0)}}}function o(t){if(l===clearTimeout)return clearTimeout(t);if((l===r||!l)&&clearTimeout)return l=clearTimeout,clearTimeout(t);try{return l(t)}catch(e){try{return l.call(null,t)}catch(e){return l.call(this,t)}}}function a(){y&&d&&(y=!1,d.length?p=d.concat(p):m=-1,p.length&&s())}function s(){if(!y){var t=i(a);y=!0;for(var e=p.length;e;){for(d=p,p=[];++m<e;)d&&d[m].run();m=-1,e=p.length}d=null,y=!1,o(t)}}function u(t,e){this.fun=t,this.array=e}function c(){}var f,l,h=t.exports={};!function(){try{f="function"===typeof setTimeout?setTimeout:n}catch(t){f=n}try{l="function"===typeof clearTimeout?clearTimeout:r}catch(t){l=r}}();var d,p=[],y=!1,m=-1;h.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];p.push(new u(t,e)),1!==p.length||y||i(s)},u.prototype.run=function(){this.fun.apply(null,this.array)},h.title="browser",h.browser=!0,h.env={},h.argv=[],h.version="",h.versions={},h.on=c,h.addListener=c,h.once=c,h.off=c,h.removeListener=c,h.removeAllListeners=c,h.emit=c,h.prependListener=c,h.prependOnceListener=c,h.listeners=function(t){return[]},h.binding=function(t){throw new Error("process.binding is not supported")},h.cwd=function(){return"/"},h.chdir=function(t){throw new Error("process.chdir is not supported")},h.umask=function(){return 0}},function(t,e,n){"use strict";var r=function(){};t.exports=r},function(t,e,n){"use strict";function r(){function t(t){h(p[t],"delete"),delete p[t]}function e(t){return t=t||s,a(p,t)||i("no-app",{name:t}),p[t]}function n(t,e){if(void 0===e&&(e={}),"object"!==typeof e||null===e){e={name:e}}var n=e;void 0===n.name&&(n.name=s);var r=n.name;"string"===typeof r&&r||i("bad-app-name",{name:r+""}),a(p,r)&&i("duplicate-app",{name:r});var o=new c(t,n,v);return p[r]=o,h(o,"create"),o}function u(){return Object.keys(p).map(function(t){return p[t]})}function f(t,n,r,a,s){y[t]&&i("duplicate-service",{name:t}),y[t]=n,a&&(m[t]=a,u().forEach(function(t){a("create",t)}));var f=function(n){return void 0===n&&(n=e()),"function"!==typeof n[t]&&i("invalid-app-argument",{name:t}),n[t]()};return void 0!==r&&o.deepExtend(f,r),v[t]=f,c.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return this._getService.bind(this,t).apply(this,s?e:[])},f}function l(t){o.deepExtend(v,t)}function h(t,e){Object.keys(y).forEach(function(n){var r=d(t,n);null!==r&&m[r]&&m[r](e,t)})}function d(t,e){if("serverAuth"===e)return null;var n=e;t.options;return n}var p={},y={},m={},v={__esModule:!0,initializeApp:n,app:e,apps:null,Promise:Promise,SDK_VERSION:"5.5.0",INTERNAL:{registerService:f,createFirebaseNamespace:r,extendNamespace:l,createSubscribe:o.createSubscribe,ErrorFactory:o.ErrorFactory,removeApp:t,factories:y,useAsService:d,Promise:Promise,deepExtend:o.deepExtend}};return o.patchProperty(v,"default",v),Object.defineProperty(v,"apps",{get:u}),o.patchProperty(e,"App",c),v}function i(t,e){throw l.create(t,e)}Object.defineProperty(e,"__esModule",{value:!0});var o=n(107),a=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s="[DEFAULT]",u=[],c=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=o.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){u.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){u=u.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(r){e.push(t.services_[n][r])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=s),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==s?e:void 0,r=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=r}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;o.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(u.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),u=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&i("app-deleted",{name:this.name_})},t}();c.prototype.name&&c.prototype.options||c.prototype.delete||console.log("dc");var f={"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."},l=new o.ErrorFactory("app","Firebase",f),h=r();e.firebase=h,e.default=h},function(t,e,n){function r(t){return null!=t&&o(t.length)&&!i(t)}var i=n(9),o=n(118);t.exports=r},function(t,e,n){function r(t){if("string"==typeof t||i(t))return t;var e=t+"";return"0"==e&&1/t==-o?"-0":e}var i=n(51),o=1/0;t.exports=r},function(t,e,n){function r(t){return"string"==typeof t||!o(t)&&a(t)&&i(t)==s}var i=n(18),o=n(2),a=n(10),s="[object String]";t.exports=r},function(t,e,n){function r(t){o.call(this),this.hashMode="string"===typeof t,this.hashMode?this[t]=this._finalOrDigest:this.final=this._finalOrDigest,this._final&&(this.__final=this._final,this._final=null),this._decoder=null,this._encoding=null}var i=n(1).Buffer,o=n(150).Transform,a=n(154).StringDecoder;n(0)(r,o),r.prototype.update=function(t,e,n){"string"===typeof t&&(t=i.from(t,e));var r=this._update(t);return this.hashMode?this:(n&&(r=this._toString(r,n)),r)},r.prototype.setAutoPadding=function(){},r.prototype.getAuthTag=function(){throw new Error("trying to get auth tag in unsupported state")},r.prototype.setAuthTag=function(){throw new Error("trying to set auth tag in unsupported state")},r.prototype.setAAD=function(){throw new Error("trying to set aad in unsupported state")},r.prototype._transform=function(t,e,n){var r;try{this.hashMode?this._update(t):this.push(this._update(t))}catch(t){r=t}finally{n(r)}},r.prototype._flush=function(t){var e;try{this.push(this.__final())}catch(t){e=t}t(e)},r.prototype._finalOrDigest=function(t){var e=this.__final()||i.alloc(0);return t&&(e=this._toString(e,t,!0)),e},r.prototype._toString=function(t,e,n){if(this._decoder||(this._decoder=new a(e),this._encoding=e),this._encoding!==e)throw new Error("can't switch encodings");var r=this._decoder.write(t);return n&&(r+=this._decoder.end()),r},t.exports=r},function(t,e,n){"use strict";function r(t){if("object"!==typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}function i(t,e,n){function o(){v===y&&(v=y.slice())}function a(){if(g)throw new Error("You may not call store.getState() while the reducer is executing. The reducer has already received the state as an argument. Pass it down from the top reducer instead of reading it from the store.");return d}function s(t){if("function"!==typeof t)throw new Error("Expected the listener to be a function.");if(g)throw new Error("You may not call store.subscribe() while the reducer is executing. If you would like to be notified after the store has been updated, subscribe from a component and invoke store.getState() in the callback to access the latest state. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");var e=!0;return o(),v.push(t),function(){if(e){if(g)throw new Error("You may not unsubscribe from a store listener while the reducer is executing. See https://redux.js.org/api-reference/store#subscribe(listener) for more details.");e=!1,o();var n=v.indexOf(t);v.splice(n,1)}}}function u(t){if(!r(t))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if("undefined"===typeof t.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(g)throw new Error("Reducers may not dispatch actions.");try{g=!0,d=h(d,t)}finally{g=!1}for(var e=y=v,n=0;n<e.length;n++){(0,e[n])()}return t}function c(t){if("function"!==typeof t)throw new Error("Expected the nextReducer to be a function.");h=t,u({type:m.REPLACE})}function f(){var t,e=s;return t={subscribe:function(t){function n(){t.next&&t.next(a())}if("object"!==typeof t||null===t)throw new TypeError("Expected the observer to be an object.");return n(),{unsubscribe:e(n)}}},t[p.a]=function(){return this},t}var l;if("function"===typeof e&&"function"===typeof n||"function"===typeof n&&"function"===typeof arguments[3])throw new Error("It looks like you are passing several store enhancers to createStore(). This is not supported. Instead, compose them together to a single function");if("function"===typeof e&&"undefined"===typeof n&&(n=e,e=void 0),"undefined"!==typeof n){if("function"!==typeof n)throw new Error("Expected the enhancer to be a function.");return n(i)(t,e)}if("function"!==typeof t)throw new Error("Expected the reducer to be a function.");var h=t,d=e,y=[],v=y,g=!1;return u({type:m.INIT}),l={dispatch:u,subscribe:s,getState:a,replaceReducer:c},l[p.a]=f,l}function o(t,e){var n=e&&e.type;return"Given "+(n&&'action "'+String(n)+'"'||"an action")+', reducer "'+t+'" returned undefined. To ignore an action, you must explicitly return the previous state. If you want this reducer to hold no value, you can return null instead of undefined.'}function a(t){Object.keys(t).forEach(function(e){var n=t[e];if("undefined"===typeof n(void 0,{type:m.INIT}))throw new Error('Reducer "'+e+"\" returned undefined during initialization. If the state passed to the reducer is undefined, you must explicitly return the initial state. The initial state may not be undefined. If you don't want to set a value for this reducer, you can use null instead of undefined.");if("undefined"===typeof n(void 0,{type:m.PROBE_UNKNOWN_ACTION()}))throw new Error('Reducer "'+e+"\" returned undefined when probed with a random type. Don't try to handle "+m.INIT+' or other actions in "redux/*" namespace. They are considered private. Instead, you must return the current state for any unknown actions, unless it is undefined, in which case you must return the initial state, regardless of the action type. The initial state may not be undefined, but can be null.')})}function s(t){for(var e=Object.keys(t),n={},r=0;r<e.length;r++){var i=e[r];"function"===typeof t[i]&&(n[i]=t[i])}var s,u=Object.keys(n);try{a(n)}catch(t){s=t}return function(t,e){if(void 0===t&&(t={}),s)throw s;for(var r=!1,i={},a=0;a<u.length;a++){var c=u[a],f=n[c],l=t[c],h=f(l,e);if("undefined"===typeof h){var d=o(c,e);throw new Error(d)}i[c]=h,r=r||h!==l}return r?i:t}}function u(t,e){return function(){return e(t.apply(this,arguments))}}function c(t,e){if("function"===typeof t)return u(t,e);if("object"!==typeof t||null===t)throw new Error("bindActionCreators expected an object or a function, instead received "+(null===t?"null":typeof t)+'. Did you write "import ActionCreators from" instead of "import * as ActionCreators from"?');for(var n=Object.keys(t),r={},i=0;i<n.length;i++){var o=n[i],a=t[o];"function"===typeof a&&(r[o]=u(a,e))}return r}function f(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function l(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},r=Object.keys(n);"function"===typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter(function(t){return Object.getOwnPropertyDescriptor(n,t).enumerable}))),r.forEach(function(e){f(t,e,n[e])})}return t}function h(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return 0===e.length?function(t){return t}:1===e.length?e[0]:e.reduce(function(t,e){return function(){return t(e.apply(void 0,arguments))}})}function d(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];return function(t){return function(){var n=t.apply(void 0,arguments),r=function(){throw new Error("Dispatching while constructing your middleware is not allowed. Other middleware would not be applied to this dispatch.")},i={getState:n.getState,dispatch:function(){return r.apply(void 0,arguments)}},o=e.map(function(t){return t(i)});return r=h.apply(void 0,o)(n.dispatch),l({},n,{dispatch:r})}}}n.d(e,"e",function(){return i}),n.d(e,"c",function(){return s}),n.d(e,"b",function(){return c}),n.d(e,"a",function(){return d}),n.d(e,"d",function(){return h});var p=n(337),y=function(){return Math.random().toString(36).substring(7).split("").join(".")},m={INIT:"@@redux/INIT"+y(),REPLACE:"@@redux/REPLACE"+y(),PROBE_UNKNOWN_ACTION:function(){return"@@redux/PROBE_UNKNOWN_ACTION"+y()}}},function(t,e,n){function r(t,e){var n=o(t,e);return i(n)?n:void 0}var i=n(378),o=n(381);t.exports=r},function(t,e,n){function r(t,e,n){var r=null==t?void 0:i(t,e);return void 0===r?n:r}var i=n(80);t.exports=r},function(t,e,n){function r(t,e){return i(t)?t:o(t,e)?[t]:a(s(t))}var i=n(2),o=n(121),a=n(198),s=n(33);t.exports=r},function(t,e,n){function r(t){return null==t?"":i(t)}var i=n(122);t.exports=r},function(t,e,n){var r=n(204),i=n(419),o=i(r);t.exports=o},function(t,e,n){function r(t,e,n,r){var a=!n;n||(n={});for(var s=-1,u=e.length;++s<u;){var c=e[s],f=r?r(n[c],t[c],c,n,t):void 0;void 0===f&&(f=t[c]),a?o(n,c,f):i(n,c,f)}return n}var i=n(83),o=n(56);t.exports=r},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);c.call(this,t),f.call(this,t),t&&!1===t.readable&&(this.readable=!1),t&&!1===t.writable&&(this.writable=!1),this.allowHalfOpen=!0,t&&!1===t.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",i)}function i(){this.allowHalfOpen||this._writableState.ended||a.nextTick(o,this)}function o(t){t.end()}var a=n(92),s=Object.keys||function(t){var e=[];for(var n in t)e.push(n);return e};t.exports=r;var u=n(64);u.inherits=n(0);var c=n(249),f=n(153);u.inherits(r,c);for(var l=s(f.prototype),h=0;h<l.length;h++){var d=l[h];r.prototype[d]||(r.prototype[d]=f.prototype[d])}Object.defineProperty(r.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(r.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(t){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=t,this._writableState.destroyed=t)}}),r.prototype._destroy=function(t,e){this.push(null),this.end(),a.nextTick(e,t)}},function(t,e,n){"use strict";var r=n(306);n.d(e,"a",function(){return r.a});var i=n(309);n.d(e,"b",function(){return i.a});var o=n(310);n.d(e,"d",function(){return o.a});var a=n(70);n.d(e,"c",function(){return a.a}),n.d(e,"f",function(){return a.b});var s=n(47);n.d(e,"e",function(){return s.b})},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},o=n(183),a=n(499),s=r(a),u=n(502),c=r(u),f=n(503),l=r(f),h=n(504),d=r(h),p=n(505),y=r(p),m=n(506),v=r(m),g=n(19),b=r(g),_=n(145),w=n(221),E=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(w);e.default=i({firebase:s.default,createFirebaseInstance:o.createFirebaseInstance,firebaseConnect:s.default,createFirebaseConnect:a.createFirebaseConnect,firestoreConnect:c.default,createFirestoreConnect:u.createFirestoreConnect,withFirebase:l.default,createWithFirebase:f.createWithFirebase,withFirestore:d.default,createWithFirestore:h.createWithFirestore,reducer:v.default,firebaseReducer:v.default,firebaseStateReducer:v.default,reduxReactFirebase:y.default,reactReduxFirebase:y.default,reduxFirebase:y.default,constants:b.default,actionTypes:g.actionTypes,getFirebase:p.getFirebase,authIsReady:_.authIsReady,helpers:E},E),t.exports=e.default},function(t,e,n){var r=n(11),i=r.Symbol;t.exports=i},function(t,e,n){function r(t){return a(t)?i(t):o(t)}var i=n(192),o=n(120),a=n(25);t.exports=r},function(t,e){t.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(t,e){function n(t,e){var n=typeof t;return!!(e=null==e?r:e)&&("number"==n||"symbol"!=n&&i.test(t))&&t>-1&&t%1==0&&t<e}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;t.exports=n},function(t,e,n){var r=n(405),i=n(108),o=n(406),a=n(194),s=n(195),u=n(18),c=n(185),f=c(r),l=c(i),h=c(o),d=c(a),p=c(s),y=u;(r&&"[object DataView]"!=y(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=y(new i)||o&&"[object Promise]"!=y(o.resolve())||a&&"[object Set]"!=y(new a)||s&&"[object WeakMap]"!=y(new s))&&(y=function(t){var e=u(t),n="[object Object]"==e?t.constructor:void 0,r=n?c(n):"";if(r)switch(r){case f:return"[object DataView]";case l:return"[object Map]";case h:return"[object Promise]";case d:return"[object Set]";case p:return"[object WeakMap]"}return e}),t.exports=y},function(t,e,n){"use strict";(function(e,r){function i(){throw new Error("Secure random number generation is not supported by this browser.\nUse Chrome, Firefox or Internet Explorer 11")}function o(t,n){if(t>65536)throw new Error("requested too many random bytes");var i=new e.Uint8Array(t);t>0&&s.getRandomValues(i);var o=a.from(i.buffer);return"function"===typeof n?r.nextTick(function(){n(null,o)}):o}var a=n(1).Buffer,s=e.crypto||e.msCrypto;s&&s.getRandomValues?t.exports=o:t.exports=i}).call(e,n(8),n(22))},function(t,e,n){function r(t,e){this._block=i.alloc(t),this._finalSize=e,this._blockSize=t,this._len=0}var i=n(1).Buffer;r.prototype.update=function(t,e){"string"===typeof t&&(e=e||"utf8",t=i.from(t,e));for(var n=this._block,r=this._blockSize,o=t.length,a=this._len,s=0;s<o;){for(var u=a%r,c=Math.min(o-s,r-u),f=0;f<c;f++)n[u+f]=t[s+f];a+=c,s+=c,a%r===0&&this._update(n)}return this._len+=o,this},r.prototype.digest=function(t){var e=this._len%this._blockSize;this._block[e]=128,this._block.fill(0,e+1),e>=this._finalSize&&(this._update(this._block),this._block.fill(0));var n=8*this._len;if(n<=4294967295)this._block.writeUInt32BE(n,this._blockSize-4);else{var r=(4294967295&n)>>>0,i=(n-r)/4294967296;this._block.writeUInt32BE(i,this._blockSize-8),this._block.writeUInt32BE(r,this._blockSize-4)}this._update(this._block);var o=this._hash();return t?o.toString(t):o},r.prototype._update=function(){throw new Error("_update must be implemented by subclass")},t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return t?t.split(/\//).filter(function(t){return!!t}):[]}function o(t){return(0,d.default)((0,y.default)(t,/[.]/g,"/"),"/")}function a(t){return i(t).join(".")}function s(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];return Object.keys(t).reduce(function(r,i){return r[i]=t[i](e[i],n),r},{})}}function u(t){if(!t)throw new Error("Action meta is required to build path for reducers.");var e=t.collection,n=t.doc,r=t.subcollections,i=t.storeAs;if(i)return n?i+"."+n:i;if(t.path)return t.path.split("/");if(!e)throw new Error("Collection is required to construct reducer path.");var o=e;if(n&&(o+="."+n),!r)return o;var a=r.map(u);return o.concat("."+a.join("."))}function c(t,e,n){var r=!1,i=t.map(function(t){return t&&t.id===e?(r=!0,n(t)):t});return r||i.push(n({id:e})),i}function f(t,e){return function(){var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:t,r=arguments[1];return e.hasOwnProperty(r.type)?e[r.type](n,r):n}}function l(t,e,n){if((0,w.default)(e))return n?T({},t,n):t;if((0,S.default)(e))return e(t,n);if((0,b.default)(e))return(0,v.default)(t,e);throw new Error("Invalid preserve parameter. It must be an Object or an Array.")}Object.defineProperty(e,"__esModule",{value:!0});var h=n(621),d=r(h),p=n(240),y=r(p),m=n(86),v=r(m),g=n(2),b=r(g),_=n(239),w=r(_),E=n(9),S=r(E),T=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.pathToArr=i,e.getSlashStrPath=o,e.getDotStrPath=a,e.combineReducers=s,e.pathFromMeta=u,e.updateItemInArray=c,e.createReducer=f,e.preserveValuesFromState=l},function(t,e,n){"use strict";n.d(e,"a",function(){return r}),n.d(e,"f",function(){return i}),n.d(e,"c",function(){return o}),n.d(e,"e",function(){return a}),n.d(e,"g",function(){return s}),n.d(e,"d",function(){return u}),n.d(e,"b",function(){return c});var r=function(t){return"/"===t.charAt(0)?t:"/"+t},i=function(t){return"/"===t.charAt(0)?t.substr(1):t},o=function(t,e){return new RegExp("^"+e+"(\\/|\\?|#|$)","i").test(t)},a=function(t,e){return o(t,e)?t.substr(e.length):t},s=function(t){return"/"===t.charAt(t.length-1)?t.slice(0,-1):t},u=function(t){var e=t||"/",n="",r="",i=e.indexOf("#");-1!==i&&(r=e.substr(i),e=e.substr(0,i));var o=e.indexOf("?");return-1!==o&&(n=e.substr(o),e=e.substr(0,o)),{pathname:e,search:"?"===n?"":n,hash:"#"===r?"":r}},c=function(t){var e=t.pathname,n=t.search,r=t.hash,i=e||"/";return n&&"?"!==n&&(i+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(i+="#"===r.charAt(0)?r:"#"+r),i}},function(t,e,n){"use strict";function r(t,e,n){if("string"!==typeof e){if(l){var h=f(e);h&&h!==l&&r(t,h,n)}var d=s(e);u&&(d=d.concat(u(e)));for(var p=0;p<d.length;++p){var y=d[p];if(!i[y]&&!o[y]&&(!n||!n[y])){var m=c(e,y);try{a(t,y,m)}catch(t){}}}return t}return t}var i={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},o={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a=Object.defineProperty,s=Object.getOwnPropertyNames,u=Object.getOwnPropertySymbols,c=Object.getOwnPropertyDescriptor,f=Object.getPrototypeOf,l=f&&f(Object);t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.stringToDate=e.wrapDisplayName=e.getDisplayName=e.createCallable=e.getEventsFromInput=void 0;var r=n(9),i=function(t){return t&&t.__esModule?t:{default:t}}(r),o=n(364);Object.defineProperty(e,"getEventsFromInput",{enumerable:!0,get:function(){return o.getEventsFromInput}});var a=(e.createCallable=function(t){return(0,i.default)(t)?t:function(){return t}},e.getDisplayName=function(t){if("string"===typeof t)return t;if(t)return t.displayName||t.name||"Component"});e.wrapDisplayName=function(t,e){return e+"("+a(t)+")"},e.stringToDate=function(t){try{return new Date(JSON.parse(t))}catch(e){return console.error("Error parsing string to date:",e.message||e),t}}},function(t,e){function n(t,e){return t===e||t!==t&&e!==e}t.exports=n},function(t,e,n){function r(t){return"symbol"==typeof t||o(t)&&i(t)==a}var i=n(18),o=n(10),a="[object Symbol]";t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}t.exports=n},function(t,e){function n(t){return t}t.exports=n},function(t,e){function n(t){var e=null==t?0:t.length;return e?t[e-1]:void 0}t.exports=n},function(t,e,n){function r(t,e){return(s(t)?i:a)(t,o(e,3))}var i=n(52),o=n(14),a=n(417),s=n(2);t.exports=r},function(t,e,n){function r(t,e,n){"__proto__"==e&&i?i(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var i=n(208);t.exports=r},function(t,e,n){function r(t){if(null==t)return 0;if(a(t))return s(t)?u(t):t.length;var e=o(t);return e==c||e==f?t.size:i(t).length}var i=n(120),o=n(43),a=n(25),s=n(27),u=n(424),c="[object Map]",f="[object Set]";t.exports=r},function(t,e){function n(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}t.exports=n},function(t,e){function n(t,e){var n=-1,r=t.length;for(e||(e=Array(r));++n<r;)e[n]=t[n];return e}t.exports=n},function(t,e,n){function r(t,e){return a(o(t,e,i),t+"")}var i=n(53),o=n(213),a=n(130);t.exports=r},function(t,e){t.exports={}},function(t,e,n){(function(t,r){var i;(function(){function o(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}function a(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}function s(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}function u(t,e){for(var n=null==t?0:t.length;n--&&!1!==e(t[n],n,t););return t}function c(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}function f(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}function l(t,e){return!!(null==t?0:t.length)&&E(t,e,0)>-1}function h(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}function d(t,e){for(var n=-1,r=null==t?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}function p(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}function y(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}function m(t,e,n,r){var i=null==t?0:t.length;for(r&&i&&(n=t[--i]);i--;)n=e(n,t[i],i,t);return n}function v(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}function g(t){return t.split("")}function b(t){return t.match(je)||[]}function _(t,e,n){var r;return n(t,function(t,n,i){if(e(t,n,i))return r=n,!1}),r}function w(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}function E(t,e,n){return e===e?Y(t,e,n):w(t,T,n)}function S(t,e,n,r){for(var i=n-1,o=t.length;++i<o;)if(r(t[i],e))return i;return-1}function T(t){return t!==t}function C(t,e){var n=null==t?0:t.length;return n?R(t,e)/n:Dt}function I(t){return function(e){return null==e?nt:e[t]}}function A(t){return function(e){return null==t?nt:t[e]}}function O(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}function k(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}function R(t,e){for(var n,r=-1,i=t.length;++r<i;){var o=e(t[r]);o!==nt&&(n=n===nt?o:n+o)}return n}function P(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}function x(t,e){return d(e,function(e){return[e,t[e]]})}function D(t){return function(e){return t(e)}}function N(t,e){return d(e,function(e){return t[e]})}function M(t,e){return t.has(e)}function L(t,e){for(var n=-1,r=t.length;++n<r&&E(e,t[n],0)>-1;);return n}function j(t,e){for(var n=t.length;n--&&E(e,t[n],0)>-1;);return n}function U(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}function F(t){return"\\"+Cn[t]}function B(t,e){return null==t?nt:t[e]}function q(t){return mn.test(t)}function W(t){return vn.test(t)}function V(t){for(var e,n=[];!(e=t.next()).done;)n.push(e.value);return n}function H(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}function z(t,e){return function(n){return t(e(n))}}function K(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n];a!==e&&a!==ut||(t[n]=ut,o[i++]=n)}return o}function G(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}function Q(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=[t,t]}),n}function Y(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}function X(t,e,n){for(var r=n+1;r--;)if(t[r]===e)return r;return r}function $(t){return q(t)?Z(t):Wn(t)}function J(t){return q(t)?tt(t):g(t)}function Z(t){for(var e=pn.lastIndex=0;pn.test(t);)++e;return e}function tt(t){return t.match(pn)||[]}function et(t){return t.match(yn)||[]}var nt,rt=200,it="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",ot="Expected a function",at="__lodash_hash_undefined__",st=500,ut="__lodash_placeholder__",ct=1,ft=2,lt=4,ht=1,dt=2,pt=1,yt=2,mt=4,vt=8,gt=16,bt=32,_t=64,wt=128,Et=256,St=512,Tt=30,Ct="...",It=800,At=16,Ot=1,kt=2,Rt=1/0,Pt=9007199254740991,xt=1.7976931348623157e308,Dt=NaN,Nt=4294967295,Mt=Nt-1,Lt=Nt>>>1,jt=[["ary",wt],["bind",pt],["bindKey",yt],["curry",vt],["curryRight",gt],["flip",St],["partial",bt],["partialRight",_t],["rearg",Et]],Ut="[object Arguments]",Ft="[object Array]",Bt="[object AsyncFunction]",qt="[object Boolean]",Wt="[object Date]",Vt="[object DOMException]",Ht="[object Error]",zt="[object Function]",Kt="[object GeneratorFunction]",Gt="[object Map]",Qt="[object Number]",Yt="[object Null]",Xt="[object Object]",$t="[object Proxy]",Jt="[object RegExp]",Zt="[object Set]",te="[object String]",ee="[object Symbol]",ne="[object Undefined]",re="[object WeakMap]",ie="[object WeakSet]",oe="[object ArrayBuffer]",ae="[object DataView]",se="[object Float32Array]",ue="[object Float64Array]",ce="[object Int8Array]",fe="[object Int16Array]",le="[object Int32Array]",he="[object Uint8Array]",de="[object Uint8ClampedArray]",pe="[object Uint16Array]",ye="[object Uint32Array]",me=/\b__p \+= '';/g,ve=/\b(__p \+=) '' \+/g,ge=/(__e\(.*?\)|\b__t\)) \+\n'';/g,be=/&(?:amp|lt|gt|quot|#39);/g,_e=/[&<>"']/g,we=RegExp(be.source),Ee=RegExp(_e.source),Se=/<%-([\s\S]+?)%>/g,Te=/<%([\s\S]+?)%>/g,Ce=/<%=([\s\S]+?)%>/g,Ie=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ae=/^\w*$/,Oe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,ke=/[\\^$.*+?()[\]{}|]/g,Re=RegExp(ke.source),Pe=/^\s+|\s+$/g,xe=/^\s+/,De=/\s+$/,Ne=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Me=/\{\n\/\* \[wrapped with (.+)\] \*/,Le=/,? & /,je=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Ue=/\\(\\)?/g,Fe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,Be=/\w*$/,qe=/^[-+]0x[0-9a-f]+$/i,We=/^0b[01]+$/i,Ve=/^\[object .+?Constructor\]$/,He=/^0o[0-7]+$/i,ze=/^(?:0|[1-9]\d*)$/,Ke=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ge=/($^)/,Qe=/['\n\r\u2028\u2029\\]/g,Ye="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",Xe="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",$e="["+Xe+"]",Je="["+Ye+"]",Ze="[a-z\\xdf-\\xf6\\xf8-\\xff]",tn="[^\\ud800-\\udfff"+Xe+"\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde]",en="\\ud83c[\\udffb-\\udfff]",nn="(?:\\ud83c[\\udde6-\\uddff]){2}",rn="[\\ud800-\\udbff][\\udc00-\\udfff]",on="[A-Z\\xc0-\\xd6\\xd8-\\xde]",an="(?:"+Ze+"|"+tn+")",sn="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",un="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",nn,rn].join("|")+")[\\ufe0e\\ufe0f]?"+sn+")*",cn="[\\ufe0e\\ufe0f]?"+sn+un,fn="(?:"+["[\\u2700-\\u27bf]",nn,rn].join("|")+")"+cn,ln="(?:"+["[^\\ud800-\\udfff]"+Je+"?",Je,nn,rn,"[\\ud800-\\udfff]"].join("|")+")",hn=RegExp("['\u2019]","g"),dn=RegExp(Je,"g"),pn=RegExp(en+"(?="+en+")|"+ln+cn,"g"),yn=RegExp([on+"?"+Ze+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?(?="+[$e,on,"$"].join("|")+")","(?:[A-Z\\xc0-\\xd6\\xd8-\\xde]|[^\\ud800-\\udfff\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000\\d+\\u2700-\\u27bfa-z\\xdf-\\xf6\\xf8-\\xffA-Z\\xc0-\\xd6\\xd8-\\xde])+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?(?="+[$e,on+an,"$"].join("|")+")",on+"?"+an+"+(?:['\u2019](?:d|ll|m|re|s|t|ve))?",on+"+(?:['\u2019](?:D|LL|M|RE|S|T|VE))?","\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])","\\d+",fn].join("|"),"g"),mn=RegExp("[\\u200d\\ud800-\\udfff"+Ye+"\\ufe0e\\ufe0f]"),vn=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,gn=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],bn=-1,_n={};_n[se]=_n[ue]=_n[ce]=_n[fe]=_n[le]=_n[he]=_n[de]=_n[pe]=_n[ye]=!0,_n[Ut]=_n[Ft]=_n[oe]=_n[qt]=_n[ae]=_n[Wt]=_n[Ht]=_n[zt]=_n[Gt]=_n[Qt]=_n[Xt]=_n[Jt]=_n[Zt]=_n[te]=_n[re]=!1;var wn={};wn[Ut]=wn[Ft]=wn[oe]=wn[ae]=wn[qt]=wn[Wt]=wn[se]=wn[ue]=wn[ce]=wn[fe]=wn[le]=wn[Gt]=wn[Qt]=wn[Xt]=wn[Jt]=wn[Zt]=wn[te]=wn[ee]=wn[he]=wn[de]=wn[pe]=wn[ye]=!0,wn[Ht]=wn[zt]=wn[re]=!1;var En={"\xc0":"A","\xc1":"A","\xc2":"A","\xc3":"A","\xc4":"A","\xc5":"A","\xe0":"a","\xe1":"a","\xe2":"a","\xe3":"a","\xe4":"a","\xe5":"a","\xc7":"C","\xe7":"c","\xd0":"D","\xf0":"d","\xc8":"E","\xc9":"E","\xca":"E","\xcb":"E","\xe8":"e","\xe9":"e","\xea":"e","\xeb":"e","\xcc":"I","\xcd":"I","\xce":"I","\xcf":"I","\xec":"i","\xed":"i","\xee":"i","\xef":"i","\xd1":"N","\xf1":"n","\xd2":"O","\xd3":"O","\xd4":"O","\xd5":"O","\xd6":"O","\xd8":"O","\xf2":"o","\xf3":"o","\xf4":"o","\xf5":"o","\xf6":"o","\xf8":"o","\xd9":"U","\xda":"U","\xdb":"U","\xdc":"U","\xf9":"u","\xfa":"u","\xfb":"u","\xfc":"u","\xdd":"Y","\xfd":"y","\xff":"y","\xc6":"Ae","\xe6":"ae","\xde":"Th","\xfe":"th","\xdf":"ss","\u0100":"A","\u0102":"A","\u0104":"A","\u0101":"a","\u0103":"a","\u0105":"a","\u0106":"C","\u0108":"C","\u010a":"C","\u010c":"C","\u0107":"c","\u0109":"c","\u010b":"c","\u010d":"c","\u010e":"D","\u0110":"D","\u010f":"d","\u0111":"d","\u0112":"E","\u0114":"E","\u0116":"E","\u0118":"E","\u011a":"E","\u0113":"e","\u0115":"e","\u0117":"e","\u0119":"e","\u011b":"e","\u011c":"G","\u011e":"G","\u0120":"G","\u0122":"G","\u011d":"g","\u011f":"g","\u0121":"g","\u0123":"g","\u0124":"H","\u0126":"H","\u0125":"h","\u0127":"h","\u0128":"I","\u012a":"I","\u012c":"I","\u012e":"I","\u0130":"I","\u0129":"i","\u012b":"i","\u012d":"i","\u012f":"i","\u0131":"i","\u0134":"J","\u0135":"j","\u0136":"K","\u0137":"k","\u0138":"k","\u0139":"L","\u013b":"L","\u013d":"L","\u013f":"L","\u0141":"L","\u013a":"l","\u013c":"l","\u013e":"l","\u0140":"l","\u0142":"l","\u0143":"N","\u0145":"N","\u0147":"N","\u014a":"N","\u0144":"n","\u0146":"n","\u0148":"n","\u014b":"n","\u014c":"O","\u014e":"O","\u0150":"O","\u014d":"o","\u014f":"o","\u0151":"o","\u0154":"R","\u0156":"R","\u0158":"R","\u0155":"r","\u0157":"r","\u0159":"r","\u015a":"S","\u015c":"S","\u015e":"S","\u0160":"S","\u015b":"s","\u015d":"s","\u015f":"s","\u0161":"s","\u0162":"T","\u0164":"T","\u0166":"T","\u0163":"t","\u0165":"t","\u0167":"t","\u0168":"U","\u016a":"U","\u016c":"U","\u016e":"U","\u0170":"U","\u0172":"U","\u0169":"u","\u016b":"u","\u016d":"u","\u016f":"u","\u0171":"u","\u0173":"u","\u0174":"W","\u0175":"w","\u0176":"Y","\u0177":"y","\u0178":"Y","\u0179":"Z","\u017b":"Z","\u017d":"Z","\u017a":"z","\u017c":"z","\u017e":"z","\u0132":"IJ","\u0133":"ij","\u0152":"Oe","\u0153":"oe","\u0149":"'n","\u017f":"s"},Sn={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Tn={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Cn={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},In=parseFloat,An=parseInt,On="object"==typeof t&&t&&t.Object===Object&&t,kn="object"==typeof self&&self&&self.Object===Object&&self,Rn=On||kn||Function("return this")(),Pn="object"==typeof e&&e&&!e.nodeType&&e,xn=Pn&&"object"==typeof r&&r&&!r.nodeType&&r,Dn=xn&&xn.exports===Pn,Nn=Dn&&On.process,Mn=function(){try{var t=xn&&xn.require&&xn.require("util").types;return t||Nn&&Nn.binding&&Nn.binding("util")}catch(t){}}(),Ln=Mn&&Mn.isArrayBuffer,jn=Mn&&Mn.isDate,Un=Mn&&Mn.isMap,Fn=Mn&&Mn.isRegExp,Bn=Mn&&Mn.isSet,qn=Mn&&Mn.isTypedArray,Wn=I("length"),Vn=A(En),Hn=A(Sn),zn=A(Tn),Kn=function t(e){function n(t){if(eu(t)&&!dh(t)&&!(t instanceof g)){if(t instanceof i)return t;if(df.call(t,"__wrapped__"))return Jo(t)}return new i(t)}function r(){}function i(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=nt}function g(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Nt,this.__views__=[]}function A(){var t=new g(this.__wrapped__);return t.__actions__=xi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=xi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=xi(this.__views__),t}function Y(){if(this.__filtered__){var t=new g(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Z(){var t=this.__wrapped__.value(),e=this.__dir__,n=dh(t),r=e<0,i=n?t.length:0,o=Eo(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,f=this.__iteratees__,l=f.length,h=0,d=Vf(u,this.__takeCount__);if(!n||!r&&i==u&&d==u)return yi(t,this.__actions__);var p=[];t:for(;u--&&h<d;){c+=e;for(var y=-1,m=t[c];++y<l;){var v=f[y],g=v.iteratee,b=v.type,_=g(m);if(b==kt)m=_;else if(!_){if(b==Ot)continue t;break t}}p[h++]=m}return p}function tt(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function je(){this.__data__=Zf?Zf(null):{},this.size=0}function Ye(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}function Xe(t){var e=this.__data__;if(Zf){var n=e[t];return n===at?nt:n}return df.call(e,t)?e[t]:nt}function $e(t){var e=this.__data__;return Zf?e[t]!==nt:df.call(e,t)}function Je(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=Zf&&e===nt?at:e,this}function Ze(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function tn(){this.__data__=[],this.size=0}function en(t){var e=this.__data__,n=Gn(e,t);return!(n<0)&&(n==e.length-1?e.pop():Af.call(e,n,1),--this.size,!0)}function nn(t){var e=this.__data__,n=Gn(e,t);return n<0?nt:e[n][1]}function rn(t){return Gn(this.__data__,t)>-1}function on(t,e){var n=this.__data__,r=Gn(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}function an(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}function sn(){this.size=0,this.__data__={hash:new tt,map:new(Yf||Ze),string:new tt}}function un(t){var e=go(this,t).delete(t);return this.size-=e?1:0,e}function cn(t){return go(this,t).get(t)}function fn(t){return go(this,t).has(t)}function ln(t,e){var n=go(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}function pn(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new an;++e<n;)this.add(t[e])}function yn(t){return this.__data__.set(t,at),this}function mn(t){return this.__data__.has(t)}function vn(t){var e=this.__data__=new Ze(t);this.size=e.size}function En(){this.__data__=new Ze,this.size=0}function Sn(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}function Tn(t){return this.__data__.get(t)}function Cn(t){return this.__data__.has(t)}function On(t,e){var n=this.__data__;if(n instanceof Ze){var r=n.__data__;if(!Yf||r.length<rt-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new an(r)}return n.set(t,e),this.size=n.size,this}function kn(t,e){var n=dh(t),r=!n&&hh(t),i=!n&&!r&&yh(t),o=!n&&!r&&!i&&_h(t),a=n||r||i||o,s=a?P(t.length,af):[],u=s.length;for(var c in t)!e&&!df.call(t,c)||a&&("length"==c||i&&("offset"==c||"parent"==c)||o&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||Ro(c,u))||s.push(c);return s}function Pn(t){var e=t.length;return e?t[Xr(0,e-1)]:nt}function xn(t,e){return Qo(xi(t),Zn(e,0,t.length))}function Nn(t){return Qo(xi(t))}function Mn(t,e,n){(n===nt||qs(t[e],n))&&(n!==nt||e in t)||$n(t,e,n)}function Wn(t,e,n){var r=t[e];df.call(t,e)&&qs(r,n)&&(n!==nt||e in t)||$n(t,e,n)}function Gn(t,e){for(var n=t.length;n--;)if(qs(t[n][0],e))return n;return-1}function Qn(t,e,n,r){return ll(t,function(t,i,o){e(r,t,n(t),o)}),r}function Yn(t,e){return t&&Di(e,Lu(e),t)}function Xn(t,e){return t&&Di(e,ju(e),t)}function $n(t,e,n){"__proto__"==e&&Pf?Pf(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}function Jn(t,e){for(var n=-1,r=e.length,i=Jc(r),o=null==t;++n<r;)i[n]=o?nt:Du(t,e[n]);return i}function Zn(t,e,n){return t===t&&(n!==nt&&(t=t<=n?t:n),e!==nt&&(t=t>=e?t:e)),t}function tr(t,e,n,r,i,o){var a,u=e&ct,c=e&ft,f=e&lt;if(n&&(a=i?n(t,r,i,o):n(t)),a!==nt)return a;if(!tu(t))return t;var l=dh(t);if(l){if(a=Co(t),!u)return xi(t,a)}else{var h=Sl(t),d=h==zt||h==Kt;if(yh(t))return Ei(t,u);if(h==Xt||h==Ut||d&&!i){if(a=c||d?{}:Io(t),!u)return c?Mi(t,Xn(a,t)):Ni(t,Yn(a,t))}else{if(!wn[h])return i?t:{};a=Ao(t,h,u)}}o||(o=new vn);var p=o.get(t);if(p)return p;if(o.set(t,a),bh(t))return t.forEach(function(r){a.add(tr(r,e,n,r,t,o))}),a;if(vh(t))return t.forEach(function(r,i){a.set(i,tr(r,e,n,i,t,o))}),a;var y=f?c?po:ho:c?ju:Lu,m=l?nt:y(t);return s(m||t,function(r,i){m&&(i=r,r=t[i]),Wn(a,i,tr(r,e,n,i,t,o))}),a}function er(t){var e=Lu(t);return function(n){return nr(n,t,e)}}function nr(t,e,n){var r=n.length;if(null==t)return!r;for(t=rf(t);r--;){var i=n[r],o=e[i],a=t[i];if(a===nt&&!(i in t)||!o(a))return!1}return!0}function rr(t,e,n){if("function"!=typeof t)throw new sf(ot);return Il(function(){t.apply(nt,n)},e)}function ir(t,e,n,r){var i=-1,o=l,a=!0,s=t.length,u=[],c=e.length;if(!s)return u;n&&(e=d(e,D(n))),r?(o=h,a=!1):e.length>=rt&&(o=M,a=!1,e=new pn(e));t:for(;++i<s;){var f=t[i],p=null==n?f:n(f);if(f=r||0!==f?f:0,a&&p===p){for(var y=c;y--;)if(e[y]===p)continue t;u.push(f)}else o(e,p,r)||u.push(f)}return u}function or(t,e){var n=!0;return ll(t,function(t,r,i){return n=!!e(t,r,i)}),n}function ar(t,e,n){for(var r=-1,i=t.length;++r<i;){var o=t[r],a=e(o);if(null!=a&&(s===nt?a===a&&!hu(a):n(a,s)))var s=a,u=o}return u}function sr(t,e,n,r){var i=t.length;for(n=gu(n),n<0&&(n=-n>i?0:i+n),r=r===nt||r>i?i:gu(r),r<0&&(r+=i),r=n>r?0:bu(r);n<r;)t[n++]=e;return t}function ur(t,e){var n=[];return ll(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}function cr(t,e,n,r,i){var o=-1,a=t.length;for(n||(n=ko),i||(i=[]);++o<a;){var s=t[o];e>0&&n(s)?e>1?cr(s,e-1,n,r,i):p(i,s):r||(i[i.length]=s)}return i}function fr(t,e){return t&&dl(t,e,Lu)}function lr(t,e){return t&&pl(t,e,Lu)}function hr(t,e){return f(e,function(e){return $s(t[e])})}function dr(t,e){e=_i(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[Yo(e[n++])];return n&&n==r?t:nt}function pr(t,e,n){var r=e(t);return dh(t)?r:p(r,n(t))}function yr(t){return null==t?t===nt?ne:Yt:Rf&&Rf in rf(t)?wo(t):qo(t)}function mr(t,e){return t>e}function vr(t,e){return null!=t&&df.call(t,e)}function gr(t,e){return null!=t&&e in rf(t)}function br(t,e,n){return t>=Vf(e,n)&&t<Wf(e,n)}function _r(t,e,n){for(var r=n?h:l,i=t[0].length,o=t.length,a=o,s=Jc(o),u=1/0,c=[];a--;){var f=t[a];a&&e&&(f=d(f,D(e))),u=Vf(f.length,u),s[a]=!n&&(e||i>=120&&f.length>=120)?new pn(a&&f):nt}f=t[0];var p=-1,y=s[0];t:for(;++p<i&&c.length<u;){var m=f[p],v=e?e(m):m;if(m=n||0!==m?m:0,!(y?M(y,v):r(c,v,n))){for(a=o;--a;){var g=s[a];if(!(g?M(g,v):r(t[a],v,n)))continue t}y&&y.push(v),c.push(m)}}return c}function wr(t,e,n,r){return fr(t,function(t,i,o){e(r,n(t),i,o)}),r}function Er(t,e,n){e=_i(e,t),t=Vo(t,e);var r=null==t?t:t[Yo(va(e))];return null==r?nt:o(r,t,n)}function Sr(t){return eu(t)&&yr(t)==Ut}function Tr(t){return eu(t)&&yr(t)==oe}function Cr(t){return eu(t)&&yr(t)==Wt}function Ir(t,e,n,r,i){return t===e||(null==t||null==e||!eu(t)&&!eu(e)?t!==t&&e!==e:Ar(t,e,n,r,Ir,i))}function Ar(t,e,n,r,i,o){var a=dh(t),s=dh(e),u=a?Ft:Sl(t),c=s?Ft:Sl(e);u=u==Ut?Xt:u,c=c==Ut?Xt:c;var f=u==Xt,l=c==Xt,h=u==c;if(h&&yh(t)){if(!yh(e))return!1;a=!0,f=!1}if(h&&!f)return o||(o=new vn),a||_h(t)?uo(t,e,n,r,i,o):co(t,e,u,n,r,i,o);if(!(n&ht)){var d=f&&df.call(t,"__wrapped__"),p=l&&df.call(e,"__wrapped__");if(d||p){var y=d?t.value():t,m=p?e.value():e;return o||(o=new vn),i(y,m,n,r,o)}}return!!h&&(o||(o=new vn),fo(t,e,n,r,i,o))}function Or(t){return eu(t)&&Sl(t)==Gt}function kr(t,e,n,r){var i=n.length,o=i,a=!r;if(null==t)return!o;for(t=rf(t);i--;){var s=n[i];if(a&&s[2]?s[1]!==t[s[0]]:!(s[0]in t))return!1}for(;++i<o;){s=n[i];var u=s[0],c=t[u],f=s[1];if(a&&s[2]){if(c===nt&&!(u in t))return!1}else{var l=new vn;if(r)var h=r(c,f,u,t,e,l);if(!(h===nt?Ir(f,c,ht|dt,r,l):h))return!1}}return!0}function Rr(t){return!(!tu(t)||Mo(t))&&($s(t)?bf:Ve).test(Xo(t))}function Pr(t){return eu(t)&&yr(t)==Jt}function xr(t){return eu(t)&&Sl(t)==Zt}function Dr(t){return eu(t)&&Zs(t.length)&&!!_n[yr(t)]}function Nr(t){return"function"==typeof t?t:null==t?Ic:"object"==typeof t?dh(t)?Br(t[0],t[1]):Fr(t):Nc(t)}function Mr(t){if(!Lo(t))return qf(t);var e=[];for(var n in rf(t))df.call(t,n)&&"constructor"!=n&&e.push(n);return e}function Lr(t){if(!tu(t))return Bo(t);var e=Lo(t),n=[];for(var r in t)("constructor"!=r||!e&&df.call(t,r))&&n.push(r);return n}function jr(t,e){return t<e}function Ur(t,e){var n=-1,r=Ws(t)?Jc(t.length):[];return ll(t,function(t,i,o){r[++n]=e(t,i,o)}),r}function Fr(t){var e=bo(t);return 1==e.length&&e[0][2]?Uo(e[0][0],e[0][1]):function(n){return n===t||kr(n,t,e)}}function Br(t,e){return xo(t)&&jo(e)?Uo(Yo(t),e):function(n){var r=Du(n,t);return r===nt&&r===e?Mu(n,t):Ir(e,r,ht|dt)}}function qr(t,e,n,r,i){t!==e&&dl(e,function(o,a){if(tu(o))i||(i=new vn),Wr(t,e,a,n,qr,r,i);else{var s=r?r(zo(t,a),o,a+"",t,e,i):nt;s===nt&&(s=o),Mn(t,a,s)}},ju)}function Wr(t,e,n,r,i,o,a){var s=zo(t,n),u=zo(e,n),c=a.get(u);if(c)return void Mn(t,n,c);var f=o?o(s,u,n+"",t,e,a):nt,l=f===nt;if(l){var h=dh(u),d=!h&&yh(u),p=!h&&!d&&_h(u);f=u,h||d||p?dh(s)?f=s:Vs(s)?f=xi(s):d?(l=!1,f=Ei(u,!0)):p?(l=!1,f=Ai(u,!0)):f=[]:cu(u)||hh(u)?(f=s,hh(s)?f=wu(s):tu(s)&&!$s(s)||(f=Io(u))):l=!1}l&&(a.set(u,f),i(f,u,r,o,a),a.delete(u)),Mn(t,n,f)}function Vr(t,e){var n=t.length;if(n)return e+=e<0?n:0,Ro(e,n)?t[e]:nt}function Hr(t,e,n){var r=-1;return e=d(e.length?e:[Ic],D(vo())),k(Ur(t,function(t,n,i){return{criteria:d(e,function(e){return e(t)}),index:++r,value:t}}),function(t,e){return ki(t,e,n)})}function zr(t,e){return Kr(t,e,function(e,n){return Mu(t,n)})}function Kr(t,e,n){for(var r=-1,i=e.length,o={};++r<i;){var a=e[r],s=dr(t,a);n(s,a)&&ni(o,_i(a,t),s)}return o}function Gr(t){return function(e){return dr(e,t)}}function Qr(t,e,n,r){var i=r?S:E,o=-1,a=e.length,s=t;for(t===e&&(e=xi(e)),n&&(s=d(t,D(n)));++o<a;)for(var u=0,c=e[o],f=n?n(c):c;(u=i(s,f,u,r))>-1;)s!==t&&Af.call(s,u,1),Af.call(t,u,1);return t}function Yr(t,e){for(var n=t?e.length:0,r=n-1;n--;){var i=e[n];if(n==r||i!==o){var o=i;Ro(i)?Af.call(t,i,1):hi(t,i)}}return t}function Xr(t,e){return t+Lf(Kf()*(e-t+1))}function $r(t,e,n,r){for(var i=-1,o=Wf(Mf((e-t)/(n||1)),0),a=Jc(o);o--;)a[r?o:++i]=t,t+=n;return a}function Jr(t,e){var n="";if(!t||e<1||e>Pt)return n;do{e%2&&(n+=t),(e=Lf(e/2))&&(t+=t)}while(e);return n}function Zr(t,e){return Al(Wo(t,e,Ic),t+"")}function ti(t){return Pn(Yu(t))}function ei(t,e){var n=Yu(t);return Qo(n,Zn(e,0,n.length))}function ni(t,e,n,r){if(!tu(t))return t;e=_i(e,t);for(var i=-1,o=e.length,a=o-1,s=t;null!=s&&++i<o;){var u=Yo(e[i]),c=n;if(i!=a){var f=s[u];c=r?r(f,u,s):nt,c===nt&&(c=tu(f)?f:Ro(e[i+1])?[]:{})}Wn(s,u,c),s=s[u]}return t}function ri(t){return Qo(Yu(t))}function ii(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Jc(i);++r<i;)o[r]=t[r+e];return o}function oi(t,e){var n;return ll(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}function ai(t,e,n){var r=0,i=null==t?r:t.length;if("number"==typeof e&&e===e&&i<=Lt){for(;r<i;){var o=r+i>>>1,a=t[o];null!==a&&!hu(a)&&(n?a<=e:a<e)?r=o+1:i=o}return i}return si(t,e,Ic,n)}function si(t,e,n,r){e=n(e);for(var i=0,o=null==t?0:t.length,a=e!==e,s=null===e,u=hu(e),c=e===nt;i<o;){var f=Lf((i+o)/2),l=n(t[f]),h=l!==nt,d=null===l,p=l===l,y=hu(l);if(a)var m=r||p;else m=c?p&&(r||h):s?p&&h&&(r||!d):u?p&&h&&!d&&(r||!y):!d&&!y&&(r?l<=e:l<e);m?i=f+1:o=f}return Vf(o,Mt)}function ui(t,e){for(var n=-1,r=t.length,i=0,o=[];++n<r;){var a=t[n],s=e?e(a):a;if(!n||!qs(s,u)){var u=s;o[i++]=0===a?0:a}}return o}function ci(t){return"number"==typeof t?t:hu(t)?Dt:+t}function fi(t){if("string"==typeof t)return t;if(dh(t))return d(t,fi)+"";if(hu(t))return cl?cl.call(t):"";var e=t+"";return"0"==e&&1/t==-Rt?"-0":e}function li(t,e,n){var r=-1,i=l,o=t.length,a=!0,s=[],u=s;if(n)a=!1,i=h;else if(o>=rt){var c=e?null:bl(t);if(c)return G(c);a=!1,i=M,u=new pn}else u=e?[]:s;t:for(;++r<o;){var f=t[r],d=e?e(f):f;if(f=n||0!==f?f:0,a&&d===d){for(var p=u.length;p--;)if(u[p]===d)continue t;e&&u.push(d),s.push(f)}else i(u,d,n)||(u!==s&&u.push(d),s.push(f))}return s}function hi(t,e){return e=_i(e,t),null==(t=Vo(t,e))||delete t[Yo(va(e))]}function di(t,e,n,r){return ni(t,e,n(dr(t,e)),r)}function pi(t,e,n,r){for(var i=t.length,o=r?i:-1;(r?o--:++o<i)&&e(t[o],o,t););return n?ii(t,r?0:o,r?o+1:i):ii(t,r?o+1:0,r?i:o)}function yi(t,e){var n=t;return n instanceof g&&(n=n.value()),y(e,function(t,e){return e.func.apply(e.thisArg,p([t],e.args))},n)}function mi(t,e,n){var r=t.length;if(r<2)return r?li(t[0]):[];for(var i=-1,o=Jc(r);++i<r;)for(var a=t[i],s=-1;++s<r;)s!=i&&(o[i]=ir(o[i]||a,t[s],e,n));return li(cr(o,1),e,n)}function vi(t,e,n){for(var r=-1,i=t.length,o=e.length,a={};++r<i;){var s=r<o?e[r]:nt;n(a,t[r],s)}return a}function gi(t){return Vs(t)?t:[]}function bi(t){return"function"==typeof t?t:Ic}function _i(t,e){return dh(t)?t:xo(t,e)?[t]:Ol(Su(t))}function wi(t,e,n){var r=t.length;return n=n===nt?r:n,!e&&n>=r?t:ii(t,e,n)}function Ei(t,e){if(e)return t.slice();var n=t.length,r=Sf?Sf(n):new t.constructor(n);return t.copy(r),r}function Si(t){var e=new t.constructor(t.byteLength);return new Ef(e).set(new Ef(t)),e}function Ti(t,e){var n=e?Si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}function Ci(t){var e=new t.constructor(t.source,Be.exec(t));return e.lastIndex=t.lastIndex,e}function Ii(t){return ul?rf(ul.call(t)):{}}function Ai(t,e){var n=e?Si(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}function Oi(t,e){if(t!==e){var n=t!==nt,r=null===t,i=t===t,o=hu(t),a=e!==nt,s=null===e,u=e===e,c=hu(e);if(!s&&!c&&!o&&t>e||o&&a&&u&&!s&&!c||r&&a&&u||!n&&u||!i)return 1;if(!r&&!o&&!c&&t<e||c&&n&&i&&!r&&!o||s&&n&&i||!a&&i||!u)return-1}return 0}function ki(t,e,n){for(var r=-1,i=t.criteria,o=e.criteria,a=i.length,s=n.length;++r<a;){var u=Oi(i[r],o[r]);if(u){if(r>=s)return u;return u*("desc"==n[r]?-1:1)}}return t.index-e.index}function Ri(t,e,n,r){for(var i=-1,o=t.length,a=n.length,s=-1,u=e.length,c=Wf(o-a,0),f=Jc(u+c),l=!r;++s<u;)f[s]=e[s];for(;++i<a;)(l||i<o)&&(f[n[i]]=t[i]);for(;c--;)f[s++]=t[i++];return f}function Pi(t,e,n,r){for(var i=-1,o=t.length,a=-1,s=n.length,u=-1,c=e.length,f=Wf(o-s,0),l=Jc(f+c),h=!r;++i<f;)l[i]=t[i];for(var d=i;++u<c;)l[d+u]=e[u];for(;++a<s;)(h||i<o)&&(l[d+n[a]]=t[i++]);return l}function xi(t,e){var n=-1,r=t.length;for(e||(e=Jc(r));++n<r;)e[n]=t[n];return e}function Di(t,e,n,r){var i=!n;n||(n={});for(var o=-1,a=e.length;++o<a;){var s=e[o],u=r?r(n[s],t[s],s,n,t):nt;u===nt&&(u=t[s]),i?$n(n,s,u):Wn(n,s,u)}return n}function Ni(t,e){return Di(t,wl(t),e)}function Mi(t,e){return Di(t,El(t),e)}function Li(t,e){return function(n,r){var i=dh(n)?a:Qn,o=e?e():{};return i(n,t,vo(r,2),o)}}function ji(t){return Zr(function(e,n){var r=-1,i=n.length,o=i>1?n[i-1]:nt,a=i>2?n[2]:nt;for(o=t.length>3&&"function"==typeof o?(i--,o):nt,a&&Po(n[0],n[1],a)&&(o=i<3?nt:o,i=1),e=rf(e);++r<i;){var s=n[r];s&&t(e,s,r,o)}return e})}function Ui(t,e){return function(n,r){if(null==n)return n;if(!Ws(n))return t(n,r);for(var i=n.length,o=e?i:-1,a=rf(n);(e?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function Fi(t){return function(e,n,r){for(var i=-1,o=rf(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}function Bi(t,e,n){function r(){return(this&&this!==Rn&&this instanceof r?o:t).apply(i?n:this,arguments)}var i=e&pt,o=Vi(t);return r}function qi(t){return function(e){e=Su(e);var n=q(e)?J(e):nt,r=n?n[0]:e.charAt(0),i=n?wi(n,1).join(""):e.slice(1);return r[t]()+i}}function Wi(t){return function(e){return y(wc(ec(e).replace(hn,"")),t,"")}}function Vi(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=fl(t.prototype),r=t.apply(n,e);return tu(r)?r:n}}function Hi(t,e,n){function r(){for(var a=arguments.length,s=Jc(a),u=a,c=mo(r);u--;)s[u]=arguments[u];var f=a<3&&s[0]!==c&&s[a-1]!==c?[]:K(s,c);return(a-=f.length)<n?eo(t,e,Gi,r.placeholder,nt,s,f,nt,nt,n-a):o(this&&this!==Rn&&this instanceof r?i:t,this,s)}var i=Vi(t);return r}function zi(t){return function(e,n,r){var i=rf(e);if(!Ws(e)){var o=vo(n,3);e=Lu(e),n=function(t){return o(i[t],t,i)}}var a=t(e,n,r);return a>-1?i[o?e[a]:a]:nt}}function Ki(t){return lo(function(e){var n=e.length,r=n,o=i.prototype.thru;for(t&&e.reverse();r--;){var a=e[r];if("function"!=typeof a)throw new sf(ot);if(o&&!s&&"wrapper"==yo(a))var s=new i([],!0)}for(r=s?r:n;++r<n;){a=e[r];var u=yo(a),c="wrapper"==u?_l(a):nt;s=c&&No(c[0])&&c[1]==(wt|vt|bt|Et)&&!c[4].length&&1==c[9]?s[yo(c[0])].apply(s,c[3]):1==a.length&&No(a)?s[u]():s.thru(a)}return function(){var t=arguments,r=t[0];if(s&&1==t.length&&dh(r))return s.plant(r).value();for(var i=0,o=n?e[i].apply(this,t):r;++i<n;)o=e[i].call(this,o);return o}})}function Gi(t,e,n,r,i,o,a,s,u,c){function f(){for(var v=arguments.length,g=Jc(v),b=v;b--;)g[b]=arguments[b];if(p)var _=mo(f),w=U(g,_);if(r&&(g=Ri(g,r,i,p)),o&&(g=Pi(g,o,a,p)),v-=w,p&&v<c){var E=K(g,_);return eo(t,e,Gi,f.placeholder,n,g,E,s,u,c-v)}var S=h?n:this,T=d?S[t]:t;return v=g.length,s?g=Ho(g,s):y&&v>1&&g.reverse(),l&&u<v&&(g.length=u),this&&this!==Rn&&this instanceof f&&(T=m||Vi(T)),T.apply(S,g)}var l=e&wt,h=e&pt,d=e&yt,p=e&(vt|gt),y=e&St,m=d?nt:Vi(t);return f}function Qi(t,e){return function(n,r){return wr(n,t,e(r),{})}}function Yi(t,e){return function(n,r){var i;if(n===nt&&r===nt)return e;if(n!==nt&&(i=n),r!==nt){if(i===nt)return r;"string"==typeof n||"string"==typeof r?(n=fi(n),r=fi(r)):(n=ci(n),r=ci(r)),i=t(n,r)}return i}}function Xi(t){return lo(function(e){return e=d(e,D(vo())),Zr(function(n){var r=this;return t(e,function(t){return o(t,r,n)})})})}function $i(t,e){e=e===nt?" ":fi(e);var n=e.length;if(n<2)return n?Jr(e,t):e;var r=Jr(e,Mf(t/$(e)));return q(e)?wi(J(r),0,t).join(""):r.slice(0,t)}function Ji(t,e,n,r){function i(){for(var e=-1,u=arguments.length,c=-1,f=r.length,l=Jc(f+u),h=this&&this!==Rn&&this instanceof i?s:t;++c<f;)l[c]=r[c];for(;u--;)l[c++]=arguments[++e];return o(h,a?n:this,l)}var a=e&pt,s=Vi(t);return i}function Zi(t){return function(e,n,r){return r&&"number"!=typeof r&&Po(e,n,r)&&(n=r=nt),e=vu(e),n===nt?(n=e,e=0):n=vu(n),r=r===nt?e<n?1:-1:vu(r),$r(e,n,r,t)}}function to(t){return function(e,n){return"string"==typeof e&&"string"==typeof n||(e=_u(e),n=_u(n)),t(e,n)}}function eo(t,e,n,r,i,o,a,s,u,c){var f=e&vt,l=f?a:nt,h=f?nt:a,d=f?o:nt,p=f?nt:o;e|=f?bt:_t,(e&=~(f?_t:bt))&mt||(e&=~(pt|yt));var y=[t,e,i,d,l,p,h,s,u,c],m=n.apply(nt,y);return No(t)&&Cl(m,y),m.placeholder=r,Ko(m,t,e)}function no(t){var e=nf[t];return function(t,n){if(t=_u(t),n=null==n?0:Vf(gu(n),292)){var r=(Su(t)+"e").split("e");return r=(Su(e(r[0]+"e"+(+r[1]+n)))+"e").split("e"),+(r[0]+"e"+(+r[1]-n))}return e(t)}}function ro(t){return function(e){var n=Sl(e);return n==Gt?H(e):n==Zt?Q(e):x(e,t(e))}}function io(t,e,n,r,i,o,a,s){var u=e&yt;if(!u&&"function"!=typeof t)throw new sf(ot);var c=r?r.length:0;if(c||(e&=~(bt|_t),r=i=nt),a=a===nt?a:Wf(gu(a),0),s=s===nt?s:gu(s),c-=i?i.length:0,e&_t){var f=r,l=i;r=i=nt}var h=u?nt:_l(t),d=[t,e,n,r,i,f,l,o,a,s];if(h&&Fo(d,h),t=d[0],e=d[1],n=d[2],r=d[3],i=d[4],s=d[9]=d[9]===nt?u?0:t.length:Wf(d[9]-c,0),!s&&e&(vt|gt)&&(e&=~(vt|gt)),e&&e!=pt)p=e==vt||e==gt?Hi(t,e,s):e!=bt&&e!=(pt|bt)||i.length?Gi.apply(nt,d):Ji(t,e,n,r);else var p=Bi(t,e,n);return Ko((h?yl:Cl)(p,d),t,e)}function oo(t,e,n,r){return t===nt||qs(t,ff[n])&&!df.call(r,n)?e:t}function ao(t,e,n,r,i,o){return tu(t)&&tu(e)&&(o.set(e,t),qr(t,e,nt,ao,o),o.delete(e)),t}function so(t){return cu(t)?nt:t}function uo(t,e,n,r,i,o){var a=n&ht,s=t.length,u=e.length;if(s!=u&&!(a&&u>s))return!1;var c=o.get(t);if(c&&o.get(e))return c==e;var f=-1,l=!0,h=n&dt?new pn:nt;for(o.set(t,e),o.set(e,t);++f<s;){var d=t[f],p=e[f];if(r)var y=a?r(p,d,f,e,t,o):r(d,p,f,t,e,o);if(y!==nt){if(y)continue;l=!1;break}if(h){if(!v(e,function(t,e){if(!M(h,e)&&(d===t||i(d,t,n,r,o)))return h.push(e)})){l=!1;break}}else if(d!==p&&!i(d,p,n,r,o)){l=!1;break}}return o.delete(t),o.delete(e),l}function co(t,e,n,r,i,o,a){switch(n){case ae:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case oe:return!(t.byteLength!=e.byteLength||!o(new Ef(t),new Ef(e)));case qt:case Wt:case Qt:return qs(+t,+e);case Ht:return t.name==e.name&&t.message==e.message;case Jt:case te:return t==e+"";case Gt:var s=H;case Zt:var u=r&ht;if(s||(s=G),t.size!=e.size&&!u)return!1;var c=a.get(t);if(c)return c==e;r|=dt,a.set(t,e);var f=uo(s(t),s(e),r,i,o,a);return a.delete(t),f;case ee:if(ul)return ul.call(t)==ul.call(e)}return!1}function fo(t,e,n,r,i,o){var a=n&ht,s=ho(t),u=s.length;if(u!=ho(e).length&&!a)return!1;for(var c=u;c--;){var f=s[c];if(!(a?f in e:df.call(e,f)))return!1}var l=o.get(t);if(l&&o.get(e))return l==e;var h=!0;o.set(t,e),o.set(e,t);for(var d=a;++c<u;){f=s[c];var p=t[f],y=e[f];if(r)var m=a?r(y,p,f,e,t,o):r(p,y,f,t,e,o);if(!(m===nt?p===y||i(p,y,n,r,o):m)){h=!1;break}d||(d="constructor"==f)}if(h&&!d){var v=t.constructor,g=e.constructor;v!=g&&"constructor"in t&&"constructor"in e&&!("function"==typeof v&&v instanceof v&&"function"==typeof g&&g instanceof g)&&(h=!1)}return o.delete(t),o.delete(e),h}function lo(t){return Al(Wo(t,nt,ca),t+"")}function ho(t){return pr(t,Lu,wl)}function po(t){return pr(t,ju,El)}function yo(t){for(var e=t.name+"",n=el[e],r=df.call(el,e)?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==t)return i.name}return e}function mo(t){return(df.call(n,"placeholder")?n:t).placeholder}function vo(){var t=n.iteratee||Ac;return t=t===Ac?Nr:t,arguments.length?t(arguments[0],arguments[1]):t}function go(t,e){var n=t.__data__;return Do(e)?n["string"==typeof e?"string":"hash"]:n.map}function bo(t){for(var e=Lu(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,jo(i)]}return e}function _o(t,e){var n=B(t,e);return Rr(n)?n:nt}function wo(t){var e=df.call(t,Rf),n=t[Rf];try{t[Rf]=nt;var r=!0}catch(t){}var i=mf.call(t);return r&&(e?t[Rf]=n:delete t[Rf]),i}function Eo(t,e,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":t+=a;break;case"dropRight":e-=a;break;case"take":e=Vf(e,t+a);break;case"takeRight":t=Wf(t,e-a)}}return{start:t,end:e}}function So(t){var e=t.match(Me);return e?e[1].split(Le):[]}function To(t,e,n){e=_i(e,t);for(var r=-1,i=e.length,o=!1;++r<i;){var a=Yo(e[r]);if(!(o=null!=t&&n(t,a)))break;t=t[a]}return o||++r!=i?o:!!(i=null==t?0:t.length)&&Zs(i)&&Ro(a,i)&&(dh(t)||hh(t))}function Co(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&df.call(t,"index")&&(n.index=t.index,n.input=t.input),n}function Io(t){return"function"!=typeof t.constructor||Lo(t)?{}:fl(Tf(t))}function Ao(t,e,n){var r=t.constructor;switch(e){case oe:return Si(t);case qt:case Wt:return new r(+t);case ae:return Ti(t,n);case se:case ue:case ce:case fe:case le:case he:case de:case pe:case ye:return Ai(t,n);case Gt:return new r;case Qt:case te:return new r(t);case Jt:return Ci(t);case Zt:return new r;case ee:return Ii(t)}}function Oo(t,e){var n=e.length;if(!n)return t;var r=n-1;return e[r]=(n>1?"& ":"")+e[r],e=e.join(n>2?", ":" "),t.replace(Ne,"{\n/* [wrapped with "+e+"] */\n")}function ko(t){return dh(t)||hh(t)||!!(Of&&t&&t[Of])}function Ro(t,e){var n=typeof t;return!!(e=null==e?Pt:e)&&("number"==n||"symbol"!=n&&ze.test(t))&&t>-1&&t%1==0&&t<e}function Po(t,e,n){if(!tu(n))return!1;var r=typeof e;return!!("number"==r?Ws(n)&&Ro(e,n.length):"string"==r&&e in n)&&qs(n[e],t)}function xo(t,e){if(dh(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!hu(t))||(Ae.test(t)||!Ie.test(t)||null!=e&&t in rf(e))}function Do(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}function No(t){var e=yo(t),r=n[e];if("function"!=typeof r||!(e in g.prototype))return!1;if(t===r)return!0;var i=_l(r);return!!i&&t===i[0]}function Mo(t){return!!yf&&yf in t}function Lo(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||ff)}function jo(t){return t===t&&!tu(t)}function Uo(t,e){return function(n){return null!=n&&(n[t]===e&&(e!==nt||t in rf(n)))}}function Fo(t,e){var n=t[1],r=e[1],i=n|r,o=i<(pt|yt|wt),a=r==wt&&n==vt||r==wt&&n==Et&&t[7].length<=e[8]||r==(wt|Et)&&e[7].length<=e[8]&&n==vt;if(!o&&!a)return t;r&pt&&(t[2]=e[2],i|=n&pt?0:mt);var s=e[3];if(s){var u=t[3];t[3]=u?Ri(u,s,e[4]):s,t[4]=u?K(t[3],ut):e[4]}return s=e[5],s&&(u=t[5],t[5]=u?Pi(u,s,e[6]):s,t[6]=u?K(t[5],ut):e[6]),s=e[7],s&&(t[7]=s),r&wt&&(t[8]=null==t[8]?e[8]:Vf(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=i,t}function Bo(t){var e=[];if(null!=t)for(var n in rf(t))e.push(n);return e}function qo(t){return mf.call(t)}function Wo(t,e,n){return e=Wf(e===nt?t.length-1:e,0),function(){for(var r=arguments,i=-1,a=Wf(r.length-e,0),s=Jc(a);++i<a;)s[i]=r[e+i];i=-1;for(var u=Jc(e+1);++i<e;)u[i]=r[i];return u[e]=n(s),o(t,this,u)}}function Vo(t,e){return e.length<2?t:dr(t,ii(e,0,-1))}function Ho(t,e){for(var n=t.length,r=Vf(e.length,n),i=xi(t);r--;){var o=e[r];t[r]=Ro(o,n)?i[o]:nt}return t}function zo(t,e){if("__proto__"!=e)return t[e]}function Ko(t,e,n){var r=e+"";return Al(t,Oo(r,$o(So(r),n)))}function Go(t){var e=0,n=0;return function(){var r=Hf(),i=At-(r-n);if(n=r,i>0){if(++e>=It)return arguments[0]}else e=0;return t.apply(nt,arguments)}}function Qo(t,e){var n=-1,r=t.length,i=r-1;for(e=e===nt?r:e;++n<e;){var o=Xr(n,i),a=t[o];t[o]=t[n],t[n]=a}return t.length=e,t}function Yo(t){if("string"==typeof t||hu(t))return t;var e=t+"";return"0"==e&&1/t==-Rt?"-0":e}function Xo(t){if(null!=t){try{return hf.call(t)}catch(t){}try{return t+""}catch(t){}}return""}function $o(t,e){return s(jt,function(n){var r="_."+n[0];e&n[1]&&!l(t,r)&&t.push(r)}),t.sort()}function Jo(t){if(t instanceof g)return t.clone();var e=new i(t.__wrapped__,t.__chain__);return e.__actions__=xi(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}function Zo(t,e,n){e=(n?Po(t,e,n):e===nt)?1:Wf(gu(e),0);var r=null==t?0:t.length;if(!r||e<1)return[];for(var i=0,o=0,a=Jc(Mf(r/e));i<r;)a[o++]=ii(t,i,i+=e);return a}function ta(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}function ea(){var t=arguments.length;if(!t)return[];for(var e=Jc(t-1),n=arguments[0],r=t;r--;)e[r-1]=arguments[r];return p(dh(n)?xi(n):[n],cr(e,1))}function na(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:gu(e),ii(t,e<0?0:e,r)):[]}function ra(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:gu(e),e=r-e,ii(t,0,e<0?0:e)):[]}function ia(t,e){return t&&t.length?pi(t,vo(e,3),!0,!0):[]}function oa(t,e){return t&&t.length?pi(t,vo(e,3),!0):[]}function aa(t,e,n,r){var i=null==t?0:t.length;return i?(n&&"number"!=typeof n&&Po(t,e,n)&&(n=0,r=i),sr(t,e,n,r)):[]}function sa(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:gu(n);return i<0&&(i=Wf(r+i,0)),w(t,vo(e,3),i)}function ua(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r-1;return n!==nt&&(i=gu(n),i=n<0?Wf(r+i,0):Vf(i,r-1)),w(t,vo(e,3),i,!0)}function ca(t){return(null==t?0:t.length)?cr(t,1):[]}function fa(t){return(null==t?0:t.length)?cr(t,Rt):[]}function la(t,e){return(null==t?0:t.length)?(e=e===nt?1:gu(e),cr(t,e)):[]}function ha(t){for(var e=-1,n=null==t?0:t.length,r={};++e<n;){var i=t[e];r[i[0]]=i[1]}return r}function da(t){return t&&t.length?t[0]:nt}function pa(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=null==n?0:gu(n);return i<0&&(i=Wf(r+i,0)),E(t,e,i)}function ya(t){return(null==t?0:t.length)?ii(t,0,-1):[]}function ma(t,e){return null==t?"":Bf.call(t,e)}function va(t){var e=null==t?0:t.length;return e?t[e-1]:nt}function ga(t,e,n){var r=null==t?0:t.length;if(!r)return-1;var i=r;return n!==nt&&(i=gu(n),i=i<0?Wf(r+i,0):Vf(i,r-1)),e===e?X(t,e,i):w(t,T,i,!0)}function ba(t,e){return t&&t.length?Vr(t,gu(e)):nt}function _a(t,e){return t&&t.length&&e&&e.length?Qr(t,e):t}function wa(t,e,n){return t&&t.length&&e&&e.length?Qr(t,e,vo(n,2)):t}function Ea(t,e,n){return t&&t.length&&e&&e.length?Qr(t,e,nt,n):t}function Sa(t,e){var n=[];if(!t||!t.length)return n;var r=-1,i=[],o=t.length;for(e=vo(e,3);++r<o;){var a=t[r];e(a,r,t)&&(n.push(a),i.push(r))}return Yr(t,i),n}function Ta(t){return null==t?t:Gf.call(t)}function Ca(t,e,n){var r=null==t?0:t.length;return r?(n&&"number"!=typeof n&&Po(t,e,n)?(e=0,n=r):(e=null==e?0:gu(e),n=n===nt?r:gu(n)),ii(t,e,n)):[]}function Ia(t,e){return ai(t,e)}function Aa(t,e,n){return si(t,e,vo(n,2))}function Oa(t,e){var n=null==t?0:t.length;if(n){var r=ai(t,e);if(r<n&&qs(t[r],e))return r}return-1}function ka(t,e){return ai(t,e,!0)}function Ra(t,e,n){return si(t,e,vo(n,2),!0)}function Pa(t,e){if(null==t?0:t.length){var n=ai(t,e,!0)-1;if(qs(t[n],e))return n}return-1}function xa(t){return t&&t.length?ui(t):[]}function Da(t,e){return t&&t.length?ui(t,vo(e,2)):[]}function Na(t){var e=null==t?0:t.length;return e?ii(t,1,e):[]}function Ma(t,e,n){return t&&t.length?(e=n||e===nt?1:gu(e),ii(t,0,e<0?0:e)):[]}function La(t,e,n){var r=null==t?0:t.length;return r?(e=n||e===nt?1:gu(e),e=r-e,ii(t,e<0?0:e,r)):[]}function ja(t,e){return t&&t.length?pi(t,vo(e,3),!1,!0):[]}function Ua(t,e){return t&&t.length?pi(t,vo(e,3)):[]}function Fa(t){return t&&t.length?li(t):[]}function Ba(t,e){return t&&t.length?li(t,vo(e,2)):[]}function qa(t,e){return e="function"==typeof e?e:nt,t&&t.length?li(t,nt,e):[]}function Wa(t){if(!t||!t.length)return[];var e=0;return t=f(t,function(t){if(Vs(t))return e=Wf(t.length,e),!0}),P(e,function(e){return d(t,I(e))})}function Va(t,e){if(!t||!t.length)return[];var n=Wa(t);return null==e?n:d(n,function(t){return o(e,nt,t)})}function Ha(t,e){return vi(t||[],e||[],Wn)}function za(t,e){return vi(t||[],e||[],ni)}function Ka(t){var e=n(t);return e.__chain__=!0,e}function Ga(t,e){return e(t),t}function Qa(t,e){return e(t)}function Ya(){return Ka(this)}function Xa(){return new i(this.value(),this.__chain__)}function $a(){this.__values__===nt&&(this.__values__=mu(this.value()));var t=this.__index__>=this.__values__.length;return{done:t,value:t?nt:this.__values__[this.__index__++]}}function Ja(){return this}function Za(t){for(var e,n=this;n instanceof r;){var i=Jo(n);i.__index__=0,i.__values__=nt,e?o.__wrapped__=i:e=i;var o=i;n=n.__wrapped__}return o.__wrapped__=t,e}function ts(){var t=this.__wrapped__;if(t instanceof g){var e=t;return this.__actions__.length&&(e=new g(this)),e=e.reverse(),e.__actions__.push({func:Qa,args:[Ta],thisArg:nt}),new i(e,this.__chain__)}return this.thru(Ta)}function es(){return yi(this.__wrapped__,this.__actions__)}function ns(t,e,n){var r=dh(t)?c:or;return n&&Po(t,e,n)&&(e=nt),r(t,vo(e,3))}function rs(t,e){return(dh(t)?f:ur)(t,vo(e,3))}function is(t,e){return cr(fs(t,e),1)}function os(t,e){return cr(fs(t,e),Rt)}function as(t,e,n){return n=n===nt?1:gu(n),cr(fs(t,e),n)}function ss(t,e){return(dh(t)?s:ll)(t,vo(e,3))}function us(t,e){return(dh(t)?u:hl)(t,vo(e,3))}function cs(t,e,n,r){t=Ws(t)?t:Yu(t),n=n&&!r?gu(n):0;var i=t.length;return n<0&&(n=Wf(i+n,0)),lu(t)?n<=i&&t.indexOf(e,n)>-1:!!i&&E(t,e,n)>-1}function fs(t,e){return(dh(t)?d:Ur)(t,vo(e,3))}function ls(t,e,n,r){return null==t?[]:(dh(e)||(e=null==e?[]:[e]),n=r?nt:n,dh(n)||(n=null==n?[]:[n]),Hr(t,e,n))}function hs(t,e,n){var r=dh(t)?y:O,i=arguments.length<3;return r(t,vo(e,4),n,i,ll)}function ds(t,e,n){var r=dh(t)?m:O,i=arguments.length<3;return r(t,vo(e,4),n,i,hl)}function ps(t,e){return(dh(t)?f:ur)(t,Os(vo(e,3)))}function ys(t){return(dh(t)?Pn:ti)(t)}function ms(t,e,n){return e=(n?Po(t,e,n):e===nt)?1:gu(e),(dh(t)?xn:ei)(t,e)}function vs(t){return(dh(t)?Nn:ri)(t)}function gs(t){if(null==t)return 0;if(Ws(t))return lu(t)?$(t):t.length;var e=Sl(t);return e==Gt||e==Zt?t.size:Mr(t).length}function bs(t,e,n){var r=dh(t)?v:oi;return n&&Po(t,e,n)&&(e=nt),r(t,vo(e,3))}function _s(t,e){if("function"!=typeof e)throw new sf(ot);return t=gu(t),function(){if(--t<1)return e.apply(this,arguments)}}function ws(t,e,n){return e=n?nt:e,e=t&&null==e?t.length:e,io(t,wt,nt,nt,nt,nt,e)}function Es(t,e){var n;if("function"!=typeof e)throw new sf(ot);return t=gu(t),function(){return--t>0&&(n=e.apply(this,arguments)),t<=1&&(e=nt),n}}function Ss(t,e,n){e=n?nt:e;var r=io(t,vt,nt,nt,nt,nt,nt,e);return r.placeholder=Ss.placeholder,r}function Ts(t,e,n){e=n?nt:e;var r=io(t,gt,nt,nt,nt,nt,nt,e);return r.placeholder=Ts.placeholder,r}function Cs(t,e,n){function r(e){var n=h,r=d;return h=d=nt,g=e,y=t.apply(r,n)}function i(t){return g=t,m=Il(s,e),b?r(t):y}function o(t){var n=t-v,r=t-g,i=e-n;return _?Vf(i,p-r):i}function a(t){var n=t-v,r=t-g;return v===nt||n>=e||n<0||_&&r>=p}function s(){var t=eh();if(a(t))return u(t);m=Il(s,o(t))}function u(t){return m=nt,w&&h?r(t):(h=d=nt,y)}function c(){m!==nt&&gl(m),g=0,h=v=d=m=nt}function f(){return m===nt?y:u(eh())}function l(){var t=eh(),n=a(t);if(h=arguments,d=this,v=t,n){if(m===nt)return i(v);if(_)return m=Il(s,e),r(v)}return m===nt&&(m=Il(s,e)),y}var h,d,p,y,m,v,g=0,b=!1,_=!1,w=!0;if("function"!=typeof t)throw new sf(ot);return e=_u(e)||0,tu(n)&&(b=!!n.leading,_="maxWait"in n,p=_?Wf(_u(n.maxWait)||0,e):p,w="trailing"in n?!!n.trailing:w),l.cancel=c,l.flush=f,l}function Is(t){return io(t,St)}function As(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new sf(ot);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(As.Cache||an),n}function Os(t){if("function"!=typeof t)throw new sf(ot);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}function ks(t){return Es(2,t)}function Rs(t,e){if("function"!=typeof t)throw new sf(ot);return e=e===nt?e:gu(e),Zr(t,e)}function Ps(t,e){if("function"!=typeof t)throw new sf(ot);return e=null==e?0:Wf(gu(e),0),Zr(function(n){var r=n[e],i=wi(n,0,e);return r&&p(i,r),o(t,this,i)})}function xs(t,e,n){var r=!0,i=!0;if("function"!=typeof t)throw new sf(ot);return tu(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),Cs(t,e,{leading:r,maxWait:e,trailing:i})}function Ds(t){return ws(t,1)}function Ns(t,e){return sh(bi(e),t)}function Ms(){if(!arguments.length)return[];var t=arguments[0];return dh(t)?t:[t]}function Ls(t){return tr(t,lt)}function js(t,e){return e="function"==typeof e?e:nt,tr(t,lt,e)}function Us(t){return tr(t,ct|lt)}function Fs(t,e){return e="function"==typeof e?e:nt,tr(t,ct|lt,e)}function Bs(t,e){return null==e||nr(t,e,Lu(e))}function qs(t,e){return t===e||t!==t&&e!==e}function Ws(t){return null!=t&&Zs(t.length)&&!$s(t)}function Vs(t){return eu(t)&&Ws(t)}function Hs(t){return!0===t||!1===t||eu(t)&&yr(t)==qt}function zs(t){return eu(t)&&1===t.nodeType&&!cu(t)}function Ks(t){if(null==t)return!0;if(Ws(t)&&(dh(t)||"string"==typeof t||"function"==typeof t.splice||yh(t)||_h(t)||hh(t)))return!t.length;var e=Sl(t);if(e==Gt||e==Zt)return!t.size;if(Lo(t))return!Mr(t).length;for(var n in t)if(df.call(t,n))return!1;return!0}function Gs(t,e){return Ir(t,e)}function Qs(t,e,n){n="function"==typeof n?n:nt;var r=n?n(t,e):nt;return r===nt?Ir(t,e,nt,n):!!r}function Ys(t){if(!eu(t))return!1;var e=yr(t);return e==Ht||e==Vt||"string"==typeof t.message&&"string"==typeof t.name&&!cu(t)}function Xs(t){return"number"==typeof t&&Ff(t)}function $s(t){if(!tu(t))return!1;var e=yr(t);return e==zt||e==Kt||e==Bt||e==$t}function Js(t){return"number"==typeof t&&t==gu(t)}function Zs(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=Pt}function tu(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function eu(t){return null!=t&&"object"==typeof t}function nu(t,e){return t===e||kr(t,e,bo(e))}function ru(t,e,n){return n="function"==typeof n?n:nt,kr(t,e,bo(e),n)}function iu(t){return uu(t)&&t!=+t}function ou(t){if(Tl(t))throw new tf(it);return Rr(t)}function au(t){return null===t}function su(t){return null==t}function uu(t){return"number"==typeof t||eu(t)&&yr(t)==Qt}function cu(t){if(!eu(t)||yr(t)!=Xt)return!1;var e=Tf(t);if(null===e)return!0;var n=df.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&hf.call(n)==vf}function fu(t){return Js(t)&&t>=-Pt&&t<=Pt}function lu(t){return"string"==typeof t||!dh(t)&&eu(t)&&yr(t)==te}function hu(t){return"symbol"==typeof t||eu(t)&&yr(t)==ee}function du(t){return t===nt}function pu(t){return eu(t)&&Sl(t)==re}function yu(t){return eu(t)&&yr(t)==ie}function mu(t){if(!t)return[];if(Ws(t))return lu(t)?J(t):xi(t);if(kf&&t[kf])return V(t[kf]());var e=Sl(t);return(e==Gt?H:e==Zt?G:Yu)(t)}function vu(t){if(!t)return 0===t?t:0;if((t=_u(t))===Rt||t===-Rt){return(t<0?-1:1)*xt}return t===t?t:0}function gu(t){var e=vu(t),n=e%1;return e===e?n?e-n:e:0}function bu(t){return t?Zn(gu(t),0,Nt):0}function _u(t){if("number"==typeof t)return t;if(hu(t))return Dt;if(tu(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=tu(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(Pe,"");var n=We.test(t);return n||He.test(t)?An(t.slice(2),n?2:8):qe.test(t)?Dt:+t}function wu(t){return Di(t,ju(t))}function Eu(t){return t?Zn(gu(t),-Pt,Pt):0===t?t:0}function Su(t){return null==t?"":fi(t)}function Tu(t,e){var n=fl(t);return null==e?n:Yn(n,e)}function Cu(t,e){return _(t,vo(e,3),fr)}function Iu(t,e){return _(t,vo(e,3),lr)}function Au(t,e){return null==t?t:dl(t,vo(e,3),ju)}function Ou(t,e){return null==t?t:pl(t,vo(e,3),ju)}function ku(t,e){return t&&fr(t,vo(e,3))}function Ru(t,e){return t&&lr(t,vo(e,3))}function Pu(t){return null==t?[]:hr(t,Lu(t))}function xu(t){return null==t?[]:hr(t,ju(t))}function Du(t,e,n){var r=null==t?nt:dr(t,e);return r===nt?n:r}function Nu(t,e){return null!=t&&To(t,e,vr)}function Mu(t,e){return null!=t&&To(t,e,gr)}function Lu(t){return Ws(t)?kn(t):Mr(t)}function ju(t){return Ws(t)?kn(t,!0):Lr(t)}function Uu(t,e){var n={};return e=vo(e,3),fr(t,function(t,r,i){$n(n,e(t,r,i),t)}),n}function Fu(t,e){var n={};return e=vo(e,3),fr(t,function(t,r,i){$n(n,r,e(t,r,i))}),n}function Bu(t,e){return qu(t,Os(vo(e)))}function qu(t,e){if(null==t)return{};var n=d(po(t),function(t){return[t]});return e=vo(e),Kr(t,n,function(t,n){return e(t,n[0])})}function Wu(t,e,n){e=_i(e,t);var r=-1,i=e.length;for(i||(i=1,t=nt);++r<i;){var o=null==t?nt:t[Yo(e[r])];o===nt&&(r=i,o=n),t=$s(o)?o.call(t):o}return t}function Vu(t,e,n){return null==t?t:ni(t,e,n)}function Hu(t,e,n,r){return r="function"==typeof r?r:nt,null==t?t:ni(t,e,n,r)}function zu(t,e,n){var r=dh(t),i=r||yh(t)||_h(t);if(e=vo(e,4),null==n){var o=t&&t.constructor;n=i?r?new o:[]:tu(t)&&$s(o)?fl(Tf(t)):{}}return(i?s:fr)(t,function(t,r,i){return e(n,t,r,i)}),n}function Ku(t,e){return null==t||hi(t,e)}function Gu(t,e,n){return null==t?t:di(t,e,bi(n))}function Qu(t,e,n,r){return r="function"==typeof r?r:nt,null==t?t:di(t,e,bi(n),r)}function Yu(t){return null==t?[]:N(t,Lu(t))}function Xu(t){return null==t?[]:N(t,ju(t))}function $u(t,e,n){return n===nt&&(n=e,e=nt),n!==nt&&(n=_u(n),n=n===n?n:0),e!==nt&&(e=_u(e),e=e===e?e:0),Zn(_u(t),e,n)}function Ju(t,e,n){return e=vu(e),n===nt?(n=e,e=0):n=vu(n),t=_u(t),br(t,e,n)}function Zu(t,e,n){if(n&&"boolean"!=typeof n&&Po(t,e,n)&&(e=n=nt),n===nt&&("boolean"==typeof e?(n=e,e=nt):"boolean"==typeof t&&(n=t,t=nt)),t===nt&&e===nt?(t=0,e=1):(t=vu(t),e===nt?(e=t,t=0):e=vu(e)),t>e){var r=t;t=e,e=r}if(n||t%1||e%1){var i=Kf();return Vf(t+i*(e-t+In("1e-"+((i+"").length-1))),e)}return Xr(t,e)}function tc(t){return Kh(Su(t).toLowerCase())}function ec(t){return(t=Su(t))&&t.replace(Ke,Vn).replace(dn,"")}function nc(t,e,n){t=Su(t),e=fi(e);var r=t.length;n=n===nt?r:Zn(gu(n),0,r);var i=n;return(n-=e.length)>=0&&t.slice(n,i)==e}function rc(t){return t=Su(t),t&&Ee.test(t)?t.replace(_e,Hn):t}function ic(t){return t=Su(t),t&&Re.test(t)?t.replace(ke,"\\$&"):t}function oc(t,e,n){t=Su(t),e=gu(e);var r=e?$(t):0;if(!e||r>=e)return t;var i=(e-r)/2;return $i(Lf(i),n)+t+$i(Mf(i),n)}function ac(t,e,n){t=Su(t),e=gu(e);var r=e?$(t):0;return e&&r<e?t+$i(e-r,n):t}function sc(t,e,n){t=Su(t),e=gu(e);var r=e?$(t):0;return e&&r<e?$i(e-r,n)+t:t}function uc(t,e,n){return n||null==e?e=0:e&&(e=+e),zf(Su(t).replace(xe,""),e||0)}function cc(t,e,n){return e=(n?Po(t,e,n):e===nt)?1:gu(e),Jr(Su(t),e)}function fc(){var t=arguments,e=Su(t[0]);return t.length<3?e:e.replace(t[1],t[2])}function lc(t,e,n){return n&&"number"!=typeof n&&Po(t,e,n)&&(e=n=nt),(n=n===nt?Nt:n>>>0)?(t=Su(t),t&&("string"==typeof e||null!=e&&!gh(e))&&!(e=fi(e))&&q(t)?wi(J(t),0,n):t.split(e,n)):[]}function hc(t,e,n){return t=Su(t),n=null==n?0:Zn(gu(n),0,t.length),e=fi(e),t.slice(n,n+e.length)==e}function dc(t,e,r){var i=n.templateSettings;r&&Po(t,e,r)&&(e=nt),t=Su(t),e=Ch({},e,i,oo);var o,a,s=Ch({},e.imports,i.imports,oo),u=Lu(s),c=N(s,u),f=0,l=e.interpolate||Ge,h="__p += '",d=of((e.escape||Ge).source+"|"+l.source+"|"+(l===Ce?Fe:Ge).source+"|"+(e.evaluate||Ge).source+"|$","g"),p="//# sourceURL="+("sourceURL"in e?e.sourceURL:"lodash.templateSources["+ ++bn+"]")+"\n";t.replace(d,function(e,n,r,i,s,u){return r||(r=i),h+=t.slice(f,u).replace(Qe,F),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=u+e.length,e}),h+="';\n";var y=e.variable;y||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(me,""):h).replace(ve,"$1").replace(ge,"$1;"),h="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var m=Gh(function(){return ef(u,p+"return "+h).apply(nt,c)});if(m.source=h,Ys(m))throw m;return m}function pc(t){return Su(t).toLowerCase()}function yc(t){return Su(t).toUpperCase()}function mc(t,e,n){if((t=Su(t))&&(n||e===nt))return t.replace(Pe,"");if(!t||!(e=fi(e)))return t;var r=J(t),i=J(e);return wi(r,L(r,i),j(r,i)+1).join("")}function vc(t,e,n){if((t=Su(t))&&(n||e===nt))return t.replace(De,"");if(!t||!(e=fi(e)))return t;var r=J(t);return wi(r,0,j(r,J(e))+1).join("")}function gc(t,e,n){if((t=Su(t))&&(n||e===nt))return t.replace(xe,"");if(!t||!(e=fi(e)))return t;var r=J(t);return wi(r,L(r,J(e))).join("")}function bc(t,e){var n=Tt,r=Ct;if(tu(e)){var i="separator"in e?e.separator:i;n="length"in e?gu(e.length):n,r="omission"in e?fi(e.omission):r}t=Su(t);var o=t.length;if(q(t)){var a=J(t);o=a.length}if(n>=o)return t;var s=n-$(r);if(s<1)return r;var u=a?wi(a,0,s).join(""):t.slice(0,s);if(i===nt)return u+r;if(a&&(s+=u.length-s),gh(i)){if(t.slice(s).search(i)){var c,f=u;for(i.global||(i=of(i.source,Su(Be.exec(i))+"g")),i.lastIndex=0;c=i.exec(f);)var l=c.index;u=u.slice(0,l===nt?s:l)}}else if(t.indexOf(fi(i),s)!=s){var h=u.lastIndexOf(i);h>-1&&(u=u.slice(0,h))}return u+r}function _c(t){return t=Su(t),t&&we.test(t)?t.replace(be,zn):t}function wc(t,e,n){return t=Su(t),e=n?nt:e,e===nt?W(t)?et(t):b(t):t.match(e)||[]}function Ec(t){var e=null==t?0:t.length,n=vo();return t=e?d(t,function(t){if("function"!=typeof t[1])throw new sf(ot);return[n(t[0]),t[1]]}):[],Zr(function(n){for(var r=-1;++r<e;){var i=t[r];if(o(i[0],this,n))return o(i[1],this,n)}})}function Sc(t){return er(tr(t,ct))}function Tc(t){return function(){return t}}function Cc(t,e){return null==t||t!==t?e:t}function Ic(t){return t}function Ac(t){return Nr("function"==typeof t?t:tr(t,ct))}function Oc(t){return Fr(tr(t,ct))}function kc(t,e){return Br(t,tr(e,ct))}function Rc(t,e,n){var r=Lu(e),i=hr(e,r);null!=n||tu(e)&&(i.length||!r.length)||(n=e,e=t,t=this,i=hr(e,Lu(e)));var o=!(tu(n)&&"chain"in n)||!!n.chain,a=$s(t);return s(i,function(n){var r=e[n];t[n]=r,a&&(t.prototype[n]=function(){var e=this.__chain__;if(o||e){var n=t(this.__wrapped__);return(n.__actions__=xi(this.__actions__)).push({func:r,args:arguments,thisArg:t}),n.__chain__=e,n}return r.apply(t,p([this.value()],arguments))})}),t}function Pc(){return Rn._===this&&(Rn._=gf),this}function xc(){}function Dc(t){return t=gu(t),Zr(function(e){return Vr(e,t)})}function Nc(t){return xo(t)?I(Yo(t)):Gr(t)}function Mc(t){return function(e){return null==t?nt:dr(t,e)}}function Lc(){return[]}function jc(){return!1}function Uc(){return{}}function Fc(){return""}function Bc(){return!0}function qc(t,e){if((t=gu(t))<1||t>Pt)return[];var n=Nt,r=Vf(t,Nt);e=vo(e),t-=Nt;for(var i=P(r,e);++n<t;)e(n);return i}function Wc(t){return dh(t)?d(t,Yo):hu(t)?[t]:xi(Ol(Su(t)))}function Vc(t){var e=++pf;return Su(t)+e}function Hc(t){return t&&t.length?ar(t,Ic,mr):nt}function zc(t,e){return t&&t.length?ar(t,vo(e,2),mr):nt}function Kc(t){return C(t,Ic)}function Gc(t,e){return C(t,vo(e,2))}function Qc(t){return t&&t.length?ar(t,Ic,jr):nt}function Yc(t,e){return t&&t.length?ar(t,vo(e,2),jr):nt}function Xc(t){return t&&t.length?R(t,Ic):0}function $c(t,e){return t&&t.length?R(t,vo(e,2)):0}e=null==e?Rn:Kn.defaults(Rn.Object(),e,Kn.pick(Rn,gn));var Jc=e.Array,Zc=e.Date,tf=e.Error,ef=e.Function,nf=e.Math,rf=e.Object,of=e.RegExp,af=e.String,sf=e.TypeError,uf=Jc.prototype,cf=ef.prototype,ff=rf.prototype,lf=e["__core-js_shared__"],hf=cf.toString,df=ff.hasOwnProperty,pf=0,yf=function(){var t=/[^.]+$/.exec(lf&&lf.keys&&lf.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),mf=ff.toString,vf=hf.call(rf),gf=Rn._,bf=of("^"+hf.call(df).replace(ke,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),_f=Dn?e.Buffer:nt,wf=e.Symbol,Ef=e.Uint8Array,Sf=_f?_f.allocUnsafe:nt,Tf=z(rf.getPrototypeOf,rf),Cf=rf.create,If=ff.propertyIsEnumerable,Af=uf.splice,Of=wf?wf.isConcatSpreadable:nt,kf=wf?wf.iterator:nt,Rf=wf?wf.toStringTag:nt,Pf=function(){try{var t=_o(rf,"defineProperty");return t({},"",{}),t}catch(t){}}(),xf=e.clearTimeout!==Rn.clearTimeout&&e.clearTimeout,Df=Zc&&Zc.now!==Rn.Date.now&&Zc.now,Nf=e.setTimeout!==Rn.setTimeout&&e.setTimeout,Mf=nf.ceil,Lf=nf.floor,jf=rf.getOwnPropertySymbols,Uf=_f?_f.isBuffer:nt,Ff=e.isFinite,Bf=uf.join,qf=z(rf.keys,rf),Wf=nf.max,Vf=nf.min,Hf=Zc.now,zf=e.parseInt,Kf=nf.random,Gf=uf.reverse,Qf=_o(e,"DataView"),Yf=_o(e,"Map"),Xf=_o(e,"Promise"),$f=_o(e,"Set"),Jf=_o(e,"WeakMap"),Zf=_o(rf,"create"),tl=Jf&&new Jf,el={},nl=Xo(Qf),rl=Xo(Yf),il=Xo(Xf),ol=Xo($f),al=Xo(Jf),sl=wf?wf.prototype:nt,ul=sl?sl.valueOf:nt,cl=sl?sl.toString:nt,fl=function(){function t(){}return function(e){if(!tu(e))return{};if(Cf)return Cf(e);t.prototype=e;var n=new t;return t.prototype=nt,n}}();n.templateSettings={escape:Se,evaluate:Te,interpolate:Ce,variable:"",imports:{_:n}},n.prototype=r.prototype,n.prototype.constructor=n,i.prototype=fl(r.prototype),i.prototype.constructor=i,g.prototype=fl(r.prototype),g.prototype.constructor=g,tt.prototype.clear=je,tt.prototype.delete=Ye,tt.prototype.get=Xe,tt.prototype.has=$e,tt.prototype.set=Je,Ze.prototype.clear=tn,Ze.prototype.delete=en,Ze.prototype.get=nn,Ze.prototype.has=rn,Ze.prototype.set=on,an.prototype.clear=sn,an.prototype.delete=un,an.prototype.get=cn,an.prototype.has=fn,an.prototype.set=ln,pn.prototype.add=pn.prototype.push=yn,pn.prototype.has=mn,vn.prototype.clear=En,vn.prototype.delete=Sn,vn.prototype.get=Tn,vn.prototype.has=Cn,vn.prototype.set=On;var ll=Ui(fr),hl=Ui(lr,!0),dl=Fi(),pl=Fi(!0),yl=tl?function(t,e){return tl.set(t,e),t}:Ic,ml=Pf?function(t,e){return Pf(t,"toString",{configurable:!0,enumerable:!1,value:Tc(e),writable:!0})}:Ic,vl=Zr,gl=xf||function(t){return Rn.clearTimeout(t)},bl=$f&&1/G(new $f([,-0]))[1]==Rt?function(t){return new $f(t)}:xc,_l=tl?function(t){return tl.get(t)}:xc,wl=jf?function(t){return null==t?[]:(t=rf(t),f(jf(t),function(e){return If.call(t,e)}))}:Lc,El=jf?function(t){for(var e=[];t;)p(e,wl(t)),t=Tf(t);return e}:Lc,Sl=yr;(Qf&&Sl(new Qf(new ArrayBuffer(1)))!=ae||Yf&&Sl(new Yf)!=Gt||Xf&&"[object Promise]"!=Sl(Xf.resolve())||$f&&Sl(new $f)!=Zt||Jf&&Sl(new Jf)!=re)&&(Sl=function(t){var e=yr(t),n=e==Xt?t.constructor:nt,r=n?Xo(n):"";if(r)switch(r){case nl:return ae;case rl:return Gt;case il:return"[object Promise]";case ol:return Zt;case al:return re}return e});var Tl=lf?$s:jc,Cl=Go(yl),Il=Nf||function(t,e){return Rn.setTimeout(t,e)},Al=Go(ml),Ol=function(t){var e=As(t,function(t){return n.size===st&&n.clear(),t}),n=e.cache;return e}(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(Oe,function(t,n,r,i){e.push(r?i.replace(Ue,"$1"):n||t)}),e}),kl=Zr(function(t,e){return Vs(t)?ir(t,cr(e,1,Vs,!0)):[]}),Rl=Zr(function(t,e){var n=va(e);return Vs(n)&&(n=nt),Vs(t)?ir(t,cr(e,1,Vs,!0),vo(n,2)):[]}),Pl=Zr(function(t,e){var n=va(e);return Vs(n)&&(n=nt),Vs(t)?ir(t,cr(e,1,Vs,!0),nt,n):[]}),xl=Zr(function(t){var e=d(t,gi);return e.length&&e[0]===t[0]?_r(e):[]}),Dl=Zr(function(t){var e=va(t),n=d(t,gi);return e===va(n)?e=nt:n.pop(),n.length&&n[0]===t[0]?_r(n,vo(e,2)):[]}),Nl=Zr(function(t){var e=va(t),n=d(t,gi);return e="function"==typeof e?e:nt,e&&n.pop(),n.length&&n[0]===t[0]?_r(n,nt,e):[]}),Ml=Zr(_a),Ll=lo(function(t,e){var n=null==t?0:t.length,r=Jn(t,e);return Yr(t,d(e,function(t){return Ro(t,n)?+t:t}).sort(Oi)),r}),jl=Zr(function(t){return li(cr(t,1,Vs,!0))}),Ul=Zr(function(t){var e=va(t);return Vs(e)&&(e=nt),li(cr(t,1,Vs,!0),vo(e,2))}),Fl=Zr(function(t){var e=va(t);return e="function"==typeof e?e:nt,li(cr(t,1,Vs,!0),nt,e)}),Bl=Zr(function(t,e){return Vs(t)?ir(t,e):[]}),ql=Zr(function(t){return mi(f(t,Vs))}),Wl=Zr(function(t){var e=va(t);return Vs(e)&&(e=nt),mi(f(t,Vs),vo(e,2))}),Vl=Zr(function(t){var e=va(t);return e="function"==typeof e?e:nt,mi(f(t,Vs),nt,e)}),Hl=Zr(Wa),zl=Zr(function(t){var e=t.length,n=e>1?t[e-1]:nt;return n="function"==typeof n?(t.pop(),n):nt,Va(t,n)}),Kl=lo(function(t){var e=t.length,n=e?t[0]:0,r=this.__wrapped__,o=function(e){return Jn(e,t)};return!(e>1||this.__actions__.length)&&r instanceof g&&Ro(n)?(r=r.slice(n,+n+(e?1:0)),r.__actions__.push({func:Qa,args:[o],thisArg:nt}),new i(r,this.__chain__).thru(function(t){return e&&!t.length&&t.push(nt),t})):this.thru(o)}),Gl=Li(function(t,e,n){df.call(t,n)?++t[n]:$n(t,n,1)}),Ql=zi(sa),Yl=zi(ua),Xl=Li(function(t,e,n){df.call(t,n)?t[n].push(e):$n(t,n,[e])}),$l=Zr(function(t,e,n){var r=-1,i="function"==typeof e,a=Ws(t)?Jc(t.length):[];return ll(t,function(t){a[++r]=i?o(e,t,n):Er(t,e,n)}),a}),Jl=Li(function(t,e,n){$n(t,n,e)}),Zl=Li(function(t,e,n){t[n?0:1].push(e)},function(){return[[],[]]}),th=Zr(function(t,e){if(null==t)return[];var n=e.length;return n>1&&Po(t,e[0],e[1])?e=[]:n>2&&Po(e[0],e[1],e[2])&&(e=[e[0]]),Hr(t,cr(e,1),[])}),eh=Df||function(){return Rn.Date.now()},nh=Zr(function(t,e,n){var r=pt;if(n.length){var i=K(n,mo(nh));r|=bt}return io(t,r,e,n,i)}),rh=Zr(function(t,e,n){var r=pt|yt;if(n.length){var i=K(n,mo(rh));r|=bt}return io(e,r,t,n,i)}),ih=Zr(function(t,e){return rr(t,1,e)}),oh=Zr(function(t,e,n){return rr(t,_u(e)||0,n)});As.Cache=an;var ah=vl(function(t,e){e=1==e.length&&dh(e[0])?d(e[0],D(vo())):d(cr(e,1),D(vo()));var n=e.length;return Zr(function(r){for(var i=-1,a=Vf(r.length,n);++i<a;)r[i]=e[i].call(this,r[i]);return o(t,this,r)})}),sh=Zr(function(t,e){var n=K(e,mo(sh));return io(t,bt,nt,e,n)}),uh=Zr(function(t,e){var n=K(e,mo(uh));return io(t,_t,nt,e,n)}),ch=lo(function(t,e){return io(t,Et,nt,nt,nt,e)}),fh=to(mr),lh=to(function(t,e){return t>=e}),hh=Sr(function(){return arguments}())?Sr:function(t){return eu(t)&&df.call(t,"callee")&&!If.call(t,"callee")},dh=Jc.isArray,ph=Ln?D(Ln):Tr,yh=Uf||jc,mh=jn?D(jn):Cr,vh=Un?D(Un):Or,gh=Fn?D(Fn):Pr,bh=Bn?D(Bn):xr,_h=qn?D(qn):Dr,wh=to(jr),Eh=to(function(t,e){return t<=e}),Sh=ji(function(t,e){if(Lo(e)||Ws(e))return void Di(e,Lu(e),t);for(var n in e)df.call(e,n)&&Wn(t,n,e[n])}),Th=ji(function(t,e){Di(e,ju(e),t)}),Ch=ji(function(t,e,n,r){Di(e,ju(e),t,r)}),Ih=ji(function(t,e,n,r){Di(e,Lu(e),t,r)}),Ah=lo(Jn),Oh=Zr(function(t,e){t=rf(t);var n=-1,r=e.length,i=r>2?e[2]:nt;for(i&&Po(e[0],e[1],i)&&(r=1);++n<r;)for(var o=e[n],a=ju(o),s=-1,u=a.length;++s<u;){var c=a[s],f=t[c];(f===nt||qs(f,ff[c])&&!df.call(t,c))&&(t[c]=o[c])}return t}),kh=Zr(function(t){return t.push(nt,ao),o(Nh,nt,t)}),Rh=Qi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=mf.call(e)),t[e]=n},Tc(Ic)),Ph=Qi(function(t,e,n){null!=e&&"function"!=typeof e.toString&&(e=mf.call(e)),df.call(t,e)?t[e].push(n):t[e]=[n]},vo),xh=Zr(Er),Dh=ji(function(t,e,n){qr(t,e,n)}),Nh=ji(function(t,e,n,r){qr(t,e,n,r)}),Mh=lo(function(t,e){var n={};if(null==t)return n;var r=!1;e=d(e,function(e){return e=_i(e,t),r||(r=e.length>1),e}),Di(t,po(t),n),r&&(n=tr(n,ct|ft|lt,so));for(var i=e.length;i--;)hi(n,e[i]);return n}),Lh=lo(function(t,e){return null==t?{}:zr(t,e)}),jh=ro(Lu),Uh=ro(ju),Fh=Wi(function(t,e,n){return e=e.toLowerCase(),t+(n?tc(e):e)}),Bh=Wi(function(t,e,n){return t+(n?"-":"")+e.toLowerCase()}),qh=Wi(function(t,e,n){return t+(n?" ":"")+e.toLowerCase()}),Wh=qi("toLowerCase"),Vh=Wi(function(t,e,n){return t+(n?"_":"")+e.toLowerCase()}),Hh=Wi(function(t,e,n){return t+(n?" ":"")+Kh(e)}),zh=Wi(function(t,e,n){return t+(n?" ":"")+e.toUpperCase()}),Kh=qi("toUpperCase"),Gh=Zr(function(t,e){try{return o(t,nt,e)}catch(t){return Ys(t)?t:new tf(t)}}),Qh=lo(function(t,e){return s(e,function(e){e=Yo(e),$n(t,e,nh(t[e],t))}),t}),Yh=Ki(),Xh=Ki(!0),$h=Zr(function(t,e){return function(n){return Er(n,t,e)}}),Jh=Zr(function(t,e){return function(n){return Er(t,n,e)}}),Zh=Xi(d),td=Xi(c),ed=Xi(v),nd=Zi(),rd=Zi(!0),id=Yi(function(t,e){return t+e},0),od=no("ceil"),ad=Yi(function(t,e){return t/e},1),sd=no("floor"),ud=Yi(function(t,e){return t*e},1),cd=no("round"),fd=Yi(function(t,e){return t-e},0);return n.after=_s,n.ary=ws,n.assign=Sh,n.assignIn=Th,n.assignInWith=Ch,n.assignWith=Ih,n.at=Ah,n.before=Es,n.bind=nh,n.bindAll=Qh,n.bindKey=rh,n.castArray=Ms,n.chain=Ka,n.chunk=Zo,n.compact=ta,n.concat=ea,n.cond=Ec,n.conforms=Sc,n.constant=Tc,n.countBy=Gl,n.create=Tu,n.curry=Ss,n.curryRight=Ts,n.debounce=Cs,n.defaults=Oh,n.defaultsDeep=kh,n.defer=ih,n.delay=oh,n.difference=kl,n.differenceBy=Rl,n.differenceWith=Pl,n.drop=na,n.dropRight=ra,n.dropRightWhile=ia,n.dropWhile=oa,n.fill=aa,n.filter=rs,n.flatMap=is,n.flatMapDeep=os,n.flatMapDepth=as,n.flatten=ca,n.flattenDeep=fa,n.flattenDepth=la,n.flip=Is,n.flow=Yh,n.flowRight=Xh,n.fromPairs=ha,n.functions=Pu,n.functionsIn=xu,n.groupBy=Xl,n.initial=ya,n.intersection=xl,n.intersectionBy=Dl,n.intersectionWith=Nl,n.invert=Rh,n.invertBy=Ph,n.invokeMap=$l,n.iteratee=Ac,n.keyBy=Jl,n.keys=Lu,n.keysIn=ju,n.map=fs,n.mapKeys=Uu,n.mapValues=Fu,n.matches=Oc,n.matchesProperty=kc,n.memoize=As,n.merge=Dh,n.mergeWith=Nh,n.method=$h,n.methodOf=Jh,n.mixin=Rc,n.negate=Os,n.nthArg=Dc,n.omit=Mh,n.omitBy=Bu,n.once=ks,n.orderBy=ls,n.over=Zh,n.overArgs=ah,n.overEvery=td,n.overSome=ed,n.partial=sh,n.partialRight=uh,n.partition=Zl,n.pick=Lh,n.pickBy=qu,n.property=Nc,n.propertyOf=Mc,n.pull=Ml,n.pullAll=_a,n.pullAllBy=wa,n.pullAllWith=Ea,n.pullAt=Ll,n.range=nd,n.rangeRight=rd,n.rearg=ch,n.reject=ps,n.remove=Sa,n.rest=Rs,n.reverse=Ta,n.sampleSize=ms,n.set=Vu,n.setWith=Hu,n.shuffle=vs,n.slice=Ca,n.sortBy=th,n.sortedUniq=xa,n.sortedUniqBy=Da,n.split=lc,n.spread=Ps,n.tail=Na,n.take=Ma,n.takeRight=La,n.takeRightWhile=ja,n.takeWhile=Ua,n.tap=Ga,n.throttle=xs,n.thru=Qa,n.toArray=mu,n.toPairs=jh,n.toPairsIn=Uh,n.toPath=Wc,n.toPlainObject=wu,n.transform=zu,n.unary=Ds,n.union=jl,n.unionBy=Ul,n.unionWith=Fl,n.uniq=Fa,n.uniqBy=Ba,n.uniqWith=qa,n.unset=Ku,n.unzip=Wa,n.unzipWith=Va,n.update=Gu,n.updateWith=Qu,n.values=Yu,n.valuesIn=Xu,n.without=Bl,n.words=wc,n.wrap=Ns,n.xor=ql,n.xorBy=Wl,n.xorWith=Vl,n.zip=Hl,n.zipObject=Ha,n.zipObjectDeep=za,n.zipWith=zl,n.entries=jh,n.entriesIn=Uh,n.extend=Th,n.extendWith=Ch,Rc(n,n),n.add=id,n.attempt=Gh,n.camelCase=Fh,n.capitalize=tc,n.ceil=od,n.clamp=$u,n.clone=Ls,n.cloneDeep=Us,n.cloneDeepWith=Fs,n.cloneWith=js,n.conformsTo=Bs,n.deburr=ec,n.defaultTo=Cc,n.divide=ad,n.endsWith=nc,n.eq=qs,n.escape=rc,n.escapeRegExp=ic,n.every=ns,n.find=Ql,n.findIndex=sa,n.findKey=Cu,n.findLast=Yl,n.findLastIndex=ua,n.findLastKey=Iu,n.floor=sd,n.forEach=ss,n.forEachRight=us,n.forIn=Au,n.forInRight=Ou,n.forOwn=ku,n.forOwnRight=Ru,n.get=Du,n.gt=fh,n.gte=lh,n.has=Nu,n.hasIn=Mu,n.head=da,n.identity=Ic,n.includes=cs,n.indexOf=pa,n.inRange=Ju,n.invoke=xh,n.isArguments=hh,n.isArray=dh,n.isArrayBuffer=ph,n.isArrayLike=Ws,n.isArrayLikeObject=Vs,n.isBoolean=Hs,n.isBuffer=yh,n.isDate=mh,n.isElement=zs,n.isEmpty=Ks,n.isEqual=Gs,n.isEqualWith=Qs,n.isError=Ys,n.isFinite=Xs,n.isFunction=$s,n.isInteger=Js,n.isLength=Zs,n.isMap=vh,n.isMatch=nu,n.isMatchWith=ru,n.isNaN=iu,n.isNative=ou,n.isNil=su,n.isNull=au,n.isNumber=uu,n.isObject=tu,n.isObjectLike=eu,n.isPlainObject=cu,n.isRegExp=gh,n.isSafeInteger=fu,n.isSet=bh,n.isString=lu,n.isSymbol=hu,n.isTypedArray=_h,n.isUndefined=du,n.isWeakMap=pu,n.isWeakSet=yu,n.join=ma,n.kebabCase=Bh,n.last=va,n.lastIndexOf=ga,n.lowerCase=qh,n.lowerFirst=Wh,n.lt=wh,n.lte=Eh,n.max=Hc,n.maxBy=zc,n.mean=Kc,n.meanBy=Gc,n.min=Qc,n.minBy=Yc,n.stubArray=Lc,n.stubFalse=jc,n.stubObject=Uc,n.stubString=Fc,n.stubTrue=Bc,n.multiply=ud,n.nth=ba,n.noConflict=Pc,n.noop=xc,n.now=eh,n.pad=oc,n.padEnd=ac,n.padStart=sc,n.parseInt=uc,n.random=Zu,n.reduce=hs,n.reduceRight=ds,n.repeat=cc,n.replace=fc,n.result=Wu,n.round=cd,n.runInContext=t,n.sample=ys,n.size=gs,n.snakeCase=Vh,n.some=bs,n.sortedIndex=Ia,n.sortedIndexBy=Aa,n.sortedIndexOf=Oa,n.sortedLastIndex=ka,n.sortedLastIndexBy=Ra,n.sortedLastIndexOf=Pa,n.startCase=Hh,n.startsWith=hc,n.subtract=fd,n.sum=Xc,n.sumBy=$c,n.template=dc,n.times=qc,n.toFinite=vu,n.toInteger=gu,n.toLength=bu,n.toLower=pc,n.toNumber=_u,n.toSafeInteger=Eu,n.toString=Su,n.toUpper=yc,n.trim=mc,n.trimEnd=vc,n.trimStart=gc,n.truncate=bc,n.unescape=_c,n.uniqueId=Vc,n.upperCase=zh,n.upperFirst=Kh,n.each=ss,n.eachRight=us,n.first=da,Rc(n,function(){var t={};return fr(n,function(e,r){df.call(n.prototype,r)||(t[r]=e)}),t}(),{chain:!1}),n.VERSION="4.17.11",s(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){n[t].placeholder=n}),s(["drop","take"],function(t,e){g.prototype[t]=function(n){n=n===nt?1:Wf(gu(n),0);var r=this.__filtered__&&!e?new g(this):this.clone();return r.__filtered__?r.__takeCount__=Vf(n,r.__takeCount__):r.__views__.push({size:Vf(n,Nt),type:t+(r.__dir__<0?"Right":"")}),r},g.prototype[t+"Right"]=function(e){return this.reverse()[t](e).reverse()}}),s(["filter","map","takeWhile"],function(t,e){var n=e+1,r=n==Ot||3==n;g.prototype[t]=function(t){var e=this.clone();return e.__iteratees__.push({iteratee:vo(t,3),type:n}),e.__filtered__=e.__filtered__||r,e}}),s(["head","last"],function(t,e){var n="take"+(e?"Right":"");g.prototype[t]=function(){return this[n](1).value()[0]}}),s(["initial","tail"],function(t,e){var n="drop"+(e?"":"Right");g.prototype[t]=function(){return this.__filtered__?new g(this):this[n](1)}}),g.prototype.compact=function(){return this.filter(Ic)},g.prototype.find=function(t){return this.filter(t).head()},g.prototype.findLast=function(t){return this.reverse().find(t)},g.prototype.invokeMap=Zr(function(t,e){return"function"==typeof t?new g(this):this.map(function(n){return Er(n,t,e)})}),g.prototype.reject=function(t){return this.filter(Os(vo(t)))},g.prototype.slice=function(t,e){t=gu(t);var n=this;return n.__filtered__&&(t>0||e<0)?new g(n):(t<0?n=n.takeRight(-t):t&&(n=n.drop(t)),e!==nt&&(e=gu(e),n=e<0?n.dropRight(-e):n.take(e-t)),n)},g.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},g.prototype.toArray=function(){return this.take(Nt)},fr(g.prototype,function(t,e){var r=/^(?:filter|find|map|reject)|While$/.test(e),o=/^(?:head|last)$/.test(e),a=n[o?"take"+("last"==e?"Right":""):e],s=o||/^find/.test(e);a&&(n.prototype[e]=function(){var e=this.__wrapped__,u=o?[1]:arguments,c=e instanceof g,f=u[0],l=c||dh(e),h=function(t){var e=a.apply(n,p([t],u));return o&&d?e[0]:e};l&&r&&"function"==typeof f&&1!=f.length&&(c=l=!1);var d=this.__chain__,y=!!this.__actions__.length,m=s&&!d,v=c&&!y;if(!s&&l){e=v?e:new g(this);var b=t.apply(e,u);return b.__actions__.push({func:Qa,args:[h],thisArg:nt}),new i(b,d)}return m&&v?t.apply(this,u):(b=this.thru(h),m?o?b.value()[0]:b.value():b)})}),s(["pop","push","shift","sort","splice","unshift"],function(t){var e=uf[t],r=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",i=/^(?:pop|shift)$/.test(t);n.prototype[t]=function(){var t=arguments;if(i&&!this.__chain__){var n=this.value();return e.apply(dh(n)?n:[],t)}return this[r](function(n){return e.apply(dh(n)?n:[],t)})}}),fr(g.prototype,function(t,e){var r=n[e];if(r){var i=r.name+"";(el[i]||(el[i]=[])).push({name:e,func:r})}}),el[Gi(nt,yt).name]=[{name:"wrapper",func:nt}],g.prototype.clone=A,g.prototype.reverse=Y,g.prototype.value=Z,n.prototype.at=Kl,n.prototype.chain=Ya,n.prototype.commit=Xa,n.prototype.next=$a,n.prototype.plant=Za,n.prototype.reverse=ts,n.prototype.toJSON=n.prototype.valueOf=n.prototype.value=es,n.prototype.first=n.prototype.head,kf&&(n.prototype[kf]=Ja),n}();Rn._=Kn,(i=function(){return Kn}.call(e,n,e,r))!==nt&&(r.exports=i)}).call(this)}).call(e,n(8),n(41)(t))},function(t,e,n){"use strict";function r(t){u.call(this,"digest"),this._hash=t}var i=n(0),o=n(149),a=n(155),s=n(156),u=n(28);i(r,u),r.prototype._update=function(t){this._hash.update(t)},r.prototype._final=function(){return this._hash.digest()},t.exports=function(t){return t=t.toLowerCase(),"md5"===t?new o:"rmd160"===t||"ripemd160"===t?new a:new r(s(t))}},function(t,e,n){(function(t){function n(t){return Array.isArray?Array.isArray(t):"[object Array]"===m(t)}function r(t){return"boolean"===typeof t}function i(t){return null===t}function o(t){return null==t}function a(t){return"number"===typeof t}function s(t){return"string"===typeof t}function u(t){return"symbol"===typeof t}function c(t){return void 0===t}function f(t){return"[object RegExp]"===m(t)}function l(t){return"object"===typeof t&&null!==t}function h(t){return"[object Date]"===m(t)}function d(t){return"[object Error]"===m(t)||t instanceof Error}function p(t){return"function"===typeof t}function y(t){return null===t||"boolean"===typeof t||"number"===typeof t||"string"===typeof t||"symbol"===typeof t||"undefined"===typeof t}function m(t){return Object.prototype.toString.call(t)}e.isArray=n,e.isBoolean=r,e.isNull=i,e.isNullOrUndefined=o,e.isNumber=a,e.isString=s,e.isSymbol=u,e.isUndefined=c,e.isRegExp=f,e.isObject=l,e.isDate=h,e.isError=d,e.isFunction=p,e.isPrimitive=y,e.isBuffer=t.isBuffer}).call(e,n(7).Buffer)},function(t,e,n){(function(e){t.exports=function(t,n){for(var r=Math.min(t.length,n.length),i=new e(r),o=0;o<r;++o)i[o]=t[o]^n[o];return i}}).call(e,n(7).Buffer)},function(t,e,n){"use strict";function r(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var i=n(20),o=n(13);e.BlockHash=r,r.prototype.update=function(t,e){if(t=i.toArray(t,e),this.pending?this.pending=this.pending.concat(t):this.pending=t,this.pendingTotal+=t.length,this.pending.length>=this._delta8){t=this.pending;var n=t.length%this._delta8;this.pending=t.slice(t.length-n,t.length),0===this.pending.length&&(this.pending=null),t=i.join32(t,0,t.length-n,this.endian);for(var r=0;r<t.length;r+=this._delta32)this._update(t,r,r+this._delta32)}return this},r.prototype.digest=function(t){return this.update(this._pad()),o(null===this.pending),this._digest(t)},r.prototype._pad=function(){var t=this.pendingTotal,e=this._delta8,n=e-(t+this.padLength)%e,r=new Array(n+this.padLength);r[0]=128;for(var i=1;i<n;i++)r[i]=0;if(t<<=3,"big"===this.endian){for(var o=8;o<this.padLength;o++)r[i++]=0;r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=t>>>24&255,r[i++]=t>>>16&255,r[i++]=t>>>8&255,r[i++]=255&t}else for(r[i++]=255&t,r[i++]=t>>>8&255,r[i++]=t>>>16&255,r[i++]=t>>>24&255,r[i++]=0,r[i++]=0,r[i++]=0,r[i++]=0,o=8;o<this.padLength;o++)r[i++]=0;return r}},function(t,e,n){var r=e;r.bignum=n(5),r.define=n(582).define,r.base=n(68),r.constants=n(275),r.decoders=n(588),r.encoders=n(590)},function(t,e,n){var r=e;r.Reporter=n(585).Reporter,r.DecoderBuffer=n(274).DecoderBuffer,r.EncoderBuffer=n(274).EncoderBuffer,r.Node=n(586)},function(t,e,n){"use strict";var r=function(){};t.exports=r},function(t,e,n){"use strict";n.d(e,"a",function(){return s}),n.d(e,"b",function(){return u});var r=n(307),i=n(308),o=n(47),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=function(t,e,n,i){var s=void 0;"string"===typeof t?(s=Object(o.d)(t),s.state=e):(s=a({},t),void 0===s.pathname&&(s.pathname=""),s.search?"?"!==s.search.charAt(0)&&(s.search="?"+s.search):s.search="",s.hash?"#"!==s.hash.charAt(0)&&(s.hash="#"+s.hash):s.hash="",void 0!==e&&void 0===s.state&&(s.state=e));try{s.pathname=decodeURI(s.pathname)}catch(t){throw t instanceof URIError?new URIError('Pathname "'+s.pathname+'" could not be decoded. This is likely caused by an invalid percent-encoding.'):t}return n&&(s.key=n),i?s.pathname?"/"!==s.pathname.charAt(0)&&(s.pathname=Object(r.a)(s.pathname,i.pathname)):s.pathname=i.pathname:s.pathname||(s.pathname="/"),s},u=function(t,e){return t.pathname===e.pathname&&t.search===e.search&&t.hash===e.hash&&t.key===e.key&&Object(i.a)(t.state,e.state)}},function(t,e,n){function r(t){var e=this.__data__=new i(t);this.size=e.size}var i=n(72),o=n(373),a=n(374),s=n(375),u=n(376),c=n(377);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=s,r.prototype.has=u,r.prototype.set=c,t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(368),o=n(369),a=n(370),s=n(371),u=n(372);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){function r(t,e){for(var n=t.length;n--;)if(i(t[n][0],e))return n;return-1}var i=n(50);t.exports=r},function(t,e,n){var r=n(30),i=r(Object,"create");t.exports=i},function(t,e,n){function r(t,e){var n=t.__data__;return i(e)?n["string"==typeof e?"string":"hash"]:n.map}var i=n(390);t.exports=r},function(t,e,n){var r=n(401),i=n(10),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(t){return i(t)&&a.call(t,"callee")&&!s.call(t,"callee")};t.exports=u},function(t,e,n){(function(t){var r=n(11),i=n(402),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o,u=s?r.Buffer:void 0,c=u?u.isBuffer:void 0,f=c||i;t.exports=f}).call(e,n(41)(t))},function(t,e){function n(t){return function(e){return t(e)}}t.exports=n},function(t,e){function n(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||r)}var r=Object.prototype;t.exports=n},function(t,e,n){function r(t,e){e=i(e,t);for(var n=0,r=e.length;null!=t&&n<r;)t=t[o(e[n++])];return n&&n==r?t:void 0}var i=n(32),o=n(26);t.exports=r},function(t,e,n){function r(t,e,n,a,s){var u=-1,c=t.length;for(n||(n=o),s||(s=[]);++u<c;){var f=t[u];e>0&&n(f)?e>1?r(f,e-1,n,a,s):i(s,f):a||(s[s.length]=f)}return s}var i=n(114),o=n(416);t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.promisesForPopulate=e.populateList=e.getPopulateChild=e.getPopulates=e.getPopulateObjs=e.getChildType=e.getPopulateObj=void 0;var i=n(206),o=r(i),a=n(125),s=r(a),u=n(207),c=r(u),f=n(84),l=r(f),h=n(31),d=r(h),p=n(55),y=r(p),m=n(4),v=r(m),g=n(9),b=r(g),_=n(2),w=r(_),E=n(27),S=r(E),T=n(423),C=r(T),I=e.getPopulateObj=function(t){if(!(0,S.default)(t))return t;var e=t.split(":");return{child:e[0],root:e[1]}},A=(e.getChildType=function(t){return(0,S.default)(t)?"string":(0,w.default)(t)?"array":(0,v.default)(t)?"object":"other"},e.getPopulateObjs=function(t){return(0,w.default)(t)?t.map(function(t){return(0,v.default)(t)?t:I(t)}):t}),O=(e.getPopulates=function(t){var e=(0,C.default)(t,function(t){return-1!==t.indexOf("populate")||(0,v.default)(t)&&t.populates}).map(function(t){return t.split("=")[1]});return e.length?e.map(I):null},e.getPopulateChild=function(t,e,n){return t.database().ref().child(e.root+"/"+n).once("value").then(function(t){return t.val()})}),k=e.populateList=function(t,e,n,r){return r[n.root]||(0,c.default)(r,n.root,{}),Promise.all((0,y.default)(e,function(e,i){var o=!0===e||n.populateByKey?i:e;return O(t,n,o).then(function(t){return t?(0,c.default)(r,n.root+"."+o,t):r})}))},R=e.promisesForPopulate=function(t,e,n,r){var i=[],a={},u=A((0,b.default)(r)?r(e,n):r);return(0,o.default)(u,function(t){return(0,s.default)(n,t.child)})?(0,l.default)(u,function(e){return(0,S.default)((0,d.default)(n,e.child))?i.push(O(t,e,(0,d.default)(n,e.child)).then(function(t){t&&(0,c.default)(a,e.root+"."+(0,d.default)(n,e.child),t)})):i.push(k(t,(0,d.default)(n,e.child),e,a))}):(0,l.default)(n,function(e,n){var o=I((0,b.default)(r)?r(n,e):r);(0,l.default)(o,function(n){var r=(0,d.default)(e,n.child);if(r)return(0,S.default)(r)?i.push(O(t,n,r).then(function(t){return t&&(0,c.default)(a,n.root+"."+r,t),a})):(0,w.default)(r)||(0,v.default)(r)?i.push(k(t,r,n,a)):void 0})}),Promise.all(i).then(function(){return a})};e.default={promisesForPopulate:R}},function(t,e,n){function r(t,e,n){var r=t[e];s.call(t,e)&&o(r,n)&&(void 0!==n||e in t)||i(t,e,n)}var i=n(56),o=n(50),a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){return(s(t)?i:o)(t,a(e))}var i=n(85),o=n(34),a=n(422),s=n(2);t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r&&!1!==e(t[n],n,t););return t}t.exports=n},function(t,e,n){var r=n(430),i=n(129),o=i(function(t,e){return null==t?{}:r(t,e)});t.exports=o},function(t,e,n){var r=n(52),i=n(131),o=n(123),a=n(32),s=n(35),u=n(449),c=n(129),f=n(218),l=c(function(t,e){var n={};if(null==t)return n;var c=!1;e=r(e,function(e){return e=a(e,t),c||(c=e.length>1),e}),s(t,f(t),n),c&&(n=i(n,7,u));for(var l=e.length;l--;)o(n,e[l]);return n});t.exports=l},function(t,e,n){function r(t){return a(t)?i(t,!0):o(t)}var i=n(192),o=n(436),a=n(25);t.exports=r},function(t,e,n){var r=n(4),i=Object.create,o=function(){function t(){}return function(e){if(!r(e))return{};if(i)return i(e);t.prototype=e;var n=new t;return t.prototype=void 0,n}}();t.exports=o},function(t,e,n){function r(t,e,n){return i(o,t,e,n)}var i=n(461),o=n(463);t.exports=r},function(t,e,n){function r(t){return function(){var e=arguments;switch(e.length){case 0:return new t;case 1:return new t(e[0]);case 2:return new t(e[0],e[1]);case 3:return new t(e[0],e[1],e[2]);case 4:return new t(e[0],e[1],e[2],e[3]);case 5:return new t(e[0],e[1],e[2],e[3],e[4]);case 6:return new t(e[0],e[1],e[2],e[3],e[4],e[5]);case 7:return new t(e[0],e[1],e[2],e[3],e[4],e[5],e[6])}var n=i(t.prototype),r=t.apply(n,e);return o(r)?r:n}}var i=n(89),o=n(4);t.exports=r},function(t,e,n){"use strict";(function(e){function n(t,n,r,i){if("function"!==typeof t)throw new TypeError('"callback" argument must be a function');var o,a,s=arguments.length;switch(s){case 0:case 1:return e.nextTick(t);case 2:return e.nextTick(function(){t.call(null,n)});case 3:return e.nextTick(function(){t.call(null,n,r)});case 4:return e.nextTick(function(){t.call(null,n,r,i)});default:for(o=new Array(s-1),a=0;a<o.length;)o[a++]=arguments[a];return e.nextTick(function(){t.apply(null,o)})}}!e.version||0===e.version.indexOf("v0.")||0===e.version.indexOf("v1.")&&0!==e.version.indexOf("v1.8.")?t.exports={nextTick:n}:t.exports=e}).call(e,n(22))},function(t,e,n){function r(t){s.isBuffer(t)||(t=s.from(t));for(var e=t.length/4|0,n=new Array(e),r=0;r<e;r++)n[r]=t.readUInt32BE(4*r);return n}function i(t){for(;0<t.length;t++)t[0]=0}function o(t,e,n,r,i){for(var o,a,s,u,c=n[0],f=n[1],l=n[2],h=n[3],d=t[0]^e[0],p=t[1]^e[1],y=t[2]^e[2],m=t[3]^e[3],v=4,g=1;g<i;g++)o=c[d>>>24]^f[p>>>16&255]^l[y>>>8&255]^h[255&m]^e[v++],a=c[p>>>24]^f[y>>>16&255]^l[m>>>8&255]^h[255&d]^e[v++],s=c[y>>>24]^f[m>>>16&255]^l[d>>>8&255]^h[255&p]^e[v++],u=c[m>>>24]^f[d>>>16&255]^l[p>>>8&255]^h[255&y]^e[v++],d=o,p=a,y=s,m=u;return o=(r[d>>>24]<<24|r[p>>>16&255]<<16|r[y>>>8&255]<<8|r[255&m])^e[v++],a=(r[p>>>24]<<24|r[y>>>16&255]<<16|r[m>>>8&255]<<8|r[255&d])^e[v++],s=(r[y>>>24]<<24|r[m>>>16&255]<<16|r[d>>>8&255]<<8|r[255&p])^e[v++],u=(r[m>>>24]<<24|r[d>>>16&255]<<16|r[p>>>8&255]<<8|r[255&y])^e[v++],o>>>=0,a>>>=0,s>>>=0,u>>>=0,[o,a,s,u]}function a(t){this._key=r(t),this._reset()}var s=n(1).Buffer,u=[0,1,2,4,8,16,32,64,128,27,54],c=function(){for(var t=new Array(256),e=0;e<256;e++)t[e]=e<128?e<<1:e<<1^283;for(var n=[],r=[],i=[[],[],[],[]],o=[[],[],[],[]],a=0,s=0,u=0;u<256;++u){var c=s^s<<1^s<<2^s<<3^s<<4;c=c>>>8^255&c^99,n[a]=c,r[c]=a;var f=t[a],l=t[f],h=t[l],d=257*t[c]^16843008*c;i[0][a]=d<<24|d>>>8,i[1][a]=d<<16|d>>>16,i[2][a]=d<<8|d>>>24,i[3][a]=d,d=16843009*h^65537*l^257*f^16843008*a,o[0][c]=d<<24|d>>>8,o[1][c]=d<<16|d>>>16,o[2][c]=d<<8|d>>>24,o[3][c]=d,0===a?a=s=1:(a=f^t[t[t[h^f]]],s^=t[t[s]])}return{SBOX:n,INV_SBOX:r,SUB_MIX:i,INV_SUB_MIX:o}}();a.blockSize=16,a.keySize=32,a.prototype.blockSize=a.blockSize,a.prototype.keySize=a.keySize,a.prototype._reset=function(){for(var t=this._key,e=t.length,n=e+6,r=4*(n+1),i=[],o=0;o<e;o++)i[o]=t[o];for(o=e;o<r;o++){var a=i[o-1];o%e===0?(a=a<<8|a>>>24,a=c.SBOX[a>>>24]<<24|c.SBOX[a>>>16&255]<<16|c.SBOX[a>>>8&255]<<8|c.SBOX[255&a],a^=u[o/e|0]<<24):e>6&&o%e===4&&(a=c.SBOX[a>>>24]<<24|c.SBOX[a>>>16&255]<<16|c.SBOX[a>>>8&255]<<8|c.SBOX[255&a]),i[o]=i[o-e]^a}for(var s=[],f=0;f<r;f++){var l=r-f,h=i[l-(f%4?0:4)];s[f]=f<4||l<=4?h:c.INV_SUB_MIX[0][c.SBOX[h>>>24]]^c.INV_SUB_MIX[1][c.SBOX[h>>>16&255]]^c.INV_SUB_MIX[2][c.SBOX[h>>>8&255]]^c.INV_SUB_MIX[3][c.SBOX[255&h]]}this._nRounds=n,this._keySchedule=i,this._invKeySchedule=s},a.prototype.encryptBlockRaw=function(t){return t=r(t),o(t,this._keySchedule,c.SUB_MIX,c.SBOX,this._nRounds)},a.prototype.encryptBlock=function(t){var e=this.encryptBlockRaw(t),n=s.allocUnsafe(16);return n.writeUInt32BE(e[0],0),n.writeUInt32BE(e[1],4),n.writeUInt32BE(e[2],8),n.writeUInt32BE(e[3],12),n},a.prototype.decryptBlock=function(t){t=r(t);var e=t[1];t[1]=t[3],t[3]=e;var n=o(t,this._invKeySchedule,c.INV_SUB_MIX,c.INV_SBOX,this._nRounds),i=s.allocUnsafe(16);return i.writeUInt32BE(n[0],0),i.writeUInt32BE(n[3],4),i.writeUInt32BE(n[2],8),i.writeUInt32BE(n[1],12),i},a.prototype.scrub=function(){i(this._keySchedule),i(this._invKeySchedule),i(this._key)},t.exports.AES=a},function(t,e,n){function r(t,e,n,r){if(i.isBuffer(t)||(t=i.from(t,"binary")),e&&(i.isBuffer(e)||(e=i.from(e,"binary")),8!==e.length))throw new RangeError("salt should be Buffer with 8 byte length");for(var a=n/8,s=i.alloc(a),u=i.alloc(r||0),c=i.alloc(0);a>0||r>0;){var f=new o;f.update(c),f.update(t),e&&f.update(e),c=f.digest();var l=0;if(a>0){var h=s.length-a;l=Math.min(a,c.length),c.copy(s,h,0,l),a-=l}if(l<c.length&&r>0){var d=u.length-r,p=Math.min(r,c.length-l);c.copy(u,d,l,l+p),r-=p}}return c.fill(0),{key:s,iv:u}}var i=n(1).Buffer,o=n(149);t.exports=r},function(t,e,n){"use strict";var r=e;r.base=n(562),r.short=n(563),r.mont=n(564),r.edwards=n(565)},function(t,e,n){(function(e){function r(t){var n;"object"!==typeof t||e.isBuffer(t)||(n=t.passphrase,t=t.key),"string"===typeof t&&(t=new e(t));var r,a,u=s(t,n),c=u.tag,f=u.data;switch(c){case"CERTIFICATE":a=o.certificate.decode(f,"der").tbsCertificate.subjectPublicKeyInfo;case"PUBLIC KEY":switch(a||(a=o.PublicKey.decode(f,"der")),r=a.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return o.RSAPublicKey.decode(a.subjectPublicKey.data,"der");case"1.2.840.10045.2.1":return a.subjectPrivateKey=a.subjectPublicKey,{type:"ec",data:a};case"1.2.840.10040.4.1":return a.algorithm.params.pub_key=o.DSAparam.decode(a.subjectPublicKey.data,"der"),{type:"dsa",data:a.algorithm.params};default:throw new Error("unknown key id "+r)}throw new Error("unknown key type "+c);case"ENCRYPTED PRIVATE KEY":f=o.EncryptedPrivateKey.decode(f,"der"),f=i(f,n);case"PRIVATE KEY":switch(a=o.PrivateKey.decode(f,"der"),r=a.algorithm.algorithm.join(".")){case"1.2.840.113549.1.1.1":return o.RSAPrivateKey.decode(a.subjectPrivateKey,"der");case"1.2.840.10045.2.1":return{curve:a.algorithm.curve,privateKey:o.ECPrivateKey.decode(a.subjectPrivateKey,"der").privateKey};case"1.2.840.10040.4.1":return a.algorithm.params.priv_key=o.DSAparam.decode(a.subjectPrivateKey,"der"),{type:"dsa",params:a.algorithm.params};default:throw new Error("unknown key id "+r)}throw new Error("unknown key type "+c);case"RSA PUBLIC KEY":return o.RSAPublicKey.decode(f,"der");case"RSA PRIVATE KEY":return o.RSAPrivateKey.decode(f,"der");case"DSA PRIVATE KEY":return{type:"dsa",params:o.DSAPrivateKey.decode(f,"der")};case"EC PRIVATE KEY":return f=o.ECPrivateKey.decode(f,"der"),{curve:f.parameters.value,privateKey:f.privateKey};default:throw new Error("unknown key type "+c)}}function i(t,n){var r=t.algorithm.decrypt.kde.kdeparams.salt,i=parseInt(t.algorithm.decrypt.kde.kdeparams.iters.toString(),10),o=a[t.algorithm.decrypt.cipher.algo.join(".")],s=t.algorithm.decrypt.cipher.iv,f=t.subjectPrivateKey,l=parseInt(o.split("-")[1],10)/8,h=c.pbkdf2Sync(n,r,i,l),d=u.createDecipheriv(o,h,s),p=[];return p.push(d.update(f)),p.push(d.final()),e.concat(p)}var o=n(581),a=n(593),s=n(594),u=n(158),c=n(258);t.exports=r,r.signature=o.signature}).call(e,n(7).Buffer)},function(t,e,n){"use strict";function r(t){if(null===t||void 0===t)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(t)}var i=Object.getOwnPropertySymbols,o=Object.prototype.hasOwnProperty,a=Object.prototype.propertyIsEnumerable;t.exports=function(){try{if(!Object.assign)return!1;var t=new String("abc");if(t[5]="de","5"===Object.getOwnPropertyNames(t)[0])return!1;for(var e={},n=0;n<10;n++)e["_"+String.fromCharCode(n)]=n;if("0123456789"!==Object.getOwnPropertyNames(e).map(function(t){return e[t]}).join(""))return!1;var r={};return"abcdefghijklmnopqrst".split("").forEach(function(t){r[t]=t}),"abcdefghijklmnopqrst"===Object.keys(Object.assign({},r)).join("")}catch(t){return!1}}()?Object.assign:function(t,e){for(var n,s,u=r(t),c=1;c<arguments.length;c++){n=Object(arguments[c]);for(var f in n)o.call(n,f)&&(u[f]=n[f]);if(i){s=i(n);for(var l=0;l<s.length;l++)a.call(n,s[l])&&(u[s[l]]=n[s[l]])}}return u}},function(t,e,n){"use strict";var r=n(69),i=n.n(r),o=function(){var t=null,e=function(e){return i()(null==t,"A history supports only one prompt at a time"),t=e,function(){t===e&&(t=null)}},n=function(e,n,r,o){if(null!=t){var a="function"===typeof t?t(e,n):t;"string"===typeof a?"function"===typeof r?r(a,o):(i()(!1,"A history needs a getUserConfirmation function in order to use a prompt message"),o(!0)):o(!1!==a)}else o(!0)},r=[];return{setPrompt:e,confirmTransitionTo:n,appendListener:function(t){var e=!0,n=function(){e&&t.apply(void 0,arguments)};return r.push(n),function(){e=!1,r=r.filter(function(t){return t!==n})}},notifyListeners:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];r.forEach(function(t){return t.apply(void 0,e)})}}};e.a=o},function(t,e,n){"use strict";var r=n(100);e.a=r.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(23),s=n.n(a),u=n(16),c=n.n(u),f=n(3),l=n.n(f),h=n(6),d=n.n(h),p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y=function(t){function e(){var n,o,a;r(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,t.call.apply(t,[this].concat(u))),o.state={match:o.computeMatch(o.props.history.location.pathname)},a=n,i(o,a)}return o(e,t),e.prototype.getChildContext=function(){return{router:p({},this.context.router,{history:this.props.history,route:{location:this.props.history.location,match:this.state.match}})}},e.prototype.computeMatch=function(t){return{path:"/",url:"/",params:{},isExact:"/"===t}},e.prototype.componentWillMount=function(){var t=this,e=this.props,n=e.children,r=e.history;c()(null==n||1===l.a.Children.count(n),"A <Router> may have only one child element"),this.unlisten=r.listen(function(){t.setState({match:t.computeMatch(r.location.pathname)})})},e.prototype.componentWillReceiveProps=function(t){s()(this.props.history===t.history,"You cannot change <Router history>")},e.prototype.componentWillUnmount=function(){this.unlisten()},e.prototype.render=function(){var t=this.props.children;return t?l.a.Children.only(t):null},e}(l.a.Component);y.propTypes={history:d.a.object.isRequired,children:d.a.node},y.contextTypes={router:d.a.object},y.childContextTypes={router:d.a.object.isRequired},e.a=y},function(t,e,n){"use strict";var r=n(168),i=n.n(r),o={},a=0,s=function(t,e){var n=""+e.end+e.strict+e.sensitive,r=o[n]||(o[n]={});if(r[t])return r[t];var s=[],u=i()(t,s,e),c={re:u,keys:s};return a<1e4&&(r[t]=c,a++),c},u=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments[2];"string"===typeof e&&(e={path:e});var r=e,i=r.path,o=r.exact,a=void 0!==o&&o,u=r.strict,c=void 0!==u&&u,f=r.sensitive,l=void 0!==f&&f;if(null==i)return n;var h=s(i,{end:a,strict:c,sensitive:l}),d=h.re,p=h.keys,y=d.exec(t);if(!y)return null;var m=y[0],v=y.slice(1),g=t===m;return a&&!g?null:{path:i,url:"/"===i&&""===m?"/":m,isExact:g,params:p.reduce(function(t,e,n){return t[e.name]=v[n],t},{})}};e.a=u},function(t,e,n){"use strict";function r(t){"undefined"!==typeof console&&"function"===typeof console.error&&console.error(t);try{throw new Error(t)}catch(t){}}e.a=r},function(t,e,n){"use strict";function r(){return r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},r.apply(this,arguments)}e.a=r},function(t,e,n){"use strict";function r(t,e){if(null==t)return{};var n,r,i={},o=Object.keys(t);for(r=0;r<o.length;r++)n=o[r],e.indexOf(n)>=0||(i[n]=t[n]);return i}e.a=r},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"a",function(){return s});var r=n(106),i=(n.n(r),n(182)),o=function(t){return function(e,n,r){var o=r.getFirestore,a=r.getFirebase,s=o();a().auth().signInWithPopup(i.b).then(function(n){e({type:"LOGIN_SUCCESS"}),localStorage.setItem("login","logged");var r=n.user,i={username:r.displayName,email:r.email,photoURL:r.photoURL,online:!0,lastSignInTime:null,uid:r.W.O};s.get({collection:"users",where:[["email","==",r.email]]}).then(function(n){if(0==n.docs.length)s.collection("users").add(Object.assign({},i)).then(function(){t(r.W.O),e({type:"SIGNIN_SUCCESS",item:i})});else{var o=n.docs[0].id;s.update({collection:"users",doc:o},Object.assign({},i)).then(function(){e({type:"SIGNIN_SUCCESS",item:i})})}}).catch(function(t){e({type:"LOGIN_FAIL"})})})}},a=function(t){return function(e,n,r){var i=r.getFirestore,o=r.getFirebase,a=i(),s=o(),u=n().firebase.auth;console.log(n().firebase.auth),a.get({collection:"users",where:[["email","==",u.email]]}).then(function(n){if(n.docs.length>0){var r=n.docs[0].id,i={lastSignInTime:new Date,online:!1};e({type:"CLEAR_CHATING_USER"}),localStorage.setItem("login","unlogged"),t(),a.update({collection:"users",doc:r},i).then(function(){s.auth().signOut().then(function(){e({type:"SIGNOUT_SUCCESS"})})})}})}},s=function(t){return function(e,n,r){var i=r.getFirestore,o=r.getFirebase,a=o(),s=i(),u=a.database().ref("lastOnline/"+t);a.database().ref("presence").on("value",function(t){var e=t.val();e&&(e=Object.entries(e),e.forEach(function(t){s.get({collection:"users",where:[["uid","==",t[0]]]}).then(function(t){if(t.docs.length>0){var e=t.docs[0].id;s.update({collection:"users",doc:e},{online:!0,lastSignInTime:null})}})}),u.remove(),u.onDisconnect().set({lastSignInTime:a.database.ServerValue.TIMESTAMP}))}),a.database().ref("lastOnline").on("value",function(t){var e=t.val();e&&(e=Object.entries(e),e.forEach(function(t){s.get({collection:"users",where:[["uid","==",t[0]]]}).then(function(t){if(t.docs.length>0){var e=t.docs[0].id;s.update({collection:"users",doc:e},{online:!1,lastSignInTime:new Date}).then(function(){console.log("updated user")})}})}))})}}},function(t,e,n){"use strict";n(176);var r=function(t){return t&&"object"===typeof t&&"default"in t?t.default:t}(n(24));n(178),n(348),n(180),n(352),n(354),n(181),console.warn("\nIt looks like you're using the development build of the Firebase JS SDK.\nWhen deploying Firebase apps to production, it is advisable to only import\nthe individual SDK components you intend to use.\n\nFor the module builds, these are available in the following manner\n(replace <PACKAGE> with the name of a component - i.e. auth, database, etc):\n\nCommonJS Modules:\nconst firebase = require('firebase/app');\nrequire('firebase/<PACKAGE>');\n\nES Modules:\nimport firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n\nTypescript:\nimport * as firebase from 'firebase/app';\nimport 'firebase/<PACKAGE>';\n"),t.exports=r},function(t,e,n){"use strict";function r(t){return i(void 0,t)}function i(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var r in e)e.hasOwnProperty(r)&&(t[r]=i(t[r],e[r]));return t}function o(t,e,n){t[e]=n}function a(t){var e=x;return x=t,e}function s(t){return JSON.parse(t)}function u(t){return JSON.stringify(t)}function c(t,e){var n=new it(t,e);return n.subscribe.bind(n)}function f(t,e){return function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}}function l(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i in t&&"function"===typeof t[i])return!0}return!1}function h(){}function d(t,e,n){var r="";switch(e){case 1:r=n?"first":"First";break;case 2:r=n?"second":"Second";break;case 3:r=n?"third":"Third";break;case 4:r=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var i=t+" failed: ";return i+=r+" argument "}function p(t,e,n,r){if((!r||n)&&"string"!==typeof n)throw new Error(d(t,e,r)+"must be a valid firebase namespace.")}function y(t,e,n,r){if((!r||n)&&"function"!==typeof n)throw new Error(d(t,e,r)+"must be a valid function.")}function m(t,e,n,r){if((!r||n)&&("object"!==typeof n||null===n))throw new Error(d(t,e,r)+"must be a valid context object.")}Object.defineProperty(e,"__esModule",{value:!0});var v=n(347),g={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},b=function(t,e){if(!t)throw _(e)},_=function(t){return new Error("Firebase Database ("+g.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},w=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):55296==(64512&i)&&r+1<t.length&&56320==(64512&t.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&t.charCodeAt(++r)),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},E=function(t){for(var e=[],n=0,r=0;n<t.length;){var i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){var o=t[n++];e[r++]=String.fromCharCode((31&i)<<6|63&o)}else if(i>239&&i<365){var o=t[n++],a=t[n++],s=t[n++],u=((7&i)<<18|(63&o)<<12|(63&a)<<6|63&s)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(1023&u))}else{var o=t[n++],a=t[n++];e[r++]=String.fromCharCode((15&i)<<12|(63&o)<<6|63&a)}}return e.join("")},S={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[],i=0;i<t.length;i+=3){var o=t[i],a=i+1<t.length,s=a?t[i+1]:0,u=i+2<t.length,c=u?t[i+2]:0,f=o>>2,l=(3&o)<<4|s>>4,h=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(h=64)),r.push(n[f],n[l],n[h],n[d])}return r.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(w(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):E(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[],i=0;i<t.length;){var o=n[t.charAt(i++)],a=i<t.length,s=a?n[t.charAt(i)]:0;++i;var u=i<t.length,c=u?n[t.charAt(i)]:64;++i;var f=i<t.length,l=f?n[t.charAt(i)]:64;if(++i,null==o||null==s||null==c||null==l)throw Error();var h=o<<2|s>>4;if(r.push(h),64!=c){var d=s<<4&240|c>>2;if(r.push(d),64!=l){var p=c<<6&192|l;r.push(p)}}}return r},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},T=function(t){var e=w(t);return S.encodeByteArray(e,!0)},C=function(t){try{return S.decodeString(t,!0)}catch(t){console.error("base64Decode failed: ",t)}return null},I=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,r){n?e.reject(n):e.resolve(r),"function"===typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,r))}},t}(),A=function(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""},O=function(){return"undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(A())},k=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},R=function(){return!0===g.NODE_CLIENT||!0===g.NODE_ADMIN},P="FirebaseError",x=Error.captureStackTrace,D=function(){function t(t,e){if(this.code=t,this.message=e,x)x(this,N.prototype.create);else try{throw Error.apply(this,arguments)}catch(t){this.name=P,Object.defineProperty(this,"stack",{get:function(){return t.stack}})}}return t}();D.prototype=Object.create(Error.prototype),D.prototype.constructor=D,D.prototype.name=P;var N=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],i=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+i+").";var o=new D(i,n);for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=e[a]);return o},t}(),M=function(t){var e={},n={},r={},i="";try{var o=t.split(".");e=s(C(o[0])||""),n=s(C(o[1])||""),i=o[2],r=n.d||{},delete n.d}catch(t){}return{header:e,claims:n,data:r,signature:i}},L=function(t){var e,n,r=M(t).claims,i=Math.floor((new Date).getTime()/1e3);return"object"===typeof r&&(r.hasOwnProperty("nbf")?e=r.nbf:r.hasOwnProperty("iat")&&(e=r.iat),n=r.hasOwnProperty("exp")?r.exp:e+86400),i&&e&&n&&i>=e&&i<=n},j=function(t){var e=M(t).claims;return"object"===typeof e&&e.hasOwnProperty("iat")?e.iat:null},U=function(t){var e=M(t),n=e.claims;return!!n&&"object"===typeof n&&n.hasOwnProperty("iat")},F=function(t){var e=M(t).claims;return"object"===typeof e&&!0===e.admin},B=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},q=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},W=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},V=function(t,e){return W(e,function(e,n){t[e]=n}),t},H=function(t){return V({},t)},z=function(t){return"object"===typeof t&&null!==t},K=function(t){for(var e in t)return!1;return!0},G=function(t){var e=0;for(var n in t)e++;return e},Q=function(t,e,n){var r={};for(var i in t)r[i]=e.call(n,t[i],i,t);return r},Y=function(t,e,n){for(var r in t)if(e.call(n,t[r],r,t))return r},X=function(t,e,n){var r=Y(t,e,n);return r&&t[r]},$=function(t){for(var e in t)return e},J=function(t){var e=[],n=0;for(var r in t)e[n++]=t[r];return e},Z=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},tt=function(t){var e=[];return W(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},et=function(t){var e={};return t.replace(/^\?/,"").split("&").forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},nt=function(){function t(){this.blockSize=-1}return t}(),rt=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}return v.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(var r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(var r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}for(var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],f=this.chain_[3],l=this.chain_[4],r=0;r<80;r++){r<40?r<20?(o=f^u&(c^f),a=1518500249):(o=u^c^f,a=1859775393):r<60?(o=u&c|f&(u|c),a=2400959708):(o=u^c^f,a=3395469782);var i=(s<<5|s>>>27)+o+l+a+n[r]&4294967295;l=f,f=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0==o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++o,++r,o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++o,++r,o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t},e}(nt),it=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var r,i=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");r=l(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===r.next&&(r.next=h),void 0===r.error&&(r.error=h),void 0===r.complete&&(r.complete=h);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{i.finalError?r.error(i.finalError):r.complete()}catch(t){}}),this.observers.push(r),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(t){"undefined"!==typeof console&&console.error&&console.error(t)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}(),ot=function(t,e,n,r){var i;if(r<e?i="at least "+e:r>n&&(i=0===n?"none":"no more than "+n),i){var o=t+" failed: Was called with "+r+(1===r?" argument.":" arguments.")+" Expects "+i+".";throw new Error(o)}},at=function(t){for(var e=[],n=0,r=0;r<t.length;r++){var i=t.charCodeAt(r);if(i>=55296&&i<=56319){var o=i-55296;r++,b(r<t.length,"Surrogate pair missing trail surrogate.");i=65536+(o<<10)+(t.charCodeAt(r)-56320)}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=63&i|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=63&i|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=63&i|128)}return e},st=function(t){for(var e=0,n=0;n<t.length;n++){var r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};e.assert=b,e.assertionError=_,e.base64=S,e.base64Decode=C,e.base64Encode=T,e.CONSTANTS=g,e.deepCopy=r,e.deepExtend=i,e.patchProperty=o,e.Deferred=I,e.getUA=A,e.isMobileCordova=O,e.isNodeSdk=R,e.isReactNative=k,e.ErrorFactory=N,e.FirebaseError=D,e.patchCapture=a,e.jsonEval=s,e.stringify=u,e.decode=M,e.isAdmin=F,e.issuedAtTime=j,e.isValidFormat=U,e.isValidTimestamp=L,e.clone=H,e.contains=B,e.every=Z,e.extend=V,e.findKey=Y,e.findValue=X,e.forEach=W,e.getAnyKey=$,e.getCount=G,e.getValues=J,e.isEmpty=K,e.isNonNullObject=z,e.map=Q,e.safeGet=q,e.querystring=tt,e.querystringDecode=et,e.Sha1=rt,e.async=f,e.createSubscribe=c,e.errorPrefix=d,e.validateArgCount=ot,e.validateCallback=y,e.validateContextObject=m,e.validateNamespace=p,e.stringLength=st,e.stringToByteArray=at},function(t,e,n){var r=n(30),i=n(11),o=r(i,"Map");t.exports=o},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(382),o=n(389),a=n(391),s=n(392),u=n(393);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){function r(t,e,n,a,s){return t===e||(null==t||null==e||!o(t)&&!o(e)?t!==t&&e!==e:i(t,e,n,a,r,s))}var i=n(394),o=n(10);t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.__data__=new i;++e<n;)this.add(t[e])}var i=n(109),o=n(395),a=n(396);r.prototype.add=r.prototype.push=o,r.prototype.has=a,t.exports=r},function(t,e){function n(t,e){return t.has(e)}t.exports=n},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t){n[++e]=t}),n}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}t.exports=n},function(t,e,n){var r=n(116),i=n(191),o=Object.prototype,a=o.propertyIsEnumerable,s=Object.getOwnPropertySymbols,u=s?function(t){return null==t?[]:(t=Object(t),r(s(t),function(e){return a.call(t,e)}))}:i;t.exports=u},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length,i=0,o=[];++n<r;){var a=t[n];e(a,n,t)&&(o[i++]=a)}return o}t.exports=n},function(t,e,n){var r=n(403),i=n(78),o=n(119),a=o&&o.isTypedArray,s=a?i(a):r;t.exports=s},function(t,e){function n(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=r}var r=9007199254740991;t.exports=n},function(t,e,n){(function(t){var r=n(184),i="object"==typeof e&&e&&!e.nodeType&&e,o=i&&"object"==typeof t&&t&&!t.nodeType&&t,a=o&&o.exports===i,s=a&&r.process,u=function(){try{var t=o&&o.require&&o.require("util").types;return t||s&&s.binding&&s.binding("util")}catch(t){}}();t.exports=u}).call(e,n(41)(t))},function(t,e,n){function r(t){if(!i(t))return o(t);var e=[];for(var n in Object(t))s.call(t,n)&&"constructor"!=n&&e.push(n);return e}var i=n(79),o=n(404),a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){if(i(t))return!1;var n=typeof t;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=t&&!o(t))||(s.test(t)||!a.test(t)||null!=e&&t in Object(e))}var i=n(2),o=n(51),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=r},function(t,e,n){function r(t){if("string"==typeof t)return t;if(a(t))return o(t,r)+"";if(s(t))return f?f.call(t):"";var e=t+"";return"0"==e&&1/t==-u?"-0":e}var i=n(39),o=n(52),a=n(2),s=n(51),u=1/0,c=i?i.prototype:void 0,f=c?c.toString:void 0;t.exports=r},function(t,e,n){function r(t,e){return e=i(e,t),null==(t=a(t,e))||delete t[s(o(e))]}var i=n(32),o=n(54),a=n(202),s=n(26);t.exports=r},function(t,e,n){function r(t,e,n){if(!s(n))return!1;var r=typeof e;return!!("number"==r?o(n)&&a(e,n.length):"string"==r&&e in n)&&i(n[e],t)}var i=n(50),o=n(25),a=n(42),s=n(4);t.exports=r},function(t,e,n){function r(t,e){return null!=t&&o(t,e,i)}var i=n(421),o=n(200);t.exports=r},function(t,e,n){function r(t,e,n,r){if(!s(t))return t;e=o(e,t);for(var c=-1,f=e.length,l=f-1,h=t;null!=h&&++c<f;){var d=u(e[c]),p=n;if(c!=l){var y=h[d];p=r?r(y,d,h):void 0,void 0===p&&(p=s(y)?y:a(e[c+1])?[]:{})}i(h,d,p),h=h[d]}return t}var i=n(83),o=n(32),a=n(42),s=n(4),u=n(26);t.exports=r},function(t,e){function n(t){return r.test(t)}var r=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]");t.exports=n},function(t,e,n){function r(t,e){var n={};return e=a(e,3),o(t,function(t,r,o){i(n,r,e(t,r,o))}),n}var i=n(56),o=n(204),a=n(14);t.exports=r},function(t,e,n){function r(t){return a(o(t,void 0,i),t+"")}var i=n(432),o=n(213),a=n(130);t.exports=r},function(t,e,n){var r=n(433),i=n(214),o=i(r);t.exports=o},function(t,e,n){function r(t,e,n,D,N,M){var L,j=e&C,U=e&I,F=e&A;if(n&&(L=N?n(t,D,N,M):n(t)),void 0!==L)return L;if(!E(t))return t;var B=b(t);if(B){if(L=m(t),!j)return f(t,L)}else{var q=y(t),W=q==k||q==R;if(_(t))return c(t,j);if(q==P||q==O||W&&!N){if(L=U||W?{}:g(t),!j)return U?h(t,u(L,t)):l(t,s(L,t))}else{if(!x[q])return N?t:{};L=v(t,q,j)}}M||(M=new i);var V=M.get(t);if(V)return V;if(M.set(t,L),S(t))return t.forEach(function(i){L.add(r(i,e,n,i,t,M))}),L;if(w(t))return t.forEach(function(i,o){L.set(o,r(i,e,n,o,t,M))}),L;var H=F?U?p:d:U?keysIn:T,z=B?void 0:H(t);return o(z||t,function(i,o){z&&(o=i,i=t[o]),a(L,o,r(i,e,n,o,t,M))}),L}var i=n(71),o=n(85),a=n(83),s=n(215),u=n(435),c=n(216),f=n(59),l=n(438),h=n(439),d=n(189),p=n(218),y=n(43),m=n(440),v=n(441),g=n(220),b=n(2),_=n(77),w=n(445),E=n(4),S=n(447),T=n(40),C=1,I=2,A=4,O="[object Arguments]",k="[object Function]",R="[object GeneratorFunction]",P="[object Object]",x={};x[O]=x["[object Array]"]=x["[object ArrayBuffer]"]=x["[object DataView]"]=x["[object Boolean]"]=x["[object Date]"]=x["[object Float32Array]"]=x["[object Float64Array]"]=x["[object Int8Array]"]=x["[object Int16Array]"]=x["[object Int32Array]"]=x["[object Map]"]=x["[object Number]"]=x[P]=x["[object RegExp]"]=x["[object Set]"]=x["[object String]"]=x["[object Symbol]"]=x["[object Uint8Array]"]=x["[object Uint8ClampedArray]"]=x["[object Uint16Array]"]=x["[object Uint32Array]"]=!0,x["[object Error]"]=x[k]=x["[object WeakMap]"]=!1,t.exports=r},function(t,e,n){var r=n(193),i=r(Object.getPrototypeOf,Object);t.exports=i},function(t,e,n){function r(t){var e=new t.constructor(t.byteLength);return new i(e).set(new i(t)),e}var i=n(188);t.exports=r},function(t,e,n){function r(t){if(!a(t)||i(t)!=s)return!1;var e=o(t);if(null===e)return!0;var n=l.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&f.call(n)==h}var i=n(18),o=n(132),a=n(10),s="[object Object]",u=Function.prototype,c=Object.prototype,f=u.toString,l=c.hasOwnProperty,h=f.call(Object);t.exports=r},function(t,e,n){function r(t,e,n,l,h){t!==e&&a(e,function(a,c){if(u(a))h||(h=new i),s(t,e,c,n,r,l,h);else{var d=l?l(f(t,c),a,c+"",t,e,h):void 0;void 0===d&&(d=a),o(t,c,d)}},c)}var i=n(71),o=n(222),a=n(205),s=n(453),u=n(4),c=n(88),f=n(223);t.exports=r},function(t,e,n){function r(t){return o(t)&&i(t)}var i=n(25),o=n(10);t.exports=r},function(t,e,n){function r(t){return i(function(e,n){var r=-1,i=n.length,a=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(a=t.length>3&&"function"==typeof a?(i--,a):void 0,s&&o(n[0],n[1],s)&&(a=i<3?void 0:a,i=1),e=Object(e);++r<i;){var u=n[r];u&&t(e,u,r,a)}return e})}var i=n(60),o=n(124);t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return t?t.split(/\//).filter(function(t){return!!t}):[]}function o(t){return i(t).join("/")}function a(t){return i(t).join(".")}Object.defineProperty(e,"__esModule",{value:!0}),e.recursiveUnset=e.preserveValuesFromState=e.combineReducers=void 0;var s=n(460),u=r(s),c=n(2),f=r(c),l=n(86),h=r(l),d=n(239),p=r(d),y=n(9),m=r(y),v=n(57),g=r(v),b=n(240),_=r(b),w=n(31),E=r(w),S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.pathToArr=i,e.getSlashStrPath=o,e.getDotStrPath=a;e.combineReducers=function(t){return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];return Object.keys(t).reduce(function(r,i){return r[i]=t[i](e[i],n),r},{})}},e.preserveValuesFromState=function(t,e,n){if((0,m.default)(e))return e(t,n);if((0,p.default)(e)&&e)return n?S({},t,n):t;if((0,f.default)(e))return(0,h.default)(t,e);throw new Error("Invalid preserve parameter. It must be an Object or an Array")},e.recursiveUnset=function t(e,n){var r=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(!e)return n;if((0,g.default)((0,E.default)(n,e))>0&&r)return n;var i=(0,u.default)(e,n);return t(e.match(/\./)?(0,_.default)(e,/\.[^.]*$/,""):"",i,!0)}},function(t,e,n){function r(t,e,n,r,E,S,T,C){var I=e&m;if(!I&&"function"!=typeof t)throw new TypeError(p);var A=r?r.length:0;if(A||(e&=~(b|_),r=E=void 0),T=void 0===T?T:w(d(T),0),C=void 0===C?C:d(C),A-=E?E.length:0,e&_){var O=r,k=E;r=E=void 0}var R=I?void 0:c(t),P=[t,e,n,r,E,O,k,S,T,C];if(R&&f(P,R),t=P[0],e=P[1],n=P[2],r=P[3],E=P[4],C=P[9]=void 0===P[9]?I?0:t.length:w(P[9]-A,0),!C&&e&(v|g)&&(e&=~(v|g)),e&&e!=y)x=e==v||e==g?a(t,e,C):e!=b&&e!=(y|b)||E.length?s.apply(void 0,P):u(t,e,n,r);else var x=o(t,e,n);return h((R?i:l)(x,P),t,e)}var i=n(226),o=n(465),a=n(466),s=n(228),u=n(480),c=n(232),f=n(481),l=n(235),h=n(236),d=n(238),p="Expected a function",y=1,m=2,v=8,g=16,b=32,_=64,w=Math.max;t.exports=r},function(t,e,n){function r(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=a,this.__views__=[]}var i=n(89),o=n(141),a=4294967295;r.prototype=i(o.prototype),r.prototype.constructor=r,t.exports=r},function(t,e){function n(){}t.exports=n},function(t,e,n){function r(t,e){return!!(null==t?0:t.length)&&i(t,e,0)>-1}var i=n(143);t.exports=r},function(t,e,n){function r(t,e,n){return e===e?a(t,e,n):i(t,o,n)}var i=n(476),o=n(477),a=n(478);t.exports=r},function(t,e){function n(t,e){for(var n=-1,i=t.length,o=0,a=[];++n<i;){var s=t[n];s!==e&&s!==r||(t[n]=r,a[o++]=n)}return a}var r="__lodash_placeholder__";t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){if(e.database&&e.database.ServerValue){var n=e.database().ref(),r=e._,i=r.config,o=i.presence,s=i.sessions,u=r.authUid,c=n.child(".info/connected"),f=n.child((0,a.default)(o)?o(e.auth().currentUser,e):o).child(u),l=(0,a.default)(s)?s(e.auth().currentUser,e):s;l&&(l=n.child(s)),c.on("value",function(n){if(n.val()){if(l){t({type:d.actionTypes.SESSION_START,payload:u});var r=l.push({startedAt:e.database.ServerValue.TIMESTAMP,user:u});(0,a.default)(r.setPriority)&&r.setPriority(u),r.child("endedAt").onDisconnect().set(e.database.ServerValue.TIMESTAMP,function(){t({type:d.actionTypes.SESSION_END})})}f.set(!0),f.onDisconnect().remove()}})}}Object.defineProperty(e,"__esModule",{value:!0}),e.updateProfileOnFirestore=e.updateProfileOnRTDB=e.createAuthIsReady=e.authIsReady=e.getLoginMethodAndParams=void 0;var o=n(9),a=r(o),s=n(27),u=r(s),c=n(2),f=r(c),l=n(492),h=r(l);e.setupPresence=i;var d=n(19),p=function(t,e,n){var r=(0,h.default)(e)+"AuthProvider",i=new t.auth[r],o=t._.config.customAuthParameters;return o&&o[e]&&i.setCustomParameters(o[e]),"twitter"!==e.toLowerCase()&&(0,a.default)(i.addScope)?(i.addScope("email"),n&&((0,f.default)(n)&&n.forEach(function(t){i.addScope(t)}),(0,u.default)(n)&&i.addScope(n)),i):i},y=(e.getLoginMethodAndParams=function(t,e){var n=e.email,r=e.password,i=e.provider,o=e.type,a=e.token,s=e.scopes,u=e.phoneNumber,c=e.applicationVerifier,f=e.credential;if(f){return t.auth().signInAndRetrieveDataWithCredential?{method:"signInAndRetrieveDataWithCredential",params:[f]}:{method:"signInWithCredential",params:[f]}}if(i){if(-1===d.supportedAuthProviders.indexOf(i.toLowerCase()))throw new Error(i+" is not a valid Auth Provider");if(a)throw new Error("provider with token no longer supported, use credential parameter instead");var l=p(t,i,s);return"popup"===o?{method:"signInWithPopup",params:[l]}:{method:"signInWithRedirect",params:[l]}}if(a){return t.auth().signInAndRetrieveDataWithCustomToken?{method:"signInAndRetrieveDataWithCustomToken",params:[a]}:{method:"signInWithCustomToken",params:[a]}}if(u){if(!c)throw new Error("Application verifier is required for phone authentication");return{method:"signInWithPhoneNumber",params:[u,c]}}return t.auth().signInAndRetrieveDataWithEmailAndPassword?{method:"signInAndRetrieveDataWithEmailAndPassword",params:[n,r]}:{method:"signInWithEmailAndPassword",params:[n,r]}},function(t,e){var n=t.getState(),r=e?n[e]:n;if(!r||!r.auth)throw new Error("The Firebase auth state could not be found in the store under the attribute '"+(e?e+".":"")+"auth'. Make sure your react-redux-firebase reducer is correctly set in the store");return r.auth.isLoaded}),m=e.authIsReady=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"firebase";return new Promise(function(n){if(y(t,e))n();else var r=t.subscribe(function(){y(t,e)&&(r(),n())})})};e.createAuthIsReady=function(t,e){return(0,a.default)(e.authIsReady)?e.authIsReady(t,e):m(t,e.firebaseStateName)},e.updateProfileOnRTDB=function(t,e){var n=t.database,r=t._,i=r.config,o=r.authUid,a=n().ref(i.userProfile+"/"+o);return a.update(e).then(function(){return a.once("value")})},e.updateProfileOnFirestore=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=n.useSet,i=void 0===r||r,o=n.merge,a=void 0===o||o,s=t.firestore,u=t._,c=u.config,f=u.authUid,l=s().doc(c.userProfile+"/"+f);return(i?l.set(e,{merge:a}):l.update(e)).then(function(){return l.get()})}},function(t,e,n){function r(t,e,n){var r=t.length;return n=void 0===n?r:n,!e&&n>=r?t:i(t,e,n)}var i=n(203);t.exports=r},function(t,e,n){function r(t){return o(t)?a(t):i(t)}var i=n(495),o=n(127),a=n(496);t.exports=r},function(t,e,n){function r(t,e){return i(t,e)}var i=n(110);t.exports=r},function(t,e,n){"use strict";function r(){f.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878}function i(t,e){return t<<e|t>>>32-e}function o(t,e,n,r,o,a,s){return i(t+(e&n|~e&r)+o+a|0,s)+e|0}function a(t,e,n,r,o,a,s){return i(t+(e&r|n&~r)+o+a|0,s)+e|0}function s(t,e,n,r,o,a,s){return i(t+(e^n^r)+o+a|0,s)+e|0}function u(t,e,n,r,o,a,s){return i(t+(n^(e|~r))+o+a|0,s)+e|0}var c=n(0),f=n(248),l=n(1).Buffer,h=new Array(16);c(r,f),r.prototype._update=function(){for(var t=h,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);var n=this._a,r=this._b,i=this._c,c=this._d;n=o(n,r,i,c,t[0],3614090360,7),c=o(c,n,r,i,t[1],3905402710,12),i=o(i,c,n,r,t[2],606105819,17),r=o(r,i,c,n,t[3],3250441966,22),n=o(n,r,i,c,t[4],4118548399,7),c=o(c,n,r,i,t[5],1200080426,12),i=o(i,c,n,r,t[6],2821735955,17),r=o(r,i,c,n,t[7],4249261313,22),n=o(n,r,i,c,t[8],1770035416,7),c=o(c,n,r,i,t[9],2336552879,12),i=o(i,c,n,r,t[10],4294925233,17),r=o(r,i,c,n,t[11],2304563134,22),n=o(n,r,i,c,t[12],1804603682,7),c=o(c,n,r,i,t[13],4254626195,12),i=o(i,c,n,r,t[14],2792965006,17),r=o(r,i,c,n,t[15],1236535329,22),n=a(n,r,i,c,t[1],4129170786,5),c=a(c,n,r,i,t[6],3225465664,9),i=a(i,c,n,r,t[11],643717713,14),r=a(r,i,c,n,t[0],3921069994,20),n=a(n,r,i,c,t[5],3593408605,5),c=a(c,n,r,i,t[10],38016083,9),i=a(i,c,n,r,t[15],3634488961,14),r=a(r,i,c,n,t[4],3889429448,20),n=a(n,r,i,c,t[9],568446438,5),c=a(c,n,r,i,t[14],3275163606,9),i=a(i,c,n,r,t[3],4107603335,14),r=a(r,i,c,n,t[8],1163531501,20),n=a(n,r,i,c,t[13],2850285829,5),c=a(c,n,r,i,t[2],4243563512,9),i=a(i,c,n,r,t[7],1735328473,14),r=a(r,i,c,n,t[12],2368359562,20),n=s(n,r,i,c,t[5],4294588738,4),c=s(c,n,r,i,t[8],2272392833,11),i=s(i,c,n,r,t[11],1839030562,16),r=s(r,i,c,n,t[14],4259657740,23),n=s(n,r,i,c,t[1],2763975236,4),c=s(c,n,r,i,t[4],1272893353,11),i=s(i,c,n,r,t[7],4139469664,16),r=s(r,i,c,n,t[10],3200236656,23),n=s(n,r,i,c,t[13],681279174,4),c=s(c,n,r,i,t[0],3936430074,11),i=s(i,c,n,r,t[3],3572445317,16),r=s(r,i,c,n,t[6],76029189,23),n=s(n,r,i,c,t[9],3654602809,4),c=s(c,n,r,i,t[12],3873151461,11),i=s(i,c,n,r,t[15],530742520,16),r=s(r,i,c,n,t[2],3299628645,23),n=u(n,r,i,c,t[0],4096336452,6),c=u(c,n,r,i,t[7],1126891415,10),i=u(i,c,n,r,t[14],2878612391,15),r=u(r,i,c,n,t[5],4237533241,21),n=u(n,r,i,c,t[12],1700485571,6),c=u(c,n,r,i,t[3],2399980690,10),i=u(i,c,n,r,t[10],4293915773,15),r=u(r,i,c,n,t[1],2240044497,21),n=u(n,r,i,c,t[8],1873313359,6),c=u(c,n,r,i,t[15],4264355552,10),i=u(i,c,n,r,t[6],2734768916,15),r=u(r,i,c,n,t[13],1309151649,21),n=u(n,r,i,c,t[4],4149444226,6),c=u(c,n,r,i,t[11],3174756917,10),i=u(i,c,n,r,t[2],718787259,15),r=u(r,i,c,n,t[9],3951481745,21),this._a=this._a+n|0,this._b=this._b+r|0,this._c=this._c+i|0,this._d=this._d+c|0},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=l.allocUnsafe(16);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t},t.exports=r},function(t,e,n){function r(){i.call(this)}t.exports=r;var i=n(151).EventEmitter;n(0)(r,i),r.Readable=n(152),r.Writable=n(525),r.Duplex=n(526),r.Transform=n(527),r.PassThrough=n(528),r.Stream=r,r.prototype.pipe=function(t,e){function n(e){t.writable&&!1===t.write(e)&&c.pause&&c.pause()}function r(){c.readable&&c.resume&&c.resume()}function o(){f||(f=!0,t.end())}function a(){f||(f=!0,"function"===typeof t.destroy&&t.destroy())}function s(t){if(u(),0===i.listenerCount(this,"error"))throw t}function u(){c.removeListener("data",n),t.removeListener("drain",r),c.removeListener("end",o),c.removeListener("close",a),c.removeListener("error",s),t.removeListener("error",s),c.removeListener("end",u),c.removeListener("close",u),t.removeListener("close",u)}var c=this;c.on("data",n),t.on("drain",r),t._isStdio||e&&!1===e.end||(c.on("end",o),c.on("close",a));var f=!1;return c.on("error",s),t.on("error",s),c.on("end",u),c.on("close",u),t.on("close",u),t.emit("pipe",c),t}},function(t,e){function n(){this._events=this._events||{},this._maxListeners=this._maxListeners||void 0}function r(t){return"function"===typeof t}function i(t){return"number"===typeof t}function o(t){return"object"===typeof t&&null!==t}function a(t){return void 0===t}t.exports=n,n.EventEmitter=n,n.prototype._events=void 0,n.prototype._maxListeners=void 0,n.defaultMaxListeners=10,n.prototype.setMaxListeners=function(t){if(!i(t)||t<0||isNaN(t))throw TypeError("n must be a positive number");return this._maxListeners=t,this},n.prototype.emit=function(t){var e,n,i,s,u,c;if(this._events||(this._events={}),"error"===t&&(!this._events.error||o(this._events.error)&&!this._events.error.length)){if((e=arguments[1])instanceof Error)throw e;var f=new Error('Uncaught, unspecified "error" event. ('+e+")");throw f.context=e,f}if(n=this._events[t],a(n))return!1;if(r(n))switch(arguments.length){case 1:n.call(this);break;case 2:n.call(this,arguments[1]);break;case 3:n.call(this,arguments[1],arguments[2]);break;default:s=Array.prototype.slice.call(arguments,1),n.apply(this,s)}else if(o(n))for(s=Array.prototype.slice.call(arguments,1),c=n.slice(),i=c.length,u=0;u<i;u++)c[u].apply(this,s);return!0},n.prototype.addListener=function(t,e){var i;if(!r(e))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events.newListener&&this.emit("newListener",t,r(e.listener)?e.listener:e),this._events[t]?o(this._events[t])?this._events[t].push(e):this._events[t]=[this._events[t],e]:this._events[t]=e,o(this._events[t])&&!this._events[t].warned&&(i=a(this._maxListeners)?n.defaultMaxListeners:this._maxListeners)&&i>0&&this._events[t].length>i&&(this._events[t].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[t].length),"function"===typeof console.trace&&console.trace()),this},n.prototype.on=n.prototype.addListener,n.prototype.once=function(t,e){function n(){this.removeListener(t,n),i||(i=!0,e.apply(this,arguments))}if(!r(e))throw TypeError("listener must be a function");var i=!1;return n.listener=e,this.on(t,n),this},n.prototype.removeListener=function(t,e){var n,i,a,s;if(!r(e))throw TypeError("listener must be a function");if(!this._events||!this._events[t])return this;if(n=this._events[t],a=n.length,i=-1,n===e||r(n.listener)&&n.listener===e)delete this._events[t],this._events.removeListener&&this.emit("removeListener",t,e);else if(o(n)){for(s=a;s-- >0;)if(n[s]===e||n[s].listener&&n[s].listener===e){i=s;break}if(i<0)return this;1===n.length?(n.length=0,delete this._events[t]):n.splice(i,1),this._events.removeListener&&this.emit("removeListener",t,e)}return this},n.prototype.removeAllListeners=function(t){var e,n;if(!this._events)return this;if(!this._events.removeListener)return 0===arguments.length?this._events={}:this._events[t]&&delete this._events[t],this;if(0===arguments.length){for(e in this._events)"removeListener"!==e&&this.removeAllListeners(e);return this.removeAllListeners("removeListener"),this._events={},this}if(n=this._events[t],r(n))this.removeListener(t,n);else if(n)for(;n.length;)this.removeListener(t,n[n.length-1]);return delete this._events[t],this},n.prototype.listeners=function(t){return this._events&&this._events[t]?r(this._events[t])?[this._events[t]]:this._events[t].slice():[]},n.prototype.listenerCount=function(t){if(this._events){var e=this._events[t];if(r(e))return 1;if(e)return e.length}return 0},n.listenerCount=function(t,e){return t.listenerCount(e)}},function(t,e,n){e=t.exports=n(249),e.Stream=e,e.Readable=e,e.Writable=n(153),e.Duplex=n(36),e.Transform=n(252),e.PassThrough=n(524)},function(t,e,n){"use strict";(function(e,r,i){function o(t){var e=this;this.next=null,this.entry=null,this.finish=function(){A(e,t)}}function a(t){return N.from(t)}function s(t){return N.isBuffer(t)||t instanceof M}function u(){}function c(t,e){k=k||n(36),t=t||{};var r=e instanceof k;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.writableObjectMode);var i=t.highWaterMark,a=t.writableHighWaterMark,s=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(a||0===a)?a:s,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1,this.destroyed=!1;var u=!1===t.decodeStrings;this.decodeStrings=!u,this.defaultEncoding=t.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(t){g(e,t)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new o(this)}function f(t){if(k=k||n(36),!j.call(f,this)&&!(this instanceof k))return new f(t);this._writableState=new c(t,this),this.writable=!0,t&&("function"===typeof t.write&&(this._write=t.write),"function"===typeof t.writev&&(this._writev=t.writev),"function"===typeof t.destroy&&(this._destroy=t.destroy),"function"===typeof t.final&&(this._final=t.final)),D.call(this)}function l(t,e){var n=new Error("write after end");t.emit("error",n),O.nextTick(e,n)}function h(t,e,n,r){var i=!0,o=!1;return null===n?o=new TypeError("May not write null values to stream"):"string"===typeof n||void 0===n||e.objectMode||(o=new TypeError("Invalid non-string/buffer chunk")),o&&(t.emit("error",o),O.nextTick(r,o),i=!1),i}function d(t,e,n){return t.objectMode||!1===t.decodeStrings||"string"!==typeof e||(e=N.from(e,n)),e}function p(t,e,n,r,i,o){if(!n){var a=d(e,r,i);r!==a&&(n=!0,i="buffer",r=a)}var s=e.objectMode?1:r.length;e.length+=s;var u=e.length<e.highWaterMark;if(u||(e.needDrain=!0),e.writing||e.corked){var c=e.lastBufferedRequest;e.lastBufferedRequest={chunk:r,encoding:i,isBuf:n,callback:o,next:null},c?c.next=e.lastBufferedRequest:e.bufferedRequest=e.lastBufferedRequest,e.bufferedRequestCount+=1}else y(t,e,!1,s,r,i,o);return u}function y(t,e,n,r,i,o,a){e.writelen=r,e.writecb=a,e.writing=!0,e.sync=!0,n?t._writev(i,e.onwrite):t._write(i,o,e.onwrite),e.sync=!1}function m(t,e,n,r,i){--e.pendingcb,n?(O.nextTick(i,r),O.nextTick(C,t,e),t._writableState.errorEmitted=!0,t.emit("error",r)):(i(r),t._writableState.errorEmitted=!0,t.emit("error",r),C(t,e))}function v(t){t.writing=!1,t.writecb=null,t.length-=t.writelen,t.writelen=0}function g(t,e){var n=t._writableState,r=n.sync,i=n.writecb;if(v(n),e)m(t,n,r,e,i);else{var o=E(n);o||n.corked||n.bufferProcessing||!n.bufferedRequest||w(t,n),r?R(b,t,n,o,i):b(t,n,o,i)}}function b(t,e,n,r){n||_(t,e),e.pendingcb--,r(),C(t,e)}function _(t,e){0===e.length&&e.needDrain&&(e.needDrain=!1,t.emit("drain"))}function w(t,e){e.bufferProcessing=!0;var n=e.bufferedRequest;if(t._writev&&n&&n.next){var r=e.bufferedRequestCount,i=new Array(r),a=e.corkedRequestsFree;a.entry=n;for(var s=0,u=!0;n;)i[s]=n,n.isBuf||(u=!1),n=n.next,s+=1;i.allBuffers=u,y(t,e,!0,e.length,i,"",a.finish),e.pendingcb++,e.lastBufferedRequest=null,a.next?(e.corkedRequestsFree=a.next,a.next=null):e.corkedRequestsFree=new o(e),e.bufferedRequestCount=0}else{for(;n;){var c=n.chunk,f=n.encoding,l=n.callback;if(y(t,e,!1,e.objectMode?1:c.length,c,f,l),n=n.next,e.bufferedRequestCount--,e.writing)break}null===n&&(e.lastBufferedRequest=null)}e.bufferedRequest=n,e.bufferProcessing=!1}function E(t){return t.ending&&0===t.length&&null===t.bufferedRequest&&!t.finished&&!t.writing}function S(t,e){t._final(function(n){e.pendingcb--,n&&t.emit("error",n),e.prefinished=!0,t.emit("prefinish"),C(t,e)})}function T(t,e){e.prefinished||e.finalCalled||("function"===typeof t._final?(e.pendingcb++,e.finalCalled=!0,O.nextTick(S,t,e)):(e.prefinished=!0,t.emit("prefinish")))}function C(t,e){var n=E(e);return n&&(T(t,e),0===e.pendingcb&&(e.finished=!0,t.emit("finish"))),n}function I(t,e,n){e.ending=!0,C(t,e),n&&(e.finished?O.nextTick(n):t.once("finish",n)),e.ended=!0,t.writable=!1}function A(t,e,n){var r=t.entry;for(t.entry=null;r;){var i=r.callback;e.pendingcb--,i(n),r=r.next}e.corkedRequestsFree?e.corkedRequestsFree.next=t:e.corkedRequestsFree=t}var O=n(92);t.exports=f;var k,R=!e.browser&&["v0.10","v0.9."].indexOf(e.version.slice(0,5))>-1?r:O.nextTick;f.WritableState=c;var P=n(64);P.inherits=n(0);var x={deprecate:n(523)},D=n(250),N=n(1).Buffer,M=i.Uint8Array||function(){},L=n(251);P.inherits(f,D),c.prototype.getBuffer=function(){for(var t=this.bufferedRequest,e=[];t;)e.push(t),t=t.next;return e},function(){try{Object.defineProperty(c.prototype,"buffer",{get:x.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(t){}}();var j;"function"===typeof Symbol&&Symbol.hasInstance&&"function"===typeof Function.prototype[Symbol.hasInstance]?(j=Function.prototype[Symbol.hasInstance],Object.defineProperty(f,Symbol.hasInstance,{value:function(t){return!!j.call(this,t)||this===f&&(t&&t._writableState instanceof c)}})):j=function(t){return t instanceof this},f.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},f.prototype.write=function(t,e,n){var r=this._writableState,i=!1,o=!r.objectMode&&s(t);return o&&!N.isBuffer(t)&&(t=a(t)),"function"===typeof e&&(n=e,e=null),o?e="buffer":e||(e=r.defaultEncoding),"function"!==typeof n&&(n=u),r.ended?l(this,n):(o||h(this,r,t,n))&&(r.pendingcb++,i=p(this,r,o,t,e,n)),i},f.prototype.cork=function(){this._writableState.corked++},f.prototype.uncork=function(){var t=this._writableState;t.corked&&(t.corked--,t.writing||t.corked||t.finished||t.bufferProcessing||!t.bufferedRequest||w(this,t))},f.prototype.setDefaultEncoding=function(t){if("string"===typeof t&&(t=t.toLowerCase()),!(["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((t+"").toLowerCase())>-1))throw new TypeError("Unknown encoding: "+t);return this._writableState.defaultEncoding=t,this},Object.defineProperty(f.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),f.prototype._write=function(t,e,n){n(new Error("_write() is not implemented"))},f.prototype._writev=null,f.prototype.end=function(t,e,n){var r=this._writableState;"function"===typeof t?(n=t,t=null,e=null):"function"===typeof e&&(n=e,e=null),null!==t&&void 0!==t&&this.write(t,e),r.corked&&(r.corked=1,this.uncork()),r.ending||r.finished||I(this,r,n)},Object.defineProperty(f.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(t){this._writableState&&(this._writableState.destroyed=t)}}),f.prototype.destroy=L.destroy,f.prototype._undestroy=L.undestroy,f.prototype._destroy=function(t,e){this.end(),e(t)}}).call(e,n(22),n(177).setImmediate,n(8))},function(t,e,n){"use strict";function r(t){if(!t)return"utf8";for(var e;;)switch(t){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return t;default:if(e)return;t=(""+t).toLowerCase(),e=!0}}function i(t){var e=r(t);if("string"!==typeof e&&(g.isEncoding===b||!b(t)))throw new Error("Unknown encoding: "+t);return e||t}function o(t){this.encoding=i(t);var e;switch(this.encoding){case"utf16le":this.text=h,this.end=d,e=4;break;case"utf8":this.fillLast=c,e=4;break;case"base64":this.text=p,this.end=y,e=3;break;default:return this.write=m,void(this.end=v)}this.lastNeed=0,this.lastTotal=0,this.lastChar=g.allocUnsafe(e)}function a(t){return t<=127?0:t>>5===6?2:t>>4===14?3:t>>3===30?4:t>>6===2?-1:-2}function s(t,e,n){var r=e.length-1;if(r<n)return 0;var i=a(e[r]);return i>=0?(i>0&&(t.lastNeed=i-1),i):--r<n||-2===i?0:(i=a(e[r]))>=0?(i>0&&(t.lastNeed=i-2),i):--r<n||-2===i?0:(i=a(e[r]),i>=0?(i>0&&(2===i?i=0:t.lastNeed=i-3),i):0)}function u(t,e,n){if(128!==(192&e[0]))return t.lastNeed=0,"\ufffd";if(t.lastNeed>1&&e.length>1){if(128!==(192&e[1]))return t.lastNeed=1,"\ufffd";if(t.lastNeed>2&&e.length>2&&128!==(192&e[2]))return t.lastNeed=2,"\ufffd"}}function c(t){var e=this.lastTotal-this.lastNeed,n=u(this,t,e);return void 0!==n?n:this.lastNeed<=t.length?(t.copy(this.lastChar,e,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(t.copy(this.lastChar,e,0,t.length),void(this.lastNeed-=t.length))}function f(t,e){var n=s(this,t,e);if(!this.lastNeed)return t.toString("utf8",e);this.lastTotal=n;var r=t.length-(n-this.lastNeed);return t.copy(this.lastChar,0,r),t.toString("utf8",e,r)}function l(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+"\ufffd":e}function h(t,e){if((t.length-e)%2===0){var n=t.toString("utf16le",e);if(n){var r=n.charCodeAt(n.length-1);if(r>=55296&&r<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1],n.slice(0,-1)}return n}return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=t[t.length-1],t.toString("utf16le",e,t.length-1)}function d(t){var e=t&&t.length?this.write(t):"";if(this.lastNeed){var n=this.lastTotal-this.lastNeed;return e+this.lastChar.toString("utf16le",0,n)}return e}function p(t,e){var n=(t.length-e)%3;return 0===n?t.toString("base64",e):(this.lastNeed=3-n,this.lastTotal=3,1===n?this.lastChar[0]=t[t.length-1]:(this.lastChar[0]=t[t.length-2],this.lastChar[1]=t[t.length-1]),t.toString("base64",e,t.length-n))}function y(t){var e=t&&t.length?this.write(t):"";return this.lastNeed?e+this.lastChar.toString("base64",0,3-this.lastNeed):e}function m(t){return t.toString(this.encoding)}function v(t){return t&&t.length?this.write(t):""}var g=n(1).Buffer,b=g.isEncoding||function(t){switch((t=""+t)&&t.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};e.StringDecoder=o,o.prototype.write=function(t){if(0===t.length)return"";var e,n;if(this.lastNeed){if(void 0===(e=this.fillLast(t)))return"";n=this.lastNeed,this.lastNeed=0}else n=0;return n<t.length?e?e+this.text(t,n):this.text(t,n):e||""},o.prototype.end=l,o.prototype.text=f,o.prototype.fillLast=function(t){if(this.lastNeed<=t.length)return t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);t.copy(this.lastChar,this.lastTotal-this.lastNeed,0,t.length),this.lastNeed-=t.length}},function(t,e,n){"use strict";function r(){h.call(this,64),this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520}function i(t,e){return t<<e|t>>>32-e}function o(t,e,n,r,o,a,s,u){return i(t+(e^n^r)+a+s|0,u)+o|0}function a(t,e,n,r,o,a,s,u){return i(t+(e&n|~e&r)+a+s|0,u)+o|0}function s(t,e,n,r,o,a,s,u){return i(t+((e|~n)^r)+a+s|0,u)+o|0}function u(t,e,n,r,o,a,s,u){return i(t+(e&r|n&~r)+a+s|0,u)+o|0}function c(t,e,n,r,o,a,s,u){return i(t+(e^(n|~r))+a+s|0,u)+o|0}var f=n(7).Buffer,l=n(0),h=n(248),d=new Array(16),p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],g=[0,1518500249,1859775393,2400959708,2840853838],b=[1352829926,1548603684,1836072691,2053994217,0];l(r,h),r.prototype._update=function(){for(var t=d,e=0;e<16;++e)t[e]=this._block.readInt32LE(4*e);for(var n=0|this._a,r=0|this._b,f=0|this._c,l=0|this._d,h=0|this._e,_=0|this._a,w=0|this._b,E=0|this._c,S=0|this._d,T=0|this._e,C=0;C<80;C+=1){var I,A;C<16?(I=o(n,r,f,l,h,t[p[C]],g[0],m[C]),A=c(_,w,E,S,T,t[y[C]],b[0],v[C])):C<32?(I=a(n,r,f,l,h,t[p[C]],g[1],m[C]),A=u(_,w,E,S,T,t[y[C]],b[1],v[C])):C<48?(I=s(n,r,f,l,h,t[p[C]],g[2],m[C]),A=s(_,w,E,S,T,t[y[C]],b[2],v[C])):C<64?(I=u(n,r,f,l,h,t[p[C]],g[3],m[C]),A=a(_,w,E,S,T,t[y[C]],b[3],v[C])):(I=c(n,r,f,l,h,t[p[C]],g[4],m[C]),A=o(_,w,E,S,T,t[y[C]],b[4],v[C])),n=h,h=l,l=i(f,10),f=r,r=I,_=T,T=S,S=i(E,10),E=w,w=A}var O=this._b+f+S|0;this._b=this._c+l+T|0,this._c=this._d+h+_|0,this._d=this._e+n+w|0,this._e=this._a+r+E|0,this._a=O},r.prototype._digest=function(){this._block[this._blockOffset++]=128,this._blockOffset>56&&(this._block.fill(0,this._blockOffset,64),this._update(),this._blockOffset=0),this._block.fill(0,this._blockOffset,56),this._block.writeUInt32LE(this._length[0],56),this._block.writeUInt32LE(this._length[1],60),this._update();var t=f.alloc?f.alloc(20):new f(20);return t.writeInt32LE(this._a,0),t.writeInt32LE(this._b,4),t.writeInt32LE(this._c,8),t.writeInt32LE(this._d,12),t.writeInt32LE(this._e,16),t},t.exports=r},function(t,e,n){var e=t.exports=function(t){t=t.toLowerCase();var n=e[t];if(!n)throw new Error(t+" is not supported (we accept pull requests)");return new n};e.sha=n(529),e.sha1=n(530),e.sha224=n(531),e.sha256=n(253),e.sha384=n(532),e.sha512=n(254)},function(t,e,n){"use strict";e.utils=n(538),e.Cipher=n(539),e.DES=n(540),e.CBC=n(541),e.EDE=n(542)},function(t,e,n){function r(){return Object.keys(a)}var i=n(543),o=n(551),a=n(264);e.createCipher=e.Cipher=i.createCipher,e.createCipheriv=e.Cipheriv=i.createCipheriv,e.createDecipher=e.Decipher=o.createDecipher,e.createDecipheriv=e.Decipheriv=o.createDecipheriv,e.listCiphers=e.getCiphers=r},function(t,e,n){var r={ECB:n(544),CBC:n(545),CFB:n(546),CFB8:n(547),CFB1:n(548),OFB:n(549),CTR:n(262),GCM:n(262)},i=n(264);for(var o in i)i[o].module=r[i[o].mode];t.exports=i},function(t,e,n){(function(e){function r(t){var e=o(t);return{blinder:e.toRed(a.mont(t.modulus)).redPow(new a(t.publicExponent)).fromRed(),unblinder:e.invm(t.modulus)}}function i(t,n){var i=r(n),o=n.modulus.byteLength(),s=(a.mont(n.modulus),new a(t).mul(i.blinder).umod(n.modulus)),u=s.toRed(a.mont(n.prime1)),c=s.toRed(a.mont(n.prime2)),f=n.coefficient,l=n.prime1,h=n.prime2,d=u.redPow(n.exponent1),p=c.redPow(n.exponent2);d=d.fromRed(),p=p.fromRed();var y=d.isub(p).imul(f).umod(l);return y.imul(h),p.iadd(y),new e(p.imul(i.unblinder).umod(n.modulus).toArray(!1,o))}function o(t){for(var e=t.modulus.byteLength(),n=new a(s(e));n.cmp(t.modulus)>=0||!n.umod(t.prime1)||!n.umod(t.prime2);)n=new a(s(e));return n}var a=n(5),s=n(44);t.exports=i,i.getr=o}).call(e,n(7).Buffer)},function(t,e,n){var r=e;r.utils=n(20),r.common=n(66),r.sha=n(567),r.ripemd=n(571),r.hmac=n(572),r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){return Array.isArray(t)?t:Array.from(t)}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(t,e){if(!(0,x.default)(e))throw new Error("where parameter must be an array.");return(0,N.default)(e[0])?e.length>1?t.where.apply(t,o(e)):t.where(e[0]):e.reduce(function(t,e){return a(t,e)},t)}function s(t,e){if(!(0,x.default)(e)&&!(0,N.default)(e))throw new Error("orderBy parameter must be an array or string.");return(0,N.default)(e)?t.orderBy(e):(0,N.default)(e[0])?t.orderBy.apply(t,o(e)):e.reduce(function(t,e){return s(t,e)},t)}function u(t,e){return e&&(0,I.default)(e,function(e){if(e.collection){if(!(0,E.default)(t.collection))throw new Error('Collection can only be run on a document. Check that query config for subcollection: "'+e.collection+'" contains a doc parameter.');t=t.collection(e.collection)}e.doc&&(t=t.doc(e.doc)),e.where&&(t=a(t,e.where)),e.orderBy&&(t=s(t,e.orderBy)),e.limit&&(t=t.limit(e.limit)),e.startAt&&(t=t.startAt(e.startAt)),e.startAfter&&(t=t.startAfter(e.startAfter)),e.endAt&&(t=t.endAt(e.endAt)),e.endBefore&&(t=t.endBefore(e.endBefore)),t=u(t,e.subcollections)}),t}function c(t,e,n){if(!t.firestore)throw new Error("Firestore must be required and initalized.");var r=n.collection,i=n.doc,o=n.subcollections,c=n.where,f=n.orderBy,l=n.limit,h=n.startAt,d=n.startAfter,p=n.endAt,y=n.endBefore,m=t.firestore().collection(r);return i&&(m=m.doc(i)),m=u(m,o),c&&(m=a(m,c)),f&&(m=s(m,f)),l&&(m=m.limit(l)),h&&(m=m.startAt(h)),d&&(m=m.startAfter(d)),p&&(m=m.endAt(p)),y&&(m=m.endBefore(y)),m}function f(t){return(0,N.default)(t[0])?"where="+t.join(":"):t.map(f)}function l(t){if((0,N.default)(t))return t;var e=t.collection,n=t.doc,r=t.subcollections,i=t.where,o=t.limit;if(!e)throw new Error("Collection is required to build query name");var a=e;if(n&&(a=a.concat("/"+n)),r){a=a+"/"+r.map(function(t){return l(t)}).join("/")}if(i){if(!(0,x.default)(i))throw new Error("where parameter must be an array.");a=a.concat("?"+f(i))}if("undefined"!==typeof o){var s="limit="+o;a=a.concat((i?"&":"?")+s)}return a}function h(t,e){if(!e)throw new Error("Meta data is required to attach listener.");if(!(0,T.default)(t,"_.listeners"))throw new Error("Internal Firebase object required to attach listener. Confirm that reduxFirestore enhancer was added when you were creating your store")}function d(t,e){h(t,e);var n=l(e);return!!t._.listeners[n]}function p(t,e,n,r){h(t,n);var i=l(n);return t._.listeners[i]||(t._.listeners[i]=r),e({type:U.actionTypes.SET_LISTENER,meta:n,payload:{name:i}}),t._.listeners}function y(t,e,n){var r=l(n);t._.listeners[r]&&(t._.listeners[r](),delete t._.listeners[r]),e({type:U.actionTypes.UNSET_LISTENER,meta:n,payload:{name:r}})}function m(t,e){var n=e||(0,O.default)(t,["/"]).split("/"),r=i(n),o=r[0],a=r[1],s=r.slice(2),u={};return o&&(u.collection=o),a&&(u.doc=a),s.length&&(u.subcollections=[m("",s)]),u}function v(t){if((0,N.default)(t))return m(t);if((0,L.default)(t)){if(!t.collection&&!t.doc)throw new Error("Collection and/or Doc are required parameters within query definition object.");return t}throw new Error("Invalid Path Definition: Only Strings and Objects are accepted.")}function g(t){if((0,x.default)(t))return t.map(v);if((0,N.default)(t))return m(t);if((0,L.default)(t))return[v(t)];throw new Error("Querie(s) must be an Array or a string.")}function b(t){var e=[];if(t.data&&t.exists){var n=(0,L.default)(t.data())?j({id:t.id},t.data()||t.data):{id:t.id,data:t.data()};e.push(n)}else t.forEach&&t.forEach(function(t){var n=(0,L.default)(t.data())?j({id:t.id},t.data()||t.data):{id:t.id,data:t.data()};e.push(n)});return e}function _(t){var e={};return t.data&&t.exists?e[t.id]=t.data():t.forEach&&t.forEach(function(t){e[t.id]=t.data()||t}),(0,R.default)(e)?e:null}Object.defineProperty(e,"__esModule",{value:!0});var w=n(9),E=r(w),S=n(125),T=r(S),C=n(84),I=r(C),A=n(618),O=r(A),k=n(57),R=r(k),P=n(2),x=r(P),D=n(27),N=r(D),M=n(4),L=r(M),j=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.firestoreRef=c,e.getQueryName=l,e.listenerExists=d,e.attachListener=p,e.detachListener=y,e.queryStrToObj=m,e.getQueryConfig=v,e.getQueryConfigs=g,e.orderedFromSnap=b,e.dataByIdSnapshot=_;var U=n(15)},function(t,e,n){"use strict";function r(){}function i(t){try{return t.then}catch(t){return v=t,g}}function o(t,e){try{return t(e)}catch(t){return v=t,g}}function a(t,e,n){try{t(e,n)}catch(t){return v=t,g}}function s(t){if("object"!==typeof this)throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("Promise constructor's argument is not a function");this._75=0,this._83=0,this._18=null,this._38=null,t!==r&&y(t,this)}function u(t,e,n){return new t.constructor(function(i,o){var a=new s(r);a.then(i,o),c(t,new p(e,n,a))})}function c(t,e){for(;3===t._83;)t=t._18;if(s._47&&s._47(t),0===t._83)return 0===t._75?(t._75=1,void(t._38=e)):1===t._75?(t._75=2,void(t._38=[t._38,e])):void t._38.push(e);f(t,e)}function f(t,e){m(function(){var n=1===t._83?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._83?l(e.promise,t._18):h(e.promise,t._18));var r=o(n,t._18);r===g?h(e.promise,v):l(e.promise,r)})}function l(t,e){if(e===t)return h(t,new TypeError("A promise cannot be resolved with itself."));if(e&&("object"===typeof e||"function"===typeof e)){var n=i(e);if(n===g)return h(t,v);if(n===t.then&&e instanceof s)return t._83=3,t._18=e,void d(t);if("function"===typeof n)return void y(n.bind(e),t)}t._83=1,t._18=e,d(t)}function h(t,e){t._83=2,t._18=e,s._71&&s._71(t,e),d(t)}function d(t){if(1===t._75&&(c(t,t._38),t._38=null),2===t._75){for(var e=0;e<t._38.length;e++)c(t,t._38[e]);t._38=null}}function p(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function y(t,e){var n=!1,r=a(t,function(t){n||(n=!0,l(e,t))},function(t){n||(n=!0,h(e,t))});n||r!==g||(n=!0,h(e,v))}var m=n(292),v=null,g={};t.exports=s,s._47=null,s._71=null,s._44=r,s.prototype.then=function(t,e){if(this.constructor!==s)return u(this,t,e);var n=new s(r);return c(this,new p(t,e,n)),n}},function(t,e,n){"use strict";n.d(e,"b",function(){return r}),n.d(e,"a",function(){return i}),n.d(e,"e",function(){return o}),n.d(e,"c",function(){return a}),n.d(e,"g",function(){return s}),n.d(e,"h",function(){return u}),n.d(e,"f",function(){return c}),n.d(e,"d",function(){return f});var r=!("undefined"===typeof window||!window.document||!window.document.createElement),i=function(t,e,n){return t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent("on"+e,n)},o=function(t,e,n){return t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent("on"+e,n)},a=function(t,e){return e(window.confirm(t))},s=function(){var t=window.navigator.userAgent;return(-1===t.indexOf("Android 2.")&&-1===t.indexOf("Android 4.0")||-1===t.indexOf("Mobile Safari")||-1!==t.indexOf("Chrome")||-1!==t.indexOf("Windows Phone"))&&(window.history&&"pushState"in window.history)},u=function(){return-1===window.navigator.userAgent.indexOf("Trident")},c=function(){return-1===window.navigator.userAgent.indexOf("Firefox")},f=function(t){return void 0===t.state&&-1===navigator.userAgent.indexOf("CriOS")}},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(3),u=n.n(s),c=n(6),f=n.n(c),l=n(16),h=n.n(l),d=n(37),p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y=function(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)},m=function(t){function e(){var n,r,a;i(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,t.call.apply(t,[this].concat(u))),r.handleClick=function(t){if(r.props.onClick&&r.props.onClick(t),!t.defaultPrevented&&0===t.button&&!r.props.target&&!y(t)){t.preventDefault();var e=r.context.router.history,n=r.props,i=n.replace,o=n.to;i?e.replace(o):e.push(o)}},a=n,o(r,a)}return a(e,t),e.prototype.render=function(){var t=this.props,e=(t.replace,t.to),n=t.innerRef,i=r(t,["replace","to","innerRef"]);h()(this.context.router,"You should not use <Link> outside a <Router>"),h()(void 0!==e,'You must specify the "to" property');var o=this.context.router.history,a="string"===typeof e?Object(d.c)(e,null,null,o.location):e,s=o.createHref(a);return u.a.createElement("a",p({},i,{onClick:this.handleClick,href:s,ref:n}))},e}(u.a.Component);m.propTypes={onClick:f.a.func,target:f.a.string,replace:f.a.bool,to:f.a.oneOfType([f.a.string,f.a.object]).isRequired,innerRef:f.a.oneOfType([f.a.string,f.a.func])},m.defaultProps={replace:!1},m.contextTypes={router:f.a.shape({history:f.a.shape({push:f.a.func.isRequired,replace:f.a.func.isRequired,createHref:f.a.func.isRequired}).isRequired}).isRequired},e.a=m},function(t,e,n){"use strict";var r=n(167);e.a=r.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(23),s=n.n(a),u=n(16),c=n.n(u),f=n(3),l=n.n(f),h=n(6),d=n.n(h),p=n(101),y=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},m=function(t){return 0===l.a.Children.count(t)},v=function(t){function e(){var n,o,a;r(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,t.call.apply(t,[this].concat(u))),o.state={match:o.computeMatch(o.props,o.context.router)},a=n,i(o,a)}return o(e,t),e.prototype.getChildContext=function(){return{router:y({},this.context.router,{route:{location:this.props.location||this.context.router.route.location,match:this.state.match}})}},e.prototype.computeMatch=function(t,e){var n=t.computedMatch,r=t.location,i=t.path,o=t.strict,a=t.exact,s=t.sensitive;if(n)return n;c()(e,"You should not use <Route> or withRouter() outside a <Router>");var u=e.route,f=(r||u.location).pathname;return Object(p.a)(f,{path:i,strict:o,exact:a,sensitive:s},u.match)},e.prototype.componentWillMount=function(){s()(!(this.props.component&&this.props.render),"You should not use <Route component> and <Route render> in the same route; <Route render> will be ignored"),s()(!(this.props.component&&this.props.children&&!m(this.props.children)),"You should not use <Route component> and <Route children> in the same route; <Route children> will be ignored"),s()(!(this.props.render&&this.props.children&&!m(this.props.children)),"You should not use <Route render> and <Route children> in the same route; <Route children> will be ignored")},e.prototype.componentWillReceiveProps=function(t,e){s()(!(t.location&&!this.props.location),'<Route> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),s()(!(!t.location&&this.props.location),'<Route> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.'),this.setState({match:this.computeMatch(t,e.router)})},e.prototype.render=function(){var t=this.state.match,e=this.props,n=e.children,r=e.component,i=e.render,o=this.context.router,a=o.history,s=o.route,u=o.staticContext,c=this.props.location||s.location,f={match:t,location:c,history:a,staticContext:u};return r?t?l.a.createElement(r,f):null:i?t?i(f):null:"function"===typeof n?n(f):n&&!m(n)?l.a.Children.only(n):null},e}(l.a.Component);v.propTypes={computedMatch:d.a.object,path:d.a.string,exact:d.a.bool,strict:d.a.bool,sensitive:d.a.bool,component:d.a.func,render:d.a.func,children:d.a.oneOfType([d.a.func,d.a.node]),location:d.a.object},v.contextTypes={router:d.a.shape({history:d.a.object.isRequired,route:d.a.object.isRequired,staticContext:d.a.object})},v.childContextTypes={router:d.a.object.isRequired},e.a=v},function(t,e,n){function r(t,e){for(var n,r=[],i=0,o=0,a="",s=e&&e.delimiter||"/";null!=(n=g.exec(t));){var f=n[0],l=n[1],h=n.index;if(a+=t.slice(o,h),o=h+f.length,l)a+=l[1];else{var d=t[o],p=n[2],y=n[3],m=n[4],v=n[5],b=n[6],_=n[7];a&&(r.push(a),a="");var w=null!=p&&null!=d&&d!==p,E="+"===b||"*"===b,S="?"===b||"*"===b,T=n[2]||s,C=m||v;r.push({name:y||i++,prefix:p||"",delimiter:T,optional:S,repeat:E,partial:w,asterisk:!!_,pattern:C?c(C):_?".*":"[^"+u(T)+"]+?"})}}return o<t.length&&(a+=t.substr(o)),a&&r.push(a),r}function i(t,e){return s(r(t,e))}function o(t){return encodeURI(t).replace(/[\/?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function a(t){return encodeURI(t).replace(/[?#]/g,function(t){return"%"+t.charCodeAt(0).toString(16).toUpperCase()})}function s(t){for(var e=new Array(t.length),n=0;n<t.length;n++)"object"===typeof t[n]&&(e[n]=new RegExp("^(?:"+t[n].pattern+")$"));return function(n,r){for(var i="",s=n||{},u=r||{},c=u.pretty?o:encodeURIComponent,f=0;f<t.length;f++){var l=t[f];if("string"!==typeof l){var h,d=s[l.name];if(null==d){if(l.optional){l.partial&&(i+=l.prefix);continue}throw new TypeError('Expected "'+l.name+'" to be defined')}if(v(d)){if(!l.repeat)throw new TypeError('Expected "'+l.name+'" to not repeat, but received `'+JSON.stringify(d)+"`");if(0===d.length){if(l.optional)continue;throw new TypeError('Expected "'+l.name+'" to not be empty')}for(var p=0;p<d.length;p++){if(h=c(d[p]),!e[f].test(h))throw new TypeError('Expected all "'+l.name+'" to match "'+l.pattern+'", but received `'+JSON.stringify(h)+"`");i+=(0===p?l.prefix:l.delimiter)+h}}else{if(h=l.asterisk?a(d):c(d),!e[f].test(h))throw new TypeError('Expected "'+l.name+'" to match "'+l.pattern+'", but received "'+h+'"');i+=l.prefix+h}}else i+=l}return i}}function u(t){return t.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1")}function c(t){return t.replace(/([=!:$\/()])/g,"\\$1")}function f(t,e){return t.keys=e,t}function l(t){return t.sensitive?"":"i"}function h(t,e){var n=t.source.match(/\((?!\?)/g);if(n)for(var r=0;r<n.length;r++)e.push({name:r,prefix:null,delimiter:null,optional:!1,repeat:!1,partial:!1,asterisk:!1,pattern:null});return f(t,e)}function d(t,e,n){for(var r=[],i=0;i<t.length;i++)r.push(m(t[i],e,n).source);return f(new RegExp("(?:"+r.join("|")+")",l(n)),e)}function p(t,e,n){return y(r(t,n),e,n)}function y(t,e,n){v(e)||(n=e||n,e=[]),n=n||{};for(var r=n.strict,i=!1!==n.end,o="",a=0;a<t.length;a++){var s=t[a];if("string"===typeof s)o+=u(s);else{var c=u(s.prefix),h="(?:"+s.pattern+")";e.push(s),s.repeat&&(h+="(?:"+c+h+")*"),h=s.optional?s.partial?c+"("+h+")?":"(?:"+c+"("+h+"))?":c+"("+h+")",o+=h}}var d=u(n.delimiter||"/"),p=o.slice(-d.length)===d;return r||(o=(p?o.slice(0,-d.length):o)+"(?:"+d+"(?=$))?"),o+=i?"$":r&&p?"":"(?="+d+"|$)",f(new RegExp("^"+o,l(n)),e)}function m(t,e,n){return v(e)||(n=e||n,e=[]),n=n||{},t instanceof RegExp?h(t,e):v(t)?d(t,e,n):p(t,e,n)}var v=n(315);t.exports=m,t.exports.parse=r,t.exports.compile=i,t.exports.tokensToFunction=s,t.exports.tokensToRegExp=y;var g=new RegExp(["(\\\\.)","([\\/.])?(?:(?:\\:(\\w+)(?:\\(((?:\\\\.|[^\\\\()])+)\\))?|\\(((?:\\\\.|[^\\\\()])+)\\))([+*?])?|(\\*))"].join("|"),"g")},function(t,e,n){"use strict";var r=n(168),i=n.n(r),o={},a=0,s=function(t){var e=t,n=o[e]||(o[e]={});if(n[t])return n[t];var r=i.a.compile(t);return a<1e4&&(n[t]=r,a++),r},u=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"/",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"/"===t?t:s(t)(e,{pretty:!0})};e.a=u},function(t,e,n){"use strict";function r(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}e.a=r},function(t,e,n){"use strict";n.d(e,"b",function(){return o}),n.d(e,"a",function(){return a});var r=n(6),i=n.n(r),o=i.a.shape({trySubscribe:i.a.func.isRequired,tryUnsubscribe:i.a.func.isRequired,notifyNestedSubs:i.a.func.isRequired,isSubscribed:i.a.func.isRequired}),a=i.a.shape({subscribe:i.a.func.isRequired,dispatch:i.a.func.isRequired,getState:i.a.func.isRequired})},function(t,e,n){"use strict";function r(){}function i(t,e){var n={run:function(r){try{var i=t(e.getState(),r);(i!==n.props||n.error)&&(n.shouldComponentUpdate=!0,n.props=i,n.error=null)}catch(t){n.shouldComponentUpdate=!0,n.error=t}}};return n}function o(t,e){var n,o;void 0===e&&(e={});var f=e,h=f.getDisplayName,_=void 0===h?function(t){return"ConnectAdvanced("+t+")"}:h,w=f.methodName,E=void 0===w?"connectAdvanced":w,S=f.renderCountProp,T=void 0===S?void 0:S,C=f.shouldHandleStateChanges,I=void 0===C||C,A=f.storeKey,O=void 0===A?"store":A,k=f.withRef,R=void 0!==k&&k,P=Object(c.a)(f,["getDisplayName","methodName","renderCountProp","shouldHandleStateChanges","storeKey","withRef"]),x=O+"Subscription",D=g++,N=(n={},n[O]=v.a,n[x]=v.b,n),M=(o={},o[x]=v.b,o);return function(e){d()(Object(y.isValidElementType)(e),"You must pass a component to the function returned by "+E+". Instead received "+JSON.stringify(e));var n=e.displayName||e.name||"Component",o=_(n),c=Object(u.a)({},P,{getDisplayName:_,methodName:E,renderCountProp:T,shouldHandleStateChanges:I,storeKey:O,withRef:R,displayName:o,wrappedComponentName:n,WrappedComponent:e}),f=function(n){function f(t,e){var r;return r=n.call(this,t,e)||this,r.version=D,r.state={},r.renderCount=0,r.store=t[O]||e[O],r.propsMode=Boolean(t[O]),r.setWrappedInstance=r.setWrappedInstance.bind(Object(s.a)(Object(s.a)(r))),d()(r.store,'Could not find "'+O+'" in either the context or props of "'+o+'". Either wrap the root component in a <Provider>, or explicitly pass "'+O+'" as a prop to "'+o+'".'),r.initSelector(),r.initSubscription(),r}Object(a.a)(f,n);var l=f.prototype;return l.getChildContext=function(){var t,e=this.propsMode?null:this.subscription;return t={},t[x]=e||this.context[x],t},l.componentDidMount=function(){I&&(this.subscription.trySubscribe(),this.selector.run(this.props),this.selector.shouldComponentUpdate&&this.forceUpdate())},l.componentWillReceiveProps=function(t){this.selector.run(t)},l.shouldComponentUpdate=function(){return this.selector.shouldComponentUpdate},l.componentWillUnmount=function(){this.subscription&&this.subscription.tryUnsubscribe(),this.subscription=null,this.notifyNestedSubs=r,this.store=null,this.selector.run=r,this.selector.shouldComponentUpdate=!1},l.getWrappedInstance=function(){return d()(R,"To access the wrapped instance, you need to specify { withRef: true } in the options argument of the "+E+"() call."),this.wrappedInstance},l.setWrappedInstance=function(t){this.wrappedInstance=t},l.initSelector=function(){var e=t(this.store.dispatch,c);this.selector=i(e,this.store),this.selector.run(this.props)},l.initSubscription=function(){if(I){var t=(this.propsMode?this.props:this.context)[x];this.subscription=new m.a(this.store,t,this.onStateChange.bind(this)),this.notifyNestedSubs=this.subscription.notifyNestedSubs.bind(this.subscription)}},l.onStateChange=function(){this.selector.run(this.props),this.selector.shouldComponentUpdate?(this.componentDidUpdate=this.notifyNestedSubsOnComponentDidUpdate,this.setState(b)):this.notifyNestedSubs()},l.notifyNestedSubsOnComponentDidUpdate=function(){this.componentDidUpdate=void 0,this.notifyNestedSubs()},l.isSubscribed=function(){return Boolean(this.subscription)&&this.subscription.isSubscribed()},l.addExtraProps=function(t){if(!R&&!T&&(!this.propsMode||!this.subscription))return t;var e=Object(u.a)({},t);return R&&(e.ref=this.setWrappedInstance),T&&(e[T]=this.renderCount++),this.propsMode&&this.subscription&&(e[x]=this.subscription),e},l.render=function(){var t=this.selector;if(t.shouldComponentUpdate=!1,t.error)throw t.error;return Object(p.createElement)(e,this.addExtraProps(t.props))},f}(p.Component);return f.WrappedComponent=e,f.displayName=o,f.childContextTypes=M,f.contextTypes=N,f.propTypes=N,l()(f,e)}}e.a=o;var a=n(170),s=n(330),u=n(103),c=n(104),f=n(331),l=n.n(f),h=n(16),d=n.n(h),p=n(3),y=(n.n(p),n(173)),m=(n.n(y),n(333)),v=n(171),g=0,b={}},function(t,e,n){"use strict";t.exports=n(332)},function(t,e,n){"use strict";function r(t){return function(e,n){function r(){return i}var i=t(e,n);return r.dependsOnOwnProps=!1,r}}function i(t){return null!==t.dependsOnOwnProps&&void 0!==t.dependsOnOwnProps?Boolean(t.dependsOnOwnProps):1!==t.length}function o(t,e){return function(e,n){var r=(n.displayName,function(t,e){return r.dependsOnOwnProps?r.mapToProps(t,e):r.mapToProps(t)});return r.dependsOnOwnProps=!0,r.mapToProps=function(e,n){r.mapToProps=t,r.dependsOnOwnProps=i(t);var o=r(e,n);return"function"===typeof o&&(r.mapToProps=o,r.dependsOnOwnProps=i(o),o=r(e,n)),o},r}}e.a=r,e.b=o;n(175)},function(t,e,n){"use strict";n(340),n(102)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t,e){function r(){}function i(t,e){return function(){t.apply(e,arguments)}}function o(t){if(!(this instanceof o))throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function a(t,e){for(;3===t._state;)t=t._value;if(0===t._state)return void t._deferreds.push(e);t._handled=!0,o._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null===n)return void(1===t._state?s:u)(e.promise,t._value);var r;try{r=n(t._value)}catch(t){return void u(e.promise,t)}s(e.promise,r)})}function s(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===typeof e||"function"===typeof e)){var n=e.then;if(e instanceof o)return t._state=3,t._value=e,void c(t);if("function"===typeof n)return void l(i(n,e),t)}t._state=1,t._value=e,c(t)}catch(e){u(t,e)}}function u(t,e){t._state=2,t._value=e,c(t)}function c(t){2===t._state&&0===t._deferreds.length&&o._immediateFn(function(){t._handled||o._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)a(t,t._deferreds[e]);t._deferreds=null}function f(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function l(t,e){var n=!1;try{t(function(t){n||(n=!0,s(e,t))},function(t){n||(n=!0,u(e,t))})}catch(t){if(n)return;n=!0,u(e,t)}}function h(t,e){return e={exports:{}},t(e,e.exports),e.exports}var d=n(346),p=(n.n(d),setTimeout);o.prototype.catch=function(t){return this.then(null,t)},o.prototype.then=function(t,e){var n=new this.constructor(r);return a(this,new f(t,e,n)),n},o.prototype.finally=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},o.all=function(t){return new o(function(e,n){function r(t,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s)return void s.call(a,function(e){r(t,e)},n)}i[t]=a,0===--o&&e(i)}catch(t){n(t)}}if(!t||"undefined"===typeof t.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);for(var o=i.length,a=0;a<i.length;a++)r(a,i[a])})},o.resolve=function(t){return t&&"object"===typeof t&&t.constructor===o?t:new o(function(e){e(t)})},o.reject=function(t){return new o(function(e,n){n(t)})},o.race=function(t){return new o(function(e,n){for(var r=0,i=t.length;r<i;r++)t[r].then(e,n)})},o._immediateFn="function"===typeof t&&function(e){t(e)}||function(t){p(t,0)},o._unhandledRejectionFn=function(t){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var y=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof e)return e;throw new Error("unable to locate global object")}();y.Promise||(y.Promise=o);var m=h(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),v=h(function(t){var e=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=e)}),g=(v.version,function(t){return"object"===typeof t?null!==t:"function"===typeof t}),b=function(t){if(!g(t))throw TypeError(t+" is not an object!");return t},_=function(t){try{return!!t()}catch(t){return!0}},w=!_(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),E=m.document,S=g(E)&&g(E.createElement),T=function(t){return S?E.createElement(t):{}},C=!w&&!_(function(){return 7!=Object.defineProperty(T("div"),"a",{get:function(){return 7}}).a}),I=function(t,e){if(!g(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!g(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!g(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!g(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")},A=Object.defineProperty,O=w?Object.defineProperty:function(t,e,n){if(b(t),e=I(e,!0),b(n),C)try{return A(t,e,n)}catch(t){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t},k={f:O},R=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},P=w?function(t,e,n){return k.f(t,e,R(1,n))}:function(t,e,n){return t[e]=n,t},x={}.hasOwnProperty,D=function(t,e){return x.call(t,e)},N=0,M=Math.random(),L=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++N+M).toString(36))},j=h(function(t){var e=L("src"),n=Function.toString,r=(""+n).split("toString");v.inspectSource=function(t){return n.call(t)},(t.exports=function(t,n,i,o){var a="function"==typeof i;a&&(D(i,"name")||P(i,"name",n)),t[n]!==i&&(a&&(D(i,e)||P(i,e,t[n]?""+t[n]:r.join(String(n)))),t===m?t[n]=i:o?t[n]?t[n]=i:P(t,n,i):(delete t[n],P(t,n,i)))})(Function.prototype,"toString",function(){return"function"==typeof this&&this[e]||n.call(this)})}),U=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},F=function(t,e,n){if(U(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,r){return t.call(e,n,r)};case 3:return function(n,r,i){return t.call(e,n,r,i)}}return function(){return t.apply(e,arguments)}},B=function(t,e,n){var r,i,o,a,s=t&B.F,u=t&B.G,c=t&B.S,f=t&B.P,l=t&B.B,h=u?m:c?m[e]||(m[e]={}):(m[e]||{}).prototype,d=u?v:v[e]||(v[e]={}),p=d.prototype||(d.prototype={});u&&(n=e);for(r in n)i=!s&&h&&void 0!==h[r],o=(i?h:n)[r],a=l&&i?F(o,m):f&&"function"==typeof o?F(Function.call,o):o,h&&j(h,r,o,t&B.U),d[r]!=o&&P(d,r,a),f&&p[r]!=o&&(p[r]=o)};m.core=v,B.F=1,B.G=2,B.S=4,B.P=8,B.B=16,B.W=32,B.U=64,B.R=128;var q=B,W={}.toString,V=function(t){return W.call(t).slice(8,-1)},H=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==V(t)?t.split(""):Object(t)},z=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},K=function(t){return Object(z(t))},G=Math.ceil,Q=Math.floor,Y=function(t){return isNaN(t=+t)?0:(t>0?Q:G)(t)},X=Math.min,$=function(t){return t>0?X(Y(t),9007199254740991):0},J=Array.isArray||function(t){return"Array"==V(t)},Z=m["__core-js_shared__"]||(m["__core-js_shared__"]={}),tt=function(t){return Z[t]||(Z[t]={})},et=h(function(t){var e=tt("wks"),n=m.Symbol,r="function"==typeof n;(t.exports=function(t){return e[t]||(e[t]=r&&n[t]||(r?n:L)("Symbol."+t))}).store=e}),nt=et("species"),rt=function(t){var e;return J(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!J(e.prototype)||(e=void 0),g(e)&&null===(e=e[nt])&&(e=void 0)),void 0===e?Array:e},it=function(t,e){return new(rt(t))(e)},ot=function(t,e){var n=1==t,r=2==t,i=3==t,o=4==t,a=6==t,s=5==t||a,u=e||it;return function(e,c,f){for(var l,h,d=K(e),p=H(d),y=F(c,f,3),m=$(p.length),v=0,g=n?u(e,m):r?u(e,0):void 0;m>v;v++)if((s||v in p)&&(l=p[v],h=y(l,v,d),t))if(n)g[v]=h;else if(h)switch(t){case 3:return!0;case 5:return l;case 6:return v;case 2:g.push(l)}else if(o)return!1;return a?-1:i||o?o:g}},at=et("unscopables"),st=Array.prototype;void 0==st[at]&&P(st,at,{});var ut=function(t){st[at][t]=!0},ct=ot(5),ft=!0;"find"in[]&&Array(1).find(function(){ft=!1}),q(q.P+q.F*ft,"Array",{find:function(t){return ct(this,t,arguments.length>1?arguments[1]:void 0)}}),ut("find");var lt=(v.Array.find,ot(6)),ht=!0;"findIndex"in[]&&Array(1).findIndex(function(){ht=!1}),q(q.P+q.F*ht,"Array",{findIndex:function(t){return lt(this,t,arguments.length>1?arguments[1]:void 0)}}),ut("findIndex");var dt=(v.Array.findIndex,function(t){return H(z(t))}),pt=Math.max,yt=Math.min,mt=function(t,e){return t=Y(t),t<0?pt(t+e,0):yt(t,e)},vt=tt("keys"),gt=function(t){return vt[t]||(vt[t]=L(t))},bt=function(t){return function(e,n,r){var i,o=dt(e),a=$(o.length),s=mt(r,a);if(t&&n!=n){for(;a>s;)if((i=o[s++])!=i)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}}(!1),_t=gt("IE_PROTO"),wt=function(t,e){var n,r=dt(t),i=0,o=[];for(n in r)n!=_t&&D(r,n)&&o.push(n);for(;e.length>i;)D(r,n=e[i++])&&(~bt(o,n)||o.push(n));return o},Et="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),St=Object.keys||function(t){return wt(t,Et)},Tt=Object.getOwnPropertySymbols,Ct={f:Tt},It={}.propertyIsEnumerable,At={f:It},Ot=Object.assign,kt=!Ot||_(function(){var t={},e={},n=Symbol(),r="abcdefghijklmnopqrst";return t[n]=7,r.split("").forEach(function(t){e[t]=t}),7!=Ot({},t)[n]||Object.keys(Ot({},e)).join("")!=r})?function(t,e){for(var n=K(t),r=arguments.length,i=1,o=Ct.f,a=At.f;r>i;)for(var s,u=H(arguments[i++]),c=o?St(u).concat(o(u)):St(u),f=c.length,l=0;f>l;)a.call(u,s=c[l++])&&(n[s]=u[s]);return n}:Ot;q(q.S+q.F,"Object",{assign:kt});var Rt=(v.Object.assign,et("match")),Pt=function(t){var e;return g(t)&&(void 0!==(e=t[Rt])?!!e:"RegExp"==V(t))},xt=function(t,e,n){if(Pt(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(z(t))},Dt=et("match"),Nt="".startsWith;q(q.P+q.F*function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[Dt]=!1,!"/./"[t](e)}catch(t){}}return!0}("startsWith"),"String",{startsWith:function(t){var e=xt(this,t,"startsWith"),n=$(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),r=String(t);return Nt?Nt.call(e,r,n):e.slice(n,n+r.length)===r}});var Mt=(v.String.startsWith,function(t){var e=String(z(this)),n="",r=Y(t);if(r<0||r==1/0)throw RangeError("Count can't be negative");for(;r>0;(r>>>=1)&&(e+=e))1&r&&(n+=e);return n});q(q.P,"String",{repeat:Mt});var Lt=(v.String.repeat,h(function(t){var e=L("meta"),n=k.f,r=0,i=Object.isExtensible||function(){return!0},o=!_(function(){return i(Object.preventExtensions({}))}),a=function(t){n(t,e,{value:{i:"O"+ ++r,w:{}}})},s=function(t,n){if(!g(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!D(t,e)){if(!i(t))return"F";if(!n)return"E";a(t)}return t[e].i},u=function(t,n){if(!D(t,e)){if(!i(t))return!0;if(!n)return!1;a(t)}return t[e].w},c=function(t){return o&&f.NEED&&i(t)&&!D(t,e)&&a(t),t},f=t.exports={KEY:e,NEED:!1,fastKey:s,getWeak:u,onFreeze:c}})),jt=(Lt.KEY,Lt.NEED,Lt.fastKey,Lt.getWeak,Lt.onFreeze,k.f),Ut=et("toStringTag"),Ft=function(t,e,n){t&&!D(t=n?t:t.prototype,Ut)&&jt(t,Ut,{configurable:!0,value:e})},Bt=et,qt={f:Bt},Wt=k.f,Vt=function(t){var e=v.Symbol||(v.Symbol=m.Symbol||{});"_"==t.charAt(0)||t in e||Wt(e,t,{value:qt.f(t)})},Ht=function(t){var e=St(t),n=Ct.f;if(n)for(var r,i=n(t),o=At.f,a=0;i.length>a;)o.call(t,r=i[a++])&&e.push(r);return e},zt=w?Object.defineProperties:function(t,e){b(t);for(var n,r=St(e),i=r.length,o=0;i>o;)k.f(t,n=r[o++],e[n]);return t},Kt=m.document,Gt=Kt&&Kt.documentElement,Qt=gt("IE_PROTO"),Yt=function(){},Xt=function(){var t,e=T("iframe"),n=Et.length;for(e.style.display="none",Gt.appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write("<script>document.F=Object<\/script>"),t.close(),Xt=t.F;n--;)delete Xt.prototype[Et[n]];return Xt()},$t=Object.create||function(t,e){var n;return null!==t?(Yt.prototype=b(t),n=new Yt,Yt.prototype=null,n[Qt]=t):n=Xt(),void 0===e?n:zt(n,e)},Jt=Et.concat("length","prototype"),Zt=Object.getOwnPropertyNames||function(t){return wt(t,Jt)},te={f:Zt},ee=te.f,ne={}.toString,re="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],ie=function(t){try{return ee(t)}catch(t){return re.slice()}},oe=function(t){return re&&"[object Window]"==ne.call(t)?ie(t):ee(dt(t))},ae={f:oe},se=Object.getOwnPropertyDescriptor,ue=w?se:function(t,e){if(t=dt(t),e=I(e,!0),C)try{return se(t,e)}catch(t){}if(D(t,e))return R(!At.f.call(t,e),t[e])},ce={f:ue},fe=Lt.KEY,le=ce.f,he=k.f,de=ae.f,pe=m.Symbol,ye=m.JSON,me=ye&&ye.stringify,ve=et("_hidden"),ge=et("toPrimitive"),be={}.propertyIsEnumerable,_e=tt("symbol-registry"),we=tt("symbols"),Ee=tt("op-symbols"),Se=Object.prototype,Te="function"==typeof pe,Ce=m.QObject,Ie=!Ce||!Ce.prototype||!Ce.prototype.findChild,Ae=w&&_(function(){return 7!=$t(he({},"a",{get:function(){return he(this,"a",{value:7}).a}})).a})?function(t,e,n){var r=le(Se,e);r&&delete Se[e],he(t,e,n),r&&t!==Se&&he(Se,e,r)}:he,Oe=function(t){var e=we[t]=$t(pe.prototype);return e._k=t,e},ke=Te&&"symbol"==typeof pe.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof pe},Re=function(t,e,n){return t===Se&&Re(Ee,e,n),b(t),e=I(e,!0),b(n),D(we,e)?(n.enumerable?(D(t,ve)&&t[ve][e]&&(t[ve][e]=!1),n=$t(n,{enumerable:R(0,!1)})):(D(t,ve)||he(t,ve,R(1,{})),t[ve][e]=!0),Ae(t,e,n)):he(t,e,n)},Pe=function(t,e){b(t);for(var n,r=Ht(e=dt(e)),i=0,o=r.length;o>i;)Re(t,n=r[i++],e[n]);return t},xe=function(t,e){return void 0===e?$t(t):Pe($t(t),e)},De=function(t){var e=be.call(this,t=I(t,!0));return!(this===Se&&D(we,t)&&!D(Ee,t))&&(!(e||!D(this,t)||!D(we,t)||D(this,ve)&&this[ve][t])||e)},Ne=function(t,e){if(t=dt(t),e=I(e,!0),t!==Se||!D(we,e)||D(Ee,e)){var n=le(t,e);return!n||!D(we,e)||D(t,ve)&&t[ve][e]||(n.enumerable=!0),n}},Me=function(t){for(var e,n=de(dt(t)),r=[],i=0;n.length>i;)D(we,e=n[i++])||e==ve||e==fe||r.push(e);return r},Le=function(t){for(var e,n=t===Se,r=de(n?Ee:dt(t)),i=[],o=0;r.length>o;)!D(we,e=r[o++])||n&&!D(Se,e)||i.push(we[e]);return i};Te||(pe=function(){if(this instanceof pe)throw TypeError("Symbol is not a constructor!");var t=L(arguments.length>0?arguments[0]:void 0),e=function(n){this===Se&&e.call(Ee,n),D(this,ve)&&D(this[ve],t)&&(this[ve][t]=!1),Ae(this,t,R(1,n))};return w&&Ie&&Ae(Se,t,{configurable:!0,set:e}),Oe(t)},j(pe.prototype,"toString",function(){return this._k}),ce.f=Ne,k.f=Re,te.f=ae.f=Me,At.f=De,Ct.f=Le,w&&j(Se,"propertyIsEnumerable",De,!0),qt.f=function(t){return Oe(et(t))}),q(q.G+q.W+q.F*!Te,{Symbol:pe});for(var je="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),Ue=0;je.length>Ue;)et(je[Ue++]);for(var Fe=St(et.store),Be=0;Fe.length>Be;)Vt(Fe[Be++]);q(q.S+q.F*!Te,"Symbol",{for:function(t){return D(_e,t+="")?_e[t]:_e[t]=pe(t)},keyFor:function(t){if(!ke(t))throw TypeError(t+" is not a symbol!");for(var e in _e)if(_e[e]===t)return e},useSetter:function(){Ie=!0},useSimple:function(){Ie=!1}}),q(q.S+q.F*!Te,"Object",{create:xe,defineProperty:Re,defineProperties:Pe,getOwnPropertyDescriptor:Ne,getOwnPropertyNames:Me,getOwnPropertySymbols:Le}),ye&&q(q.S+q.F*(!Te||_(function(){var t=pe();return"[null]"!=me([t])||"{}"!=me({a:t})||"{}"!=me(Object(t))})),"JSON",{stringify:function(t){for(var e,n,r=[t],i=1;arguments.length>i;)r.push(arguments[i++]);if(n=e=r[1],(g(e)||void 0!==t)&&!ke(t))return J(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!ke(e))return e}),r[1]=e,me.apply(ye,r)}}),pe.prototype[ge]||P(pe.prototype,ge,pe.prototype.valueOf),Ft(pe,"Symbol"),Ft(Math,"Math",!0),Ft(m.JSON,"JSON",!0);var qe=et("toStringTag"),We="Arguments"==V(function(){return arguments}()),Ve=function(t,e){try{return t[e]}catch(t){}},He=function(t){var e,n,r;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=Ve(e=Object(t),qe))?n:We?V(e):"Object"==(r=V(e))&&"function"==typeof e.callee?"Arguments":r},ze={};ze[et("toStringTag")]="z",ze+""!="[object z]"&&j(Object.prototype,"toString",function(){return"[object "+He(this)+"]"},!0),Vt("asyncIterator"),Vt("observable");var Ke=(v.Symbol,{}),Ge={};P(Ge,et("iterator"),function(){return this});var Qe=function(t,e,n){t.prototype=$t(Ge,{next:R(1,n)}),Ft(t,e+" Iterator")},Ye=gt("IE_PROTO"),Xe=Object.prototype,$e=Object.getPrototypeOf||function(t){return t=K(t),D(t,Ye)?t[Ye]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Xe:null},Je=et("iterator"),Ze=!([].keys&&"next"in[].keys()),tn=function(){return this},en=function(t,e,n,r,i,o,a){Qe(n,e,r);var s,u,c,f=function(t){if(!Ze&&t in p)return p[t];switch(t){case"keys":case"values":return function(){return new n(this,t)}}return function(){return new n(this,t)}},l=e+" Iterator",h="values"==i,d=!1,p=t.prototype,y=p[Je]||p["@@iterator"]||i&&p[i],m=y||f(i),v=i?h?f("entries"):m:void 0,g="Array"==e?p.entries||y:y;if(g&&(c=$e(g.call(new t)))!==Object.prototype&&c.next&&(Ft(c,l,!0),"function"!=typeof c[Je]&&P(c,Je,tn)),h&&y&&"values"!==y.name&&(d=!0,m=function(){return y.call(this)}),(Ze||d||!p[Je])&&P(p,Je,m),Ke[e]=m,Ke[l]=tn,i)if(s={values:h?m:f("values"),keys:o?m:f("keys"),entries:v},a)for(u in s)u in p||j(p,u,s[u]);else q(q.P+q.F*(Ze||d),e,s);return s},nn=function(t){return function(e,n){var r,i,o=String(z(e)),a=Y(n),s=o.length;return a<0||a>=s?t?"":void 0:(r=o.charCodeAt(a),r<55296||r>56319||a+1===s||(i=o.charCodeAt(a+1))<56320||i>57343?t?o.charAt(a):r:t?o.slice(a,a+2):i-56320+(r-55296<<10)+65536)}}(!0);en(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=nn(e,n),this._i+=t.length,{value:t,done:!1})});var rn=function(t,e){return{value:e,done:!!t}},on=en(Array,"Array",function(t,e){this._t=dt(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,rn(1)):"keys"==e?rn(0,n):"values"==e?rn(0,t[n]):rn(0,[n,t[n]])},"values");Ke.Arguments=Ke.Array,ut("keys"),ut("values"),ut("entries");for(var an=et("iterator"),sn=et("toStringTag"),un=Ke.Array,cn={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},fn=St(cn),ln=0;ln<fn.length;ln++){var hn,dn=fn[ln],pn=cn[dn],yn=m[dn],mn=yn&&yn.prototype;if(mn&&(mn[an]||P(mn,an,un),mn[sn]||P(mn,sn,dn),Ke[dn]=un,pn))for(hn in on)mn[hn]||j(mn,hn,on[hn],!0)}qt.f("iterator")}.call(e,n(177).setImmediate,n(8))},function(t,e,n){(function(t){function r(t,e){this._id=t,this._clearFn=e}var i="undefined"!==typeof t&&t||"undefined"!==typeof self&&self||window,o=Function.prototype.apply;e.setTimeout=function(){return new r(o.call(setTimeout,i,arguments),clearTimeout)},e.setInterval=function(){return new r(o.call(setInterval,i,arguments),clearInterval)},e.clearTimeout=e.clearInterval=function(t){t&&t.close()},r.prototype.unref=r.prototype.ref=function(){},r.prototype.close=function(){this._clearFn.call(i,this._id)},e.enroll=function(t,e){clearTimeout(t._idleTimeoutId),t._idleTimeout=e},e.unenroll=function(t){clearTimeout(t._idleTimeoutId),t._idleTimeout=-1},e._unrefActive=e.active=function(t){clearTimeout(t._idleTimeoutId);var e=t._idleTimeout;e>=0&&(t._idleTimeoutId=setTimeout(function(){t._onTimeout&&t._onTimeout()},e))},n(345),e.setImmediate="undefined"!==typeof self&&self.setImmediate||"undefined"!==typeof t&&t.setImmediate||this&&this.setImmediate,e.clearImmediate="undefined"!==typeof self&&self.clearImmediate||"undefined"!==typeof t&&t.clearImmediate||this&&this.clearImmediate}).call(e,n(8))},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){var e=n(24),r=n.n(e);(function(){function t(t){return"string"==typeof t}function e(t){return"boolean"==typeof t}function n(){}function i(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function o(t){return null===t}function a(t){return"array"==i(t)}function s(t){var e=i(t);return"array"==e||"object"==e&&"number"==typeof t.length}function u(t){return"function"==i(t)}function c(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function f(t,e,n){return t.call.apply(t.bind,arguments)}function l(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function h(t,e,n){return h=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?f:l,h.apply(null,arguments)}function d(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function p(t,e){function n(){}n.prototype=e.prototype,t.nb=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.dd=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function y(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0}function m(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(t){return!1}}function v(t){if(Error.captureStackTrace)Error.captureStackTrace(this,v);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function g(t,e){t=t.split("%s");for(var n="",r=t.length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");v.call(this,n+t[r])}function b(t,e){throw new g("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function _(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function w(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function E(){this.b=this.a=null}function S(){var t=oc,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function T(){this.next=this.b=this.a=null}function C(e,n){var r=e.length,i=t(e)?e.split(""):e;for(--r;0<=r;--r)r in i&&n.call(void 0,i[r],r,e)}function I(e){t:{for(var n=Gr,r=e.length,i=t(e)?e.split(""):e,o=0;o<r;o++)if(o in i&&n.call(void 0,i[o],o,e)){n=o;break t}n=-1}return 0>n?null:t(e)?e.charAt(n):e[n]}function A(t,e){return 0<=qu(t,e)}function O(t,e){e=qu(t,e);var n;return(n=0<=e)&&Array.prototype.splice.call(t,e,1),n}function k(t,e){var n=0;C(t,function(r,i){e.call(void 0,r,i,t)&&1==Array.prototype.splice.call(t,i,1).length&&n++})}function R(t){return Array.prototype.concat.apply([],arguments)}function P(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function x(t,e){for(var n=t.split("%s"),r="",i=Array.prototype.slice.call(arguments,1);i.length&&1<n.length;)r+=n.shift()+i.shift();return r+n.join("%s")}function D(t){return Ju.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(Ku,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(Gu,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(Qu,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(Yu,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(Xu,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace($u,"&#0;")),t):t}function N(t,e){return-1!=t.indexOf(e)}function M(t,e){return t<e?-1:t>e?1:0}function L(t){return N(Bu,t)}function j(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function U(t){for(var e in t)return!1;return!0}function F(t){var e,n={};for(e in t)n[e]=t[e];return n}function B(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<rc.length;o++)n=rc[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function q(t){Mu.setTimeout(function(){throw t},0)}function W(){var t=Mu.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!L("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;t=e.document,t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=h(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!L("Trident")&&!L("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var t=n.vb;n.vb=null,t()}},function(t){r.next={vb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){Mu.setTimeout(t,0)}}function V(t,e){nc||H(),ic||(nc(),ic=!0),oc.add(t,e)}function H(){if(Mu.Promise&&Mu.Promise.resolve){var t=Mu.Promise.resolve(void 0);nc=function(){t.then(z)}}else nc=function(){var t=z;!u(Mu.setImmediate)||Mu.Window&&Mu.Window.prototype&&!L("Edge")&&Mu.Window.prototype.setImmediate==Mu.setImmediate?(ec||(ec=W()),ec(t)):Mu.setImmediate(t)}}function z(){for(var t;t=S();){try{t.a.call(t.b)}catch(t){q(t)}w(Fu,t)}ic=!1}function K(t,e){if(this.a=ac,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=n)try{var r=this;t.call(e,function(t){rt(r,sc,t)},function(t){if(!(t instanceof lt))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(t){}rt(r,uc,t)})}catch(t){rt(this,uc,t)}}function G(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}function Q(t,e,n){var r=cc.get();return r.g=t,r.b=e,r.f=n,r}function Y(t){if(t instanceof K)return t;var e=new K(n);return rt(e,sc,t),e}function X(t){return new K(function(e,n){n(t)})}function $(t,e,n){it(t,e,n,null)||V(d(e,t))}function J(t){return new K(function(e,n){var r=t.length,i=[];if(r)for(var o,a=function(t,n){r--,i[t]=n,0==r&&e(i)},s=function(t){n(t)},u=0;u<t.length;u++)o=t[u],$(o,d(a,u),s);else e(i)})}function Z(t){return new K(function(e){var n=t.length,r=[];if(n)for(var i,o=function(t,i,o){n--,r[t]=i?{Cb:!0,value:o}:{Cb:!1,reason:o},0==n&&e(r)},a=0;a<t.length;a++)i=t[a],$(i,d(o,a,!0),d(o,a,!1));else e(r)})}function tt(t,e){if(t.a==ac)if(t.c){var n=t.c;if(n.b){for(var r=0,i=null,o=null,a=n.b;a&&(a.c||(r++,a.a==t&&(i=a),!(i&&1<r)));a=a.next)i||(o=a);i&&(n.a==ac&&1==r?tt(n,e):(o?(r=o,r.next==n.f&&(n.f=r),r.next=r.next.next):st(n),ut(n,i,uc,e)))}t.c=null}else rt(t,uc,e)}function et(t,e){t.b||t.a!=sc&&t.a!=uc||at(t),t.f?t.f.next=e:t.b=e,t.f=e}function nt(t,e,n,r){var i=Q(null,null,null);return i.a=new K(function(t,o){i.g=e?function(n){try{var i=e.call(r,n);t(i)}catch(t){o(t)}}:t,i.b=n?function(e){try{var i=n.call(r,e);void 0===i&&e instanceof lt?o(e):t(i)}catch(t){o(t)}}:o}),i.a.c=t,et(t,i),i.a}function rt(t,e,n){t.a==ac&&(t===n&&(e=uc,n=new TypeError("Promise cannot resolve to itself")),t.a=1,it(n,t.Mc,t.Nc,t)||(t.i=n,t.a=e,t.c=null,at(t),e!=uc||n instanceof lt||ft(t,n)))}function it(t,e,r,i){if(t instanceof K)return et(t,Q(e||n,r||null,i)),!0;if(m(t))return t.then(e,r,i),!0;if(c(t))try{var o=t.then;if(u(o))return ot(t,o,e,r,i),!0}catch(t){return r.call(i,t),!0}return!1}function ot(t,e,n,r,i){function o(t){s||(s=!0,r.call(i,t))}function a(t){s||(s=!0,n.call(i,t))}var s=!1;try{e.call(t,a,o)}catch(t){o(t)}}function at(t){t.h||(t.h=!0,V(t.Xb,t))}function st(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function ut(t,e,n,r){if(n==uc&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,ct(e,n,r);else try{e.c?e.g.call(e.f):ct(e,n,r)}catch(t){fc.call(null,t)}w(cc,e)}function ct(t,e,n){e==sc?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}function ft(t,e){t.g=!0,V(function(){t.g&&fc.call(null,e)})}function lt(t){v.call(this,t)}function ht(){0!=lc&&(hc[this[Lu]||(this[Lu]=++ju)]=this),this.pa=this.pa,this.ja=this.ja}function dt(t){if(!t.pa&&(t.pa=!0,t.ua(),0!=lc)){var e=t[Lu]||(t[Lu]=++ju);if(0!=lc&&t.ja&&0<t.ja.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete hc[e]}}function pt(t){return pt[" "](t),t}function yt(t,e){var n=Tc;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}function mt(){var t=Mu.document;return t?t.documentMode:void 0}function vt(t){return yt(t,function(){for(var e=0,n=zu(String(dc)).split("."),r=zu(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=M(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||M(0==a[2].length,0==s[2].length)||M(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}function gt(t,e){this.type=t,this.b=this.target=e,this.Jb=!0}function bt(e,n){if(gt.call(this,e?e.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,e){var r=this.type=e.type,i=e.changedTouches?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.b=n,n=e.relatedTarget){if(gc){t:{try{pt(n.nodeName);var o=!0;break t}catch(t){}o=!1}o||(n=null)}}else"mouseover"==r?n=e.fromElement:"mouseout"==r&&(n=e.toElement);this.relatedTarget=n,null===i?(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=t(e.pointerType)?e.pointerType:Rc[e.pointerType]||"",this.a=e,e.defaultPrevented&&this.preventDefault()}}function _t(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.La=i,this.key=++xc,this.na=this.Ia=!1}function wt(t){t.na=!0,t.listener=null,t.proxy=null,t.src=null,t.La=null}function Et(t){this.src=t,this.a={},this.b=0}function St(t,e){var n=e.type;n in t.a&&O(t.a[n],e)&&(wt(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Tt(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.na&&o.listener==e&&o.capture==!!n&&o.La==r)return i}return-1}function Ct(t,e,n,r,i){if(r&&r.once)Ot(t,e,n,r,i);else if(a(e))for(var o=0;o<e.length;o++)Ct(t,e[o],n,r,i);else n=Lt(n),t&&t[Pc]?Ut(t,e,n,c(r)?!!r.capture:!!r,i):It(t,e,n,!1,r,i)}function It(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=c(i)?!!i.capture:!!i,s=Mt(t);if(s||(t[Dc]=s=new Et(t)),n=s.add(e,n,r,a,o),!n.proxy){if(r=At(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)kc||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Pt(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}Mc++}}function At(){var t=Nt,e=Ac?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}function Ot(t,e,n,r,i){if(a(e))for(var o=0;o<e.length;o++)Ot(t,e[o],n,r,i);else n=Lt(n),t&&t[Pc]?Ft(t,e,n,c(r)?!!r.capture:!!r,i):It(t,e,n,!0,r,i)}function kt(t,e,n,r,i){if(a(e))for(var o=0;o<e.length;o++)kt(t,e[o],n,r,i);else r=c(r)?!!r.capture:!!r,n=Lt(n),t&&t[Pc]?(t=t.l,(e=String(e).toString())in t.a&&(o=t.a[e],-1<(n=Tt(o,n,r,i))&&(wt(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=Mt(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Tt(e,n,r,i)),(n=-1<t?e[t]:null)&&Rt(n))}function Rt(t){if("number"!=typeof t&&t&&!t.na){var e=t.src;if(e&&e[Pc])St(e.l,t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Pt(n),r):e.addListener&&e.removeListener&&e.removeListener(r),Mc--,(n=Mt(e))?(St(n,t),0==n.b&&(n.src=null,e[Dc]=null)):wt(t)}}}function Pt(t){return t in Nc?Nc[t]:Nc[t]="on"+t}function xt(t,e,n,r){var i=!0;if((t=Mt(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.na&&(o=Dt(o,r),i=i&&!1!==o)}return i}function Dt(t,e){var n=t.listener,r=t.La||t.src;return t.Ia&&Rt(t),n.call(r,e)}function Nt(t,e){if(t.na)return!0;if(!Ac){if(!e)t:{e=["window","event"];for(var n=Mu,r=0;r<e.length;r++)if(null==(n=n[e[r]])){e=null;break t}e=n}if(r=e,e=new bt(r,this),n=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var i=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(t){i=!0}(i||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],i=e.b;i;i=i.parentNode)r.push(i);for(t=t.type,i=r.length-1;0<=i;i--){e.b=r[i];var o=xt(r[i],t,!0,e);n=n&&o}for(i=0;i<r.length;i++)e.b=r[i],o=xt(r[i],t,!1,e),n=n&&o}return n}return Dt(t,new bt(e,this))}function Mt(t){return t=t[Dc],t instanceof Et?t:null}function Lt(t){return u(t)?t:(t[Lc]||(t[Lc]=function(e){return t.handleEvent(e)}),t[Lc])}function jt(){ht.call(this),this.l=new Et(this),this.Qb=this,this.Ua=null}function Ut(t,e,n,r,i){t.l.add(String(e),n,!1,r,i)}function Ft(t,e,n,r,i){t.l.add(String(e),n,!0,r,i)}function Bt(t,e,n,r){if(!(e=t.l.a[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.na&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ia&&St(t.l,a),i=!1!==s.call(u,r)&&i}}return i&&0!=r.Jb}function qt(t,e,n){if(u(t))n&&(t=h(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=h(t.handleEvent,t)}return 2147483647<Number(e)?-1:Mu.setTimeout(t,e||0)}function Wt(t){var e=null;return new K(function(n,r){-1==(e=qt(function(){n(void 0)},t))&&r(Error("Failed to schedule timer."))}).s(function(t){throw Mu.clearTimeout(e),t})}function Vt(e){if(e.S&&"function"==typeof e.S)return e.S();if(t(e))return e.split("");if(s(e)){for(var n=[],r=e.length,i=0;i<r;i++)n.push(e[i]);return n}n=[],r=0;for(i in e)n[r++]=e[i];return n}function Ht(e){if(e.U&&"function"==typeof e.U)return e.U();if(!e.S||"function"!=typeof e.S){if(s(e)||t(e)){var n=[];e=e.length;for(var r=0;r<e;r++)n.push(r);return n}n=[],r=0;for(var i in e)n[r++]=i;return n}}function zt(e,n){if(e.forEach&&"function"==typeof e.forEach)e.forEach(n,void 0);else if(s(e)||t(e))Wu(e,n,void 0);else for(var r=Ht(e),i=Vt(e),o=i.length,a=0;a<o;a++)n.call(void 0,i[a],r&&r[a],e)}function Kt(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else if(t)if(t instanceof Kt)for(n=t.U(),r=0;r<n.length;r++)this.set(n[r],t.get(n[r]));else for(r in t)this.set(r,t[r])}function Gt(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var r=t.a[e];Qt(t.b,r)&&(t.a[n++]=r),e++}t.a.length=n}if(t.c!=t.a.length){var i={};for(n=e=0;e<t.a.length;)r=t.a[e],Qt(i,r)||(t.a[n++]=r,i[r]=1),e++;t.a.length=n}}function Qt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Yt(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Xt(t,e){if(this.b=this.l=this.c="",this.i=null,this.h=this.g="",this.f=!1,t instanceof Xt){this.f=void 0!==e?e:t.f,$t(this,t.c),this.l=t.l,this.b=t.b,Jt(this,t.i),this.g=t.g,e=t.a;var n=new se;n.c=e.c,e.a&&(n.a=new Kt(e.a),n.b=e.b),Zt(this,n),this.h=t.h}else t&&(n=String(t).match(jc))?(this.f=!!e,$t(this,n[1]||"",!0),this.l=ie(n[2]||""),this.b=ie(n[3]||"",!0),Jt(this,n[4]),this.g=ie(n[5]||"",!0),Zt(this,n[6]||"",!0),this.h=ie(n[7]||"")):(this.f=!!e,this.a=new se(null,this.f))}function $t(t,e,n){t.c=n?ie(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function Jt(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function Zt(t,e,n){e instanceof se?(t.a=e,pe(t.a,t.f)):(n||(e=oe(e,qc)),t.a=new se(e,t.f))}function te(t,e,n){t.a.set(e,n)}function ee(t,e){return t.a.get(e)}function ne(t){return t instanceof Xt?new Xt(t):new Xt(t,void 0)}function re(t,e){var n=new Xt(null,void 0);return $t(n,"https"),t&&(n.b=t),e&&(n.g=e),n}function ie(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function oe(e,n,r){return t(e)?(e=encodeURI(e).replace(n,ae),r&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ae(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}function se(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function ue(t){t.a||(t.a=new Kt,t.b=0,t.c&&Yt(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function ce(t){var e=Ht(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new se(null,void 0);t=Vt(t);for(var r=0;r<e.length;r++){var i=e[r],o=t[r];a(o)?he(n,i,o):n.add(i,o)}return n}function fe(t,e){ue(t),e=de(t,e),Qt(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Qt(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Gt(t)))}function le(t,e){return ue(t),e=de(t,e),Qt(t.a.b,e)}function he(t,e,n){fe(t,e),0<n.length&&(t.c=null,t.a.set(de(t,e),P(n)),t.b+=n.length)}function de(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function pe(t,e){e&&!t.f&&(ue(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(fe(this,e),he(this,n,t))},t)),t.f=e}function ye(){this.a="",this.b=Hc}function me(t){return t instanceof ye&&t.constructor===ye&&t.b===Hc?t.a:(b("expected object of type Const, got '"+t+"'"),"type_error:Const")}function ve(t){var e=new ye;return e.a=t,e}function ge(){this.a="",this.b=Gc}function be(t){return t instanceof ge&&t.constructor===ge&&t.b===Gc?t.a:(b("expected object of type TrustedResourceUrl, got '"+t+"' of type "+i(t)),"type_error:TrustedResourceUrl")}function _e(t,e){var n=me(t);if(!Kc.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(zc,function(t,r){if(!Object.prototype.hasOwnProperty.call(e,r))throw Error('Found marker, "'+r+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return t=e[r],t instanceof ye?me(t):encodeURIComponent(String(t))}),we(t)}function we(t){var e=new ge;return e.a=t,e}function Ee(){this.a="",this.b=Yc}function Se(t){return t instanceof Ee&&t.constructor===Ee&&t.b===Yc?t.a:(b("expected object of type SafeUrl, got '"+t+"' of type "+i(t)),"type_error:SafeUrl")}function Te(t){return t instanceof Ee?t:(t=t.ma?t.la():String(t),Qc.test(t)||(t="about:invalid#zClosurez"),Ce(t))}function Ce(t){var e=new Ee;return e.a=t,e}function Ie(){this.a="",this.b=Xc}function Ae(t){return t instanceof Ie&&t.constructor===Ie&&t.b===Xc?t.a:(b("expected object of type SafeHtml, got '"+t+"' of type "+i(t)),"type_error:SafeHtml")}function Oe(t){var e=new Ie;return e.a=t,e}function ke(e){var n=document;return t(e)?n.getElementById(e):e}function Re(t,e){j(e,function(e,n){e&&e.ma&&(e=e.la()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:$c.hasOwnProperty(n)?t.setAttribute($c[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}function Pe(e,n,r){var i=arguments,o=document,s=String(i[0]),u=i[1];if(!Vc&&u&&(u.name||u.type)){if(s=["<",s],u.name&&s.push(' name="',D(u.name),'"'),u.type){s.push(' type="',D(u.type),'"');var c={};B(c,u),delete c.type,u=c}s.push(">"),s=s.join("")}return s=o.createElement(s),u&&(t(u)?s.className=u:a(u)?s.className=u.join(" "):Re(s,u)),2<i.length&&xe(o,s,i),s}function xe(e,n,r){function i(r){r&&n.appendChild(t(r)?e.createTextNode(r):r)}for(var o=2;o<r.length;o++){var a=r[o];!s(a)||c(a)&&0<a.nodeType?i(a):Wu(De(a)?P(a):a,i)}}function De(t){if(t&&"number"==typeof t.length){if(c(t))return"function"==typeof t.item||"string"==typeof t.item;if(u(t))return"function"==typeof t.item}return!1}function Ne(t){var e=[];return Le(new Me,t,e),e.join("")}function Me(){}function Le(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(a(e)){var r=e;e=r.length,n.push("[");for(var i="",o=0;o<e;o++)n.push(i),Le(t,r[o],n),i=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){n.push("{"),i="";for(r in e)Object.prototype.hasOwnProperty.call(e,r)&&"function"!=typeof(o=e[r])&&(n.push(i),je(r,n),n.push(":"),Le(t,o,n),i=",");return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":je(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}function je(t,e){e.push('"',t.replace(Zc,function(t){var e=Jc[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),Jc[t]=e),e}),'"')}function Ue(){var t=rn();return yc&&!!Sc&&11==Sc||/Edge\/\d+/.test(t)}function Fe(){return Mu.window&&Mu.window.location.href||self&&self.location&&self.location.href||""}function Be(t,e){e=e||Mu.window;var n="about:blank";t&&(n=Se(Te(t))),e.location.href=n}function qe(t,e){var n,r=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?r.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<qe(t[n],e[n]).length&&r.push(n):t[n]!==e[n]&&r.push(n):r.push(n);for(n in e)n in t||r.push(n);return r}function We(){var t=rn();return!((t=en(t)!=nf?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null)&&30>t)&&(!yc||!Sc||9<Sc)}function Ve(t){return t=(t||rn()).toLowerCase(),!!(t.match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function He(t){t=t||Mu.window;try{t.close()}catch(t){}}function ze(t,e,n){var r=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var i=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;e={width:e,height:n,top:0<i?i:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=rn().toLowerCase(),r&&(e.target=r,N(n,"crios/")&&(e.target="_blank")),en(rn())==ef&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),r=window,e=n instanceof Ee?n:Te("undefined"!=typeof n.href?n.href:String(n)),n=t.target||n.target,i=[];for(a in t)switch(a){case"width":case"height":case"top":case"left":i.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:i.push(a+"="+(t[a]?1:0))}var a=i.join(",");if((L("iPhone")&&!L("iPod")&&!L("iPad")||L("iPad")||L("iPod"))&&r.navigator&&r.navigator.standalone&&n&&"_self"!=n?(a=r.document.createElement("A"),e instanceof Ee||e instanceof Ee||(e=e.ma?e.la():String(e),Qc.test(e)||(e="about:invalid#zClosurez"),e=Ce(e)),a.href=Se(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),t=document.createEvent("MouseEvent"),t.initMouseEvent("click",!0,!0,r,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=r.open("",n,a),t=Se(e),a&&(vc&&N(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,ve("b/12014412, meta tag with sanitized URL"),t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+D(t)+'">',t=Oe(t),a.document.write(Ae(t)),a.document.close())):(a=r.open(Se(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(t){}return a}function Ke(t){return new K(function(e){function n(){Wt(2e3).then(function(){if(t&&!t.closed)return n();e()})}return n()})}function Ge(){var t=null;return new K(function(e){"complete"==Mu.document.readyState?e():(t=function(){e()},Ot(window,"load",t))}).s(function(e){throw kt(window,"load",t),e})}function Qe(){return Ye(void 0)?Ge().then(function(){return new K(function(t,e){var n=Mu.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);n.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):X(Error("Cordova must run in an Android or iOS file scheme."))}function Ye(t){return t=t||rn(),!("file:"!==cn()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function Xe(){var t=Mu.window;try{return!(!t||t==t.top)}catch(t){return!1}}function $e(){return"object"!==typeof Mu.window&&"function"===typeof Mu.importScripts}function Je(){return r.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":r.a.INTERNAL.hasOwnProperty("node")?"Node":$e()?"Worker":"Browser"}function Ze(){var t=Je();return"ReactNative"===t||"Node"===t}function tn(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}function en(t){var e=t.toLowerCase();return N(e,"opera/")||N(e,"opr/")||N(e,"opios/")?"Opera":N(e,"iemobile")?"IEMobile":N(e,"msie")||N(e,"trident/")?"IE":N(e,"edge/")?"Edge":N(e,"firefox/")?ef:N(e,"silk/")?"Silk":N(e,"blackberry")?"Blackberry":N(e,"webos")?"Webos":!N(e,"safari/")||N(e,"chrome/")||N(e,"crios/")||N(e,"android")?!N(e,"chrome/")&&!N(e,"crios/")||N(e,"edge/")?N(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":nf:"Safari"}function nn(t,e){e=e||[];var n,r=[],i={};for(n in rf)i[rf[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof i[e[n]]&&(delete i[e[n]],r.push(e[n]));return r.sort(),e=r,e.length||(e=["FirebaseCore-web"]),r=Je(),"Browser"===r?(i=rn(),r=en(i)):"Worker"===r&&(i=rn(),r=en(i)+"-"+r),r+"/JsCore/"+t+"/"+e.join(",")}function rn(){return Mu.navigator&&Mu.navigator.userAgent||""}function on(t,e){t=t.split("."),e=e||Mu;for(var n=0;n<t.length&&"object"==typeof e&&null!=e;n++)e=e[t[n]];return n!=t.length&&(e=void 0),e}function an(){try{var t=Mu.localStorage,e=pn();if(t)return t.setItem(e,"1"),t.removeItem(e),!Ue()||!!Mu.indexedDB}catch(t){return $e()&&!!Mu.indexedDB}return!1}function sn(){return(un()||"chrome-extension:"===cn()||Ye())&&!Ze()&&an()&&!$e()}function un(){return"http:"===cn()||"https:"===cn()}function cn(){return Mu.location&&Mu.location.protocol||null}function fn(t){return t=t||rn(),!Ve(t)&&en(t)!=ef}function ln(t){return"undefined"===typeof t?null:Ne(t)}function hn(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function dn(t){if(null!==t)return JSON.parse(t)}function pn(t){return t||Math.floor(1e9*Math.random()).toString()}function yn(t){return t=t||rn(),"Safari"!=en(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function mn(){var t=Mu.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var n=0;n<t.CP.length;n++)t.CP[n]=null}function vn(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=rn(),e=Je(),this.b=Ve(t)||"ReactNative"===e}function gn(){var t=Mu.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function bn(){var t=Mu.document,e=null;return gn()||!t?Y():new K(function(n){e=function(){gn()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}function _n(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(t){}return null}function wn(){return!(!on("fireauth.oauthhelper",Mu)&&!on("fireauth.iframe",Mu))}function En(){var t=Mu.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}function Sn(){var t=Mu.navigator;return t&&t.serviceWorker?Y().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).s(function(){return null}):Y(null)}function Tn(t){af[t]||(af[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}function Cn(t,e,n){of?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function In(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Cn(t,n,e[n])}function An(t){var e={};return In(e,t),e}function On(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function kn(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var r=t[e[n]];if(void 0===r||null===r||""===r)return!1}return!0}function Rn(t){var e=t;if("object"==typeof t&&null!=t){e="length"in t?[]:{};for(var n in t)Cn(e,n,Rn(t[n]))}return e}function Pn(t){var e={},n=t[cf],r=t[ff];if(!(t=t[lf])||t!=uf&&!n)throw Error("Invalid provider user info!");e[df]=r||null,e[hf]=n||null,Cn(this,yf,t),Cn(this,pf,Rn(e))}function xn(t,e){this.code=mf+t,this.message=e||vf[t]||""}function Dn(t){var e=t&&t.code;return e?new xn(e.substring(mf.length),t.message):null}function Nn(t){var e=t[wf];if("undefined"===typeof e)throw new xn("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new xn("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[gf];if(n&&"object"===typeof n){e=n[Tf];var r=n[Ef];if(n=n[Sf],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof r&&"boolean"!==typeof r)throw new xn("argument-error",Ef+" property must be a boolean when specified.");if(this.g=!!r,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new xn("argument-error",Sf+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new xn("argument-error",Tf+" property must be a non empty string when specified.");if("undefined"!==typeof r||"undefined"!==typeof n)throw new xn("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new xn("argument-error",gf+" property must be a non null object when specified.");if(this.f=null,(e=t[_f])&&"object"===typeof e){if("string"===typeof(e=e[Cf])&&e.length)this.f=e;else if("undefined"!==typeof e)throw new xn("argument-error",Cf+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new xn("argument-error",_f+" property must be a non null object when specified.");if("undefined"!==typeof(t=t[bf])&&"boolean"!==typeof t)throw new xn("argument-error",bf+" property must be a boolean when specified.");this.c=!!t}function Mn(t){var e={};e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f;for(var n in e)null===e[n]&&delete e[n];return e}function Ln(t){return Vu(t,function(t){return t=t.toString(16),1<t.length?t:"0"+t}).join("")}function jn(t){var e="";return Un(t,function(t){e+=String.fromCharCode(t)}),e}function Un(t,e){function n(e){for(;r<t.length;){var n=t.charAt(r++),i=Af[n];if(null!=i)return i;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}Fn();for(var r=0;;){var i=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===i)break;e(i<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}function Fn(){if(!If){If={},Af={};for(var t=0;65>t;t++)If[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Af[If[t]]=t,62<=t&&(Af["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}function Bn(t){this.c=t.sub,Uu(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function qn(t){return(t=Wn(t))&&t.sub&&t.iss&&t.aud&&t.exp?new Bn(t):null}function Wn(t){if(!t)return null;if(t=t.split("."),3!=t.length)return null;t=t[1];for(var e=(4-t.length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(jn(t))}catch(t){}return null}function Vn(t){for(var e in Rf)if(Rf[e].Na==t)return Rf[e];return null}function Hn(t){var e={};e["facebook.com"]=Gn,e["google.com"]=Yn,e["github.com"]=Qn,e["twitter.com"]=Xn;var n=t&&t[xf];try{if(n)return e[n]?new e[n](t):new Kn(t);if("undefined"!==typeof t[Pf])return new zn(t)}catch(t){}return null}function zn(t){var e=t[xf];if(!e&&t[Pf]){var n=qn(t[Pf]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Cn(this,"providerId",e),Cn(this,"isNewUser",n)}function Kn(t){zn.call(this,t),t=dn(t.rawUserInfo||"{}"),Cn(this,"profile",Rn(t||{}))}function Gn(t){if(Kn.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Qn(t){if(Kn.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Cn(this,"username",this.profile&&this.profile.login||null)}function Yn(t){if(Kn.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Xn(t){if(Kn.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Cn(this,"username",t.screenName||null)}function $n(t){this.a=ne(t)}function Jn(t){var e=ne(t),n=ee(e,"link"),r=ee(ne(n),"link");return e=ee(e,"deep_link_id"),ee(ne(e),"link")||e||r||n||t}function Zn(t,e){return t.then(function(t){if(t[$f]){var n=qn(t[$f]);if(!n||e!=n.c)throw new xn("user-mismatch");return t}throw new xn("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==mf+"user-not-found"?new xn("user-mismatch"):t})}function tr(t,e,n){if(e.idToken||e.accessToken)e.idToken&&Cn(this,"idToken",e.idToken),e.accessToken&&Cn(this,"accessToken",e.accessToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new xn("internal-error","failed to construct a credential");Cn(this,"accessToken",e.oauthToken),Cn(this,"secret",e.oauthTokenSecret)}Cn(this,"providerId",t),Cn(this,"signInMethod",n)}function er(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,{postBody:ce(e).toString(),requestUri:"http://localhost"}}function nr(t,e){this.Cc=e||[],In(this,{providerId:t,isOAuthProvider:!0}),this.xb={},this.bb=(Vn(t)||{}).Ma||null,this.Za=null}function rr(t){nr.call(this,t,kf),this.a=[]}function ir(){rr.call(this,"facebook.com")}function or(t){if(!t)throw new xn("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return c(t)&&(e=t.accessToken),(new ir).credential(null,e)}function ar(){rr.call(this,"github.com")}function sr(t){if(!t)throw new xn("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return c(t)&&(e=t.accessToken),(new ar).credential(null,e)}function ur(){rr.call(this,"google.com"),this.ta("profile")}function cr(t,e){var n=t;return c(t)&&(n=t.idToken,e=t.accessToken),(new ur).credential(n,e)}function fr(){nr.call(this,"twitter.com",Of)}function lr(t,e){var n=t;if(c(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new xn("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new tr("twitter.com",n,"twitter.com")}function hr(t,e,n){this.a=t,this.b=e,Cn(this,"providerId","password"),Cn(this,"signInMethod",n===dr.EMAIL_LINK_SIGN_IN_METHOD?dr.EMAIL_LINK_SIGN_IN_METHOD:dr.EMAIL_PASSWORD_SIGN_IN_METHOD)}function dr(){In(this,{providerId:"password",isOAuthProvider:!1})}function pr(t,e){if(!(e=yr(e)))throw new xn("argument-error","Invalid email link!");return new hr(t,e,dr.EMAIL_LINK_SIGN_IN_METHOD)}function yr(t){t=Jn(t),t=new $n(t);var e=ee(t.a,"oobCode")||null;return"signIn"===(ee(t.a,"mode")||null)&&e?e:null}function mr(t){if(!(t.Sa&&t.Ra||t.Fa&&t.$))throw new xn("internal-error");this.a=t,Cn(this,"providerId","phone"),Cn(this,"signInMethod","phone")}function vr(t){return t.a.Fa&&t.a.$?{temporaryProof:t.a.Fa,phoneNumber:t.a.$}:{sessionInfo:t.a.Sa,code:t.a.Ra}}function gr(t){try{this.a=t||r.a.auth()}catch(t){throw new xn("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}In(this,{providerId:"phone",isOAuthProvider:!1})}function br(t,e){if(!t)throw new xn("missing-verification-id");if(!e)throw new xn("missing-verification-code");return new mr({Sa:t,Ra:e})}function _r(t){if(t.temporaryProof&&t.phoneNumber)return new mr({Fa:t.temporaryProof,$:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,r=t&&t.oauthTokenSecret;t=t&&t.oauthIdToken;try{switch(e){case"google.com":return cr(t,n);case"facebook.com":return or(n);case"github.com":return sr(n);case"twitter.com":return lr(n,r);default:return new rr(e).credential(t,n)}}catch(t){return null}}function wr(t){if(!t.isOAuthProvider)throw new xn("invalid-oauth-provider")}function Er(t,e,n,r,i){if(this.b=t,this.c=e||null,this.f=n||null,this.g=r||null,this.a=i||null,!this.f&&!this.a)throw new xn("invalid-auth-event");if(this.f&&this.a)throw new xn("invalid-auth-event");if(this.f&&!this.g)throw new xn("invalid-auth-event")}function Sr(t){return t=t||{},t.type?new Er(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&Dn(t.error)):null}function Tr(){this.b=null,this.a=[]}function Cr(t){var e="unauthorized-domain",n=void 0,r=ne(t);t=r.b,r=r.c,"chrome-extension"==r?n=x("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==r||"https"==r?n=x("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",xn.call(this,e,n)}function Ir(t,e,n){xn.call(this,t,n),t=e||{},t.yb&&Cn(this,"email",t.yb),t.$&&Cn(this,"phoneNumber",t.$),t.credential&&Cn(this,"credential",t.credential)}function Ar(t){if(t.code){var e=t.code||"";0==e.indexOf(mf)&&(e=e.substring(mf.length));var n={credential:_r(t)};if(t.email)n.yb=t.email;else if(t.phoneNumber)n.$=t.phoneNumber;else if(!n.credential)return new xn(e,t.message||void 0);return new Ir(e,n,t.message)}return null}function Or(){}function kr(t){return t.c||(t.c=t.b())}function Rr(){}function Pr(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var r=e[n];try{return new ActiveXObject(r),t.f=r}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function xr(){}function Dr(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=h(this.dc,this),this.a.onerror=h(this.Eb,this),this.a.onprogress=h(this.ec,this),this.a.ontimeout=h(this.hc,this)}function Nr(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Mr(t,e,n){this.reset(t,e,n,void 0,void 0)}function Lr(t){this.f=t,this.b=this.c=this.a=null}function jr(t,e){this.name=t,this.value=e}function Ur(t){return t.c?t.c:t.a?Ur(t.a):(b("Root logger has no level set."),null)}function Fr(t){Wf||(Wf=new Lr(""),qf[""]=Wf,Wf.c=Ff);var e;if(!(e=qf[t])){e=new Lr(t);var n=t.lastIndexOf("."),r=t.substr(n+1);n=Fr(t.substr(0,n)),n.b||(n.b={}),n.b[r]=e,e.a=n,qf[t]=e}return e}function Br(t,e){t&&t.log(Bf,e,void 0)}function qr(t){this.f=t}function Wr(t){jt.call(this),this.i=t,this.readyState=Vf,this.status=0,this.responseText=this.statusText="",this.onreadystatechange=null,this.g=new Headers,this.b=null,this.h="GET",this.c="",this.a=!1,this.f=Fr("goog.net.FetchXmlHttp")}function Vr(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function Hr(t){jt.call(this),this.headers=new Kt,this.C=t||null,this.c=!1,this.w=this.a=null,this.h=this.N=this.m="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=Hf,this.v=this.O=!1}function zr(t,e,n,r,i){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.m+"; newUri="+e);n=n?n.toUpperCase():"GET",t.m=e,t.h="",t.N=n,t.G=!1,t.c=!0,t.a=t.C?t.C.a():Mf.a(),t.w=kr(t.C?t.C:Mf),t.a.onreadystatechange=h(t.Ib,t);try{Br(t.b,ni(t,"Opening Xhr")),t.I=!0,t.a.open(n,String(e),!0),t.I=!1}catch(e){return Br(t.b,ni(t,"Error opening Xhr: "+e.message)),void Qr(t,e)}e=r||"";var o=new Kt(t.headers);i&&zt(i,function(t,e){o.set(e,t)}),i=I(o.U()),r=Mu.FormData&&e instanceof Mu.FormData,!A(Kf,n)||i||r||o.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),o.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.o&&(t.a.responseType=t.o),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{Jr(t),0<t.g&&(t.v=Kr(t.a),Br(t.b,ni(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=h(t.Ga,t)):t.u=qt(t.Ga,t.g,t)),Br(t.b,ni(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(e){Br(t.b,ni(t,"Send error: "+e.message)),Qr(t,e)}}function Kr(t){return yc&&vt(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function Gr(t){return"content-type"==t.toLowerCase()}function Qr(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,Yr(t),$r(t)}function Yr(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function Xr(t){if(t.c&&"undefined"!=typeof Nu)if(t.w[1]&&4==Zr(t)&&2==ti(t))Br(t.b,ni(t,"Local request error detected and ignored"));else if(t.i&&4==Zr(t))qt(t.Ib,0,t);else if(t.dispatchEvent("readystatechange"),4==Zr(t)){Br(t.b,ni(t,"Request complete")),t.c=!1;try{var e=ti(t);t:switch(e){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var n=!0;break t;default:n=!1}var r;if(!(r=n)){var i;if(i=0===e){var o=String(t.m).match(jc)[1]||null;if(!o&&Mu.self&&Mu.self.location){var a=Mu.self.location.protocol;o=a.substr(0,a.length-1)}i=!zf.test(o?o.toLowerCase():"")}r=i}if(r)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var s=2<Zr(t)?t.a.statusText:""}catch(e){Br(t.b,"Can not get status: "+e.message),s=""}t.h=s+" ["+ti(t)+"]",Yr(t)}}finally{$r(t)}}}function $r(t,e){if(t.a){Jr(t);var r=t.a,i=t.w[0]?n:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{r.onreadystatechange=i}catch(e){(t=t.b)&&t.log(jf,"Problem encountered resetting onreadystatechange: "+e.message,void 0)}}}function Jr(t){t.a&&t.v&&(t.a.ontimeout=null),t.u&&(Mu.clearTimeout(t.u),t.u=null)}function Zr(t){return t.a?t.a.readyState:0}function ti(t){try{return 2<Zr(t)?t.a.status:-1}catch(t){return-1}}function ei(t){try{return t.a?t.a.responseText:""}catch(e){return Br(t.b,"Can not get responseText: "+e.message),""}}function ni(t,e){return e+" ["+t.N+" "+t.m+" "+ti(t)+"]"}function ri(t,e){this.g=[],this.v=t,this.u=e||null,this.f=this.a=!1,this.c=void 0,this.m=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function ii(t,e,n){t.a=!0,t.c=n,t.f=!e,ci(t)}function oi(t){if(t.a){if(!t.m)throw new fi(t);t.m=!1}}function ai(t,e){si(t,null,e,void 0)}function si(t,e,n,r){t.g.push([e,n,r]),t.a&&ci(t)}function ui(t){return Hu(t.g,function(t){return u(t[1])})}function ci(t){if(t.h&&t.a&&ui(t)){var e=t.h,n=Gf[e];n&&(Mu.clearTimeout(n.a),delete Gf[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=n=!1;t.g.length&&!t.i;){var i=t.g.shift(),o=i[0],a=i[1];if(i=i[2],o=t.f?a:o)try{var s=o.call(i||t.u,e);void 0!==s&&(t.f=t.f&&(s==e||s instanceof Error),t.c=e=s),(m(e)||"function"===typeof Mu.Promise&&e instanceof Mu.Promise)&&(r=!0,t.i=!0)}catch(r){e=r,t.f=!0,ui(t)||(n=!0)}}t.c=e,r&&(s=h(t.o,t,!0),r=h(t.o,t,!1),e instanceof ri?(si(e,s,r),e.w=!0):e.then(s,r)),n&&(e=new hi(e),Gf[e.a]=e,t.h=e.a)}function fi(){v.call(this)}function li(){v.call(this)}function hi(t){this.a=Mu.setTimeout(h(this.c,this),0),this.b=t}function di(t){var e={},n=e.document||document,r=be(t),i=document.createElement("SCRIPT"),o={Kb:i,Ga:void 0},a=new ri(yi,o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){mi(i,!0);var t=new vi(Yf,"Timeout reached for loading script "+r);oi(a),ii(a,!1,t)},u),o.Ga=s),i.onload=i.onreadystatechange=function(){i.readyState&&"loaded"!=i.readyState&&"complete"!=i.readyState||(mi(i,e.ed||!1,s),a.C())},i.onerror=function(){mi(i,!0,s);var t=new vi(Qf,"Error while loading script "+r);oi(a),ii(a,!1,t)},o=e.attributes||{},B(o,{type:"text/javascript",charset:"UTF-8"}),Re(i,o),i.src=be(t),pi(n).appendChild(i),a}function pi(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}function yi(){if(this&&this.Kb){var t=this.Kb;t&&"SCRIPT"==t.tagName&&mi(t,!0,this.Ga)}}function mi(t,e,r){null!=r&&Mu.clearTimeout(r),t.onload=n,t.onerror=n,t.onreadystatechange=n,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}function vi(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),v.call(this,n),this.code=t}function gi(t){this.f=t}function bi(t,e,n){if(this.b=t,t=e||{},this.i=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.l=t.secureTokenTimeout||Jf,this.f=F(t.secureTokenHeaders||Zf),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||tl,this.a=F(t.firebaseHeaders||el),n&&(this.a["X-Client-Version"]=n,this.f["X-Client-Version"]=n),n="Node"==Je(),!(n=Mu.XMLHttpRequest||n&&r.a.INTERNAL.node&&r.a.INTERNAL.node.XMLHttpRequest)&&!$e())throw new xn("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,$e()?this.c=new qr(self):Ze()?this.c=new gi(n):this.c=new xr}function _i(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function wi(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function Ei(t,e,n,r,i,o,a){We()||$e()?t=h(t.o,t):(Xf||(Xf=new K(function(t,e){Si(t,e)})),t=h(t.m,t)),t(e,n,r,i,o,a)}function Si(t,e){if(((window.gapi||{}).client||{}).request)t();else{Mu[rl]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};ai(di(_e(nl,{onload:rl})),function(){e(Error("CORS_UNSUPPORTED"))})}}function Ti(t,e){return new K(function(n,r){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Ei(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?r(Vi(t)):t.access_token&&t.refresh_token?n(t):r(new xn("internal-error")):r(new xn("network-request-failed"))},"POST",ce(e).toString(),t.f,t.l.get()):r(new xn("internal-error"))})}function Ci(t,e,n,r,i,o){var a=ne(t.g+e);te(a,"key",t.b),o&&te(a,"cb",Uu().toString());var s="GET"==n;if(s)for(var u in r)r.hasOwnProperty(u)&&te(a,u,r[u]);return new K(function(e,o){Ei(t,a.toString(),function(t){t?t.error?o(Vi(t,i||{})):e(t):o(new xn("network-request-failed"))},n,s?void 0:Ne(hn(r)),t.a,t.h.get())})}function Ii(t){if(!Nf.test(t.email))throw new xn("invalid-email")}function Ai(t){"email"in t&&Ii(t)}function Oi(t,e){return qi(t,cl,{identifier:e,continueUri:un()?Fe():"http://localhost"}).then(function(t){return t.allProviders||[]})}function ki(t,e){return qi(t,cl,{identifier:e,continueUri:un()?Fe():"http://localhost"}).then(function(t){return t.signinMethods||[]})}function Ri(t){return qi(t,gl,{}).then(function(t){return t.authorizedDomains||[]})}function Pi(t){if(!t[$f])throw new xn("internal-error")}function xi(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new xn("internal-error")}else{if(!t.sessionInfo)throw new xn("missing-verification-id");if(!t.code)throw new xn("missing-verification-code")}}function Di(t,e){return qi(t,wl,e)}function Ni(t,e,n){return qi(t,ll,{idToken:e,deleteProvider:n})}function Mi(t){if(!t.requestUri||!t.sessionId&&!t.postBody)throw new xn("internal-error")}function Li(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Ar(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Ar(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Ar(t)):t.errorMessage&&(e=Wi(t.errorMessage)),e)throw e;if(!t[$f])throw new xn("internal-error")}function ji(t,e){return e.returnIdpCredential=!0,qi(t,Cl,e)}function Ui(t,e){return e.returnIdpCredential=!0,qi(t,Al,e)}function Fi(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,qi(t,Il,e)}function Bi(t){if(!t.oobCode)throw new xn("invalid-action-code")}function qi(t,e,n){if(!kn(n,e.T))return X(new xn("internal-error"));var r,i=e.Hb||"POST";return Y(n).then(e.B).then(function(){return e.R&&(n.returnSecureToken=!0),Ci(t,e.endpoint,i,n,e.Wb,e.tb||!1)}).then(function(t){return r=t}).then(e.J).then(function(){if(!e.da)return r;if(!(e.da in r))throw new xn("internal-error");return r[e.da]})}function Wi(t){return Vi({error:{errors:[{message:t}],code:400,message:t}})}function Vi(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",r={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=r[n]?new xn(r[n]):null)return n;n=t.error&&t.error.message||"",r={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},B(r,e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0;for(var i in r)if(0===n.indexOf(i))return new xn(r[i],e);return!e&&t&&(e=ln(t)),new xn("internal-error",e)}function Hi(t){for(var e in Dl)if(Dl[e].id===t)return t=Dl[e],{firebaseEndpoint:t.$a,secureTokenEndpoint:t.hb};return null}function zi(t){this.b=t,this.a=null,this.eb=Ki(this)}function Ki(t){return Yi().then(function(){return new K(function(e,n){on("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:on("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(r){function i(){clearTimeout(o),e()}t.a=r,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},Ll.get());r.ping(i).then(i,function(){n(Error("Network Error"))})})})})}function Gi(t,e){return t.eb.then(function(){return new K(function(n){t.a.send(e.type,e,n,on("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function Qi(t,e){t.eb.then(function(){t.a.register("authEvent",e,on("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}function Yi(){return jl||(jl=new K(function(t,e){function n(){mn(),on("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){mn(),e(Error("Network Error"))},timeout:Ml.get()})}if(on("gapi.iframes.Iframe"))t();else if(on("gapi.load"))n();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();Mu[r]=function(){on("gapi.load")?n():e(Error("Network Error"))},r=_e(Nl,{onload:r}),Y(di(r)).s(function(){e(Error("Network Error"))})}}).s(function(t){throw jl=null,t}))}function Xi(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=re(this.i,"/__/auth/iframe"),te(this.a,"apiKey",this.g),te(this.a,"appName",this.h),this.b=null,this.c=[]}function $i(t,e,n,r,i){this.o=t,this.m=e,this.c=n,this.l=r,this.h=this.g=this.i=null,this.a=i,this.f=null}function Ji(t){try{return r.a.app(t).auth().xa()}catch(t){return[]}}function Zi(t,e,n,r,i){this.m=t,this.f=e,this.b=n,this.c=r||null,this.h=i||null,this.o=this.u=this.v=null,this.g=[],this.l=this.a=null}function to(t){var e=Fe();return Ri(t).then(function(t){t:{var n=ne(e),r=n.c;n=n.b;for(var i=0;i<t.length;i++){var o=t[i],a=n,s=r;if(0==o.indexOf("chrome-extension://")?a=ne(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:tf.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Cr(Fe())})}function eo(t){return t.l?t.l:(t.l=Ge().then(function(){if(!t.u){var e=t.c,n=t.h,r=Ji(t.b),i=new Xi(t.m,t.f,t.b);i.f=e,i.b=n,i.c=P(r||[]),t.u=i.toString()}t.i=new zi(t.u),io(t)}),t.l)}function no(t){return t.o||(t.v=t.c?nn(t.c,Ji(t.b)):null,t.o=new bi(t.f,Hi(t.h),t.v)),t.o}function ro(t,e,n,r,i,o,a,s,u,c){return t=new $i(t,e,n,r,i),t.i=o,t.g=a,t.h=s,t.b=F(u||null),t.f=c,t.toString()}function io(t){if(!t.i)throw Error("IfcHandler must be initialized!");Qi(t.i,function(e){var n={};if(e&&e.authEvent){var r=!1;for(e=Sr(e.authEvent),n=0;n<t.g.length;n++)r=t.g[n](e)||r;return n={},n.status=r?"ACK":"ERROR",Y(n)}return n.status="ERROR",Y(n)})}function oo(t){var e={type:"webStorageSupport"};return eo(t).then(function(){return Gi(t.i,e)}).then(function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})}function ao(t){if(this.a=t||r.a.INTERNAL.reactNative&&r.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new xn("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function so(t){this.b=t,this.a={},this.c=h(this.f,this)}function uo(){var t=$e()?self:null;if(Wu(Ul,function(n){n.b==t&&(e=n)}),!e){var e=new so(t);Ul.push(e)}return e}function co(t){this.a=t}function fo(t){this.c=t,this.b=!1,this.a=[]}function lo(t,e,n,r){var i,o,a,s,u=n||{},c=null;if(t.b)return X(Error("connection_unavailable"));var f=r?800:50,l="undefined"!==typeof MessageChannel?new MessageChannel:null;return new K(function(n,r){l?(i=Math.floor(Math.random()*Math.pow(10,20)).toString(),l.port1.start(),a=setTimeout(function(){r(Error("unsupported_event"))},f),o=function(t){t.data.eventId===i&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){r(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),"undefined"!==typeof t.data.response?n(t.data.response):r(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),r(Error("invalid_response"))))},c={messageChannel:l,onMessage:o},t.a.push(c),l.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:i,data:u},[l.port2])):r(Error("connection_unavailable"))}).then(function(e){return ho(t,c),e}).s(function(e){throw ho(t,c),e})}function ho(t,e){if(e){var n=e.messageChannel,r=e.onMessage;n&&(n.port1.removeEventListener("message",r),n.port1.close()),k(t.a,function(t){return t==e})}}function po(){if(!go())throw new xn("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=Mu.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.u=!1,this.h=null;var t=this;$e()&&self?(this.l=uo(),this.l.subscribe("keyChanged",function(e,n){return So(t).then(function(e){return 0<e.length&&Wu(t.a,function(t){t(e)}),{keyProcessed:A(e,n.key)}})}),this.l.subscribe("ping",function(){return Y(["keyChanged"])})):Sn().then(function(e){(t.h=e)&&(t.g=new fo(new co(e)),lo(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&A(e[0].value,"keyChanged")&&(t.u=!0)}).s(function(){}))})}function yo(t){return new K(function(e,n){var r=t.m.deleteDatabase("firebaseLocalStorageDb");r.onsuccess=function(){e()},r.onerror=function(t){n(Error(t.target.error))}})}function mo(t){return new K(function(e,n){var r=t.m.open("firebaseLocalStorageDb",1);r.onerror=function(t){try{t.preventDefault()}catch(t){}n(Error(t.target.error))},r.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(t){n(t)}},r.onsuccess=function(r){r=r.target.result,r.objectStoreNames.contains("firebaseLocalStorage")?e(r):yo(t).then(function(){return mo(t)}).then(function(t){e(t)}).s(function(t){n(t)})}})}function vo(t){return t.o||(t.o=mo(t)),t.o}function go(){try{return!!Mu.indexedDB}catch(t){return!1}}function bo(t){return t.objectStore("firebaseLocalStorage")}function _o(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function wo(t){return new K(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(Error(t.target.errorCode))}})}function Eo(t,e){return t.g&&t.h&&En()===t.h?lo(t.g,"keyChanged",{key:e},t.u).then(function(){}).s(function(){}):Y()}function So(t){return vo(t).then(function(t){var e=bo(_o(t,!1));return e.getAll?wo(e.getAll()):new K(function(t,n){var r=[],i=e.openCursor();i.onsuccess=function(e){(e=e.target.result)?(r.push(e.value),e.continue()):t(r)},i.onerror=function(t){n(Error(t.target.errorCode))}})}).then(function(e){var n={},r=[];if(0==t.b){for(r=0;r<e.length;r++)n[e[r].fbase_key]=e[r].value;r=qe(t.c,n),t.c=n}return r})}function To(t){function e(){t.f=setTimeout(function(){t.i=So(t).then(function(e){0<e.length&&Wu(t.a,function(t){t(e)})}).then(function(){e()}).s(function(t){"STOP_EVENT"!=t.message&&e()})},800)}Co(t),e()}function Co(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Io(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=Y().then(function(){if(go()){var t=pn(),r="__sak"+t;return Fl||(Fl=new po),n=Fl,n.set(r,t).then(function(){return n.get(r)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.P(r)}).then(function(){return n}).s(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.Y(function(t){Wu(e.a,function(e){e(t)})}),t})}function Ao(){this.a={},this.type="inMemory"}function Oo(){if(!Ro()){if("Node"==Je())throw new xn("internal-error","The LocalStorage compatibility library was not found.");throw new xn("web-storage-unsupported")}this.a=ko()||r.a.INTERNAL.node.localStorage,this.type="localStorage"}function ko(){try{var t=Mu.localStorage,e=pn();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function Ro(){var t="Node"==Je();if(!(t=ko()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.localStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}function Po(){this.type="nullStorage"}function xo(){if(!No()){if("Node"==Je())throw new xn("internal-error","The SessionStorage compatibility library was not found.");throw new xn("web-storage-unsupported")}this.a=Do()||r.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function Do(){try{var t=Mu.sessionStorage,e=pn();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(t){return null}}function No(){var t="Node"==Je();if(!(t=Do()||t&&r.a.INTERNAL.node&&r.a.INTERNAL.node.sessionStorage))return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(t){return!1}}function Mo(){var t={};t.Browser=Wl,t.Node=Vl,t.ReactNative=Hl,t.Worker=zl,this.a=t[Je()]}function Lo(t){var e=new xn("invalid-persistence-type"),n=new xn("unsupported-persistence-type");t:{for(r in Kl)if(Kl[r]==t){var r=!0;break t}r=!1}if(!r||"string"!==typeof t)throw e;switch(Je()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!an()&&"none"!==t)throw n}}function jo(){var t=!(yn(rn())||!Xe()),e=fn(),n=an();this.o=t,this.h=e,this.l=n,this.a={},Bl||(Bl=new Mo),t=Bl;try{this.g=!Ue()&&wn()||!Mu.indexedDB?new t.a.A:new Io($e()?new Ao:new t.a.A)}catch(t){this.g=new Ao,this.h=!0}try{this.i=new t.a.Qa}catch(t){this.i=new Ao}this.m=new Ao,this.f=h(this.Ob,this),this.b={}}function Uo(){return ql||(ql=new jo),ql}function Fo(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function Bo(t,e){return"firebase:"+t.name+(e?":"+e:"")}function qo(t,e,n){var r=Bo(e,n),i=Fo(t,e.A);return t.get(e,n).then(function(o){var a=null;try{a=dn(Mu.localStorage.getItem(r))}catch(t){}if(a&&!o)return Mu.localStorage.removeItem(r),t.set(e,a,n);a&&o&&"localStorage"!=i.type&&Mu.localStorage.removeItem(r)})}function Wo(t,e,n){return n=Bo(e,n),"local"==e.A&&(t.b[n]=null),Fo(t,e.A).P(n)}function Vo(t){Ho(t),t.c=setInterval(function(){for(var e in t.a){var n=Mu.localStorage.getItem(e),r=t.b[e];n!=r&&(t.b[e]=n,n=new bt({type:"storage",key:e,target:window,oldValue:r,newValue:n,a:!0}),t.Ob(n))}},1e3)}function Ho(t){t.c&&(clearInterval(t.c),t.c=null)}function zo(t){this.a=t,this.b=Uo()}function Ko(t){return t.b.get(Ql,t.a).then(function(t){return Sr(t)})}function Go(){this.a=Uo()}function Qo(){this.b=-1}function Yo(t,e){this.b=Yl,this.f=Mu.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=Mu.Int32Array?new Int32Array(64):Array(64),void 0!==Gl||(Gl=Mu.Int32Array?new Int32Array(th):th),this.reset()}function Xo(t){for(var e=t.f,n=t.l,r=0,i=0;i<e.length;)n[r++]=e[i]<<24|e[i+1]<<16|e[i+2]<<8|e[i+3],i=4*r;for(e=16;64>e;e++){i=0|n[e-15],r=0|n[e-2];var o=(0|n[e-16])+((i>>>7|i<<25)^(i>>>18|i<<14)^i>>>3)|0,a=(0|n[e-7])+((r>>>17|r<<15)^(r>>>19|r<<13)^r>>>10)|0;n[e]=o+a|0}r=0|t.a[0],i=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],f=0|t.a[5],l=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var h=((r>>>2|r<<30)^(r>>>13|r<<19)^(r>>>22|r<<10))+(r&i^r&s^i&s)|0;a=c&f^~c&l,o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0,a=a+(0|Gl[e])|0,a=o+(a+(0|n[e])|0)|0,o=l,l=f,f=c,c=u+a|0,u=s,s=i,i=r,r=a+h|0}t.a[0]=t.a[0]+r|0,t.a[1]=t.a[1]+i|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+f|0,t.a[6]=t.a[6]+l|0,t.a[7]=t.a[7]+o|0}function $o(e,n,r){void 0===r&&(r=n.length);var i=0,o=e.c;if(t(n))for(;i<r;)e.f[o++]=n.charCodeAt(i++),o==e.b&&(Xo(e),o=0);else{if(!s(n))throw Error("message must be string or array");for(;i<r;){var a=n[i++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");e.f[o++]=a,o==e.b&&(Xo(e),o=0)}}e.c=o,e.g+=r}function Jo(){Yo.call(this,8,eh)}function Zo(t,e,n,r,i){this.m=t,this.i=e,this.l=n,this.o=r||null,this.u=i||null,this.h=e+":"+n,this.v=new Go,this.g=new zo(this.h),this.f=null,this.b=[],this.a=this.c=null}function ta(t){return new xn("invalid-cordova-configuration",t)}function ea(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}function na(t){var e=new Jo;$o(e,t),t=[];var n=8*e.g;56>e.c?$o(e,Zl,56-e.c):$o(e,Zl,e.b-(e.c-56));for(var r=63;56<=r;r--)e.f[r]=255&n,n/=256;for(Xo(e),r=n=0;r<e.i;r++)for(var i=24;0<=i;i-=8)t[n++]=e.a[r]>>i&255;return Ln(t)}function ra(t,e,n,r){var i=ea(),o=new Er(e,r,null,i,new xn("no-auth-event")),a=on("BuildInfo.packageName",Mu);if("string"!==typeof a)throw new xn("invalid-cordova-configuration");var s=on("BuildInfo.displayName",Mu),u={};if(rn().toLowerCase().match(/iphone|ipad|ipod/))u.ibi=a;else{if(!rn().toLowerCase().match(/android/))return X(new xn("operation-not-supported-in-this-environment"));u.apn=a}s&&(u.appDisplayName=s),i=na(i),u.sessionId=i;var c=ro(t.m,t.i,t.l,e,n,null,r,t.o,u,t.u);return t.ga().then(function(){var e=t.h;return t.v.a.set(Ql,o.D(),e)}).then(function(){var e=on("cordova.plugins.browsertab.isAvailable",Mu);if("function"!==typeof e)throw new xn("invalid-cordova-configuration");var n=null;e(function(e){if(e){if("function"!==typeof(n=on("cordova.plugins.browsertab.openUrl",Mu)))throw new xn("invalid-cordova-configuration");n(c)}else{if("function"!==typeof(n=on("cordova.InAppBrowser.open",Mu)))throw new xn("invalid-cordova-configuration");e=rn(),e=!(!e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.a=n(c,e?"_blank":"_system","location=yes")}})})}function ia(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(t){}}function oa(t){return t.f||(t.f=t.ga().then(function(){return new K(function(e){function n(r){return e(r),t.Ka(n),!1}t.va(n),sa(t)})})),t.f}function aa(t){var e=null;return Ko(t.g).then(function(n){return e=n,n=t.g,Wo(n.b,Ql,n.a)}).then(function(){return e})}function sa(t){function e(e){r=!0,i&&i.cancel(),aa(t).then(function(r){var i=n;if(r&&e&&e.url){var o=null;i=Jn(e.url),-1!=i.indexOf("/__/auth/callback")&&(o=ne(i),o=dn(ee(o,"firebaseError")||null),o=(o="object"===typeof o?Dn(o):null)?new Er(r.b,r.c,null,null,o):new Er(r.b,r.c,i,r.g)),i=o||n}ia(t,i)})}var n=new Er("unknown",null,null,null,new xn("no-auth-event")),r=!1,i=Wt(500).then(function(){return aa(t).then(function(){r||ia(t,n)})}),o=Mu.handleOpenURL;Mu.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(on("BuildInfo.packageName",Mu).toLowerCase()+"://")&&e({url:t}),"function"===typeof o)try{o(t)}catch(t){console.error(t)}},Df||(Df=new Tr),Df.subscribe(e)}function ua(t){this.a=t,this.b=Uo()}function ca(t){return t.b.set(nh,"pending",t.a)}function fa(t){return Wo(t.b,nh,t.a)}function la(t){return t.b.get(nh,t.a).then(function(t){return"pending"==t})}function ha(t,e,n){this.u=t,this.l=e,this.m=n,this.h=[],this.f=!1,this.i=h(this.ab,this),this.b=new ba,this.o=new Ia,this.g=new ua(this.l+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.o,this.c.linkViaPopup=this.o,this.c.reauthViaPopup=this.o,this.a=da(this.u,this.l,this.m,ol)}function da(t,e,n,i){var o=r.a.SDK_VERSION||null;return Ye()?new Zo(t,e,n,o,i):new Zi(t,e,n,o,i)}function pa(t){t.f||(t.f=!0,t.a.va(t.i));var e=t.a;return t.a.ga().s(function(n){throw t.a==e&&t.reset(),n})}function ya(t){t.a.Lb()&&pa(t).s(function(e){var n=new Er("unknown",null,null,null,new xn("operation-not-supported-in-this-environment"));va(e)&&t.ab(n)}),t.a.Gb()||_a(t.b)}function ma(t,e,n,r,i,o){return t.a.Bb(e,n,r,function(){t.f||(t.f=!0,t.a.va(t.i))},function(){t.reset()},i,o)}function va(t){return!(!t||"auth/cordova-not-ready"!=t.code)}function ga(t,e,n){var r=e+":"+n;return oh[r]||(oh[r]=new ha(t,e,n)),oh[r]}function ba(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function _a(t){t.g||(t.g=!0,Ta(t,!1,null,null))}function wa(t,e,n){n=n.wa(e.b,e.c);var r=e.f,i=e.g,o=!!e.b.match(/Redirect$/);n(r,i).then(function(e){Ta(t,o,e,null)}).s(function(e){Ta(t,o,null,e)})}function Ea(t,e){if(t.b=function(){return X(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}function Sa(t,e){if(t.b=function(){return Y(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Ta(t,e,n,r){e?r?Ea(t,r):Sa(t,n):Sa(t,{user:null}),t.f=[],t.c=[]}function Ca(t){var e=new xn("timeout");t.a&&t.a.cancel(),t.a=Wt(ih.get()).then(function(){t.b||(t.g=!0,Ta(t,!0,null,e))})}function Ia(){}function Aa(t,e){var n=t.c,r=t.b;e.wa(r,n)(t.f,t.g).then(function(t){e.ha(r,t,null,n)}).s(function(t){e.ha(r,null,t,n)})}function Oa(){this.rb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.rb},set:function(t){this.rb=t},enumerable:!1})}function ka(t,e){this.a=e,Cn(this,"verificationId",t)}function Ra(t,e,n,r){return new gr(t).Ta(e,n).then(function(t){return new ka(t,r)})}function Pa(t){var e=Wn(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new xn("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");In(this,{token:t,expirationTime:_n(1e3*e.exp),authTime:_n(1e3*e.auth_time),issuedAtTime:_n(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function xa(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function Da(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function Na(t,e){t.stop(),t.b=Wt(Da(t,e)).then(function(){return bn()}).then(function(){return t.h()}).then(function(){Na(t,!0)}).s(function(e){t.i(e)&&Na(t,!1)})}function Ma(t){this.f=t,this.b=this.a=null,this.c=0}function La(t,e){var n=e[$f],r=e.refreshToken;e=Ua(e.expiresIn),t.b=n,t.c=e,t.a=r}function ja(t,e){t.b=e.b,t.a=e.a,t.c=e.c}function Ua(t){return Uu()+1e3*parseInt(t,10)}function Fa(t,e){return Ti(t.f,e).then(function(e){return t.b=e.access_token,t.c=Ua(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}function Ba(t,e){this.a=t||null,this.b=e||null,In(this,{lastSignInTime:_n(e||null),creationTime:_n(t||null)})}function qa(t){return new Ba(t.a,t.b)}function Wa(t,e,n,r,i,o){In(this,{uid:t,displayName:r||null,photoURL:i||null,email:n||null,phoneNumber:o||null,providerId:e})}function Va(t,e){gt.call(this,t);for(var n in e)this[n]=e[n]}function Ha(t,e,n){this.G=[],this.m=t.apiKey,this.o=t.appName,this.u=t.authDomain||null,t=r.a.SDK_VERSION?nn(r.a.SDK_VERSION):null,this.b=new bi(this.m,Hi(ol),t),this.h=new Ma(this.b),Ja(this,e[$f]),La(this.h,e),Cn(this,"refreshToken",this.h.a),ns(this,n||{}),jt.call(this),this.I=!1,this.u&&sn()&&(this.a=ga(this.u,this.m,this.o)),this.N=[],this.i=null,this.w=Ya(this),this.V=h(this.Ha,this);var i=this;this.ka=null,this.sa=function(t){i.oa(t.g)},this.X=null,this.O=[],this.ra=function(t){Ka(i,t.c)},this.W=null}function za(t,e){t.X&&kt(t.X,"languageCodeChanged",t.sa),(t.X=e)&&Ct(e,"languageCodeChanged",t.sa)}function Ka(t,e){t.O=e,wi(t.b,r.a.SDK_VERSION?nn(r.a.SDK_VERSION,t.O):null)}function Ga(t,e){t.W&&kt(t.W,"frameworkChanged",t.ra),(t.W=e)&&Ct(e,"frameworkChanged",t.ra)}function Qa(t){try{return r.a.app(t.o).auth()}catch(e){throw new xn("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.o+"'!")}}function Ya(t){return new xa(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-Uu()-3e5;return 0<e?e:0})}function Xa(t){t.C||t.w.b||(t.w.start(),kt(t,"tokenChanged",t.V),Ct(t,"tokenChanged",t.V))}function $a(t){kt(t,"tokenChanged",t.V),t.w.stop()}function Ja(t,e){t.qa=e,Cn(t,"_lat",e)}function Za(t,e){k(t.N,function(t){return t==e})}function ts(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return Z(e).then(function(){return t})}function es(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function ns(t,e){In(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new Ba(e.createdAt,e.lastLoginAt),providerData:[]})}function rs(){}function is(t){return Y().then(function(){if(t.C)throw new xn("app-deleted")})}function os(t){return Vu(t.providerData,function(t){return t.providerId})}function as(t,e){e&&(ss(t,e.providerId),t.providerData.push(e))}function ss(t,e){k(t.providerData,function(t){return t.providerId==e})}function us(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Cn(t,e,n)}function cs(t,e){t!=e&&(In(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),e.metadata?Cn(t,"metadata",qa(e.metadata)):Cn(t,"metadata",new Ba),Wu(e.providerData,function(e){as(t,e)}),ja(t.h,e.h),Cn(t,"refreshToken",t.h.a))}function fs(t){return t.F().then(function(e){var n=t.isAnonymous;return hs(t,e).then(function(){return n||us(t,"isAnonymous",!1),e})})}function ls(t,e){e[$f]&&t.qa!=e[$f]&&(La(t.h,e),t.dispatchEvent(new Va("tokenChanged")),Ja(t,e[$f]),us(t,"refreshToken",t.h.a))}function hs(t,e){return qi(t.b,pl,{idToken:e}).then(h(t.wc,t))}function ds(t){return(t=t.providerUserInfo)&&t.length?Vu(t,function(t){return new Wa(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}function ps(t,e){return fs(t).then(function(){if(A(os(t),e))return ts(t).then(function(){throw new xn("provider-already-linked")})})}function ys(t,e,n){var r=_r(e);return e=Hn(e),An({user:t,credential:r,additionalUserInfo:e,operationType:n})}function ms(t,e){return ls(t,e),t.reload().then(function(){return t})}function vs(t,e,n,i,o){if(!sn())return X(new xn("operation-not-supported-in-this-environment"));if(t.i&&!o)return X(t.i);var a=Vn(n.providerId),s=pn(t.uid+":::"),u=null;(!fn()||Xe())&&t.u&&n.isOAuthProvider&&(u=ro(t.u,t.m,t.o,e,n,null,s,r.a.SDK_VERSION||null));var c=ze(u,a&&a.Ba,a&&a.Aa);return i=i().then(function(){if(bs(t),!o)return t.F().then(function(){})}).then(function(){return ma(t.a,c,e,n,s,!!u)}).then(function(){return new K(function(n,r){t.ha(e,null,new xn("cancelled-popup-request"),t.g||null),t.f=n,t.v=r,t.g=s,t.c=t.a.Ea(t,e,c,s)})}).then(function(t){return c&&He(c),t?An(t):null}).s(function(t){throw c&&He(c),t}),_s(t,i,o)}function gs(t,e,n,r,i){if(!sn())return X(new xn("operation-not-supported-in-this-environment"));if(t.i&&!i)return X(t.i);var o=null,a=pn(t.uid+":::");return r=r().then(function(){if(bs(t),!i)return t.F().then(function(){})}).then(function(){return t.aa=a,ts(t)}).then(function(e){return t.ba&&(e=t.ba,e=e.b.set(ah,t.D(),e.a)),e}).then(function(){return t.a.Ca(e,n,a)}).s(function(e){if(o=e,t.ba)return Is(t.ba);throw o}).then(function(){if(o)throw o}),_s(t,r,i)}function bs(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new xn("internal-error");throw new xn("auth-domain-config-required")}}function _s(t,e,n){var r=ws(t,e,n);return t.G.push(r),r.ia(function(){O(t.G,r)}),r}function ws(t,e,n){return t.i&&!n?(e.cancel(),X(t.i)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new Va("userInvalidated")),t.i=e),e})}function Es(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[$f]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-Uu())/1e3;var r=new Ha(e,n,t);return t.providerData&&Wu(t.providerData,function(t){t&&as(r,An(t))}),t.redirectEventId&&(r.aa=t.redirectEventId),r}function Ss(t,e,n,r){var i=new Ha(t,e);return n&&(i.ba=n),r&&Ka(i,r),i.reload().then(function(){return i})}function Ts(t,e,n,r){e=e||{apiKey:t.m,authDomain:t.u,appName:t.o};var i=t.h,o={};return o[$f]=i.b,o.refreshToken=i.a,o.expiresIn=(i.c-Uu())/1e3,e=new Ha(e,o),n&&(e.ba=n),r&&Ka(e,r),cs(e,t),e}function Cs(t){this.a=t,this.b=Uo()}function Is(t){return Wo(t.b,ah,t.a)}function As(t,e){return t.b.get(ah,t.a).then(function(t){return t&&e&&(t.authDomain=e),Es(t||{})})}function Os(t){this.a=t,this.b=Uo(),this.c=null,this.f=Rs(this),this.b.addListener(Ps("local"),this.a,h(this.g,this))}function ks(t,e){var n,r=[];for(n in Kl)Kl[n]!==e&&r.push(Wo(t.b,Ps(Kl[n]),t.a));return r.push(Wo(t.b,sh,t.a)),J(r)}function Rs(t){var e=Ps("local"),n=Ps("session"),r=Ps("none");return qo(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(i){return i?n:t.b.get(r,t.a).then(function(n){return n?r:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(sh,t.a).then(function(t){return t?Ps(t):e})})})}).then(function(e){return t.c=e,ks(t,e.A)}).s(function(){t.c||(t.c=e)})}function Ps(t){return{name:"authUser",A:t}}function xs(t){return Ls(t,function(){return t.b.set(sh,t.c.A,t.a)})}function Ds(t,e){return Ls(t,function(){return t.b.set(t.c,e.D(),t.a)})}function Ns(t){return Ls(t,function(){return Wo(t.b,t.c,t.a)})}function Ms(t,e){return Ls(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),Es(t||{})})})}function Ls(t,e){return t.f=t.f.then(e,e),t.f}function js(t){if(this.m=!1,Cn(this,"settings",new Oa),Cn(this,"app",t),!Ys(this).options||!Ys(this).options.apiKey)throw new xn("invalid-api-key");t=r.a.SDK_VERSION?nn(r.a.SDK_VERSION):null,this.b=new bi(Ys(this).options&&Ys(this).options.apiKey,Hi(ol),t),this.N=[],this.o=[],this.I=[],this.Sb=r.a.INTERNAL.createSubscribe(h(this.kc,this)),this.O=void 0,this.Tb=r.a.INTERNAL.createSubscribe(h(this.mc,this)),Hs(this,null),this.h=new Os(Ys(this).options.apiKey+":"+Ys(this).name),this.w=new Cs(Ys(this).options.apiKey+":"+Ys(this).name),this.V=tu(this,Ks(this)),this.i=tu(this,Gs(this)),this.X=!1,this.ka=h(this.Lc,this),this.Ha=h(this.Z,this),this.qa=h(this.ac,this),this.ra=h(this.ic,this),this.sa=h(this.jc,this),Ws(this),this.INTERNAL={},this.INTERNAL.delete=h(this.delete,this),this.INTERNAL.logFramework=h(this.sc,this),this.u=0,jt.call(this),Bs(this),this.G=[]}function Us(t){gt.call(this,"languageCodeChanged"),this.g=t}function Fs(t){gt.call(this,"frameworkChanged"),this.c=t}function Bs(t){Object.defineProperty(t,"lc",{get:function(){return this.ea()},set:function(t){this.oa(t)},enumerable:!1}),t.W=null}function qs(t){return t.Rb||X(new xn("auth-domain-config-required"))}function Ws(t){var e=Ys(t).options.authDomain,n=Ys(t).options.apiKey;e&&sn()&&(t.Rb=t.V.then(function(){if(!t.m){if(t.a=ga(e,n,Ys(t).name),t.a.subscribe(t),Xs(t)&&es(Xs(t)),t.C){es(t.C);var r=t.C;r.oa(t.ea()),za(r,t),r=t.C,Ka(r,t.G),Ga(r,t),t.C=null}return t.a}}))}function Vs(t,e){var n={};return n.apiKey=Ys(t).options.apiKey,n.authDomain=Ys(t).options.authDomain,n.appName=Ys(t).name,t.V.then(function(){return Ss(n,e,t.w,t.xa())}).then(function(e){return Xs(t)&&e.uid==Xs(t).uid?(cs(Xs(t),e),t.Z(e)):(Hs(t,e),es(e),t.Z(e))}).then(function(){Js(t)})}function Hs(t,e){Xs(t)&&(Za(Xs(t),t.Ha),kt(Xs(t),"tokenChanged",t.qa),kt(Xs(t),"userDeleted",t.ra),kt(Xs(t),"userInvalidated",t.sa),$a(Xs(t))),e&&(e.N.push(t.Ha),Ct(e,"tokenChanged",t.qa),Ct(e,"userDeleted",t.ra),Ct(e,"userInvalidated",t.sa),0<t.u&&Xa(e)),Cn(t,"currentUser",e),e&&(e.oa(t.ea()),za(e,t),Ka(e,t.G),Ga(e,t))}function zs(t){var e=As(t.w,Ys(t).options.authDomain).then(function(e){return(t.C=e)&&(e.ba=t.w),Is(t.w)});return tu(t,e)}function Ks(t){var e=Ys(t).options.authDomain,n=zs(t).then(function(){return Ms(t.h,e)}).then(function(e){return e?(e.ba=t.w,t.C&&(t.C.aa||null)==(e.aa||null)?e:e.reload().then(function(){return Ds(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:Ns(t.h)})):null}).then(function(e){Hs(t,e||null)});return tu(t,n)}function Gs(t){return t.V.then(function(){return t.fa()}).s(function(){}).then(function(){if(!t.m)return t.ka()}).s(function(){}).then(function(){if(!t.m){t.X=!0;var e=t.h;e.b.addListener(Ps("local"),e.a,t.ka)}})}function Qs(t,e){var n=null,r=null;return tu(t,e.then(function(e){return n=_r(e),r=Hn(e),Vs(t,e)}).then(function(){return An({user:Xs(t),credential:n,additionalUserInfo:r,operationType:"signIn"})}))}function Ys(t){return t.app}function Xs(t){return t.currentUser}function $s(t){return Xs(t)&&Xs(t)._lat||null}function Js(t){if(t.X){for(var e=0;e<t.o.length;e++)t.o[e]&&t.o[e]($s(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e]($s(t))}}function Zs(t,e){t.I.push(e),tu(t,t.i.then(function(){!t.m&&A(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e($s(t)))}))}function tu(t,e){return t.N.push(e),e.ia(function(){O(t.N,e)}),e}function eu(){}function nu(){this.a={},this.b=1e12}function ru(t,e){return(e=iu(e))?t.a[e]||null:null}function iu(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function ou(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=ke(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Ct(this.f,"click",this.i)}function au(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function su(){}function uu(){this.b=Mu.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}function cu(t,e,n,r,i,o,a){if(Cn(this,"type","recaptcha"),this.c=this.f=null,this.C=!1,this.m=e,this.g=null,a?(ch||(ch=new su),a=ch):(hh||(hh=new uu),a=hh),this.o=a,this.a=n||{theme:"light",type:"image"},this.h=[],this.a[yh])throw new xn("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[mh],!Mu.document)throw new xn("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!ke(e)||!this.i&&ke(e).hasChildNodes())throw new xn("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new bi(t,o||null,i||null),this.v=r||function(){return null};var s=this;this.l=[];var u=this.a[dh];this.a[dh]=function(t){if(fu(s,t),"function"===typeof u)u(t);else if("string"===typeof u){var e=on(u,Mu);"function"===typeof e&&e(t)}};var c=this.a[ph];this.a[ph]=function(){if(fu(s,null),"function"===typeof c)c();else if("string"===typeof c){var t=on(c,Mu);"function"===typeof t&&t()}}}function fu(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(t){}}function lu(t,e){k(t.l,function(t){return t==e})}function hu(t,e){return t.h.push(e),e.ia(function(){O(t.h,e)}),e}function du(t){if(t.C)throw new xn("internal-error","RecaptchaVerifier instance has been destroyed.")}function pu(t,e,n){var i=!1;try{this.b=n||r.a.app()}catch(t){throw new xn("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new xn("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().xa()}catch(t){}try{i=this.b.auth().settings.appVerificationDisabledForTesting}catch(t){}a=r.a.SDK_VERSION?nn(r.a.SDK_VERSION,a):null,cu.call(this,n,t,e,function(){try{var t=o.b.auth().ea()}catch(e){t=null}return t},a,Hi(ol),i)}function yu(t,e,n,r){t:{n=Array.prototype.slice.call(n);for(var i=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new xn("internal-error","Argument validator encountered a required argument after an optional argument.");i++}if(o=e.length,n.length<i||o<n.length)r="Expected "+(i==o?1==i?"1 argument":i+" arguments":i+"-"+o+" arguments")+" but got "+n.length+".";else{for(i=0;i<n.length;i++)if(o=e[i].optional&&void 0===n[i],!e[i].M(n[i])&&!o){if(e=e[i],0>i||i>=vh.length)throw new xn("internal-error","Argument validator received an unsupported number of arguments.");n=vh[i],r=(r?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}r=null}}if(r)throw new xn("argument-error",t+" failed: "+r)}function mu(e,n){return{name:e||"",K:"a valid string",optional:!!n,M:t}}function vu(t,n){return{name:t||"",K:"a boolean",optional:!!n,M:e}}function gu(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:c}}function bu(t,e){return{name:t||"",K:"a function",optional:!!e,M:u}}function _u(t,e){return{name:t||"",K:"null",optional:!!e,M:o}}function wu(){return{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}}}function Eu(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof js)}}}function Su(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof r.a.app.App)}}}function Tu(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.ya||!n)}}}function Cu(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function Iu(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(e){return!!(e&&t(e.type)&&u(e.verify))}}}function Au(t,e,n,r){return{name:n||"",K:t.K+" or "+e.K,optional:!!r,M:function(n){return t.M(n)||e.M(n)}}}function Ou(t,e){for(var n in e){var r=e[n].name;t[r]=Pu(r,t[n],e[n].j)}}function ku(t,e){for(var n in e){var r=e[n].name;r!==n&&Object.defineProperty(t,r,{get:d(function(t){return this[t]},n),set:d(function(t,e,n,r){yu(t,[n],[r],!0),this[e]=r},r,n,e[n].sb),enumerable:!0})}}function Ru(t,e,n,r){t[e]=Pu(e,n,r)}function Pu(t,e,n){function r(){var t=Array.prototype.slice.call(arguments);return yu(o,n,t),e.apply(this,t)}if(!n)return e;var i,o=xu(t);for(i in e)r[i]=e[i];for(i in e.prototype)r.prototype[i]=e.prototype[i];return r}function xu(t){return t=t.split("."),t[t.length-1]}var Du,Nu=Nu||{},Mu=this,Lu="closure_uid_"+(1e9*Math.random()>>>0),ju=0,Uu=Date.now||function(){return+new Date};p(v,Error),v.prototype.name="CustomError",p(g,v),g.prototype.name="AssertionError",_.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var Fu=new _(function(){return new T},function(t){t.reset()});E.prototype.add=function(t,e){var n=Fu.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},T.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},T.prototype.reset=function(){this.next=this.b=this.a=null};var Bu,qu=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(e,n){if(t(e))return t(n)&&1==n.length?e.indexOf(n,0):-1;for(var r=0;r<e.length;r++)if(r in e&&e[r]===n)return r;return-1},Wu=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(e,n,r){for(var i=e.length,o=t(e)?e.split(""):e,a=0;a<i;a++)a in o&&n.call(r,o[a],a,e)},Vu=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(e,n){for(var r=e.length,i=Array(r),o=t(e)?e.split(""):e,a=0;a<r;a++)a in o&&(i[a]=n.call(void 0,o[a],a,e));return i},Hu=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(e,n){for(var r=e.length,i=t(e)?e.split(""):e,o=0;o<r;o++)if(o in i&&n.call(void 0,i[o],o,e))return!0;return!1},zu=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]},Ku=/&/g,Gu=/</g,Qu=/>/g,Yu=/"/g,Xu=/'/g,$u=/\x00/g,Ju=/[\x00&<>"']/;t:{var Zu=Mu.navigator;if(Zu){var tc=Zu.userAgent;if(tc){Bu=tc;break t}}Bu=""}var ec,nc,rc="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" "),ic=!1,oc=new E,ac=0,sc=2,uc=3;G.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var cc=new _(function(){return new G},function(t){t.reset()});K.prototype.then=function(t,e,n){return nt(this,u(t)?t:null,u(e)?e:null,n)},y(K),Du=K.prototype,Du.ia=function(t,e){return t=Q(t,t,e),t.c=!0,et(this,t),this},Du.s=function(t,e){return nt(this,null,t,e)},Du.cancel=function(t){this.a==ac&&V(function(){tt(this,new lt(t))},this)},Du.Mc=function(t){this.a=ac,rt(this,sc,t)},Du.Nc=function(t){this.a=ac,rt(this,uc,t)},Du.Xb=function(){for(var t;t=st(this);)ut(this,t,this.a,this.i);this.h=!1};var fc=q;p(lt,v),lt.prototype.name="cancel";var lc=0,hc={};ht.prototype.pa=!1,ht.prototype.ua=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},pt[" "]=n;var dc,pc=L("Opera"),yc=L("Trident")||L("MSIE"),mc=L("Edge"),vc=mc||yc,gc=L("Gecko")&&!(N(Bu.toLowerCase(),"webkit")&&!L("Edge"))&&!(L("Trident")||L("MSIE"))&&!L("Edge"),bc=N(Bu.toLowerCase(),"webkit")&&!L("Edge");t:{var _c="",wc=function(){var t=Bu;return gc?/rv:([^\);]+)(\)|;)/.exec(t):mc?/Edge\/([\d\.]+)/.exec(t):yc?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):bc?/WebKit\/(\S+)/.exec(t):pc?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(wc&&(_c=wc?wc[1]:""),yc){var Ec=mt();if(null!=Ec&&Ec>parseFloat(_c)){dc=String(Ec);break t}}dc=_c}var Sc,Tc={},Cc=Mu.document;Sc=Cc&&yc?mt()||("CSS1Compat"==Cc.compatMode?parseInt(dc,10):5):void 0;var Ic=Object.freeze||function(t){return t},Ac=!yc||9<=Number(Sc),Oc=yc&&!vt("9"),kc=function(){if(!Mu.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return Mu.addEventListener("test",n,e),Mu.removeEventListener("test",n,e),t}();gt.prototype.preventDefault=function(){this.Jb=!1},p(bt,gt);var Rc=Ic({2:"touch",3:"pen",4:"mouse"});bt.prototype.preventDefault=function(){bt.nb.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,Oc)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}},bt.prototype.f=function(){return this.a};var Pc="closure_listenable_"+(1e6*Math.random()|0),xc=0;Et.prototype.add=function(t,e,n,r,i){var o=t.toString();(t=this.a[o])||(t=this.a[o]=[],this.b++);var a=Tt(t,e,r,i);return-1<a?(e=t[a],n||(e.Ia=!1)):(e=new _t(e,this.src,o,!!r,i),e.Ia=n,t.push(e)),e};var Dc="closure_lm_"+(1e6*Math.random()|0),Nc={},Mc=0,Lc="__closure_events_fn_"+(1e9*Math.random()>>>0);p(jt,ht),jt.prototype[Pc]=!0,jt.prototype.addEventListener=function(t,e,n,r){Ct(this,t,e,n,r)},jt.prototype.removeEventListener=function(t,e,n,r){kt(this,t,e,n,r)},jt.prototype.dispatchEvent=function(e){var n,r=this.Ua;if(r)for(n=[];r;r=r.Ua)n.push(r);r=this.Qb;var i=e.type||e;if(t(e))e=new gt(e,r);else if(e instanceof gt)e.target=e.target||r;else{var o=e;e=new gt(i,r),B(e,o)}if(o=!0,n)for(var a=n.length-1;0<=a;a--){var s=e.b=n[a];o=Bt(s,i,!0,e)&&o}if(s=e.b=r,o=Bt(s,i,!0,e)&&o,o=Bt(s,i,!1,e)&&o,n)for(a=0;a<n.length;a++)s=e.b=n[a],o=Bt(s,i,!1,e)&&o;return o},jt.prototype.ua=function(){if(jt.nb.ua.call(this),this.l){var t,e=this.l,n=0;for(t in e.a){for(var r=e.a[t],i=0;i<r.length;i++)++n,wt(r[i]);delete e.a[t],e.b--}}this.Ua=null},Du=Kt.prototype,Du.S=function(){Gt(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},Du.U=function(){return Gt(this),this.a.concat()},Du.clear=function(){this.b={},this.c=this.a.length=0},Du.get=function(t,e){return Qt(this.b,t)?this.b[t]:e},Du.set=function(t,e){Qt(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},Du.forEach=function(t,e){for(var n=this.U(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}};var jc=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Xt.prototype.toString=function(){var t=[],e=this.c;e&&t.push(oe(e,Uc,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(oe(e,Uc,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.i)&&t.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(oe(n,"/"==n.charAt(0)?Bc:Fc,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.h)&&t.push("#",oe(n,Wc)),t.join("")};var Uc=/[#\/\?@]/g,Fc=/[#\?:]/g,Bc=/[#\?]/g,qc=/[#\?@]/g,Wc=/#/g;Du=se.prototype,Du.add=function(t,e){ue(this),this.c=null,t=de(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},Du.clear=function(){this.a=this.c=null,this.b=0},Du.forEach=function(t,e){ue(this),this.a.forEach(function(n,r){Wu(n,function(n){t.call(e,n,r,this)},this)},this)},Du.U=function(){ue(this);for(var t=this.a.S(),e=this.a.U(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Du.S=function(e){ue(this);var n=[];if(t(e))le(this,e)&&(n=R(n,this.a.get(de(this,e))));else{e=this.a.S();for(var r=0;r<e.length;r++)n=R(n,e[r])}return n},Du.set=function(t,e){return ue(this),this.c=null,t=de(this,t),le(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},Du.get=function(t,e){return t=t?this.S(t):[],0<t.length?String(t[0]):e},Du.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.U(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.S(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.c=t.join("&")};var Vc=!yc||9<=Number(Sc);ye.prototype.ma=!0,ye.prototype.la=function(){return this.a},ye.prototype.toString=function(){return"Const{"+this.a+"}"};var Hc={};ve(""),ge.prototype.ma=!0,ge.prototype.la=function(){return this.a},ge.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var zc=/%{(\w+)}/g,Kc=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,Gc={};Ee.prototype.ma=!0,Ee.prototype.la=function(){return this.a},Ee.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Qc=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i,Yc={};Ce("about:blank"),Ie.prototype.ma=!0,Ie.prototype.la=function(){return this.a},Ie.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Xc={};Oe("<!DOCTYPE html>"),Oe(""),Oe("<br>");var $c={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"},Jc={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},Zc=/\uffff/.test("\uffff")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g,tf=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ef="Firefox",nf="Chrome",rf={Tc:"FirebaseCore-web",Vc:"FirebaseUI-web"};vn.prototype.get=function(){var t=Mu.navigator;return(t&&"boolean"===typeof t.onLine&&(un()||"chrome-extension:"===cn()||"undefined"!==typeof t.connection)?t.onLine:1)?this.b?this.c:this.a:Math.min(5e3,this.a)};var of,af={};try{var sf={};Object.defineProperty(sf,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(sf,"abcd",{configurable:!0,enumerable:!0,value:2}),of=2==sf.abcd}catch(t){of=!1}var uf="EMAIL_SIGNIN",cf="email",ff="newEmail",lf="requestType",hf="email",df="fromEmail",pf="data",yf="operation";p(xn,Error),xn.prototype.D=function(){return{code:this.code,message:this.message}},xn.prototype.toJSON=function(){return this.D()};var mf="auth/",vf={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."},gf="android",bf="handleCodeInApp",_f="iOS",wf="url",Ef="installApp",Sf="minimumVersion",Tf="packageName",Cf="bundleId",If=null,Af=null;Bn.prototype.f=function(){return this.b};var Of="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),kf=["client_id","response_type","scope","redirect_uri","state"],Rf={Uc:{Ma:"locale",Ba:500,Aa:600,Na:"facebook.com",gb:kf},Wc:{Ma:null,Ba:500,Aa:620,Na:"github.com",gb:kf},Xc:{Ma:"hl",Ba:515,Aa:680,Na:"google.com",gb:kf},cd:{Ma:"lang",Ba:485,Aa:705,Na:"twitter.com",gb:Of}},Pf="idToken",xf="providerId";p(Kn,zn),p(Gn,Kn),p(Qn,Kn),p(Yn,Kn),p(Xn,Kn),tr.prototype.ya=function(t){return ji(t,er(this))},tr.prototype.c=function(t,e){var n=er(this);return n.idToken=e,Ui(t,n)},tr.prototype.f=function(t,e){return Zn(Fi(t,er(this)),e)},tr.prototype.D=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),t},nr.prototype.Da=function(t){return this.xb=F(t),this},p(rr,nr),rr.prototype.ta=function(t){return A(this.a,t)||this.a.push(t),this},rr.prototype.Db=function(){return P(this.a)},rr.prototype.credential=function(t,e){if(!t&&!e)throw new xn("argument-error","credential failed: must provide the ID token and/or the access token.");return new tr(this.providerId,{idToken:t||null,accessToken:e||null},this.providerId)},p(ir,rr),Cn(ir,"PROVIDER_ID","facebook.com"),Cn(ir,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),p(ar,rr),Cn(ar,"PROVIDER_ID","github.com"),Cn(ar,"GITHUB_SIGN_IN_METHOD","github.com"),p(ur,rr),Cn(ur,"PROVIDER_ID","google.com"),Cn(ur,"GOOGLE_SIGN_IN_METHOD","google.com"),p(fr,nr),Cn(fr,"PROVIDER_ID","twitter.com"),Cn(fr,"TWITTER_SIGN_IN_METHOD","twitter.com"),hr.prototype.ya=function(t){return this.signInMethod==dr.EMAIL_LINK_SIGN_IN_METHOD?qi(t,hl,{email:this.a,oobCode:this.b}):qi(t,kl,{email:this.a,password:this.b})},hr.prototype.c=function(t,e){return this.signInMethod==dr.EMAIL_LINK_SIGN_IN_METHOD?qi(t,dl,{idToken:e,email:this.a,oobCode:this.b}):qi(t,Sl,{idToken:e,email:this.a,password:this.b})},hr.prototype.f=function(t,e){return Zn(this.ya(t),e)},hr.prototype.D=function(){return{email:this.a,password:this.b,signInMethod:this.signInMethod}},In(dr,{PROVIDER_ID:"password"}),In(dr,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),In(dr,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),mr.prototype.ya=function(t){return t.Ta(vr(this))},mr.prototype.c=function(t,e){var n=vr(this);return n.idToken=e,qi(t,Pl,n)},mr.prototype.f=function(t,e){var n=vr(this);return n.operation="REAUTH",t=qi(t,xl,n),Zn(t,e)},mr.prototype.D=function(){var t={providerId:"phone"};return this.a.Sa&&(t.verificationId=this.a.Sa),this.a.Ra&&(t.verificationCode=this.a.Ra),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.$&&(t.phoneNumber=this.a.$),t},gr.prototype.Ta=function(e,n){var r=this.a.b;return Y(n.verify()).then(function(i){if(!t(i))throw new xn("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(n.type){case"recaptcha":return Di(r,{phoneNumber:e,recaptchaToken:i}).then(function(t){return"function"===typeof n.reset&&n.reset(),t},function(t){throw"function"===typeof n.reset&&n.reset(),t});default:throw new xn("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},In(gr,{PROVIDER_ID:"phone"}),In(gr,{PHONE_SIGN_IN_METHOD:"phone"}),Er.prototype.D=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,error:this.a&&this.a.D()}};var Df=null;Tr.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},"function"===typeof(t=on("universalLinks.subscribe",Mu))&&t(null,this.b))},Tr.prototype.unsubscribe=function(t){k(this.a,function(e){return e==t})},p(Cr,xn),p(Ir,xn),Ir.prototype.D=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.D();return e&&B(t,e),t},Ir.prototype.toJSON=function(){return this.D()};var Nf=/^[+a-zA-Z0-9_.!#$%&'*\/=?^`{|}~-]+@([a-zA-Z0-9-]+\.)+[a-zA-Z0-9]{2,63}$/;Or.prototype.c=null;var Mf;p(Rr,Or),Rr.prototype.a=function(){var t=Pr(this);return t?new ActiveXObject(t):new XMLHttpRequest},Rr.prototype.b=function(){var t={};return Pr(this)&&(t[0]=!0,t[1]=!0),t},Mf=new Rr,p(xr,Or),xr.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new Dr;throw Error("Unsupported browser")},xr.prototype.b=function(){return{}},Du=Dr.prototype,Du.open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},Du.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},Du.abort=function(){this.a.abort()},Du.setRequestHeader=function(){},Du.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},Du.dc=function(){this.status=200,this.responseText=this.a.responseText,Nr(this,4)},Du.Eb=function(){this.status=500,this.responseText="",Nr(this,4)},Du.hc=function(){this.Eb()},Du.ec=function(){this.status=200,Nr(this,1)},Du.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Mr.prototype.a=null;var Lf=0;Mr.prototype.reset=function(t,e,n,r,i){"number"==typeof i||Lf++,r||Uu(),delete this.a},jr.prototype.toString=function(){return this.name};var jf=new jr("SEVERE",1e3),Uf=new jr("WARNING",900),Ff=new jr("CONFIG",700),Bf=new jr("FINE",500);Lr.prototype.log=function(t,e,n){if(t.value>=Ur(this).value)for(u(e)&&(e=e()),t=new Mr(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var qf={},Wf=null;p(qr,Or),qr.prototype.a=function(){return new Wr(this.f)},qr.prototype.b=function(t){return function(){return t}}({}),p(Wr,jt);var Vf=0;Du=Wr.prototype,Du.open=function(t,e){if(this.readyState!=Vf)throw this.abort(),Error("Error reopening a connection");this.h=t,this.c=e,this.readyState=1,Vr(this)},Du.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.g,method:this.h,credentials:void 0,cache:void 0};t&&(e.body=t),this.i.fetch(new Request(this.c,e)).then(this.gc.bind(this),this.Fb.bind(this))},Du.abort=function(){this.responseText="",this.g=new Headers,this.status=0,1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,Vr(this)),this.readyState=Vf},Du.gc=function(t){this.a&&(this.b||(this.b=t.headers,this.readyState=2,Vr(this)),this.a&&(this.readyState=3,Vr(this),this.a&&t.text().then(this.fc.bind(this,t),this.Fb.bind(this))))},Du.fc=function(t,e){this.a&&(this.status=t.status,this.statusText=t.statusText,this.responseText=e,this.readyState=4,Vr(this))},Du.Fb=function(t){var e=this.f;e&&e.log(Uf,"Failed to fetch url "+this.c,t instanceof Error?t:Error(t)),this.a&&(this.readyState=4,Vr(this))},Du.setRequestHeader=function(t,e){this.g.append(t,e)},Du.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.f)&&t.log(Uf,"Attempting to get response header but no headers have been received for url: "+this.c,void 0),"")},Du.getAllResponseHeaders=function(){if(!this.b){var t=this.f;return t&&t.log(Uf,"Attempting to get all response headers but no headers have been received for url: "+this.c,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},p(Hr,jt);var Hf="";Hr.prototype.b=Fr("goog.net.XhrIo");var zf=/^https?$/i,Kf=["POST","PUT"];Du=Hr.prototype,Du.Ga=function(){"undefined"!=typeof Nu&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",Br(this.b,ni(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},Du.abort=function(){this.a&&this.c&&(Br(this.b,ni(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),$r(this))},Du.ua=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),$r(this,!0)),Hr.nb.ua.call(this)},Du.Ib=function(){this.pa||(this.I||this.i||this.f?Xr(this):this.vc())},Du.vc=function(){Xr(this)},Du.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case Hf:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(jf,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(t){return Br(this.b,"Can not get response: "+t.message),null}},ri.prototype.cancel=function(t){if(this.a)this.c instanceof ri&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):0>=--e.l&&e.cancel()}this.v?this.v.call(this.u,this):this.m=!0,this.a||(t=new li(this),oi(this),ii(this,!1,t))}},ri.prototype.o=function(t,e){this.i=!1,ii(this,t,e)},ri.prototype.C=function(){oi(this),ii(this,!0,null)},ri.prototype.then=function(t,e,n){var r,i,o=new K(function(t,e){r=t,i=e});return si(this,r,function(t){t instanceof li?o.cancel():i(t)}),o.then(t,e,n)},y(ri),p(fi,v),fi.prototype.message="Deferred has already fired",fi.prototype.name="AlreadyCalledError",p(li,v),li.prototype.message="Deferred was canceled",li.prototype.name="CanceledError",hi.prototype.c=function(){throw delete Gf[this.a],this.b};var Gf={},Qf=0,Yf=1;p(vi,v),p(gi,Or),gi.prototype.a=function(){return new this.f},gi.prototype.b=function(){return{}};var Xf,$f="idToken",Jf=new vn(3e4,6e4),Zf={"Content-Type":"application/x-www-form-urlencoded"},tl=new vn(3e4,6e4),el={"Content-Type":"application/json"};bi.prototype.o=function(t,e,n,r,i,o){if($e()&&("undefined"===typeof Mu.fetch||"undefined"===typeof Mu.Headers||"undefined"===typeof Mu.Request))throw new xn("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var a=new Hr(this.c);if(o){a.g=Math.max(0,o);var s=setTimeout(function(){a.dispatchEvent("timeout")},o)}Ut(a,"complete",function(){s&&clearTimeout(s);var t=null;try{t=JSON.parse(ei(this))||null}catch(e){t=null}e&&e(t)}),Ft(a,"ready",function(){s&&clearTimeout(s),dt(this)}),Ft(a,"timeout",function(){s&&clearTimeout(s),dt(this),e&&e(null)}),zr(a,t,n,r,i)};var nl=ve("https://apis.google.com/js/client.js?onload=%{onload}"),rl="__fcb"+Math.floor(1e6*Math.random()).toString();bi.prototype.m=function(t,e,n,r,i){var o=this;Xf.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:r,headers:i,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},bi.prototype.Pa=function(){return qi(this,Tl,{})},bi.prototype.ob=function(t,e){return qi(this,El,{idToken:t,email:e})},bi.prototype.pb=function(t,e){return qi(this,Sl,{idToken:t,password:e})};var il={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};Du=bi.prototype,Du.qb=function(t,e){var n={idToken:t},r=[];return j(il,function(t,i){var o=e[i];null===o?r.push(t):i in e&&(n[i]=o)}),r.length&&(n.deleteAttribute=r),qi(this,El,n)},Du.jb=function(t,e){return t={requestType:"PASSWORD_RESET",email:t},B(t,e),qi(this,vl,t)},Du.kb=function(t,e){return t={requestType:"EMAIL_SIGNIN",email:t},B(t,e),qi(this,yl,t)},Du.ib=function(t,e){return t={requestType:"VERIFY_EMAIL",idToken:t},B(t,e),qi(this,ml,t)},Du.Ta=function(t){return qi(this,Rl,t)},Du.Ya=function(t,e){return qi(this,_l,{oobCode:t,newPassword:e})},Du.Ja=function(t){return qi(this,sl,{oobCode:t})},Du.Va=function(t){return qi(this,al,{oobCode:t})};var ol,al={endpoint:"setAccountInfo",B:Bi,da:"email"},sl={endpoint:"resetPassword",B:Bi,J:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new xn("internal-error")}},ul={endpoint:"signupNewUser",B:function(t){if(Ii(t),!t.password)throw new xn("weak-password")},J:Pi,R:!0},cl={endpoint:"createAuthUri"},fl={endpoint:"deleteAccount",T:["idToken"]},ll={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],B:function(t){if(!a(t.deleteProvider))throw new xn("internal-error")}},hl={endpoint:"emailLinkSignin",T:["email","oobCode"],B:Ii,J:Pi,R:!0},dl={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],B:Ii,J:Pi,R:!0},pl={endpoint:"getAccountInfo"},yl={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new xn("internal-error");Ii(t)},da:"email"},ml={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new xn("internal-error")},da:"email"},vl={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new xn("internal-error");Ii(t)},da:"email"},gl={tb:!0,endpoint:"getProjectConfig",Hb:"GET"},bl={tb:!0,endpoint:"getRecaptchaParam",Hb:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new xn("internal-error")}},_l={endpoint:"resetPassword",B:Bi,da:"email"},wl={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},El={endpoint:"setAccountInfo",T:["idToken"],B:Ai,R:!0},Sl={endpoint:"setAccountInfo",T:["idToken"],B:function(t){if(Ai(t),!t.password)throw new xn("weak-password")},J:Pi,R:!0},Tl={endpoint:"signupNewUser",J:Pi,R:!0},Cl={endpoint:"verifyAssertion",B:Mi,J:Li,R:!0},Il={endpoint:"verifyAssertion",B:Mi,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new xn("user-not-found");if(t.errorMessage)throw Wi(t.errorMessage);if(!t[$f])throw new xn("internal-error")},R:!0},Al={endpoint:"verifyAssertion",B:function(t){if(Mi(t),!t.idToken)throw new xn("internal-error")},J:Li,R:!0},Ol={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new xn("invalid-custom-token")},J:Pi,R:!0},kl={endpoint:"verifyPassword",B:function(t){if(Ii(t),!t.password)throw new xn("wrong-password")},J:Pi,R:!0},Rl={endpoint:"verifyPhoneNumber",B:xi,J:Pi},Pl={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new xn("internal-error");xi(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Ar(t);Pi(t)}},xl={Wb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:xi,J:Pi},Dl={Zc:{$a:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",hb:"https://securetoken.googleapis.com/v1/token",id:"p"},ad:{$a:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",hb:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},bd:{$a:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",hb:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};ol=Hi("__EID__")?"__EID__":void 0;var Nl=ve("https://apis.google.com/js/api.js?onload=%{onload}"),Ml=new vn(3e4,6e4),Ll=new vn(5e3,15e3),jl=null;Xi.prototype.toString=function(){return this.f?te(this.a,"v",this.f):fe(this.a.a,"v"),this.b?te(this.a,"eid",this.b):fe(this.a.a,"eid"),this.c.length?te(this.a,"fw",this.c.join(",")):fe(this.a.a,"fw"),this.a.toString()},$i.prototype.toString=function(){var t=re(this.o,"/__/auth/handler");if(te(t,"apiKey",this.m),te(t,"appName",this.c),te(t,"authType",this.l),this.a.isOAuthProvider){var e=this.a;try{var n=r.a.app(this.c).auth().ea()}catch(t){n=null}e.Za=n,te(t,"providerId",this.a.providerId),e=this.a,n=hn(e.xb);for(var i in n)n[i]=n[i].toString();i=e.Cc,n=F(n);for(var o=0;o<i.length;o++){var a=i[o];a in n&&delete n[a]}e.bb&&e.Za&&!n[e.bb]&&(n[e.bb]=e.Za),U(n)||te(t,"customParameters",ln(n))}if("function"===typeof this.a.Db&&(e=this.a.Db(),e.length&&te(t,"scopes",e.join(","))),this.i?te(t,"redirectUrl",this.i):fe(t.a,"redirectUrl"),this.g?te(t,"eventId",this.g):fe(t.a,"eventId"),this.h?te(t,"v",this.h):fe(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!ee(t,s)&&te(t,s,this.b[s]);return this.f?te(t,"eid",this.f):fe(t.a,"eid"),s=Ji(this.c),s.length&&te(t,"fw",s.join(",")),t.toString()},Du=Zi.prototype,Du.Ea=function(t,e,n){var r=new xn("popup-closed-by-user"),i=new xn("web-storage-unsupported"),o=this,a=!1;return this.ga().then(function(){oo(o).then(function(n){n||(t&&He(t),e(i),a=!0)})}).s(function(){}).then(function(){if(!a)return Ke(t)}).then(function(){if(!a)return Wt(n).then(function(){e(r)})})},Du.Lb=function(){var t=rn();return!fn(t)&&!yn(t)},Du.Gb=function(){return!1},Du.Bb=function(t,e,n,r,i,o,a){if(!t)return X(new xn("popup-blocked"));if(a&&!fn())return this.ga().s(function(e){He(t),i(e)}),r(),Y();this.a||(this.a=to(no(this)));var s=this;return this.a.then(function(){var e=s.ga().s(function(e){throw He(t),i(e),e});return r(),e}).then(function(){if(wr(n),!a){Be(ro(s.m,s.f,s.b,e,n,null,o,s.c,void 0,s.h),t)}}).s(function(t){throw"auth/network-request-failed"==t.code&&(s.a=null),t})},Du.Ca=function(t,e,n){this.a||(this.a=to(no(this)));var r=this;return this.a.then(function(){wr(e),Be(ro(r.m,r.f,r.b,t,e,Fe(),n,r.c,void 0,r.h))}).s(function(t){throw"auth/network-request-failed"==t.code&&(r.a=null),t})},Du.ga=function(){var t=this;return eo(this).then(function(){return t.i.eb}).s(function(){throw t.a=null,new xn("network-request-failed")})},Du.Pb=function(){return!0},Du.va=function(t){this.g.push(t)},Du.Ka=function(t){k(this.g,function(e){return e==t})},Du=ao.prototype,Du.get=function(t){return Y(this.a.getItem(t)).then(function(t){return t&&dn(t)})},Du.set=function(t,e){return Y(this.a.setItem(t,ln(e)))},Du.P=function(t){return Y(this.a.removeItem(t))},Du.Y=function(){},Du.ca=function(){};var Ul=[];so.prototype.f=function(t){var e=t.data.eventType,n=t.data.eventId,r=this.a[e];if(r&&0<r.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var i=[];Wu(r,function(e){i.push(Y().then(function(){return e(t.origin,t.data.data)}))}),Z(i).then(function(r){var i=[];Wu(r,function(t){i.push({fulfilled:t.Cb,value:t.value,reason:t.reason?t.reason.message:void 0})}),Wu(i,function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:i})})}},so.prototype.subscribe=function(t,e){U(this.a)&&this.b.addEventListener("message",this.c),"undefined"===typeof this.a[t]&&(this.a[t]=[]),this.a[t].push(e)},so.prototype.unsubscribe=function(t,e){"undefined"!==typeof this.a[t]&&e?(k(this.a[t],function(t){return t==e}),0==this.a[t].length&&delete this.a[t]):e||delete this.a[t],U(this.a)&&this.b.removeEventListener("message",this.c)},co.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},fo.prototype.close=function(){for(;0<this.a.length;)ho(this,this.a[0]);this.b=!0};var Fl;Du=po.prototype,Du.set=function(t,e){var n,r=!1,i=this;return vo(this).then(function(e){return n=e,e=bo(_o(n,!0)),wo(e.get(t))}).then(function(o){var a=bo(_o(n,!0));return o?(o.value=e,wo(a.put(o))):(i.b++,r=!0,o={},o.fbase_key=t,o.value=e,wo(a.add(o)))}).then(function(){return i.c[t]=e,Eo(i,t)}).ia(function(){r&&i.b--})},Du.get=function(t){return vo(this).then(function(e){return wo(bo(_o(e,!1)).get(t))}).then(function(t){return t&&t.value})},Du.P=function(t){var e=!1,n=this;return vo(this).then(function(r){return e=!0,n.b++,wo(bo(_o(r,!0)).delete(t))}).then(function(){return delete n.c[t],Eo(n,t)}).ia(function(){e&&n.b--})},Du.Y=function(t){0==this.a.length&&To(this),this.a.push(t)},Du.ca=function(t){k(this.a,function(e){return e==t}),0==this.a.length&&Co(this)},Du=Io.prototype,Du.get=function(t){return this.b.then(function(e){return e.get(t)})},Du.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},Du.P=function(t){return this.b.then(function(e){return e.P(t)})},Du.Y=function(t){this.a.push(t)},Du.ca=function(t){k(this.a,function(e){return e==t})},Du=Ao.prototype,Du.get=function(t){return Y(this.a[t])},Du.set=function(t,e){return this.a[t]=e,Y()},Du.P=function(t){return delete this.a[t],Y()},Du.Y=function(){},Du.ca=function(){},Du=Oo.prototype,Du.get=function(t){var e=this;return Y().then(function(){return dn(e.a.getItem(t))})},Du.set=function(t,e){var n=this;return Y().then(function(){var r=ln(e);null===r?n.P(t):n.a.setItem(t,r)})},Du.P=function(t){var e=this;return Y().then(function(){e.a.removeItem(t)})},Du.Y=function(t){Mu.window&&Ct(Mu.window,"storage",t)},Du.ca=function(t){Mu.window&&kt(Mu.window,"storage",t)},Du=Po.prototype,Du.get=function(){return Y(null)},Du.set=function(){return Y()},Du.P=function(){return Y()},Du.Y=function(){},Du.ca=function(){},Du=xo.prototype,Du.get=function(t){var e=this;return Y().then(function(){return dn(e.a.getItem(t))})},Du.set=function(t,e){var n=this;return Y().then(function(){var r=ln(e);null===r?n.P(t):n.a.setItem(t,r)})},Du.P=function(t){var e=this;return Y().then(function(){e.a.removeItem(t)})},Du.Y=function(){},Du.ca=function(){};var Bl,ql,Wl={A:Oo,Qa:xo},Vl={A:Oo,Qa:xo},Hl={A:ao,Qa:Po},zl={A:Oo,Qa:Po},Kl={Yc:"local",NONE:"none",$c:"session"};Du=jo.prototype,Du.get=function(t,e){return Fo(this,t.A).get(Bo(t,e))},Du.set=function(t,e,n){var r=Bo(t,n),i=this,o=Fo(this,t.A);return o.set(r,e).then(function(){return o.get(r)}).then(function(e){"local"==t.A&&(i.b[r]=e)})},Du.addListener=function(t,e,n){t=Bo(t,e),this.l&&(this.b[t]=Mu.localStorage.getItem(t)),U(this.a)&&(Fo(this,"local").Y(this.f),this.h||(Ue()||!wn())&&Mu.indexedDB||!this.l||Vo(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(n)},Du.removeListener=function(t,e,n){t=Bo(t,e),this.a[t]&&(k(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),U(this.a)&&(Fo(this,"local").ca(this.f),Ho(this))},Du.Ob=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var n in this.a){var r=this.b[n];"undefined"===typeof r&&(r=null);var i=Mu.localStorage.getItem(n);i!==r&&(this.b[n]=i,this.Wa(n))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?Fo(this,"local").ca(this.f):Ho(this),this.o)if(n=Mu.localStorage.getItem(e),(r=t.a.newValue)!==n)null!==r?Mu.localStorage.setItem(e,r):Mu.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var o=this;n=function(){"undefined"===typeof t.a.a&&o.b[e]===Mu.localStorage.getItem(e)||(o.b[e]=Mu.localStorage.getItem(e),o.Wa(e))},yc&&Sc&&10==Sc&&Mu.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(n,10):n()}}else Wu(t,h(this.Wa,this))},Du.Wa=function(t){this.a[t]&&Wu(this.a[t],function(t){t()})};var Gl,Ql={name:"authEvent",A:"local"};p(Yo,Qo);for(var Yl=64,Xl=Yl-1,$l=[],Jl=0;Jl<Xl;Jl++)$l[Jl]=0;var Zl=R(128,$l);Yo.prototype.reset=function(){this.g=this.c=0,this.a=Mu.Int32Array?new Int32Array(this.h):P(this.h)};var th=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];p(Jo,Yo);var eh=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];Du=Zo.prototype,Du.ga=function(){return this.za?this.za:this.za=Qe().then(function(){if("function"!==typeof on("universalLinks.subscribe",Mu))throw ta("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof on("BuildInfo.packageName",Mu))throw ta("cordova-plugin-buildinfo is not installed");if("function"!==typeof on("cordova.plugins.browsertab.openUrl",Mu))throw ta("cordova-plugin-browsertab is not installed");if("function"!==typeof on("cordova.InAppBrowser.open",Mu))throw ta("cordova-plugin-inappbrowser is not installed")},function(){throw new xn("cordova-not-ready")})},Du.Ea=function(t,e){return e(new xn("operation-not-supported-in-this-environment")),Y()},Du.Bb=function(){return X(new xn("operation-not-supported-in-this-environment"))},Du.Pb=function(){return!1},Du.Lb=function(){return!0},Du.Gb=function(){return!0},Du.Ca=function(t,e,n){if(this.c)return X(new xn("redirect-operation-pending"));var r=this,i=Mu.document,o=null,a=null,s=null,u=null;return this.c=Y().then(function(){return wr(e),oa(r)}).then(function(){return ra(r,t,e,n)}).then(function(){return new K(function(t,e){a=function(){var e=on("cordova.plugins.browsertab.close",Mu);return t(),"function"===typeof e&&e(),r.a&&"function"===typeof r.a.close&&(r.a.close(),r.a=null),!1},r.va(a),s=function(){o||(o=Wt(2e3).then(function(){e(new xn("redirect-cancelled-by-user"))}))},u=function(){gn()&&s()},i.addEventListener("resume",s,!1),rn().toLowerCase().match(/android/)||i.addEventListener("visibilitychange",u,!1)}).s(function(t){return aa(r).then(function(){throw t})})}).ia(function(){s&&i.removeEventListener("resume",s,!1),u&&i.removeEventListener("visibilitychange",u,!1),o&&o.cancel(),a&&r.Ka(a),r.c=null})},Du.va=function(t){this.b.push(t),oa(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new Er("unknown",null,null,null,new xn("no-auth-event")),t(e))})},Du.Ka=function(t){k(this.b,function(e){return e==t})};var nh={name:"pendingRedirect",A:"session"};Du=ha.prototype,Du.reset=function(){this.f=!1,this.a.Ka(this.i),this.a=da(this.u,this.l,this.m)},Du.Xa=function(){this.b.Xa()},Du.subscribe=function(t){if(A(this.h,t)||this.h.push(t),!this.f){var e=this;la(this.g).then(function(t){t?fa(e.g).then(function(){pa(e).s(function(t){var n=new Er("unknown",null,null,null,new xn("operation-not-supported-in-this-environment"));va(t)&&e.ab(n)})}):ya(e)}).s(function(){ya(e)})}},Du.unsubscribe=function(t){k(this.h,function(e){return e==t})},Du.ab=function(t){if(!t)throw new xn("invalid-auth-event");for(var e=!1,n=0;n<this.h.length;n++){var r=this.h[n];if(r.ub(t.b,t.c)){(e=this.c[t.b])&&e.h(t,r),e=!0;break}}return _a(this.b),e};var rh=new vn(2e3,1e4),ih=new vn(3e4,6e4);ha.prototype.fa=function(){return this.b.fa()},ha.prototype.Ca=function(t,e,n){var r,i=this;return ca(this.g).then(function(){return i.a.Ca(t,e,n).s(function(t){if(va(t))throw new xn("operation-not-supported-in-this-environment");return r=t,fa(i.g).then(function(){throw r})}).then(function(){return i.a.Pb()?new K(function(){}):fa(i.g).then(function(){return i.fa()}).then(function(){}).s(function(){})})})},ha.prototype.Ea=function(t,e,n,r){return this.a.Ea(n,function(n){t.ha(e,null,n,r)},rh.get())};var oh={};ba.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},ba.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.b,r=t.c,i=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!i&&!o),"unknown"!=n||i||o?t.a?(Ta(this,!0,null,t.a),Y()):e.wa(n,r)?wa(this,t,e):X(new xn("invalid-auth-event")):(Ta(this,!1,null,null),Y())}else X(new xn("invalid-auth-event"))},ba.prototype.Xa=function(){this.g&&!this.i&&Ta(this,!1,null,null)},ba.prototype.fa=function(){var t=this;return new K(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),Ca(t))})},Ia.prototype.h=function(t,e){if(t){var n=t.b,r=t.c;t.a?(e.ha(t.b,null,t.a,t.c),Y()):e.wa(n,r)?Aa(t,e):X(new xn("invalid-auth-event"))}else X(new xn("invalid-auth-event"))},ka.prototype.confirm=function(t){return t=br(this.verificationId,t),this.a(t)},xa.prototype.start=function(){this.a=this.c,Na(this,!0)},xa.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},Ma.prototype.D=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},Ma.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?X(new xn("user-token-expired")):t||!this.b||Uu()>this.c-3e4?this.a?Fa(this,{grant_type:"refresh_token",refresh_token:this.a}):Y(null):Y({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},Ba.prototype.D=function(){return{lastLoginAt:this.b,createdAt:this.a}},p(Va,gt),p(Ha,jt),Ha.prototype.oa=function(t){this.ka=t,_i(this.b,t)},Ha.prototype.ea=function(){return this.ka},Ha.prototype.xa=function(){return P(this.O)},Ha.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Cn(Ha.prototype,"providerId","firebase"),Du=Ha.prototype,Du.reload=function(){var t=this;return _s(this,is(this).then(function(){return fs(t).then(function(){return ts(t)}).then(rs)}))},Du.cc=function(t){return this.F(t).then(function(t){return new Pa(t)})},Du.F=function(t){var e=this;return _s(this,is(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new xn("internal-error");return t.accessToken!=e.qa&&(Ja(e,t.accessToken),e.dispatchEvent(new Va("tokenChanged"))),us(e,"refreshToken",t.refreshToken),t.accessToken}))},Du.wc=function(t){if(!(t=t.users)||!t.length)throw new xn("internal-error");t=t[0],ns(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=ds(t),n=0;n<e.length;n++)as(this,e[n]);us(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length))},Du.fb=function(t){var e=this,n=null;return _s(this,t.f(this.b,this.uid).then(function(t){return ls(e,t),n=ys(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},Du.xc=function(t){return Tn("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead."),this.fb(t).then(function(){})},Du.cb=function(t){var e=this,n=null;return _s(this,ps(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.c(e.b,n)}).then(function(t){return n=ys(e,t,"link"),ms(e,t)}).then(function(){return n}))},Du.oc=function(t){return Tn("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead."),this.cb(t).then(function(t){return t.user})},Du.pc=function(t,e){var n=this;return _s(this,ps(this,"phone").then(function(){return Ra(Qa(n),t,e,h(n.cb,n))}))},Du.yc=function(t,e){var n=this;return _s(this,Y().then(function(){return Ra(Qa(n),t,e,h(n.fb,n))}),!0)},Du.ob=function(t){var e=this;return _s(this,this.F().then(function(n){return e.b.ob(n,t)}).then(function(t){return ls(e,t),e.reload()}))},Du.Qc=function(t){var e=this;return _s(this,this.F().then(function(n){return t.c(e.b,n)}).then(function(t){return ls(e,t),e.reload()}))},Du.pb=function(t){var e=this;return _s(this,this.F().then(function(n){return e.b.pb(n,t)}).then(function(t){return ls(e,t),e.reload()}))},Du.qb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return is(this);var e=this;return _s(this,this.F().then(function(n){return e.b.qb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return ls(e,t),us(e,"displayName",t.displayName||null),us(e,"photoURL",t.photoUrl||null),Wu(e.providerData,function(t){"password"===t.providerId&&(Cn(t,"displayName",e.displayName),Cn(t,"photoURL",e.photoURL))}),ts(e)}).then(rs))},Du.Oc=function(t){var e=this;return _s(this,fs(this).then(function(n){return A(os(e),t)?Ni(e.b,n,[t]).then(function(t){var n={};return Wu(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),Wu(os(e),function(t){n[t]||ss(e,t)}),n[gr.PROVIDER_ID]||Cn(e,"phoneNumber",null),ts(e)}):ts(e).then(function(){throw new xn("no-such-provider")})}))},Du.delete=function(){var t=this;return _s(this,this.F().then(function(e){return qi(t.b,fl,{idToken:e})}).then(function(){t.dispatchEvent(new Va("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");za(t,null),Ga(t,null),t.G=[],t.C=!0,$a(t),Cn(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},Du.ub=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.aa||null)==e||"reauthViaRedirect"==t&&(this.aa||null)==e)},Du.ha=function(t,e,n,r){"linkViaPopup"!=t&&"reauthViaPopup"!=t||r!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},Du.wa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?h(this.zb,this):"reauthViaPopup"==t&&e==(this.g||null)?h(this.Ab,this):"linkViaRedirect"==t&&(this.aa||null)==e?h(this.zb,this):"reauthViaRedirect"==t&&(this.aa||null)==e?h(this.Ab,this):null},Du.qc=function(t){var e=this;return vs(this,"linkViaPopup",t,function(){return ps(e,t.providerId).then(function(){return ts(e)})},!1)},Du.zc=function(t){return vs(this,"reauthViaPopup",t,function(){return Y()},!0)},Du.rc=function(t){var e=this;return gs(this,"linkViaRedirect",t,function(){return ps(e,t.providerId)},!1)},Du.Ac=function(t){return gs(this,"reauthViaRedirect",t,function(){return Y()},!0)},Du.zb=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return _s(this,this.F().then(function(r){return Ui(n.b,{requestUri:t,sessionId:e,idToken:r})}).then(function(t){return r=ys(n,t,"link"),ms(n,t)}).then(function(){return r}))},Du.Ab=function(t,e){var n=this;this.c&&(this.c.cancel(),this.c=null);var r=null;return _s(this,Y().then(function(){return Zn(Fi(n.b,{requestUri:t,sessionId:e}),n.uid)}).then(function(t){return r=ys(n,t,"reauthenticate"),ls(n,t),n.i=null,n.reload()}).then(function(){return r}),!0)},Du.ib=function(t){var e=this,n=null;return _s(this,this.F().then(function(e){return n=e,"undefined"===typeof t||U(t)?{}:Mn(new Nn(t))}).then(function(t){return e.b.ib(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},Du.toJSON=function(){return this.D()},Du.D=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.m,appName:this.o,authDomain:this.u,stsTokenManager:this.h.D(),redirectEventId:this.aa||null};return this.metadata&&B(t,this.metadata.D()),Wu(this.providerData,function(e){t.providerData.push(On(e))}),t};var ah={name:"redirectUser",A:"session"};Os.prototype.g=function(){var t=this,e=Ps("local");Ls(this,function(){return Y().then(function(){return t.c&&"local"!=t.c.A?t.b.get(e,t.a):null}).then(function(n){if(n)return ks(t,"local").then(function(){t.c=e})})})};var sh={name:"persistence",A:"session"};Os.prototype.lb=function(t){var e=null,n=this;return Lo(t),Ls(this,function(){return t!=n.c.A?n.b.get(n.c,n.a).then(function(r){return e=r,ks(n,t)}).then(function(){if(n.c=Ps(t),e)return n.b.set(n.c,e,n.a)}):Y()})},p(js,jt),p(Us,gt),p(Fs,gt),Du=js.prototype,Du.lb=function(t){return t=this.h.lb(t),tu(this,t)},Du.oa=function(t){this.W===t||this.m||(this.W=t,_i(this.b,this.W),this.dispatchEvent(new Us(this.ea())))},Du.ea=function(){return this.W},Du.Rc=function(){var t=Mu.navigator;this.oa(t?t.languages&&t.languages[0]||t.language||t.userLanguage||null:null)},Du.sc=function(t){this.G.push(t),wi(this.b,r.a.SDK_VERSION?nn(r.a.SDK_VERSION,this.G):null),this.dispatchEvent(new Fs(this.G))},Du.xa=function(){return P(this.G)},Du.toJSON=function(){return{apiKey:Ys(this).options.apiKey,authDomain:Ys(this).options.authDomain,appName:Ys(this).name,currentUser:Xs(this)&&Xs(this).D()}},Du.ub=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},Du.ha=function(t,e,n,r){"signInViaPopup"==t&&this.g==r&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},Du.wa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?h(this.$b,this):null},Du.$b=function(t,e){var n=this;t={requestUri:t,sessionId:e},this.c&&(this.c.cancel(),this.c=null);var r=null,i=null,o=ji(n.b,t).then(function(t){return r=_r(t),i=Hn(t),t});return t=n.V.then(function(){return o}).then(function(t){return Vs(n,t)}).then(function(){return An({user:Xs(n),credential:r,additionalUserInfo:i,operationType:"signIn"})}),tu(this,t)},Du.Jc=function(t){if(!sn())return X(new xn("operation-not-supported-in-this-environment"));var e=this,n=Vn(t.providerId),i=pn(),o=null;(!fn()||Xe())&&Ys(this).options.authDomain&&t.isOAuthProvider&&(o=ro(Ys(this).options.authDomain,Ys(this).options.apiKey,Ys(this).name,"signInViaPopup",t,null,i,r.a.SDK_VERSION||null));var a=ze(o,n&&n.Ba,n&&n.Aa);return n=qs(this).then(function(e){return ma(e,a,"signInViaPopup",t,i,!!o)}).then(function(){return new K(function(t,n){e.ha("signInViaPopup",null,new xn("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=i,e.c=e.a.Ea(e,"signInViaPopup",a,i)})}).then(function(t){return a&&He(a),t?An(t):null}).s(function(t){throw a&&He(a),t}),tu(this,n)},Du.Kc=function(t){if(!sn())return X(new xn("operation-not-supported-in-this-environment"));var e=this;return tu(this,qs(this).then(function(){return xs(e.h)}).then(function(){return e.a.Ca("signInViaRedirect",t)}))},Du.fa=function(){if(!sn())return X(new xn("operation-not-supported-in-this-environment"));var t=this;return tu(this,qs(this).then(function(){return t.a.fa()}).then(function(t){return t?An(t):null}))},Du.Pc=function(t){if(!t)return X(new xn("null-user"));var e=this,n={};n.apiKey=Ys(this).options.apiKey,n.authDomain=Ys(this).options.authDomain,n.appName=Ys(this).name;var r=Ts(t,n,e.w,e.xa());return tu(this,this.i.then(function(){if(Ys(e).options.apiKey!=t.m)return r.reload()}).then(function(){return Xs(e)&&t.uid==Xs(e).uid?(cs(Xs(e),t),e.Z(t)):(Hs(e,r),es(r),e.Z(r))}).then(function(){Js(e)}))},Du.mb=function(){var t=this;return tu(this,this.i.then(function(){return Xs(t)?(Hs(t,null),Ns(t.h).then(function(){Js(t)})):Y()}))},Du.Lc=function(){var t=this;return Ms(this.h,Ys(this).options.authDomain).then(function(e){if(!t.m){var n;if(n=Xs(t)&&e){n=Xs(t).uid;var r=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==r&&null!==r&&""!==r&&n==r}if(n)return cs(Xs(t),e),Xs(t).F();(Xs(t)||e)&&(Hs(t,e),e&&(es(e),e.ba=t.w),t.a&&t.a.subscribe(t),Js(t))}})},Du.Z=function(t){return Ds(this.h,t)},Du.ac=function(){Js(this),this.Z(Xs(this))},Du.ic=function(){this.mb()},Du.jc=function(){this.mb()},Du.kc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(Xs(e))})},Du.mc=function(t){var e=this;Zs(this,function(){t.next(Xs(e))})},Du.uc=function(t,e,n){var i=this;return this.X&&r.a.Promise.resolve().then(function(){u(t)?t(Xs(i)):u(t.next)&&t.next(Xs(i))}),this.Sb(t,e,n)},Du.tc=function(t,e,n){var i=this;return this.X&&r.a.Promise.resolve().then(function(){i.O=i.getUid(),u(t)?t(Xs(i)):u(t.next)&&t.next(Xs(i))}),this.Tb(t,e,n)},Du.bc=function(t){var e=this;return tu(this,this.i.then(function(){return Xs(e)?Xs(e).F(t).then(function(t){return{accessToken:t}}):null}))},Du.Mb=function(t){var e=this;return this.i.then(function(){return Qs(e,qi(e.b,Ol,{token:t}))}).then(function(t){var n=t.user;return us(n,"isAnonymous",!1),e.Z(n),t})},Du.Dc=function(t){return Tn("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead."),this.Mb(t)},Du.Ec=function(t,e){return Tn("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead."),this.Nb(t,e)},Du.Nb=function(t,e){var n=this;return this.i.then(function(){return Qs(n,qi(n.b,kl,{email:t,password:e}))})},Du.wb=function(t,e){var n=this;return this.i.then(function(){return Qs(n,qi(n.b,ul,{email:t,password:e}))})},Du.Vb=function(t,e){return Tn("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead."),this.wb(t,e)},Du.Gc=function(t){return Tn("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead."),this.Oa(t).then(function(t){return t.user})},Du.Oa=function(t){var e=this;return this.i.then(function(){return Qs(e,t.ya(e.b))})},Du.Pa=function(){var t=this;return this.i.then(function(){var e=Xs(t);if(e&&e.isAnonymous){return An({user:e,credential:null,additionalUserInfo:An({providerId:null,isNewUser:!1}),operationType:"signIn"})}return Qs(t,t.b.Pa()).then(function(e){var n=e.user;return us(n,"isAnonymous",!0),t.Z(n),e})})},Du.Fc=function(){return Tn("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead."),this.Pa()},Du.getUid=function(){return Xs(this)&&Xs(this).uid||null},Du.Ub=function(t){this.addAuthTokenListener(t),0<++this.u&&Xs(this)&&Xa(Xs(this))},Du.Bc=function(t){var e=this;Wu(this.o,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&Xs(this)&&$a(Xs(this)),this.removeAuthTokenListener(t)},Du.addAuthTokenListener=function(t){var e=this;this.o.push(t),tu(this,this.i.then(function(){e.m||A(e.o,t)&&t($s(e))}))},Du.removeAuthTokenListener=function(t){k(this.o,function(e){return e==t})},Du.delete=function(){this.m=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h,t.b.removeListener(Ps("local"),t.a,this.ka)),this.a&&(this.a.unsubscribe(this),this.a.Xa()),r.a.Promise.resolve()},Du.Yb=function(t){return Tn("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead."),tu(this,Oi(this.b,t))},Du.Zb=function(t){return tu(this,ki(this.b,t))},Du.nc=function(t){return!!yr(t)},Du.kb=function(t,e){var n=this;return tu(this,Y().then(function(){var t=new Nn(e);if(!t.c)throw new xn("argument-error",bf+" must be true when sending sign in link to email");return Mn(t)}).then(function(e){return n.b.kb(t,e)}).then(function(){}))},Du.Sc=function(t){return this.Ja(t).then(function(t){return t.data.email})},Du.Ya=function(t,e){return tu(this,this.b.Ya(t,e).then(function(){}))},Du.Ja=function(t){return tu(this,this.b.Ja(t).then(function(t){return new Pn(t)}))},Du.Va=function(t){return tu(this,this.b.Va(t).then(function(){}))},Du.jb=function(t,e){var n=this;return tu(this,Y().then(function(){return"undefined"===typeof e||U(e)?{}:Mn(new Nn(e))}).then(function(e){return n.b.jb(t,e)}).then(function(){}))},Du.Ic=function(t,e){return tu(this,Ra(this,t,e,h(this.Oa,this)))},Du.Hc=function(t,e){var n=this;return tu(this,Y().then(function(){var r=pr(t,e||Fe());return n.Oa(r)}))},eu.prototype.render=function(){},eu.prototype.reset=function(){},eu.prototype.getResponse=function(){},eu.prototype.execute=function(){};var uh=null;nu.prototype.render=function(t,e){return this.a[this.b.toString()]=new ou(t,e),this.b++},nu.prototype.reset=function(t){var e=ru(this,t);t=iu(t),e&&t&&(e.delete(),delete this.a[t])},nu.prototype.getResponse=function(t){return(t=ru(this,t))?t.getResponse():null},nu.prototype.execute=function(t){(t=ru(this,t))&&t.execute()},ou.prototype.getResponse=function(){return au(this),this.b},ou.prototype.execute=function(){au(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=tn();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(t){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(t){}t.h&&t.execute()},6e4)},500))},ou.prototype.delete=function(){au(this),this.g=!0,clearTimeout(this.a),this.a=null,kt(this.f,"click",this.i)},su.prototype.g=function(){return uh||(uh=new nu),Y(uh)},su.prototype.c=function(){};var ch=null,fh=ve("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),lh=new vn(3e4,6e4);uu.prototype.g=function(t){var e=this;return new K(function(n,r){var i=setTimeout(function(){r(new xn("network-request-failed"))},lh.get());if(!Mu.grecaptcha||t!==e.f&&!e.b){Mu[e.a]=function(){if(Mu.grecaptcha){e.f=t;var o=Mu.grecaptcha.render;Mu.grecaptcha.render=function(t,n){return t=o(t,n),e.b++,t},clearTimeout(i),n(Mu.grecaptcha)}else clearTimeout(i),r(new xn("internal-error"));delete Mu[e.a]};Y(di(_e(fh,{onload:e.a,hl:t||""}))).s(function(){clearTimeout(i),r(new xn("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(i),n(Mu.grecaptcha)})},uu.prototype.c=function(){this.b--};var hh=null,dh="callback",ph="expired-callback",yh="sitekey",mh="size";Du=cu.prototype,Du.za=function(){var t=this;return this.f?this.f:this.f=hu(this,Y().then(function(){if(un()&&!$e())return Ge();throw new xn("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.o.g(t.v())}).then(function(e){return t.g=e,qi(t.u,bl,{})}).then(function(e){t.a[yh]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},Du.render=function(){du(this);var t=this;return hu(this,this.za().then(function(){if(null===t.c){var e=t.m;if(!t.i){var n=ke(e);e=Pe("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},Du.verify=function(){du(this);var t=this;return hu(this,this.render().then(function(e){return new K(function(n){var r=t.g.getResponse(e);if(r)n(r);else{var i=function(e){e&&(lu(t,i),n(e))};t.l.push(i),t.i&&t.g.execute(t.c)}})}))},Du.reset=function(){du(this),null!==this.c&&this.g.reset(this.c)},Du.clear=function(){du(this),this.C=!0,this.o.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=ke(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},p(pu,cu);var vh="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");Ou(js.prototype,{Va:{name:"applyActionCode",j:[mu("code")]},Ja:{name:"checkActionCode",j:[mu("code")]},Ya:{name:"confirmPasswordReset",j:[mu("code"),mu("newPassword")]},wb:{name:"createUserWithEmailAndPassword",j:[mu("email"),mu("password")]},Vb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[mu("email"),mu("password")]},Yb:{name:"fetchProvidersForEmail",j:[mu("email")]},Zb:{name:"fetchSignInMethodsForEmail",j:[mu("email")]},fa:{name:"getRedirectResult",j:[]},nc:{name:"isSignInWithEmailLink",j:[mu("emailLink")]},tc:{name:"onAuthStateChanged",j:[Au(gu(),bu(),"nextOrObserver"),bu("opt_error",!0),bu("opt_completed",!0)]},uc:{name:"onIdTokenChanged",j:[Au(gu(),bu(),"nextOrObserver"),bu("opt_error",!0),bu("opt_completed",!0)]},jb:{name:"sendPasswordResetEmail",j:[mu("email"),Au(gu("opt_actionCodeSettings",!0),_u(null,!0),"opt_actionCodeSettings",!0)]},kb:{name:"sendSignInLinkToEmail",j:[mu("email"),gu("actionCodeSettings")]},lb:{name:"setPersistence",j:[mu("persistence")]},Oa:{name:"signInAndRetrieveDataWithCredential",j:[Tu()]},Pa:{name:"signInAnonymously",j:[]},Fc:{name:"signInAnonymouslyAndRetrieveData",j:[]},Gc:{name:"signInWithCredential",j:[Tu()]},Mb:{name:"signInWithCustomToken",j:[mu("token")]},Dc:{name:"signInAndRetrieveDataWithCustomToken",j:[mu("token")]},Nb:{name:"signInWithEmailAndPassword",j:[mu("email"),mu("password")]},Hc:{name:"signInWithEmailLink",j:[mu("email"),mu("emailLink",!0)]},Ec:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[mu("email"),mu("password")]},Ic:{name:"signInWithPhoneNumber",j:[mu("phoneNumber"),Iu()]},Jc:{name:"signInWithPopup",j:[Cu()]},Kc:{name:"signInWithRedirect",j:[Cu()]},Pc:{name:"updateCurrentUser",j:[Au(function(t){return{name:"user",K:"an instance of Firebase User",optional:!1,M:function(t){return!!(t&&t instanceof Ha)}}}(),_u(),"user")]},mb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[mu(null,!0)]},Rc:{name:"useDeviceLanguage",j:[]},Sc:{name:"verifyPasswordResetCode",j:[mu("code")]}}),ku(js.prototype,{lc:{name:"languageCode",sb:Au(mu(),_u(),"languageCode")}}),js.Persistence=Kl,js.Persistence.LOCAL="local",js.Persistence.SESSION="session",js.Persistence.NONE="none",Ou(Ha.prototype,{delete:{name:"delete",j:[]},cc:{name:"getIdTokenResult",j:[vu("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[vu("opt_forceRefresh",!0)]},cb:{name:"linkAndRetrieveDataWithCredential",j:[Tu()]},oc:{name:"linkWithCredential",j:[Tu()]},pc:{name:"linkWithPhoneNumber",j:[mu("phoneNumber"),Iu()]},qc:{name:"linkWithPopup",j:[Cu()]},rc:{name:"linkWithRedirect",j:[Cu()]},fb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[Tu()]},xc:{name:"reauthenticateWithCredential",j:[Tu()]},yc:{name:"reauthenticateWithPhoneNumber",j:[mu("phoneNumber"),Iu()]},zc:{name:"reauthenticateWithPopup",j:[Cu()]},Ac:{name:"reauthenticateWithRedirect",j:[Cu()]},reload:{name:"reload",j:[]},ib:{name:"sendEmailVerification",j:[Au(gu("opt_actionCodeSettings",!0),_u(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[mu(null,!0)]},Oc:{name:"unlink",j:[mu("provider")]},ob:{name:"updateEmail",j:[mu("email")]},pb:{name:"updatePassword",j:[mu("password")]},Qc:{name:"updatePhoneNumber",j:[Tu("phone")]},qb:{name:"updateProfile",j:[gu("profile")]}}),Ou(nu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ou(eu.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),Ou(K.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),ku(Oa.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",sb:vu("appVerificationDisabledForTesting")}}),Ou(ka.prototype,{confirm:{name:"confirm",j:[mu("verificationCode")]}}),Ru(dr,"credential",function(t,e){return new hr(t,e)},[mu("email"),mu("password")]),Ou(ir.prototype,{ta:{name:"addScope",j:[mu("scope")]},Da:{name:"setCustomParameters",j:[gu("customOAuthParameters")]}}),Ru(ir,"credential",or,[Au(mu(),gu(),"token")]),Ru(dr,"credentialWithLink",pr,[mu("email"),mu("emailLink")]),Ou(ar.prototype,{ta:{name:"addScope",j:[mu("scope")]},Da:{name:"setCustomParameters",j:[gu("customOAuthParameters")]}}),Ru(ar,"credential",sr,[Au(mu(),gu(),"token")]),Ou(ur.prototype,{ta:{name:"addScope",j:[mu("scope")]},Da:{name:"setCustomParameters",j:[gu("customOAuthParameters")]}}),Ru(ur,"credential",cr,[Au(mu(),Au(gu(),_u()),"idToken"),Au(mu(),_u(),"accessToken",!0)]),Ou(fr.prototype,{Da:{name:"setCustomParameters",j:[gu("customOAuthParameters")]}}),Ru(fr,"credential",lr,[Au(mu(),gu(),"token"),mu("secret",!0)]),Ou(rr.prototype,{ta:{name:"addScope",j:[mu("scope")]},credential:{name:"credential",j:[Au(mu(),_u(),"idToken",!0),Au(mu(),_u(),"accessToken",!0)]},Da:{name:"setCustomParameters",j:[gu("customOAuthParameters")]}}),Ru(gr,"credential",br,[mu("verificationId"),mu("verificationCode")]),Ou(gr.prototype,{Ta:{name:"verifyPhoneNumber",j:[mu("phoneNumber"),Iu()]}}),Ou(xn.prototype,{toJSON:{name:"toJSON",j:[mu(null,!0)]}}),Ou(Ir.prototype,{toJSON:{name:"toJSON",j:[mu(null,!0)]}}),Ou(Cr.prototype,{toJSON:{name:"toJSON",j:[mu(null,!0)]}}),Ou(pu.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if("undefined"===typeof r.a||!r.a.INTERNAL||!r.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:js,Error:xn};Ru(t,"EmailAuthProvider",dr,[]),Ru(t,"FacebookAuthProvider",ir,[]),Ru(t,"GithubAuthProvider",ar,[]),Ru(t,"GoogleAuthProvider",ur,[]),Ru(t,"TwitterAuthProvider",fr,[]),Ru(t,"OAuthProvider",rr,[mu("providerId")]),Ru(t,"PhoneAuthProvider",gr,[Eu()]),Ru(t,"RecaptchaVerifier",pu,[Au(mu(),wu(),"recaptchaContainer"),gu("recaptchaParameters",!0),Su()]),r.a.INTERNAL.registerService("auth",function(t,e){return t=new js(t),e({INTERNAL:{getUid:h(t.getUid,t),getToken:h(t.bc,t),addAuthTokenListener:h(t.Ub,t),removeAuthTokenListener:h(t.Bc,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(t){}}),r.a.INTERNAL.extendNamespace({User:Ha})}()}).apply("undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}.call(e,n(8))},function(t,e,n){"use strict";function r(t){o.forEach(function(e){e.logLevel=t})}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"setLogLevel",function(){return r}),n.d(e,"Logger",function(){return u}),n.d(e,"LogLevel",function(){return i});var i,o=[];!function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"}(i||(i={}));var a=i.INFO,s=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case i.DEBUG:case i.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},u=function(){function t(t){this.name=t,this._logLevel=a,this._logHandler=s,o.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.ERROR].concat(t))},t}()},function(t,e,n){"use strict";function r(){return Ae.logLevel===Se.LogLevel.DEBUG?we.DEBUG:Ae.logLevel===Se.LogLevel.SILENT?we.SILENT:we.ERROR}function i(t){switch(t){case we.DEBUG:Ae.logLevel=Se.LogLevel.DEBUG;break;case we.ERROR:Ae.logLevel=Se.LogLevel.ERROR;break;case we.SILENT:Ae.logLevel=Se.LogLevel.SILENT;break;default:Ae.error("Firestore ("+Ie+"): Invalid value passed to `setLogLevel`")}}function o(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(Ae.logLevel<=Se.LogLevel.DEBUG){var i=n.map(s);Ae.debug.apply(Ae,["Firestore ("+Ie+") ["+t+"]: "+e].concat(i))}}function a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Ae.logLevel<=Se.LogLevel.ERROR){var r=e.map(s);Ae.error.apply(Ae,["Firestore ("+Ie+"): "+t].concat(r))}}function s(t){if("string"===typeof t)return t;var e=Oe.getPlatform();try{return e.formatJSON(t)}catch(e){return t}}function u(t){var e="FIRESTORE ("+Ie+") INTERNAL ASSERTION FAILED: "+t;throw a(e),new Error(e)}function c(t,e){t||u(e)}function f(){return Oe.getPlatform().emptyByteString}function l(t,e){function n(){var t="This constructor is private.";throw e&&(t+=" ",t+=e),new Re(ke.INVALID_ARGUMENT,t)}n.prototype=t.prototype;for(var r in t)t.hasOwnProperty(r)&&(n[r]=t[r]);return n}function h(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function d(t,e){return void 0!==t?t:e}function p(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=Number(n);isNaN(r)||e(r,t[n])}}function y(t){var e=[];return m(t,function(t,n){return e.push(n)}),e}function m(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function v(t){c(null!=t&&"object"===typeof t,"isEmpty() expects object parameter.");for(var e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function g(t){c(t&&"object"===typeof t,"shallowCopy() expects object parameter.");var e={};for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e}function b(t,e,n){if(e.length!==n)throw new Re(ke.INVALID_ARGUMENT,"Function "+t+"() requires "+F(n,"argument")+", but was called with "+F(e.length,"argument")+".")}function _(t,e,n){if(e.length<n)throw new Re(ke.INVALID_ARGUMENT,"Function "+t+"() requires at least "+F(n,"argument")+", but was called with "+F(e.length,"argument")+".")}function w(t,e,n,r){if(e.length<n||e.length>r)throw new Re(ke.INVALID_ARGUMENT,"Function "+t+"() requires between "+n+" and "+r+" arguments, but was called with "+F(e.length,"argument")+".")}function E(t,e,n,r){if(!(e instanceof Array)||e.length<r)throw new Re(ke.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" argument to be an array with at least "+F(r,"element")+".")}function S(t,e,n,r){P(t,e,U(n)+" argument",r)}function T(t,e,n,r){void 0!==r&&S(t,e,n,r)}function C(t,e,n,r){P(t,e,n+" option",r)}function I(t,e,n,r){void 0!==r&&C(t,e,n,r)}function A(t,e,n,r,i){if(!(r instanceof Array))throw new Re(ke.INVALID_ARGUMENT,"Function "+t+"() requires its "+e+" option to be an array, but it was: "+D(r));for(var o=0;o<r.length;++o)if(!i(r[o]))throw new Re(ke.INVALID_ARGUMENT,"Function "+t+"() requires all "+e+" elements to be "+n+", but the value at index "+o+" was: "+D(r[o]))}function O(t,e,n,r,i){void 0!==r&&A(t,e,n,r,i)}function k(t,e,n,r,i){for(var o=[],a=0,s=i;a<s.length;a++){var u=s[a];if(u===r)return;o.push(D(u))}var c=D(r);throw new Re(ke.INVALID_ARGUMENT,"Invalid value "+c+" provided to function "+t+'() for option "'+n+'". Acceptable values: '+o.join(", "))}function R(t,e,n,r,i){void 0!==r&&k(t,e,n,r,i)}function P(t,e,n,r){if(!("object"===e?x(r):"non-empty string"===e?"string"===typeof r&&""!==r:typeof r===e)){var i=D(r);throw new Re(ke.INVALID_ARGUMENT,"Function "+t+"() requires its "+n+" to be of type "+e+", but it was: "+i)}}function x(t){return"object"===typeof t&&null!==t&&(Object.getPrototypeOf(t)===Object.prototype||null===Object.getPrototypeOf(t))}function D(t){if(void 0===t)return"undefined";if(null===t)return"null";if("string"===typeof t)return t.length>20&&(t=t.substring(0,20)+"..."),JSON.stringify(t);if("number"===typeof t||"boolean"===typeof t)return""+t;if("object"===typeof t){if(t instanceof Array)return"an array";var e=N(t);return e?"a custom "+e+" object":"an object"}return"function"===typeof t?"a function":u("Unknown wrong type: "+typeof t)}function N(t){if(t.constructor){var e=/function\s+([^\s(]+)\s*\(/,n=e.exec(t.constructor.toString());if(n&&n.length>1)return n[1]}return null}function M(t,e,n){if(void 0===n)throw new Re(ke.INVALID_ARGUMENT,"Function "+t+"() requires a valid "+U(e)+" argument, but it was undefined.")}function L(t,e,n){m(e,function(e,r){if(n.indexOf(e)<0)throw new Re(ke.INVALID_ARGUMENT,"Unknown option '"+e+"' passed to function "+t+"(). Available options: "+n.join(", "))})}function j(t,e,n,r){var i=D(r);return new Re(ke.INVALID_ARGUMENT,"Function "+t+"() requires its "+U(n)+" argument to be a "+e+", but it was: "+i)}function U(t){switch(t){case 1:return"first";case 2:return"second";case 3:return"third";default:return t+"th"}}function F(t,e){return t+" "+e+(1===t?"":"s")}function B(t,e){return t<e?-1:t>e?1:0}function q(t,e){return null!==t&&void 0!==t?!(!e||!t.isEqual(e)):t===e}function W(t,e){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!t[n].isEqual(e[n]))return!1;return!0}function V(t){return t+"\0"}function H(){if("undefined"===typeof Uint8Array)throw new Re(ke.UNIMPLEMENTED,"Uint8Arrays are not available in this environment.")}function z(){if(!Oe.getPlatform().base64Available)throw new Re(ke.UNIMPLEMENTED,"Blobs are unavailable in Firestore in this environment.")}function K(t,e){return t<e?-1:t>e?1:t===e?0:isNaN(t)?isNaN(e)?0:-1:1}function G(t,e){return t===e?0!==t||1/t===1/e:t!==t&&e!==e}function Q(t){return null===t||void 0===t}function Y(t){return _n(t)&&t<=bn&&t>=gn}function X(t){return t instanceof mn?t.internalValue.slice():[]}function $(t){switch(t){case ke.OK:return u("Treated status OK as error");case ke.CANCELLED:case ke.UNKNOWN:case ke.DEADLINE_EXCEEDED:case ke.RESOURCE_EXHAUSTED:case ke.INTERNAL:case ke.UNAVAILABLE:case ke.UNAUTHENTICATED:return!1;case ke.INVALID_ARGUMENT:case ke.NOT_FOUND:case ke.ALREADY_EXISTS:case ke.PERMISSION_DENIED:case ke.FAILED_PRECONDITION:case ke.ABORTED:case ke.OUT_OF_RANGE:case ke.UNIMPLEMENTED:case ke.DATA_LOSS:return!0;default:return u("Unknown status code: "+t)}}function J(t){var e=Un[t];if(void 0!==e)return Z(e)}function Z(t){if(void 0===t)return a("GRPC error has no .code"),ke.UNKNOWN;switch(t){case Un.OK:return ke.OK;case Un.CANCELLED:return ke.CANCELLED;case Un.UNKNOWN:return ke.UNKNOWN;case Un.DEADLINE_EXCEEDED:return ke.DEADLINE_EXCEEDED;case Un.RESOURCE_EXHAUSTED:return ke.RESOURCE_EXHAUSTED;case Un.INTERNAL:return ke.INTERNAL;case Un.UNAVAILABLE:return ke.UNAVAILABLE;case Un.UNAUTHENTICATED:return ke.UNAUTHENTICATED;case Un.INVALID_ARGUMENT:return ke.INVALID_ARGUMENT;case Un.NOT_FOUND:return ke.NOT_FOUND;case Un.ALREADY_EXISTS:return ke.ALREADY_EXISTS;case Un.PERMISSION_DENIED:return ke.PERMISSION_DENIED;case Un.FAILED_PRECONDITION:return ke.FAILED_PRECONDITION;case Un.ABORTED:return ke.ABORTED;case Un.OUT_OF_RANGE:return ke.OUT_OF_RANGE;case Un.UNIMPLEMENTED:return ke.UNIMPLEMENTED;case Un.DATA_LOSS:return ke.DATA_LOSS;default:return u("Unknown status code: "+t)}}function tt(t){if(void 0===t)return Un.OK;switch(t){case ke.OK:return Un.OK;case ke.CANCELLED:return Un.CANCELLED;case ke.UNKNOWN:return Un.UNKNOWN;case ke.DEADLINE_EXCEEDED:return Un.DEADLINE_EXCEEDED;case ke.RESOURCE_EXHAUSTED:return Un.RESOURCE_EXHAUSTED;case ke.INTERNAL:return Un.INTERNAL;case ke.UNAVAILABLE:return Un.UNAVAILABLE;case ke.UNAUTHENTICATED:return Un.UNAUTHENTICATED;case ke.INVALID_ARGUMENT:return Un.INVALID_ARGUMENT;case ke.NOT_FOUND:return Un.NOT_FOUND;case ke.ALREADY_EXISTS:return Un.ALREADY_EXISTS;case ke.PERMISSION_DENIED:return Un.PERMISSION_DENIED;case ke.FAILED_PRECONDITION:return Un.FAILED_PRECONDITION;case ke.ABORTED:return Un.ABORTED;case ke.OUT_OF_RANGE:return Un.OUT_OF_RANGE;case ke.UNIMPLEMENTED:return Un.UNIMPLEMENTED;case ke.DATA_LOSS:return Un.DATA_LOSS;default:return u("Unknown status code: "+t)}}function et(t){switch(t){case 200:return ke.OK;case 400:return ke.INVALID_ARGUMENT;case 401:return ke.UNAUTHENTICATED;case 403:return ke.PERMISSION_DENIED;case 404:return ke.NOT_FOUND;case 409:return ke.ABORTED;case 416:return ke.OUT_OF_RANGE;case 429:return ke.RESOURCE_EXHAUSTED;case 499:return ke.CANCELLED;case 500:return ke.UNKNOWN;case 501:return ke.UNIMPLEMENTED;case 503:return ke.UNAVAILABLE;case 504:return ke.DEADLINE_EXCEEDED;default:return t>=200&&t<300?ke.OK:t>=400&&t<500?ke.FAILED_PRECONDITION:t>=500&&t<600?ke.INTERNAL:ke.UNKNOWN}}function nt(){return $n}function rt(){return Jn}function it(){return Zn}function ot(){return tr}function at(){return er}function st(){return new Qe(Ve.comparator)}function ut(){return new Qe(Ve.comparator)}function ct(t,e){c(!Q(t),e+" is missing")}function ft(t){return"number"===typeof t?t:"string"===typeof t?Number(t):u("can't parse "+t)}function lt(t,e,n){return e===n||!e&&n in t}function ht(t){for(var e="",n=0;n<t.length;n++)e.length>0&&(e=pt(e)),e=dt(t.get(n),e);return pt(e)}function dt(t,e){for(var n=e,r=t.length,i=0;i<r;i++){var o=t.charAt(i);switch(o){case"\0":n+=Lr+Ur;break;case Lr:n+=Lr+Fr;break;default:n+=o}}return n}function pt(t){return t+Lr+jr}function yt(t){var e=t.length;if(c(e>=2,"Invalid path "+t),2===e)return c(t.charAt(0)===Lr&&t.charAt(1)===jr,"Non-empty path "+t+" had length 2"),Be.EMPTY_PATH;for(var n=e-2,r=[],i="",o=0;o<e;){var a=t.indexOf(Lr,o);(a<0||a>n)&&u('Invalid encoded resource path: "'+t+'"');switch(t.charAt(a+1)){case jr:var s=t.substring(o,a),f=void 0;0===i.length?f=s:(i+=s,f=i,i=""),r.push(f);break;case Ur:i+=t.substring(o,a),i+="\0";break;case Fr:i+=t.substring(o,a+1);break;default:u('Invalid encoded resource path: "'+t+'"')}o=a+2}return new Be(r)}function mt(t){return new Vr(function(e,n){t.onsuccess=function(t){var n=t.target.result;e(n)},t.onerror=function(t){n(t.target.error)}})}function vt(t){return Ni.getStore(t,ci.store)}function gt(t){return t.code===ke.DATA_LOSS&&t.message===Xr}function bt(t){return Ni.getStore(t,ui.store)}function _t(t){return Ni.getStore(t,di.store)}function wt(t){return t.path.toArray()}function Et(t){var e;if(t.document)e=t.document;else if(t.unknownDocument)e=t.unknownDocument;else{if(!t.noDocument)throw u("Unknown remote document type");e=t.noDocument}return JSON.stringify(e).length}function St(t){t.createObjectStore(ni.store)}function Tt(t){t.createObjectStore(ri.store,{keyPath:ri.keyPath}),t.createObjectStore(ii.store,{keyPath:ii.keyPath,autoIncrement:!0}).createIndex(ii.userMutationsIndex,ii.userMutationsKeyPath,{unique:!0}),t.createObjectStore(oi.store)}function Ct(t,e){return e.store(ii.store).loadAll().next(function(n){t.deleteObjectStore(ii.store),t.createObjectStore(ii.store,{keyPath:ii.keyPath,autoIncrement:!0}).createIndex(ii.userMutationsIndex,ii.userMutationsKeyPath,{unique:!0});var r=e.store(ii.store),i=n.map(function(t){return r.put(t)});return Vr.waitFor(i)})}function It(t){t.createObjectStore(ui.store)}function At(t){t.createObjectStore(ci.store)}function Ot(t){t.createObjectStore(li.store,{keyPath:li.keyPath}).createIndex(li.documentTargetsIndex,li.documentTargetsKeyPath,{unique:!0}),t.createObjectStore(fi.store,{keyPath:fi.keyPath}).createIndex(fi.queryTargetsIndexName,fi.queryTargetsKeyPath,{unique:!0}),t.createObjectStore(hi.store)}function kt(t){t.deleteObjectStore(li.store),t.deleteObjectStore(fi.store),t.deleteObjectStore(hi.store)}function Rt(t){var e=t.store(hi.store),n=new hi(0,0,xn.MIN.toTimestamp(),0);return e.put(hi.key,n)}function Pt(t){t.createObjectStore(di.store,{keyPath:"id",autoIncrement:!0})}function xt(t){t.createObjectStore(pi.store,{keyPath:pi.keyPath})}function Dt(t,e,n){var r=oi.prefixForPath(e,n.path),i=r[1],o=IDBKeyRange.lowerBound(r),a=!1;return Ut(t).iterate({range:o,keysOnly:!0},function(t,n,r){var o=t[0],s=t[1];t[2];o===e&&s===i&&(a=!0),r.done()}).next(function(){return a})}function Nt(t,e){var n=!1;return Ft(t).iterateSerial(function(r){return Dt(t,r,e).next(function(t){return t&&(n=!0),Vr.resolve(!t)})}).next(function(){return n})}function Mt(t,e,n){var r=t.store(ii.store),i=t.store(oi.store),o=[],a=IDBKeyRange.only(n.batchId),s=0,u=r.iterate({range:a},function(t,e,n){return s++,n.delete()});o.push(u.next(function(){c(1===s,"Dangling document-mutation reference found: Missing batch "+n.batchId)}));for(var f=[],l=0,h=n.mutations;l<h.length;l++){var d=h[l],p=oi.key(e,d.key.path,n.batchId);o.push(i.delete(p)),f.push(d.key)}return Vr.waitFor(o).next(function(){return f})}function Lt(t){return t instanceof Uint8Array?(c("YES"===Object({NODE_ENV:"production",PUBLIC_URL:""}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence."),t.toString()):t}function jt(t){return Ni.getStore(t,ii.store)}function Ut(t){return Ni.getStore(t,oi.store)}function Ft(t){return Ni.getStore(t,ri.store)}function Bt(t){return Ni.getStore(t,fi.store)}function qt(t){return Ni.getStore(t,hi.store)}function Wt(t){return Kr.getStore(t,hi.store).get(hi.key).next(function(t){return c(null!==t,"Missing metadata row."),t})}function Vt(t){return Wt(t).next(function(t){return t.highestListenSequenceNumber})}function Ht(t){return Ni.getStore(t,li.store)}function zt(t){return void 0!==t.documents}function Kt(t,e){var n=t[0],r=t[1],i=e[0],o=e[1],a=B(n,i);return 0===a?B(r,o):a}function Gt(t){return t.code===ke.FAILED_PRECONDITION&&t.message===Ri}function Qt(t){return t.store(ni.store)}function Yt(t){return t.store(pi.store)}function Xt(t){return[0,ht(t.path)]}function $t(t,e){return new li(0,ht(t.path),e)}function Jt(t,e){return Ht(t).put($t(e,t.currentSequenceNumber))}function Zt(){return new Qe(Ve.comparator)}function te(t,e){var n=function(t){switch(t){case Yn.Added:return 1;case Yn.Modified:case Yn.Metadata:return 2;case Yn.Removed:return 0;default:return u("Unknown ChangeType: "+t)}};return n(t)-n(e)}function ee(t){var e=Pr.INVALID;if(null!=t)try{var n=JSON.parse(t);c("number"===typeof n,"Found non-numeric sequence number"),e=n}catch(t){a(_o,"Failed to read sequence number from WebStorage",t)}return e}function ne(t){if(t.search(Lo)>=0)throw new Re(ke.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not contain '~', '*', '/', '[', or ']'");try{return new(Mo.bind.apply(Mo,[void 0].concat(t.split("."))))}catch(e){throw new Re(ke.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'")}}function re(t){if(!t)return new Uo;switch(t.type){case"gapi":return new qo(t.client,t.sessionIndex||"0");case"provider":return t.client;default:throw new Re(ke.INVALID_ARGUMENT,"makeCredentialsProvider failed due to invalid credential type")}}function ie(t){return oe(t,["next","error","complete"])}function oe(t,e){if("object"!==typeof t||null===t)return!1;for(var n=t,r=0,i=e;r<i.length;r++){var o=i[r];if(o in n&&"function"===typeof n[o])return!0}return!1}function ae(t){switch(t){case oo.Set:case oo.MergeSet:case oo.Update:return!0;case oo.Argument:return!1;default:throw u("Unexpected case for UserDataSource: "+t)}}function se(t){return"object"===typeof t&&null!==t&&!(t instanceof Array)&&!(t instanceof Date)&&!(t instanceof Me)&&!(t instanceof Ne)&&!(t instanceof xe)&&!(t instanceof Jo)&&!(t instanceof Wo)}function ue(t,e,n){if(!se(n)||!x(n)){var r=D(n);throw"an object"===r?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function ce(t,e){if(e instanceof Mo)return e._internalPath;if("string"===typeof e)return fe(t,e);throw new Re(ke.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. Field path arguments must be of type string or FieldPath.")}function fe(t,e){try{return ne(e)._internalPath}catch(e){var n=le(e);throw new Re(ke.INVALID_ARGUMENT,"Function "+t+"() called with invalid data. "+n)}}function le(t){return t instanceof Error?t.message:t.toString()}function he(){throw new Re(ke.INVALID_ARGUMENT,'QuerySnapshot.docChanges has been changed from a property into a method, so usages like "querySnapshot.docChanges" should become "querySnapshot.docChanges()"')}function de(t,e){if(void 0===e)return{merge:!1};if(L(t,e,["merge","mergeFields"]),I(t,"boolean","merge",e.merge),O(t,"mergeFields","a string or a FieldPath",e.mergeFields,function(t){return"string"===typeof t||t instanceof Mo}),void 0!==e.mergeFields&&void 0!==e.merge)throw new Re(ke.INVALID_ARGUMENT,"Invalid options passed to function "+t+'(): You cannot specify both "merge" and "mergeFields".');return e}function pe(t,e){return void 0===e?{}:(L(t,e,["serverTimestamps"]),R(t,"options","serverTimestamps",e.serverTimestamps,["estimate","previous","none"]),e)}function ye(t,e){T(t,"object",1,e),e&&(L(t,e,["source"]),R(t,"options","source",e.source,["default","server","cache"]))}function me(t,e,n){if(e instanceof fa){if(e.firestore!==n)throw new Re(ke.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return e}throw j(t,"DocumentReference",1,e)}function ve(t,e,n){if(n.oldDocs.isEmpty()){var r,i=0;return n.docChanges.map(function(e){var o=new da(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key));return c(e.type===Yn.Added,"Invalid event type for first snapshot"),c(!r||n.query.docComparator(r,e.doc)<0,"Got added events in wrong order"),r=e.doc,{type:"added",doc:o,oldIndex:-1,newIndex:i++}})}var o=n.oldDocs;return n.docChanges.filter(function(t){return e||t.type!==Yn.Metadata}).map(function(e){var r=new da(t,e.doc.key,e.doc,n.fromCache,n.mutatedKeys.has(e.doc.key)),i=-1,a=-1;return e.type!==Yn.Added&&(i=o.indexOf(e.doc.key),c(i>=0,"Index for document not found"),o=o.delete(e.doc.key)),e.type!==Yn.Removed&&(o=o.add(e.doc),a=o.indexOf(e.doc.key)),{type:ge(e.type),doc:r,oldIndex:i,newIndex:a}})}function ge(t){switch(t){case Yn.Added:return"added";case Yn.Modified:case Yn.Metadata:return"modified";case Yn.Removed:return"removed";default:return u("Unknown change type: "+t)}}function be(t){t.INTERNAL.registerService("firestore",function(t){return new sa(t)},g(Ia))}function _e(t){be(t)}Object.defineProperty(e,"__esModule",{value:!0});var we,Ee=function(t){return t&&"object"===typeof t&&"default"in t?t.default:t}(n(24)),Se=n(179),Te=n(350),Ce=n(351),Ie=Ee.SDK_VERSION,Ae=new Se.Logger("@firebase/firestore");!function(t){t[t.DEBUG=0]="DEBUG",t[t.ERROR=1]="ERROR",t[t.SILENT=2]="SILENT"}(we||(we={}));var Oe=function(){function t(){}return t.setPlatform=function(e){t.platform&&u("Platform already defined"),t.platform=e},t.getPlatform=function(){return t.platform||u("Platform not set"),t.platform},t}(),ke={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},Re=function(t){function e(e,n){var r=t.call(this,n)||this;return r.code=e,r.message=n,r.name="FirebaseError",r.toString=function(){return r.name+": [code="+r.code+"]: "+r.message},r}return Te.__extends(e,t),e}(Error),Pe=function(){function t(){}return t.newId=function(){for(var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e="",n=0;n<20;n++)e+=t.charAt(Math.floor(Math.random()*t.length));return c(20===e.length,"Invalid auto ID: "+e),e},t}(),xe=function(){function t(t){z(),this._binaryString=t}return t.fromBase64String=function(e){b("Blob.fromBase64String",arguments,1),S("Blob.fromBase64String","string",1,e),z();try{return new t(Oe.getPlatform().atob(e))}catch(t){throw new Re(ke.INVALID_ARGUMENT,"Failed to construct Blob from Base64 string: "+t)}},t.fromUint8Array=function(e){if(b("Blob.fromUint8Array",arguments,1),H(),!(e instanceof Uint8Array))throw j("Blob.fromUint8Array","Uint8Array",1,e);return new t(Array.prototype.map.call(e,function(t){return String.fromCharCode(t)}).join(""))},t.prototype.toBase64=function(){return b("Blob.toBase64",arguments,0),z(),Oe.getPlatform().btoa(this._binaryString)},t.prototype.toUint8Array=function(){b("Blob.toUint8Array",arguments,0),H();for(var t=new Uint8Array(this._binaryString.length),e=0;e<this._binaryString.length;e++)t[e]=this._binaryString.charCodeAt(e);return t},t.prototype.toString=function(){return"Blob(base64: "+this.toBase64()+")"},t.prototype.isEqual=function(t){return this._binaryString===t._binaryString},t.prototype._compareTo=function(t){return B(this._binaryString,t._binaryString)},t}(),De=l(xe,"Use Blob.fromUint8Array() or Blob.fromBase64String() instead."),Ne=function(){function t(t,e){if(b("GeoPoint",arguments,2),S("GeoPoint","number",1,t),S("GeoPoint","number",2,e),!isFinite(t)||t<-90||t>90)throw new Re(ke.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(e)||e<-180||e>180)throw new Re(ke.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+e);this._lat=t,this._long=e}return Object.defineProperty(t.prototype,"latitude",{get:function(){return this._lat},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"longitude",{get:function(){return this._long},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){return this._lat===t._lat&&this._long===t._long},t.prototype._compareTo=function(t){return B(this._lat,t._lat)||B(this._long,t._long)},t}(),Me=function(){function t(t,e){if(this.seconds=t,this.nanoseconds=e,e<0)throw new Re(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(e>=1e9)throw new Re(ke.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+e);if(t<-62135596800)throw new Re(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Re(ke.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}return t.now=function(){return t.fromMillis(Date.now())},t.fromDate=function(e){return t.fromMillis(e.getTime())},t.fromMillis=function(e){var n=Math.floor(e/1e3);return new t(n,1e6*(e-1e3*n))},t.prototype.toDate=function(){return new Date(this.toMillis())},t.prototype.toMillis=function(){return 1e3*this.seconds+this.nanoseconds/1e6},t.prototype._compareTo=function(t){return this.seconds===t.seconds?B(this.nanoseconds,t.nanoseconds):B(this.seconds,t.seconds)},t.prototype.isEqual=function(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds},t.prototype.toString=function(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"},t}(),Le=function(){function t(t,e,n,r){this.databaseId=t,this.persistenceKey=e,this.host=n,this.ssl=r}return t}(),je="(default)",Ue=function(){function t(t,e){this.projectId=t,this.database=e||je}return Object.defineProperty(t.prototype,"isDefaultDatabase",{get:function(){return this.database===je},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database},t.prototype.compareTo=function(t){return B(this.projectId,t.projectId)||B(this.database,t.database)},t}(),Fe=function(){function t(t,e,n){this.init(t,e,n)}return t.prototype.init=function(t,e,n){void 0===e?e=0:e>t.length&&u("offset "+e+" out of range "+t.length),void 0===n?n=t.length-e:n>t.length-e&&u("length "+n+" out of range "+(t.length-e)),this.segments=t,this.offset=e,this.len=n},t.prototype.construct=function(t,e,n){var r=Object.create(Object.getPrototypeOf(this));return r.init(t,e,n),r},Object.defineProperty(t.prototype,"length",{get:function(){return this.len},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){return 0===t.comparator(this,e)},t.prototype.child=function(e){var n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(function(t){n.push(t)}):"string"===typeof e?n.push(e):u("Unknown parameter type for Path.child(): "+e),this.construct(n)},t.prototype.limit=function(){return this.offset+this.length},t.prototype.popFirst=function(t){return t=void 0===t?1:t,c(this.length>=t,"Can't call popFirst() with less segments"),this.construct(this.segments,this.offset+t,this.length-t)},t.prototype.popLast=function(){return c(!this.isEmpty(),"Can't call popLast() on empty path"),this.construct(this.segments,this.offset,this.length-1)},t.prototype.firstSegment=function(){return c(!this.isEmpty(),"Can't call firstSegment() on empty path"),this.segments[this.offset]},t.prototype.lastSegment=function(){return c(!this.isEmpty(),"Can't call lastSegment() on empty path"),this.segments[this.limit()-1]},t.prototype.get=function(t){return c(t<this.length,"Index out of range"),this.segments[this.offset+t]},t.prototype.isEmpty=function(){return 0===this.length},t.prototype.isPrefixOf=function(t){if(t.length<this.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.isImmediateParentOf=function(t){if(this.length+1!==t.length)return!1;for(var e=0;e<this.length;e++)if(this.get(e)!==t.get(e))return!1;return!0},t.prototype.forEach=function(t){for(var e=this.offset,n=this.limit();e<n;e++)t(this.segments[e])},t.prototype.toArray=function(){return this.segments.slice(this.offset,this.limit())},t.comparator=function(t,e){for(var n=Math.min(t.length,e.length),r=0;r<n;r++){var i=t.get(r),o=e.get(r);if(i<o)return-1;if(i>o)return 1}return t.length<e.length?-1:t.length>e.length?1:0},t}(),Be=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Te.__extends(e,t),e.prototype.canonicalString=function(){return this.toArray().join("/")},e.prototype.toString=function(){return this.canonicalString()},e.fromString=function(t){if(t.indexOf("//")>=0)throw new Re(ke.INVALID_ARGUMENT,"Invalid path ("+t+"). Paths must not contain // in them.");return new e(t.split("/").filter(function(t){return t.length>0}))},e.EMPTY_PATH=new e([]),e}(Fe),qe=/^[_a-zA-Z][_a-zA-Z0-9]*$/,We=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return Te.__extends(e,t),e.isValidIdentifier=function(t){return qe.test(t)},e.prototype.canonicalString=function(){return this.toArray().map(function(t){return t=t.replace("\\","\\\\").replace("`","\\`"),e.isValidIdentifier(t)||(t="`"+t+"`"),t}).join(".")},e.prototype.toString=function(){return this.canonicalString()},e.prototype.isKeyField=function(){return 1===this.length&&"__name__"===this.get(0)},e.keyField=function(){return new e(["__name__"])},e.fromServerFormat=function(t){for(var n=[],r="",i=0,o=function(){if(0===r.length)throw new Re(ke.INVALID_ARGUMENT,"Invalid field path ("+t+"). Paths must not be empty, begin with '.', end with '.', or contain '..'");n.push(r),r=""},a=!1;i<t.length;){var s=t[i];if("\\"===s){if(i+1===t.length)throw new Re(ke.INVALID_ARGUMENT,"Path has trailing escape character: "+t);var u=t[i+1];if("\\"!==u&&"."!==u&&"`"!==u)throw new Re(ke.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=u,i+=2}else"`"===s?(a=!a,i++):"."!==s||a?(r+=s,i++):(o(),i++)}if(o(),a)throw new Re(ke.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new e(n)},e.EMPTY_PATH=new e([]),e}(Fe),Ve=function(){function t(e){this.path=e,c(t.isDocumentKey(e),"Invalid DocumentKey with an odd number of segments: "+e.toArray().join("/"))}return t.prototype.isEqual=function(t){return null!==t&&0===Be.comparator(this.path,t.path)},t.prototype.toString=function(){return this.path.toString()},t.comparator=function(t,e){return Be.comparator(t.path,e.path)},t.isDocumentKey=function(t){return t.length%2===0},t.fromSegments=function(e){return new t(new Be(e.slice()))},t.fromPathString=function(e){return new t(Be.fromString(e))},t.EMPTY=new t(new Be([])),t}(),He=function(){function t(t,e){this.key=t,this.version=e}return t.compareByKey=function(t,e){return Ve.comparator(t.key,e.key)},t}(),ze=function(t){function e(e,n,r,i){var o=t.call(this,e,n)||this;return o.data=r,o.hasLocalMutations=!!i.hasLocalMutations,o.hasCommittedMutations=!!i.hasCommittedMutations,o}return Te.__extends(e,t),e.prototype.field=function(t){return this.data.field(t)},e.prototype.fieldValue=function(t){var e=this.field(t);return e?e.value():void 0},e.prototype.value=function(){return this.data.value()},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.data.isEqual(t.data)&&this.hasLocalMutations===t.hasLocalMutations&&this.hasCommittedMutations===t.hasCommittedMutations},e.prototype.toString=function(){return"Document("+this.key+", "+this.version+", "+this.data.toString()+", {hasLocalMutations: "+this.hasLocalMutations+"}), {hasCommittedMutations: "+this.hasCommittedMutations+"})"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasLocalMutations||this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.compareByField=function(t,e,n){var r=e.field(t),i=n.field(t);return void 0!==r&&void 0!==i?r.compareTo(i):u("Trying to compare documents on fields that don't exist")},e}(He),Ke=function(t){function e(e,n,r){var i=t.call(this,e,n)||this;return i.hasCommittedMutations=!(!r||!r.hasCommittedMutations),i}return Te.__extends(e,t),e.prototype.toString=function(){return"NoDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return this.hasCommittedMutations},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.hasCommittedMutations===this.hasCommittedMutations&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(He),Ge=function(t){function e(e,n){return t.call(this,e,n)||this}return Te.__extends(e,t),e.prototype.toString=function(){return"UnknownDocument("+this.key+", "+this.version+")"},Object.defineProperty(e.prototype,"hasPendingWrites",{get:function(){return!0},enumerable:!0,configurable:!0}),e.prototype.isEqual=function(t){return t instanceof e&&t.version.isEqual(this.version)&&t.key.isEqual(this.key)},e}(He),Qe=function(){function t(t,e){this.comparator=t,this.root=e||Xe.EMPTY}return t.prototype.insert=function(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Xe.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Xe.BLACK,null,null))},t.prototype.get=function(t){for(var e=this.root;!e.isEmpty();){var n=this.comparator(t,e.key);if(0===n)return e.value;n<0?e=e.left:n>0&&(e=e.right)}return null},t.prototype.indexOf=function(t){for(var e=0,n=this.root;!n.isEmpty();){var r=this.comparator(t,n.key);if(0===r)return e+n.left.size;r<0?n=n.left:(e+=n.left.size+1,n=n.right)}return-1},t.prototype.isEmpty=function(){return this.root.isEmpty()},Object.defineProperty(t.prototype,"size",{get:function(){return this.root.size},enumerable:!0,configurable:!0}),t.prototype.minKey=function(){return this.root.minKey()},t.prototype.maxKey=function(){return this.root.maxKey()},t.prototype.inorderTraversal=function(t){return this.root.inorderTraversal(t)},t.prototype.forEach=function(t){this.inorderTraversal(function(e,n){return t(e,n),!1})},t.prototype.reverseTraversal=function(t){return this.root.reverseTraversal(t)},t.prototype.getIterator=function(){return new Ye(this.root,null,this.comparator,!1)},t.prototype.getIteratorFrom=function(t){return new Ye(this.root,t,this.comparator,!1)},t.prototype.getReverseIterator=function(){return new Ye(this.root,null,this.comparator,!0)},t.prototype.getReverseIteratorFrom=function(t){return new Ye(this.root,t,this.comparator,!0)},t}(),Ye=function(){function t(t,e,n,r){this.isReverse=r,this.nodeStack=[];for(var i=1;!t.isEmpty();)if(i=e?n(t.key,e):1,r&&(i*=-1),i<0)t=this.isReverse?t.left:t.right;else{if(0===i){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}return t.prototype.getNext=function(){c(this.nodeStack.length>0,"getNext() called on iterator when hasNext() is false.");var t=this.nodeStack.pop(),e={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return e},t.prototype.hasNext=function(){return this.nodeStack.length>0},t.prototype.peek=function(){if(0===this.nodeStack.length)return null;var t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}},t}(),Xe=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:t.EMPTY,this.right=null!=o?o:t.EMPTY,this.size=this.left.size+1+this.right.size}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min=function(){return this.left.isEmpty()?this:this.left.min()},t.prototype.minKey=function(){return this.min().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r=this,i=n(t,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp()},t.prototype.removeMin=function(){if(this.left.isEmpty())return t.EMPTY;var e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()},t.prototype.remove=function(e,n){var r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===n(e,i.key)){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()},t.prototype.isRed=function(){return this.color},t.prototype.fixUp=function(){var t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t},t.prototype.moveRedLeft=function(){var t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t},t.prototype.moveRedRight=function(){var t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t},t.prototype.rotateLeft=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth=function(){var t=this.check();return Math.pow(2,t)<=this.size+1},t.prototype.check=function(){if(this.isRed()&&this.left.isRed())throw u("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed())throw u("Right child of ("+this.key+","+this.value+") is red");var t=this.left.check();if(t!==this.right.check())throw u("Black depths differ");return t+(this.isRed()?0:1)},t.EMPTY=null,t.RED=!0,t.BLACK=!1,t}(),$e=function(){function t(){this.size=0}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new Xe(t,e)},t.prototype.remove=function(t,e){return this},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.isRed=function(){return!1},t.prototype.checkMaxDepth=function(){return!0},t.prototype.check=function(){return 0},t}();Xe.EMPTY=new $e;var Je;!function(t){t[t.NullValue=0]="NullValue",t[t.BooleanValue=1]="BooleanValue",t[t.NumberValue=2]="NumberValue",t[t.TimestampValue=3]="TimestampValue",t[t.StringValue=4]="StringValue",t[t.BlobValue=5]="BlobValue",t[t.RefValue=6]="RefValue",t[t.GeoPointValue=7]="GeoPointValue",t[t.ArrayValue=8]="ArrayValue",t[t.ObjectValue=9]="ObjectValue"}(Je||(Je={}));var Ze;!function(t){t[t.Default=0]="Default",t[t.Estimate=1]="Estimate",t[t.Previous=2]="Previous"}(Ze||(Ze={}));var tn,en=function(){function t(t,e){this.serverTimestampBehavior=t,this.timestampsInSnapshots=e}return t.fromSnapshotOptions=function(e,n){switch(e.serverTimestamps){case"estimate":return new t(Ze.Estimate,n);case"previous":return new t(Ze.Previous,n);case"none":case void 0:return new t(Ze.Default,n);default:return u("fromSnapshotOptions() called with invalid options.")}},t}(),nn=function(){function t(){}return t.prototype.toString=function(){var t=this.value();return null===t?"null":t.toString()},t.prototype.defaultCompareTo=function(t){return c(this.typeOrder!==t.typeOrder,"Default compareTo should not be used for values of same type."),B(this.typeOrder,t.typeOrder)},t}(),rn=function(t){function e(){var e=t.call(this)||this;return e.typeOrder=Je.NullValue,e.internalValue=null,e}return Te.__extends(e,t),e.prototype.value=function(t){return null},e.prototype.isEqual=function(t){return t instanceof e},e.prototype.compareTo=function(t){return t instanceof e?0:this.defaultCompareTo(t)},e.INSTANCE=new e,e}(nn),on=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Je.BooleanValue,n}return Te.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?B(this,t):this.defaultCompareTo(t)},e.of=function(t){return t?e.TRUE:e.FALSE},e.TRUE=new e(!0),e.FALSE=new e(!1),e}(nn),an=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Je.NumberValue,n}return Te.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.compareTo=function(t){return t instanceof e?K(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(nn),sn=function(t){function e(e){return t.call(this,e)||this}return Te.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&G(this.internalValue,t.internalValue)},e}(an),un=function(t){function e(e){var n=t.call(this,e)||this;return n.internalValue=e,n}return Te.__extends(e,t),e.prototype.isEqual=function(t){return t instanceof e&&G(this.internalValue,t.internalValue)},e.NAN=new e(NaN),e.POSITIVE_INFINITY=new e(1/0),e.NEGATIVE_INFINITY=new e(-1/0),e}(an),cn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Je.StringValue,n}return Te.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue===t.internalValue},e.prototype.compareTo=function(t){return t instanceof e?B(this.internalValue,t.internalValue):this.defaultCompareTo(t)},e}(nn),fn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Je.TimestampValue,n}return Te.__extends(e,t),e.prototype.value=function(t){return t&&t.timestampsInSnapshots?this.internalValue:this.internalValue.toDate()},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):t instanceof ln?-1:this.defaultCompareTo(t)},e}(nn),ln=function(t){function e(e,n){var r=t.call(this)||this;return r.localWriteTime=e,r.previousValue=n,r.typeOrder=Je.TimestampValue,r}return Te.__extends(e,t),e.prototype.value=function(t){return t&&t.serverTimestampBehavior===Ze.Estimate?new fn(this.localWriteTime).value(t):t&&t.serverTimestampBehavior===Ze.Previous&&this.previousValue?this.previousValue.value(t):null},e.prototype.isEqual=function(t){return t instanceof e&&this.localWriteTime.isEqual(t.localWriteTime)},e.prototype.compareTo=function(t){return t instanceof e?this.localWriteTime._compareTo(t.localWriteTime):t instanceof fn?1:this.defaultCompareTo(t)},e.prototype.toString=function(){return"<ServerTimestamp localTime="+this.localWriteTime.toString()+">"},e}(nn),hn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Je.BlobValue,n}return Te.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(nn),dn=function(t){function e(e,n){var r=t.call(this)||this;return r.databaseId=e,r.key=n,r.typeOrder=Je.RefValue,r}return Te.__extends(e,t),e.prototype.value=function(t){return this.key},e.prototype.isEqual=function(t){return t instanceof e&&(this.key.isEqual(t.key)&&this.databaseId.isEqual(t.databaseId))},e.prototype.compareTo=function(t){if(t instanceof e){var n=this.databaseId.compareTo(t.databaseId);return 0!==n?n:Ve.comparator(this.key,t.key)}return this.defaultCompareTo(t)},e}(nn),pn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Je.GeoPointValue,n}return Te.__extends(e,t),e.prototype.value=function(t){return this.internalValue},e.prototype.isEqual=function(t){return t instanceof e&&this.internalValue.isEqual(t.internalValue)},e.prototype.compareTo=function(t){return t instanceof e?this.internalValue._compareTo(t.internalValue):this.defaultCompareTo(t)},e}(nn),yn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Je.ObjectValue,n}return Te.__extends(e,t),e.prototype.value=function(t){var e={};return this.internalValue.inorderTraversal(function(n,r){e[n]=r.value(t)}),e},e.prototype.forEach=function(t){this.internalValue.inorderTraversal(t)},e.prototype.isEqual=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext();if(i.key!==o.key||!i.value.isEqual(o.value))return!1}return!n.hasNext()&&!r.hasNext()}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=this.internalValue.getIterator(),r=t.internalValue.getIterator();n.hasNext()&&r.hasNext();){var i=n.getNext(),o=r.getNext(),a=B(i.key,o.key)||i.value.compareTo(o.value);if(a)return a}return B(n.hasNext(),r.hasNext())}return this.defaultCompareTo(t)},e.prototype.set=function(t,n){if(c(!t.isEmpty(),"Cannot set field for empty path on ObjectValue"),1===t.length)return this.setChild(t.firstSegment(),n);var r=this.child(t.firstSegment());r instanceof e||(r=e.EMPTY);var i=r.set(t.popFirst(),n);return this.setChild(t.firstSegment(),i)},e.prototype.delete=function(t){if(c(!t.isEmpty(),"Cannot delete field for empty path on ObjectValue"),1===t.length)return new e(this.internalValue.remove(t.firstSegment()));var n=this.child(t.firstSegment());if(n instanceof e){var r=n.delete(t.popFirst());return new e(this.internalValue.insert(t.firstSegment(),r))}return this},e.prototype.contains=function(t){return void 0!==this.field(t)},e.prototype.field=function(t){c(!t.isEmpty(),"Can't get field of empty path");var n=this;return t.forEach(function(t){n=n instanceof e?n.internalValue.get(t)||void 0:void 0}),n},e.prototype.toString=function(){return JSON.stringify(this.value())},e.prototype.child=function(t){return this.internalValue.get(t)||void 0},e.prototype.setChild=function(t,n){return new e(this.internalValue.insert(t,n))},e.EMPTY=new e(new Qe(B)),e}(nn),mn=function(t){function e(e){var n=t.call(this)||this;return n.internalValue=e,n.typeOrder=Je.ArrayValue,n}return Te.__extends(e,t),e.prototype.value=function(t){return this.internalValue.map(function(e){return e.value(t)})},e.prototype.forEach=function(t){this.internalValue.forEach(t)},e.prototype.isEqual=function(t){if(t instanceof e){if(this.internalValue.length!==t.internalValue.length)return!1;for(var n=0;n<this.internalValue.length;n++)if(!this.internalValue[n].isEqual(t.internalValue[n]))return!1;return!0}return!1},e.prototype.compareTo=function(t){if(t instanceof e){for(var n=Math.min(this.internalValue.length,t.internalValue.length),r=0;r<n;r++){var i=this.internalValue[r].compareTo(t.internalValue[r]);if(i)return i}return B(this.internalValue.length,t.internalValue.length)}return this.defaultCompareTo(t)},e.prototype.toString=function(){return JSON.stringify(this.value())},e}(nn),vn=Number,gn=vn.MIN_SAFE_INTEGER||-(Math.pow(2,53)-1),bn=vn.MAX_SAFE_INTEGER||Math.pow(2,53)-1,_n=vn.isInteger||function(t){return"number"===typeof t&&isFinite(t)&&Math.floor(t)===t},wn=function(){function t(t,e,n,r,i,o){void 0===e&&(e=[]),void 0===n&&(n=[]),void 0===r&&(r=null),void 0===i&&(i=null),void 0===o&&(o=null),this.path=t,this.explicitOrderBy=e,this.filters=n,this.limit=r,this.startAt=i,this.endAt=o,this.memoizedCanonicalId=null,this.memoizedOrderBy=null,this.startAt&&this.assertValidBound(this.startAt),this.endAt&&this.assertValidBound(this.endAt)}return t.atPath=function(e){return new t(e)},Object.defineProperty(t.prototype,"orderBy",{get:function(){if(null===this.memoizedOrderBy){var t=this.getInequalityFilterField(),e=this.getFirstOrderByField();if(null!==t&&null===e)t.isKeyField()?this.memoizedOrderBy=[Rn]:this.memoizedOrderBy=[new kn(t),Rn];else{c(null===t||null!==e&&t.isEqual(e),"First orderBy should match inequality field."),this.memoizedOrderBy=[];for(var n=!1,r=0,i=this.explicitOrderBy;r<i.length;r++){var o=i[r];this.memoizedOrderBy.push(o),o.field.isKeyField()&&(n=!0)}if(!n){var a=this.explicitOrderBy.length>0?this.explicitOrderBy[this.explicitOrderBy.length-1].dir:An.ASCENDING;this.memoizedOrderBy.push(a===An.ASCENDING?Rn:Pn)}}}return this.memoizedOrderBy},enumerable:!0,configurable:!0}),t.prototype.addFilter=function(e){c(null==this.getInequalityFilterField()||!(e instanceof Tn)||!e.isInequality()||e.field.isEqual(this.getInequalityFilterField()),"Query must only have one inequality field."),c(!Ve.isDocumentKey(this.path),"No filtering allowed for document query");var n=this.filters.concat([e]);return new t(this.path,this.explicitOrderBy.slice(),n,this.limit,this.startAt,this.endAt)},t.prototype.addOrderBy=function(e){c(!Ve.isDocumentKey(this.path),"No ordering allowed for document query"),c(!this.startAt&&!this.endAt,"Bounds must be set after orderBy");var n=this.explicitOrderBy.concat([e]);return new t(this.path,n,this.filters.slice(),this.limit,this.startAt,this.endAt)},t.prototype.withLimit=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),e,this.startAt,this.endAt)},t.prototype.withStartAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,e,this.endAt)},t.prototype.withEndAt=function(e){return new t(this.path,this.explicitOrderBy.slice(),this.filters.slice(),this.limit,this.startAt,e)},t.prototype.canonicalId=function(){if(null===this.memoizedCanonicalId){var t=this.path.canonicalString();t+="|f:";for(var e=0,n=this.filters;e<n.length;e++){t+=n[e].canonicalId(),t+=","}t+="|ob:";for(var r=0,i=this.orderBy;r<i.length;r++){t+=i[r].canonicalId(),t+=","}Q(this.limit)||(t+="|l:",t+=this.limit),this.startAt&&(t+="|lb:",t+=this.startAt.canonicalId()),this.endAt&&(t+="|ub:",t+=this.endAt.canonicalId()),this.memoizedCanonicalId=t}return this.memoizedCanonicalId},t.prototype.toString=function(){var t="Query("+this.path.canonicalString();return this.filters.length>0&&(t+=", filters: ["+this.filters.join(", ")+"]"),Q(this.limit)||(t+=", limit: "+this.limit),this.explicitOrderBy.length>0&&(t+=", orderBy: ["+this.explicitOrderBy.join(", ")+"]"),this.startAt&&(t+=", startAt: "+this.startAt.canonicalId()),this.endAt&&(t+=", endAt: "+this.endAt.canonicalId()),t+")"},t.prototype.isEqual=function(t){if(this.limit!==t.limit)return!1;if(this.orderBy.length!==t.orderBy.length)return!1;for(var e=0;e<this.orderBy.length;e++)if(!this.orderBy[e].isEqual(t.orderBy[e]))return!1;if(this.filters.length!==t.filters.length)return!1;for(var e=0;e<this.filters.length;e++)if(!this.filters[e].isEqual(t.filters[e]))return!1;return!!this.path.isEqual(t.path)&&(!(null!==this.startAt?!this.startAt.isEqual(t.startAt):null!==t.startAt)&&(null!==this.endAt?this.endAt.isEqual(t.endAt):null===t.endAt))},t.prototype.docComparator=function(t,e){for(var n=!1,r=0,i=this.orderBy;r<i.length;r++){var o=i[r],a=o.compare(t,e);if(0!==a)return a;n=n||o.field.isKeyField()}return c(n,"orderBy used that doesn't compare on key field"),0},t.prototype.matches=function(t){return this.matchesAncestor(t)&&this.matchesOrderBy(t)&&this.matchesFilters(t)&&this.matchesBounds(t)},t.prototype.hasLimit=function(){return!Q(this.limit)},t.prototype.getFirstOrderByField=function(){return this.explicitOrderBy.length>0?this.explicitOrderBy[0].field:null},t.prototype.getInequalityFilterField=function(){for(var t=0,e=this.filters;t<e.length;t++){var n=e[t];if(n instanceof Tn&&n.isInequality())return n.field}return null},t.prototype.hasArrayContainsFilter=function(){return void 0!==this.filters.find(function(t){return t instanceof Tn&&t.op===Sn.ARRAY_CONTAINS})},t.prototype.isDocumentQuery=function(){return Ve.isDocumentKey(this.path)&&0===this.filters.length},t.prototype.matchesAncestor=function(t){var e=t.key.path;return Ve.isDocumentKey(this.path)?this.path.isEqual(e):this.path.isPrefixOf(e)&&this.path.length===e.length-1},t.prototype.matchesOrderBy=function(t){for(var e=0,n=this.explicitOrderBy;e<n.length;e++){var r=n[e];if(!r.field.isKeyField()&&void 0===t.field(r.field))return!1}return!0},t.prototype.matchesFilters=function(t){for(var e=0,n=this.filters;e<n.length;e++){if(!n[e].matches(t))return!1}return!0},t.prototype.matchesBounds=function(t){return!(this.startAt&&!this.startAt.sortsBeforeDocument(this.orderBy,t))&&(!this.endAt||!this.endAt.sortsBeforeDocument(this.orderBy,t))},t.prototype.assertValidBound=function(t){c(t.position.length<=this.orderBy.length,"Bound is longer than orderBy")},t}(),En=function(){function t(){}return t.create=function(t,e,n){if(n.isEqual(rn.INSTANCE)){if(e!==Sn.EQUAL)throw new Re(ke.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on null.");return new Cn(t)}if(n.isEqual(un.NAN)){if(e!==Sn.EQUAL)throw new Re(ke.INVALID_ARGUMENT,"Invalid query. You can only perform equals comparisons on NaN.");return new In(t)}return new Tn(t,e,n)},t}(),Sn=function(){function t(t){this.name=t}return t.fromString=function(e){switch(e){case"<":return t.LESS_THAN;case"<=":return t.LESS_THAN_OR_EQUAL;case"==":return t.EQUAL;case">=":return t.GREATER_THAN_OR_EQUAL;case">":return t.GREATER_THAN;case"array-contains":return t.ARRAY_CONTAINS;default:return u("Unknown relation: "+e)}},t.prototype.toString=function(){return this.name},t.prototype.isEqual=function(t){return this.name===t.name},t.LESS_THAN=new t("<"),t.LESS_THAN_OR_EQUAL=new t("<="),t.EQUAL=new t("=="),t.GREATER_THAN=new t(">"),t.GREATER_THAN_OR_EQUAL=new t(">="),t.ARRAY_CONTAINS=new t("array-contains"),t}(),Tn=function(t){function e(e,n,r){var i=t.call(this)||this;return i.field=e,i.op=n,i.value=r,i}return Te.__extends(e,t),e.prototype.matches=function(t){if(this.field.isKeyField()){c(this.value instanceof dn,"Comparing on key, but filter value not a RefValue"),c(this.op!==Sn.ARRAY_CONTAINS,"array-contains queries don't make sense on document keys.");var e=this.value,n=Ve.comparator(t.key,e.key);return this.matchesComparison(n)}var r=t.field(this.field);return void 0!==r&&this.matchesValue(r)},e.prototype.matchesValue=function(t){var e=this;return this.op===Sn.ARRAY_CONTAINS?t instanceof mn&&void 0!==t.internalValue.find(function(t){return t.isEqual(e.value)}):this.value.typeOrder===t.typeOrder&&this.matchesComparison(t.compareTo(this.value))},e.prototype.matchesComparison=function(t){switch(this.op){case Sn.LESS_THAN:return t<0;case Sn.LESS_THAN_OR_EQUAL:return t<=0;case Sn.EQUAL:return 0===t;case Sn.GREATER_THAN:return t>0;case Sn.GREATER_THAN_OR_EQUAL:return t>=0;default:return u("Unknown relation op"+this.op)}},e.prototype.isInequality=function(){return this.op!==Sn.EQUAL&&this.op!==Sn.ARRAY_CONTAINS},e.prototype.canonicalId=function(){return this.field.canonicalString()+this.op.toString()+this.value.toString()},e.prototype.isEqual=function(t){return t instanceof e&&(this.op.isEqual(t.op)&&this.field.isEqual(t.field)&&this.value.isEqual(t.value))},e.prototype.toString=function(){return this.field.canonicalString()+" "+this.op+" "+this.value.value()},e}(En),Cn=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return Te.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field);return void 0!==e&&null===e.value()},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS null"},e.prototype.toString=function(){return this.field.canonicalString()+" IS null"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(En),In=function(t){function e(e){var n=t.call(this)||this;return n.field=e,n}return Te.__extends(e,t),e.prototype.matches=function(t){var e=t.field(this.field),n=e&&e.value();return"number"===typeof n&&isNaN(n)},e.prototype.canonicalId=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.toString=function(){return this.field.canonicalString()+" IS NaN"},e.prototype.isEqual=function(t){return t instanceof e&&this.field.isEqual(t.field)},e}(En),An=function(){function t(t){this.name=t}return t.prototype.toString=function(){return this.name},t.ASCENDING=new t("asc"),t.DESCENDING=new t("desc"),t}(),On=function(){function t(t,e){this.position=t,this.before=e}return t.prototype.canonicalId=function(){for(var t=this.before?"b:":"a:",e=0,n=this.position;e<n.length;e++){t+=n[e].toString()}return t},t.prototype.sortsBeforeDocument=function(t,e){c(this.position.length<=t.length,"Bound has more components than query's orderBy");for(var n=0,r=0;r<this.position.length;r++){var i=t[r],o=this.position[r];if(i.field.isKeyField())c(o instanceof dn,"Bound has a non-key value where the key path is being used."),n=Ve.comparator(o.key,e.key);else{var a=e.field(i.field);c(void 0!==a,"Field should exist since document matched the orderBy already."),n=o.compareTo(a)}if(i.dir===An.DESCENDING&&(n*=-1),0!==n)break}return this.before?n<=0:n<0},t.prototype.isEqual=function(t){if(null===t)return!1;if(this.before!==t.before||this.position.length!==t.position.length)return!1;for(var e=0;e<this.position.length;e++){var n=this.position[e],r=t.position[e];return n.isEqual(r)}return!0},t}(),kn=function(){function t(t,e){this.field=t,void 0===e&&(e=An.ASCENDING),this.dir=e,this.isKeyOrderBy=t.isKeyField()}return t.prototype.compare=function(t,e){var n=this.isKeyOrderBy?ze.compareByKey(t,e):ze.compareByField(this.field,t,e);switch(this.dir){case An.ASCENDING:return n;case An.DESCENDING:return-1*n;default:return u("Unknown direction: "+this.dir)}},t.prototype.canonicalId=function(){return this.field.canonicalString()+this.dir.toString()},t.prototype.toString=function(){return this.field.canonicalString()+" ("+this.dir+")"},t.prototype.isEqual=function(t){return this.dir===t.dir&&this.field.isEqual(t.field)},t}(),Rn=new kn(We.keyField(),An.ASCENDING),Pn=new kn(We.keyField(),An.DESCENDING),xn=function(){function t(t){this.timestamp=t}return t.fromMicroseconds=function(e){var n=Math.floor(e/1e6);return new t(new Me(n,e%1e6*1e3))},t.fromTimestamp=function(e){return new t(e)},t.forDeletedDoc=function(){return t.MIN},t.prototype.compareTo=function(t){return this.timestamp._compareTo(t.timestamp)},t.prototype.isEqual=function(t){return this.timestamp.isEqual(t.timestamp)},t.prototype.toMicroseconds=function(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3},t.prototype.toString=function(){return"SnapshotVersion("+this.timestamp.toString()+")"},t.prototype.toTimestamp=function(){return this.timestamp},t.MIN=new t(new Me(0,0)),t}();!function(t){t[t.Listen=0]="Listen",t[t.ExistenceFilterMismatch=1]="ExistenceFilterMismatch",t[t.LimboResolution=2]="LimboResolution"}(tn||(tn={}));var Dn,Nn=function(){function t(t,e,n,r,i,o){void 0===i&&(i=xn.MIN),void 0===o&&(o=f()),this.query=t,this.targetId=e,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.resumeToken=o}return t.prototype.copy=function(e){return new t(this.query,this.targetId,this.purpose,void 0===e.sequenceNumber?this.sequenceNumber:e.sequenceNumber,void 0===e.snapshotVersion?this.snapshotVersion:e.snapshotVersion,void 0===e.resumeToken?this.resumeToken:e.resumeToken)},t.prototype.isEqual=function(t){return this.targetId===t.targetId&&this.purpose===t.purpose&&this.sequenceNumber===t.sequenceNumber&&this.snapshotVersion.isEqual(t.snapshotVersion)&&this.resumeToken===t.resumeToken&&this.query.isEqual(t.query)},t}(),Mn=function(){function t(t){this.fields=t}return t.prototype.covers=function(t){for(var e=0,n=this.fields;e<n.length;e++){if(n[e].isPrefixOf(t))return!0}return!1},t.prototype.isEqual=function(t){return W(this.fields,t.fields)},t}(),Ln=function(){function t(t,e){this.field=t,this.transform=e}return t.prototype.isEqual=function(t){return this.field.isEqual(t.field)&&this.transform.isEqual(t.transform)},t}(),jn=function(){function t(t,e){this.version=t,this.transformResults=e}return t}();!function(t){t[t.Set=0]="Set",t[t.Patch=1]="Patch",t[t.Transform=2]="Transform",t[t.Delete=3]="Delete"}(Dn||(Dn={}));var Un,Fn=function(){function t(t,e){this.updateTime=t,this.exists=e,c(void 0===t||void 0===e,'Precondition can specify "exists" or "updateTime" but not both')}return t.exists=function(e){return new t(void 0,e)},t.updateTime=function(e){return new t(e)},Object.defineProperty(t.prototype,"isNone",{get:function(){return void 0===this.updateTime&&void 0===this.exists},enumerable:!0,configurable:!0}),t.prototype.isValidFor=function(t){return void 0!==this.updateTime?t instanceof ze&&t.version.isEqual(this.updateTime):void 0!==this.exists?this.exists===t instanceof ze:(c(this.isNone,"Precondition should be empty"),!0)},t.prototype.isEqual=function(t){return q(this.updateTime,t.updateTime)&&this.exists===t.exists},t.NONE=new t,t}(),Bn=function(){function t(){}return t.prototype.verifyKeyMatches=function(t){null!=t&&c(t.key.isEqual(this.key),"Can only apply a mutation to a document with the same key")},t.getPostMutationVersion=function(t){return t instanceof ze?t.version:xn.MIN},t}(),qn=function(t){function e(e,n,r){var i=t.call(this)||this;return i.key=e,i.value=n,i.precondition=r,i.type=Dn.Set,i}return Te.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){this.verifyKeyMatches(t),c(null==e.transformResults,"Transform results received by SetMutation.");var n=e.version;return new ze(this.key,n,this.value,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=Bn.getPostMutationVersion(t);return new ze(this.key,r,this.value,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.value.isEqual(t.value)&&this.precondition.isEqual(t.precondition)},e}(Bn),Wn=function(t){function e(e,n,r,i){var o=t.call(this)||this;return o.key=e,o.data=n,o.fieldMask=r,o.precondition=i,o.type=Dn.Patch,o}return Te.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),c(null==e.transformResults,"Transform results received by PatchMutation."),!this.precondition.isValidFor(t))return new Ge(this.key,e.version);var n=this.patchDocument(t);return new ze(this.key,e.version,n,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=Bn.getPostMutationVersion(t),i=this.patchDocument(t);return new ze(this.key,r,i,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.fieldMask.isEqual(t.fieldMask)&&this.precondition.isEqual(t.precondition)},e.prototype.patchDocument=function(t){var e;return e=t instanceof ze?t.data:yn.EMPTY,this.patchObject(e)},e.prototype.patchObject=function(t){for(var e=0,n=this.fieldMask.fields;e<n.length;e++){var r=n[e];if(!r.isEmpty()){var i=this.data.field(r);t=void 0!==i?t.set(r,i):t.delete(r)}}return t},e}(Bn),Vn=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.fieldTransforms=n,r.type=Dn.Transform,r.precondition=Fn.exists(!0),r}return Te.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){if(this.verifyKeyMatches(t),c(null!=e.transformResults,"Transform results missing for TransformMutation."),!this.precondition.isValidFor(t))return new Ge(this.key,e.version);var n=this.requireDocument(t),r=this.serverTransformResults(t,e.transformResults),i=e.version,o=this.transformObject(n.data,r);return new ze(this.key,i,o,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){if(this.verifyKeyMatches(t),!this.precondition.isValidFor(t))return t;var r=this.requireDocument(t),i=this.localTransformResults(n,e),o=this.transformObject(r.data,i);return new ze(this.key,r.version,o,{hasLocalMutations:!0})},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&W(this.fieldTransforms,t.fieldTransforms)&&this.precondition.isEqual(t.precondition)},e.prototype.requireDocument=function(t){c(t instanceof ze,"Unknown MaybeDocument type "+t);var e=t;return c(e.key.isEqual(this.key),"Can only transform a document with the same key"),e},e.prototype.serverTransformResults=function(t,e){var n=[];c(this.fieldTransforms.length===e.length,"server transform result count ("+e.length+") should match field transform count ("+this.fieldTransforms.length+")");for(var r=0;r<e.length;r++){var i=this.fieldTransforms[r],o=i.transform,a=null;t instanceof ze&&(a=t.field(i.field)||null),n.push(o.applyToRemoteDocument(a,e[r]))}return n},e.prototype.localTransformResults=function(t,e){for(var n=[],r=0,i=this.fieldTransforms;r<i.length;r++){var o=i[r],a=o.transform,s=null;e instanceof ze&&(s=e.field(o.field)||null),n.push(a.applyToLocalView(s,t))}return n},e.prototype.transformObject=function(t,e){c(e.length===this.fieldTransforms.length,"TransformResults length mismatch.");for(var n=0;n<this.fieldTransforms.length;n++){var r=this.fieldTransforms[n],i=r.field;t=t.set(i,e[n])}return t},e}(Bn),Hn=function(t){function e(e,n){var r=t.call(this)||this;return r.key=e,r.precondition=n,r.type=Dn.Delete,r}return Te.__extends(e,t),e.prototype.applyToRemoteDocument=function(t,e){return this.verifyKeyMatches(t),c(null==e.transformResults,"Transform results received by DeleteMutation."),new Ke(this.key,e.version,{hasCommittedMutations:!0})},e.prototype.applyToLocalView=function(t,e,n){return this.verifyKeyMatches(t),this.precondition.isValidFor(t)?(t&&c(t.key.isEqual(this.key),"Can only apply mutation to document with same key"),new Ke(this.key,xn.forDeletedDoc())):t},e.prototype.isEqual=function(t){return t instanceof e&&this.key.isEqual(t.key)&&this.precondition.isEqual(t.precondition)},e}(Bn),zn=function(){function t(){}return t.prototype.applyToLocalView=function(t,e){return new ln(e,t)},t.prototype.applyToRemoteDocument=function(t,e){return e},t.prototype.isEqual=function(e){return e instanceof t},t.instance=new t,t}(),Kn=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=X(t),n=0,r=this.elements;n<r.length;n++){var i=r[n];!function(t){e.find(function(e){return e.isEqual(t)})||e.push(t)}(i)}return new mn(e)},t.prototype.isEqual=function(e){return e instanceof t&&W(e.elements,this.elements)},t}(),Gn=function(){function t(t){this.elements=t}return t.prototype.applyToLocalView=function(t,e){return this.apply(t)},t.prototype.applyToRemoteDocument=function(t,e){return this.apply(t)},t.prototype.apply=function(t){for(var e=X(t),n=0,r=this.elements;n<r.length;n++){var i=r[n];!function(t){e=e.filter(function(e){return!e.isEqual(t)})}(i)}return new mn(e)},t.prototype.isEqual=function(e){return e instanceof t&&W(e.elements,this.elements)},t}(),Qn=function(){function t(t){this.count=t}return t.prototype.isEqual=function(t){return t&&t.count===this.count},t}();!function(t){t[t.OK=0]="OK",t[t.CANCELLED=1]="CANCELLED",t[t.UNKNOWN=2]="UNKNOWN",t[t.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",t[t.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",t[t.NOT_FOUND=5]="NOT_FOUND",t[t.ALREADY_EXISTS=6]="ALREADY_EXISTS",t[t.PERMISSION_DENIED=7]="PERMISSION_DENIED",t[t.UNAUTHENTICATED=16]="UNAUTHENTICATED",t[t.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",t[t.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",t[t.ABORTED=10]="ABORTED",t[t.OUT_OF_RANGE=11]="OUT_OF_RANGE",t[t.UNIMPLEMENTED=12]="UNIMPLEMENTED",t[t.INTERNAL=13]="INTERNAL",t[t.UNAVAILABLE=14]="UNAVAILABLE",t[t.DATA_LOSS=15]="DATA_LOSS"}(Un||(Un={}));var Yn,Xn=function(){function t(t){this.comparator=t,this.data=new Qe(this.comparator)}return t.fromMapKeys=function(e){var n=new t(e.comparator);return e.forEach(function(t){n=n.add(t)}),n},t.prototype.has=function(t){return null!==this.data.get(t)},t.prototype.first=function(){return this.data.minKey()},t.prototype.last=function(){return this.data.maxKey()},Object.defineProperty(t.prototype,"size",{get:function(){return this.data.size},enumerable:!0,configurable:!0}),t.prototype.indexOf=function(t){return this.data.indexOf(t)},t.prototype.forEach=function(t){this.data.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.forEachInRange=function(t,e){for(var n=this.data.getIteratorFrom(t[0]);n.hasNext();){var r=n.getNext();if(this.comparator(r.key,t[1])>=0)return;e(r.key)}},t.prototype.forEachWhile=function(t,e){var n;for(n=void 0!==e?this.data.getIteratorFrom(e):this.data.getIterator();n.hasNext();){if(!t(n.getNext().key))return}},t.prototype.firstAfterOrEqual=function(t){var e=this.data.getIteratorFrom(t);return e.hasNext()?e.getNext().key:null},t.prototype.add=function(t){return this.copy(this.data.remove(t).insert(t,!0))},t.prototype.delete=function(t){return this.has(t)?this.copy(this.data.remove(t)):this},t.prototype.isEmpty=function(){return this.data.isEmpty()},t.prototype.unionWith=function(t){var e=this;return t.forEach(function(t){e=e.add(t)}),e},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.data.getIterator(),r=e.data.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0},t.prototype.toArray=function(){var t=[];return this.forEach(function(e){t.push(e)}),t},t.prototype.toString=function(){var t=[];return this.forEach(function(e){return t.push(e)}),"SortedSet("+t.toString()+")"},t.prototype.copy=function(e){var n=new t(this.comparator);return n.data=e,n},t}(),$n=new Qe(Ve.comparator),Jn=new Qe(Ve.comparator),Zn=new Qe(Ve.comparator),tr=new Xn(Ve.comparator),er=new Xn(B),nr=function(){function t(t){this.comparator=t?function(e,n){return t(e,n)||Ve.comparator(e.key,n.key)}:function(t,e){return Ve.comparator(t.key,e.key)},this.keyedMap=rt(),this.sortedSet=new Qe(this.comparator)}return t.emptySet=function(e){return new t(e.comparator)},t.prototype.has=function(t){return null!=this.keyedMap.get(t)},t.prototype.get=function(t){return this.keyedMap.get(t)},t.prototype.first=function(){return this.sortedSet.minKey()},t.prototype.last=function(){return this.sortedSet.maxKey()},t.prototype.isEmpty=function(){return this.sortedSet.isEmpty()},t.prototype.indexOf=function(t){var e=this.keyedMap.get(t);return e?this.sortedSet.indexOf(e):-1},Object.defineProperty(t.prototype,"size",{get:function(){return this.sortedSet.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t){this.sortedSet.inorderTraversal(function(e,n){return t(e),!1})},t.prototype.add=function(t){var e=this.delete(t.key);return e.copy(e.keyedMap.insert(t.key,t),e.sortedSet.insert(t,null))},t.prototype.delete=function(t){var e=this.get(t);return e?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(e)):this},t.prototype.isEqual=function(e){if(!(e instanceof t))return!1;if(this.size!==e.size)return!1;for(var n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();n.hasNext();){var i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0},t.prototype.toString=function(){var t=[];return this.forEach(function(e){t.push(e.toString())}),0===t.length?"DocumentSet ()":"DocumentSet (\n  "+t.join("  \n")+"\n)"},t.prototype.copy=function(e,n){var r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r},t}();!function(t){t[t.Added=0]="Added",t[t.Removed=1]="Removed",t[t.Modified=2]="Modified",t[t.Metadata=3]="Metadata"}(Yn||(Yn={}));var rr;!function(t){t[t.Local=0]="Local",t[t.Synced=1]="Synced"}(rr||(rr={}));var ir,or=function(){function t(){this.changeMap=new Qe(Ve.comparator)}return t.prototype.track=function(t){var e=t.doc.key,n=this.changeMap.get(e);if(!n)return void(this.changeMap=this.changeMap.insert(e,t));t.type!==Yn.Added&&n.type===Yn.Metadata?this.changeMap=this.changeMap.insert(e,t):t.type===Yn.Metadata&&n.type!==Yn.Removed?this.changeMap=this.changeMap.insert(e,{type:n.type,doc:t.doc}):t.type===Yn.Modified&&n.type===Yn.Modified?this.changeMap=this.changeMap.insert(e,{type:Yn.Modified,doc:t.doc}):t.type===Yn.Modified&&n.type===Yn.Added?this.changeMap=this.changeMap.insert(e,{type:Yn.Added,doc:t.doc}):t.type===Yn.Removed&&n.type===Yn.Added?this.changeMap=this.changeMap.remove(e):t.type===Yn.Removed&&n.type===Yn.Modified?this.changeMap=this.changeMap.insert(e,{type:Yn.Removed,doc:n.doc}):t.type===Yn.Added&&n.type===Yn.Removed?this.changeMap=this.changeMap.insert(e,{type:Yn.Modified,doc:t.doc}):u("unsupported combination of changes: "+JSON.stringify(t)+" after "+JSON.stringify(n))},t.prototype.getChanges=function(){var t=[];return this.changeMap.inorderTraversal(function(e,n){t.push(n)}),t},t}(),ar=function(){function t(t,e,n,r,i,o,a,s){this.query=t,this.docs=e,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=s}return t.fromInitialDocuments=function(e,n,r,i){var o=[];return n.forEach(function(t){o.push({type:Yn.Added,doc:t})}),new t(e,n,nr.emptySet(n),o,r,i,!0,!1)},Object.defineProperty(t.prototype,"hasPendingWrites",{get:function(){return!this.mutatedKeys.isEmpty()},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(t){if(this.fromCache!==t.fromCache||this.syncStateChanged!==t.syncStateChanged||!this.mutatedKeys.isEqual(t.mutatedKeys)||!this.query.isEqual(t.query)||!this.docs.isEqual(t.docs)||!this.oldDocs.isEqual(t.oldDocs))return!1;var e=this.docChanges,n=t.docChanges;if(e.length!==n.length)return!1;for(var r=0;r<e.length;r++)if(e[r].type!==n[r].type||!e[r].doc.isEqual(n[r].doc))return!1;return!0},t}(),sr=function(){function t(t,e,n,r,i){this.snapshotVersion=t,this.targetChanges=e,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}return t.createSynthesizedRemoteEventForCurrentChange=function(e,n){var r=(i={},i[e]=ur.createSynthesizedTargetChangeForCurrentChange(e,n),i);return new t(xn.MIN,r,at(),nt(),ot());var i},t}(),ur=function(){function t(t,e,n,r,i){this.resumeToken=t,this.current=e,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}return t.createSynthesizedTargetChangeForCurrentChange=function(e,n){return new t(f(),n,ot(),ot(),ot())},t}(),cr=function(){function t(t,e,n,r){this.updatedTargetIds=t,this.removedTargetIds=e,this.key=n,this.newDoc=r}return t}(),fr=function(){function t(t,e){this.targetId=t,this.existenceFilter=e}return t}();!function(t){t[t.NoChange=0]="NoChange",t[t.Added=1]="Added",t[t.Removed=2]="Removed",t[t.Current=3]="Current",t[t.Reset=4]="Reset"}(ir||(ir={}));var lr=function(){function t(t,e,n,r){void 0===n&&(n=f()),void 0===r&&(r=null),this.state=t,this.targetIds=e,this.resumeToken=n,this.cause=r}return t}(),hr=function(){function t(){this.pendingResponses=0,this.documentChanges=ut(),this._resumeToken=f(),this._current=!1,this._hasPendingChanges=!0}return Object.defineProperty(t.prototype,"current",{get:function(){return this._current},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"resumeToken",{get:function(){return this._resumeToken},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"isPending",{get:function(){return 0!==this.pendingResponses},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"hasPendingChanges",{get:function(){return this._hasPendingChanges},enumerable:!0,configurable:!0}),t.prototype.updateResumeToken=function(t){t.length>0&&(this._hasPendingChanges=!0,this._resumeToken=t)},t.prototype.toTargetChange=function(){var t=ot(),e=ot(),n=ot();return this.documentChanges.forEach(function(r,i){switch(i){case Yn.Added:t=t.add(r);break;case Yn.Modified:e=e.add(r);break;case Yn.Removed:n=n.add(r);break;default:u("Encountered invalid change type: "+i)}}),new ur(this._resumeToken,this._current,t,e,n)},t.prototype.clearPendingChanges=function(){this._hasPendingChanges=!1,this.documentChanges=ut()},t.prototype.addDocumentChange=function(t,e){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.insert(t,e)},t.prototype.removeDocumentChange=function(t){this._hasPendingChanges=!0,this.documentChanges=this.documentChanges.remove(t)},t.prototype.recordPendingTargetRequest=function(){this.pendingResponses+=1},t.prototype.recordTargetResponse=function(){this.pendingResponses-=1},t.prototype.markCurrent=function(){this._hasPendingChanges=!0,this._current=!0},t}(),dr=function(){function t(t){this.metadataProvider=t,this.targetStates={},this.pendingDocumentUpdates=nt(),this.pendingDocumentTargetMapping=st(),this.pendingTargetResets=new Xn(B)}return t.prototype.handleDocumentChange=function(t){for(var e=0,n=t.updatedTargetIds;e<n.length;e++){var r=n[e];t.newDoc instanceof ze?this.addDocumentToTarget(r,t.newDoc):t.newDoc instanceof Ke&&this.removeDocumentFromTarget(r,t.key,t.newDoc)}for(var i=0,o=t.removedTargetIds;i<o.length;i++){var r=o[i];this.removeDocumentFromTarget(r,t.key,t.newDoc)}},t.prototype.handleTargetChange=function(t){var e=this;this.forEachTarget(t,function(n){var r=e.ensureTargetState(n);switch(t.state){case ir.NoChange:e.isActiveTarget(n)&&r.updateResumeToken(t.resumeToken);break;case ir.Added:r.recordTargetResponse(),r.isPending||r.clearPendingChanges(),r.updateResumeToken(t.resumeToken);break;case ir.Removed:r.recordTargetResponse(),r.isPending||e.removeTarget(n),c(!t.cause,"WatchChangeAggregator does not handle errored targets");break;case ir.Current:e.isActiveTarget(n)&&(r.markCurrent(),r.updateResumeToken(t.resumeToken));break;case ir.Reset:e.isActiveTarget(n)&&(e.resetTarget(n),r.updateResumeToken(t.resumeToken));break;default:u("Unknown target watch change state: "+t.state)}})},t.prototype.forEachTarget=function(t,e){t.targetIds.length>0?t.targetIds.forEach(e):p(this.targetStates,e)},t.prototype.handleExistenceFilter=function(t){var e=t.targetId,n=t.existenceFilter.count,r=this.queryDataForActiveTarget(e);if(r){var i=r.query;if(i.isDocumentQuery())if(0===n){var o=new Ve(i.path);this.removeDocumentFromTarget(e,o,new Ke(o,xn.forDeletedDoc()))}else c(1===n,"Single document existence filter with count: "+n);else{this.getCurrentDocumentCountForTarget(e)!==n&&(this.resetTarget(e),this.pendingTargetResets=this.pendingTargetResets.add(e))}}},t.prototype.createRemoteEvent=function(t){var e=this,n={};p(this.targetStates,function(r,i){var o=e.queryDataForActiveTarget(r);if(o){if(i.current&&o.query.isDocumentQuery()){var a=new Ve(o.query.path);null!==e.pendingDocumentUpdates.get(a)||e.targetContainsDocument(r,a)||e.removeDocumentFromTarget(r,a,new Ke(a,t))}i.hasPendingChanges&&(n[r]=i.toTargetChange(),i.clearPendingChanges())}});var r=ot();this.pendingDocumentTargetMapping.forEach(function(t,n){var i=!0;n.forEachWhile(function(t){var n=e.queryDataForActiveTarget(t);return!n||n.purpose===tn.LimboResolution||(i=!1,!1)}),i&&(r=r.add(t))});var i=new sr(t,n,this.pendingTargetResets,this.pendingDocumentUpdates,r);return this.pendingDocumentUpdates=nt(),this.pendingDocumentTargetMapping=st(),this.pendingTargetResets=new Xn(B),i},t.prototype.addDocumentToTarget=function(t,e){if(this.isActiveTarget(t)){var n=this.targetContainsDocument(t,e.key)?Yn.Modified:Yn.Added;this.ensureTargetState(t).addDocumentChange(e.key,n),this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e.key,e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e.key,this.ensureDocumentTargetMapping(e.key).add(t))}},t.prototype.removeDocumentFromTarget=function(t,e,n){if(this.isActiveTarget(t)){var r=this.ensureTargetState(t);this.targetContainsDocument(t,e)?r.addDocumentChange(e,Yn.Removed):r.removeDocumentChange(e),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(e,this.ensureDocumentTargetMapping(e).delete(t)),n&&(this.pendingDocumentUpdates=this.pendingDocumentUpdates.insert(e,n))}},t.prototype.removeTarget=function(t){delete this.targetStates[t]},t.prototype.getCurrentDocumentCountForTarget=function(t){var e=this.ensureTargetState(t),n=e.toTargetChange();return this.metadataProvider.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size},t.prototype.recordPendingTargetRequest=function(t){this.ensureTargetState(t).recordPendingTargetRequest()},t.prototype.ensureTargetState=function(t){return this.targetStates[t]||(this.targetStates[t]=new hr),this.targetStates[t]},t.prototype.ensureDocumentTargetMapping=function(t){var e=this.pendingDocumentTargetMapping.get(t);return e||(e=new Xn(B),this.pendingDocumentTargetMapping=this.pendingDocumentTargetMapping.insert(t,e)),e},t.prototype.isActiveTarget=function(t){return null!==this.queryDataForActiveTarget(t)},t.prototype.queryDataForActiveTarget=function(t){var e=this.targetStates[t];return e&&e.isPending?null:this.metadataProvider.getQueryDataForTarget(t)},t.prototype.resetTarget=function(t){var e=this;c(!this.targetStates[t].isPending,"Should only reset active targets"),this.targetStates[t]=new hr,this.metadataProvider.getRemoteKeysForTarget(t).forEach(function(n){e.removeDocumentFromTarget(t,n,null)})},t.prototype.targetContainsDocument=function(t,e){return this.metadataProvider.getRemoteKeysForTarget(t).has(e)},t}(),pr=function(){var t={};return t[An.ASCENDING.name]="ASCENDING",t[An.DESCENDING.name]="DESCENDING",t}(),yr=function(){var t={};return t[Sn.LESS_THAN.name]="LESS_THAN",t[Sn.LESS_THAN_OR_EQUAL.name]="LESS_THAN_OR_EQUAL",t[Sn.GREATER_THAN.name]="GREATER_THAN",t[Sn.GREATER_THAN_OR_EQUAL.name]="GREATER_THAN_OR_EQUAL",t[Sn.EQUAL.name]="EQUAL",t[Sn.ARRAY_CONTAINS.name]="ARRAY_CONTAINS",t}(),mr=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/),vr=function(){function t(t,e){this.databaseId=t,this.options=e}return t.prototype.emptyByteString=function(){return this.options.useProto3Json?"":new Uint8Array(0)},t.prototype.unsafeCastProtoByteString=function(t){return t},t.prototype.fromRpcStatus=function(t){var e=void 0===t.code?ke.UNKNOWN:Z(t.code);return new Re(e,t.message||"")},t.prototype.toInt32Value=function(t){return Q(t)?void 0:{value:t}},t.prototype.fromInt32Value=function(t){var e;return e="object"===typeof t?t.value:t,Q(e)?null:e},t.prototype.toTimestamp=function(t){return{seconds:t.seconds,nanos:t.nanoseconds}},t.prototype.fromTimestamp=function(t){if("string"===typeof t)return this.fromIso8601String(t);c(!!t,"Cannot deserialize null or undefined timestamp.");var e=ft(t.seconds||"0"),n=t.nanos||0;return new Me(e,n)},t.prototype.fromIso8601String=function(t){var e=0,n=mr.exec(t);if(c(!!n,"invalid timestamp: "+t),n[1]){var r=n[1];r=(r+"000000000").substr(0,9),e=Number(r)}var i=new Date(t),o=Math.floor(i.getTime()/1e3);return new Me(o,e)},t.prototype.toBytes=function(t){return this.options.useProto3Json?t.toBase64():this.unsafeCastProtoByteString(t.toUint8Array())},t.prototype.fromBlob=function(t){return"string"===typeof t?(c(this.options.useProto3Json,"Expected bytes to be passed in as Uint8Array, but got a string instead."),xe.fromBase64String(t)):(c(!this.options.useProto3Json,"Expected bytes to be passed in as string, but got something else instead."),xe.fromUint8Array(t))},t.prototype.toVersion=function(t){return this.toTimestamp(t.toTimestamp())},t.prototype.fromVersion=function(t){return c(!!t,"Trying to deserialize version that isn't set"),xn.fromTimestamp(this.fromTimestamp(t))},t.prototype.toResourceName=function(t,e){return this.fullyQualifiedPrefixPath(t).child("documents").child(e).canonicalString()},t.prototype.fromResourceName=function(t){var e=Be.fromString(t);return c(this.isValidResourceName(e),"Tried to deserialize invalid key "+e.toString()),e},t.prototype.toName=function(t){return this.toResourceName(this.databaseId,t.path)},t.prototype.fromName=function(t){var e=this.fromResourceName(t);return c(e.get(1)===this.databaseId.projectId,"Tried to deserialize key from different project: "+e.get(1)+" vs "+this.databaseId.projectId),c(!e.get(3)&&!this.databaseId.database||e.get(3)===this.databaseId.database,"Tried to deserialize key from different database: "+e.get(3)+" vs "+this.databaseId.database),new Ve(this.extractLocalPathFromResourceName(e))},t.prototype.toQueryPath=function(t){return 0===t.length?this.encodedDatabaseId:this.toResourceName(this.databaseId,t)},t.prototype.fromQueryPath=function(t){var e=this.fromResourceName(t);return 4===e.length?Be.EMPTY_PATH:this.extractLocalPathFromResourceName(e)},Object.defineProperty(t.prototype,"encodedDatabaseId",{get:function(){return new Be(["projects",this.databaseId.projectId,"databases",this.databaseId.database]).canonicalString()},enumerable:!0,configurable:!0}),t.prototype.fullyQualifiedPrefixPath=function(t){return new Be(["projects",t.projectId,"databases",t.database])},t.prototype.extractLocalPathFromResourceName=function(t){return c(t.length>4&&"documents"===t.get(4),"tried to deserialize invalid key "+t.toString()),t.popFirst(5)},t.prototype.isValidResourceName=function(t){return t.length>=4&&"projects"===t.get(0)&&"databases"===t.get(2)},t.prototype.toValue=function(t){if(t instanceof rn)return{nullValue:"NULL_VALUE"};if(t instanceof on)return{booleanValue:t.value()};if(t instanceof sn)return{integerValue:""+t.value()};if(t instanceof un){var e=t.value();if(this.options.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:t.value()}}return t instanceof cn?{stringValue:t.value()}:t instanceof yn?{mapValue:this.toMapValue(t)}:t instanceof mn?{arrayValue:this.toArrayValue(t)}:t instanceof fn?{timestampValue:this.toTimestamp(t.internalValue)}:t instanceof pn?{geoPointValue:{latitude:t.value().latitude,longitude:t.value().longitude}}:t instanceof hn?{bytesValue:this.toBytes(t.value())}:t instanceof dn?{referenceValue:this.toResourceName(t.databaseId,t.key.path)}:u("Unknown FieldValue "+JSON.stringify(t))},t.prototype.fromValue=function(t){var e=this,n=t.value_type;if(lt(t,n,"nullValue"))return rn.INSTANCE;if(lt(t,n,"booleanValue"))return on.of(t.booleanValue);if(lt(t,n,"integerValue"))return new sn(ft(t.integerValue));if(lt(t,n,"doubleValue")){if(this.options.useProto3Json){if("NaN"===t.doubleValue)return un.NAN;if("Infinity"===t.doubleValue)return un.POSITIVE_INFINITY;if("-Infinity"===t.doubleValue)return un.NEGATIVE_INFINITY}return new un(t.doubleValue)}if(lt(t,n,"stringValue"))return new cn(t.stringValue);if(lt(t,n,"mapValue"))return this.fromFields(t.mapValue.fields||{});if(lt(t,n,"arrayValue")){ct(t.arrayValue,"arrayValue");var r=t.arrayValue.values||[];return new mn(r.map(function(t){return e.fromValue(t)}))}if(lt(t,n,"timestampValue"))return ct(t.timestampValue,"timestampValue"),new fn(this.fromTimestamp(t.timestampValue));if(lt(t,n,"geoPointValue")){ct(t.geoPointValue,"geoPointValue");var i=t.geoPointValue.latitude||0,o=t.geoPointValue.longitude||0;return new pn(new Ne(i,o))}if(lt(t,n,"bytesValue")){ct(t.bytesValue,"bytesValue");var a=this.fromBlob(t.bytesValue);return new hn(a)}if(lt(t,n,"referenceValue")){ct(t.referenceValue,"referenceValue");var s=this.fromResourceName(t.referenceValue),c=new Ue(s.get(1),s.get(3)),f=new Ve(this.extractLocalPathFromResourceName(s));return new dn(c,f)}return u("Unknown Value proto "+JSON.stringify(t))},t.prototype.toMutationDocument=function(t,e){return{name:this.toName(t),fields:this.toFields(e)}},t.prototype.toDocument=function(t){return c(!t.hasLocalMutations,"Can't serialize documents with mutations."),{name:this.toName(t.key),fields:this.toFields(t.data),updateTime:this.toTimestamp(t.version.toTimestamp())}},t.prototype.fromDocument=function(t,e){return new ze(this.fromName(t.name),this.fromVersion(t.updateTime),this.fromFields(t.fields||{}),{hasCommittedMutations:!!e})},t.prototype.toFields=function(t){var e=this,n={};return t.forEach(function(t,r){n[t]=e.toValue(r)}),n},t.prototype.fromFields=function(t){var e=this,n=t,r=yn.EMPTY;return m(n,function(t,n){r=r.set(new We([t]),e.fromValue(n))}),r},t.prototype.toMapValue=function(t){return{fields:this.toFields(t)}},t.prototype.toArrayValue=function(t){var e=this,n=[];return t.forEach(function(t){n.push(e.toValue(t))}),{values:n}},t.prototype.fromFound=function(t){c(!!t.found,"Tried to deserialize a found document from a missing document."),ct(t.found.name,"doc.found.name"),ct(t.found.updateTime,"doc.found.updateTime");var e=this.fromName(t.found.name),n=this.fromVersion(t.found.updateTime),r=this.fromFields(t.found.fields||{});return new ze(e,n,r,{})},t.prototype.fromMissing=function(t){c(!!t.missing,"Tried to deserialize a missing document from a found document."),c(!!t.readTime,"Tried to deserialize a missing document without a read time.");var e=this.fromName(t.missing),n=this.fromVersion(t.readTime);return new Ke(e,n)},t.prototype.fromMaybeDocument=function(t){var e=t.result;return lt(t,e,"found")?this.fromFound(t):lt(t,e,"missing")?this.fromMissing(t):u("invalid batch get response: "+JSON.stringify(t))},t.prototype.toWatchTargetChangeState=function(t){switch(t){case ir.Added:return"ADD";case ir.Current:return"CURRENT";case ir.NoChange:return"NO_CHANGE";case ir.Removed:return"REMOVE";case ir.Reset:return"RESET";default:return u("Unknown WatchTargetChangeState: "+t)}},t.prototype.toTestWatchChange=function(t){if(t instanceof fr)return{filter:{count:t.existenceFilter.count,targetId:t.targetId}};if(t instanceof cr){if(t.newDoc instanceof ze){var e=t.newDoc;return{documentChange:{document:{name:this.toName(e.key),fields:this.toFields(e.data),updateTime:this.toVersion(e.version)},targetIds:t.updatedTargetIds,removedTargetIds:t.removedTargetIds}}}if(t.newDoc instanceof Ke){var e=t.newDoc;return{documentDelete:{document:this.toName(e.key),readTime:this.toVersion(e.version),removedTargetIds:t.removedTargetIds}}}if(null===t.newDoc)return{documentRemove:{document:this.toName(t.key),removedTargetIds:t.removedTargetIds}}}if(t instanceof lr){var n=void 0;return t.cause&&(n={code:tt(t.cause.code),message:t.cause.message}),{targetChange:{targetChangeType:this.toWatchTargetChangeState(t.state),targetIds:t.targetIds,resumeToken:this.unsafeCastProtoByteString(t.resumeToken),cause:n}}}return u("Unrecognized watch change: "+JSON.stringify(t))},t.prototype.fromWatchChange=function(t){var e,n=t.response_type;if(lt(t,n,"targetChange")){ct(t.targetChange,"targetChange");var r=this.fromWatchTargetChangeState(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],o=t.targetChange.resumeToken||this.emptyByteString(),a=t.targetChange.cause,s=a&&this.fromRpcStatus(a);e=new lr(r,i,o,s||null)}else if(lt(t,n,"documentChange")){ct(t.documentChange,"documentChange"),ct(t.documentChange.document,"documentChange.name"),ct(t.documentChange.document.name,"documentChange.document.name"),ct(t.documentChange.document.updateTime,"documentChange.document.updateTime");var c=t.documentChange,f=this.fromName(c.document.name),l=this.fromVersion(c.document.updateTime),h=this.fromFields(c.document.fields||{}),d=new ze(f,l,h,{}),p=c.targetIds||[],y=c.removedTargetIds||[];e=new cr(p,y,d.key,d)}else if(lt(t,n,"documentDelete")){ct(t.documentDelete,"documentDelete"),ct(t.documentDelete.document,"documentDelete.document");var m=t.documentDelete,f=this.fromName(m.document),l=m.readTime?this.fromVersion(m.readTime):xn.forDeletedDoc(),d=new Ke(f,l),y=m.removedTargetIds||[];e=new cr([],y,d.key,d)}else if(lt(t,n,"documentRemove")){ct(t.documentRemove,"documentRemove"),ct(t.documentRemove.document,"documentRemove");var v=t.documentRemove,f=this.fromName(v.document),y=v.removedTargetIds||[];e=new cr([],y,f,null)}else{if(!lt(t,n,"filter"))return u("Unknown change type "+JSON.stringify(t));ct(t.filter,"filter"),ct(t.filter.targetId,"filter.targetId");var g=t.filter,b=g.count||0,_=new Qn(b),w=g.targetId;e=new fr(w,_)}return e},t.prototype.fromWatchTargetChangeState=function(t){return"NO_CHANGE"===t?ir.NoChange:"ADD"===t?ir.Added:"REMOVE"===t?ir.Removed:"CURRENT"===t?ir.Current:"RESET"===t?ir.Reset:u("Got unexpected TargetChange.state: "+t)},t.prototype.versionFromListenResponse=function(t){if(!lt(t,t.response_type,"targetChange"))return xn.MIN;var e=t.targetChange;return e.targetIds&&e.targetIds.length?xn.MIN:e.readTime?this.fromVersion(e.readTime):xn.MIN},t.prototype.toMutation=function(t){var e,n=this;if(t instanceof qn)e={update:this.toMutationDocument(t.key,t.value)};else if(t instanceof Hn)e={delete:this.toName(t.key)};else if(t instanceof Wn)e={update:this.toMutationDocument(t.key,t.data),updateMask:this.toDocumentMask(t.fieldMask)};else{if(!(t instanceof Vn))return u("Unknown mutation type "+t.type);e={transform:{document:this.toName(t.key),fieldTransforms:t.fieldTransforms.map(function(t){return n.toFieldTransform(t)})}}}return t.precondition.isNone||(e.currentDocument=this.toPrecondition(t.precondition)),e},t.prototype.fromMutation=function(t){var e=this,n=t.currentDocument?this.fromPrecondition(t.currentDocument):Fn.NONE;if(t.update){ct(t.update.name,"name");var r=this.fromName(t.update.name),i=this.fromFields(t.update.fields||{});if(t.updateMask){var o=this.fromDocumentMask(t.updateMask);return new Wn(r,i,o,n)}return new qn(r,i,n)}if(t.delete){var r=this.fromName(t.delete);return new Hn(r,n)}if(t.transform){var r=this.fromName(t.transform.document),a=t.transform.fieldTransforms.map(function(t){return e.fromFieldTransform(t)});return c(!0===n.exists,'Transforms only support precondition "exists == true"'),new Vn(r,a)}return u("unknown mutation proto: "+JSON.stringify(t))},t.prototype.toPrecondition=function(t){return c(!t.isNone,"Can't serialize an empty precondition"),void 0!==t.updateTime?{updateTime:this.toVersion(t.updateTime)}:void 0!==t.exists?{exists:t.exists}:u("Unknown precondition")},t.prototype.fromPrecondition=function(t){return void 0!==t.updateTime?Fn.updateTime(this.fromVersion(t.updateTime)):void 0!==t.exists?Fn.exists(t.exists):Fn.NONE},t.prototype.fromWriteResult=function(t,e){var n=this,r=t.updateTime?this.fromVersion(t.updateTime):this.fromVersion(e),i=null;return t.transformResults&&t.transformResults.length>0&&(i=t.transformResults.map(function(t){return n.fromValue(t)})),new jn(r,i)},t.prototype.fromWriteResults=function(t,e){var n=this;return t&&t.length>0?(c(void 0!==e,"Received a write result without a commit time"),t.map(function(t){return n.fromWriteResult(t,e)})):[]},t.prototype.toFieldTransform=function(t){var e=this,n=t.transform;if(n instanceof zn)return{fieldPath:t.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(n instanceof Kn)return{fieldPath:t.field.canonicalString(),appendMissingElements:{values:n.elements.map(function(t){return e.toValue(t)})}};if(n instanceof Gn)return{fieldPath:t.field.canonicalString(),removeAllFromArray:{values:n.elements.map(function(t){return e.toValue(t)})}};throw u("Unknown transform: "+t.transform)},t.prototype.fromFieldTransform=function(t){var e=this,n=t.transform_type,r=null;if(lt(t,n,"setToServerValue"))c("REQUEST_TIME"===t.setToServerValue,"Unknown server value transform proto: "+JSON.stringify(t)),r=zn.instance;else if(lt(t,n,"appendMissingElements")){var i=t.appendMissingElements.values||[];r=new Kn(i.map(function(t){return e.fromValue(t)}))}else if(lt(t,n,"removeAllFromArray")){var i=t.removeAllFromArray.values||[];r=new Gn(i.map(function(t){return e.fromValue(t)}))}else u("Unknown transform proto: "+JSON.stringify(t));var o=We.fromServerFormat(t.fieldPath);return new Ln(o,r)},t.prototype.toDocumentsTarget=function(t){return{documents:[this.toQueryPath(t.path)]}},t.prototype.fromDocumentsTarget=function(t){var e=t.documents.length;c(1===e,"DocumentsTarget contained other than 1 document: "+e);var n=t.documents[0];return wn.atPath(this.fromQueryPath(n))},t.prototype.toQueryTarget=function(t){var e={structuredQuery:{}};if(t.path.isEmpty())e.parent=this.toQueryPath(Be.EMPTY_PATH);else{var n=t.path;c(n.length%2!==0,"Document queries with filters are not supported."),e.parent=this.toQueryPath(n.popLast()),e.structuredQuery.from=[{collectionId:n.lastSegment()}]}var r=this.toFilter(t.filters);r&&(e.structuredQuery.where=r);var i=this.toOrder(t.orderBy);i&&(e.structuredQuery.orderBy=i);var o=this.toInt32Value(t.limit);return void 0!==o&&(e.structuredQuery.limit=o),t.startAt&&(e.structuredQuery.startAt=this.toCursor(t.startAt)),t.endAt&&(e.structuredQuery.endAt=this.toCursor(t.endAt)),e},t.prototype.fromQueryTarget=function(t){var e=this.fromQueryPath(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0;if(r>0){c(1===r,"StructuredQuery.from with more than one collection is not supported.");var i=n.from[0];e=e.child(i.collectionId)}var o=[];n.where&&(o=this.fromFilter(n.where));var a=[];n.orderBy&&(a=this.fromOrder(n.orderBy));var s=null;n.limit&&(s=this.fromInt32Value(n.limit));var u=null;n.startAt&&(u=this.fromCursor(n.startAt));var f=null;return n.endAt&&(f=this.fromCursor(n.endAt)),new wn(e,a,o,s,u,f)},t.prototype.toListenRequestLabels=function(t){var e=this.toLabel(t.purpose);return null==e?null:{"goog-listen-tags":e}},t.prototype.toLabel=function(t){switch(t){case tn.Listen:return null;case tn.ExistenceFilterMismatch:return"existence-filter-mismatch";case tn.LimboResolution:return"limbo-document";default:return u("Unrecognized query purpose: "+t)}},t.prototype.toTarget=function(t){var e,n=t.query;return e=n.isDocumentQuery()?{documents:this.toDocumentsTarget(n)}:{query:this.toQueryTarget(n)},e.targetId=t.targetId,t.resumeToken.length>0&&(e.resumeToken=this.unsafeCastProtoByteString(t.resumeToken)),e},t.prototype.toFilter=function(t){var e=this;if(0!==t.length){var n=t.map(function(t){return t instanceof Tn?e.toRelationFilter(t):e.toUnaryFilter(t)});return 1===n.length?n[0]:{compositeFilter:{op:"AND",filters:n}}}},t.prototype.fromFilter=function(t){var e=this;return t?void 0!==t.unaryFilter?[this.fromUnaryFilter(t)]:void 0!==t.fieldFilter?[this.fromRelationFilter(t)]:void 0!==t.compositeFilter?t.compositeFilter.filters.map(function(t){return e.fromFilter(t)}).reduce(function(t,e){return t.concat(e)}):u("Unknown filter: "+JSON.stringify(t)):[]},t.prototype.toOrder=function(t){var e=this;if(0!==t.length)return t.map(function(t){return e.toPropertyOrder(t)})},t.prototype.fromOrder=function(t){var e=this;return t.map(function(t){return e.fromPropertyOrder(t)})},t.prototype.toCursor=function(t){var e=this;return{before:t.before,values:t.position.map(function(t){return e.toValue(t)})}},t.prototype.fromCursor=function(t){var e=this,n=!!t.before,r=t.values.map(function(t){return e.fromValue(t)});return new On(r,n)},t.prototype.toDirection=function(t){return pr[t.name]},t.prototype.fromDirection=function(t){switch(t){case"ASCENDING":return An.ASCENDING;case"DESCENDING":return An.DESCENDING;default:return}},t.prototype.toOperatorName=function(t){return yr[t.name]},t.prototype.fromOperatorName=function(t){switch(t){case"EQUAL":return Sn.EQUAL;case"GREATER_THAN":return Sn.GREATER_THAN;case"GREATER_THAN_OR_EQUAL":return Sn.GREATER_THAN_OR_EQUAL;case"LESS_THAN":return Sn.LESS_THAN;case"LESS_THAN_OR_EQUAL":return Sn.LESS_THAN_OR_EQUAL;case"ARRAY_CONTAINS":return Sn.ARRAY_CONTAINS;case"OPERATOR_UNSPECIFIED":return u("Unspecified relation");default:return u("Unknown relation")}},t.prototype.toFieldPathReference=function(t){return{fieldPath:t.canonicalString()}},t.prototype.fromFieldPathReference=function(t){return We.fromServerFormat(t.fieldPath)},t.prototype.toPropertyOrder=function(t){return{field:this.toFieldPathReference(t.field),direction:this.toDirection(t.dir)}},t.prototype.fromPropertyOrder=function(t){return new kn(this.fromFieldPathReference(t.field),this.fromDirection(t.direction))},t.prototype.toRelationFilter=function(t){return t instanceof Tn?{fieldFilter:{field:this.toFieldPathReference(t.field),op:this.toOperatorName(t.op),value:this.toValue(t.value)}}:u("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromRelationFilter=function(t){return new Tn(this.fromFieldPathReference(t.fieldFilter.field),this.fromOperatorName(t.fieldFilter.op),this.fromValue(t.fieldFilter.value))},t.prototype.toUnaryFilter=function(t){return t instanceof In?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NAN"}}:t instanceof Cn?{unaryFilter:{field:this.toFieldPathReference(t.field),op:"IS_NULL"}}:u("Unrecognized filter: "+JSON.stringify(t))},t.prototype.fromUnaryFilter=function(t){switch(t.unaryFilter.op){case"IS_NAN":var e=this.fromFieldPathReference(t.unaryFilter.field);return new In(e);case"IS_NULL":var n=this.fromFieldPathReference(t.unaryFilter.field);return new Cn(n);case"OPERATOR_UNSPECIFIED":return u("Unspecified filter");default:return u("Unknown filter")}},t.prototype.toDocumentMask=function(t){return{fieldPaths:t.fields.map(function(t){return t.canonicalString()})}},t.prototype.fromDocumentMask=function(t){var e=t.fieldPaths||[],n=e.map(function(t){return We.fromServerFormat(t)});return new Mn(n)},t}(),gr=function(){return"object"===typeof navigator&&"ReactNative"===navigator.product},br="FirebaseError",_r=Error.captureStackTrace,wr=function(){function t(t,e){if(this.code=t,this.message=e,_r)_r(this,Er.prototype.create);else try{throw Error.apply(this,arguments)}catch(t){this.name=br,Object.defineProperty(this,"stack",{get:function(){return t.stack}})}}return t}();wr.prototype=Object.create(Error.prototype),wr.prototype.constructor=wr,wr.prototype.name=br;var Er=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,r=this.errors[t],i=this.service+"/"+t;n=void 0===r?"Error":r.replace(this.pattern,function(t,n){var r=e[n];return void 0!==r?r.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+i+").";var o=new wr(i,n);for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=e[a]);return o},t}(),Sr=function(){function t(){this.blockSize=-1}return t}(),Tr=(function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}Te.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var r=0;r<16;r++)n[r]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(var r=0;r<16;r++)n[r]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(var r=16;r<80;r++){var i=n[r-3]^n[r-8]^n[r-14]^n[r-16];n[r]=4294967295&(i<<1|i>>>31)}for(var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],f=this.chain_[3],l=this.chain_[4],r=0;r<80;r++){r<40?r<20?(o=f^u&(c^f),a=1518500249):(o=u^c^f,a=1859775393):r<60?(o=u&c|f&(u|c),a=2400959708):(o=u^c^f,a=3395469782);var i=(s<<5|s>>>27)+o+l+a+n[r]&4294967295;l=f,f=c,c=4294967295&(u<<30|u>>>2),u=s,s=i}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+f&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);for(var n=e-this.blockSize,r=0,i=this.buf_,o=this.inbuf_;r<e;){if(0==o)for(;r<=n;)this.compress_(t,r),r+=this.blockSize;if("string"===typeof t){for(;r<e;)if(i[o]=t.charCodeAt(r),++o,++r,o==this.blockSize){this.compress_(i),o=0;break}}else for(;r<e;)if(i[o]=t[r],++o,++r,o==this.blockSize){this.compress_(i),o=0;break}}this.inbuf_=o,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);for(var r=0,n=0;n<5;n++)for(var i=24;i>=0;i-=8)t[r]=this.chain_[n]>>i&255,++r;return t}}(Sr),function(){function t(t){this.sendFn=t.sendFn,this.closeFn=t.closeFn}return t.prototype.onOpen=function(t){c(!this.wrappedOnOpen,"Called onOpen on stream twice!"),this.wrappedOnOpen=t},t.prototype.onClose=function(t){c(!this.wrappedOnClose,"Called onClose on stream twice!"),this.wrappedOnClose=t},t.prototype.onMessage=function(t){c(!this.wrappedOnMessage,"Called onMessage on stream twice!"),this.wrappedOnMessage=t},t.prototype.close=function(){this.closeFn()},t.prototype.send=function(t){this.sendFn(t)},t.prototype.callOnOpen=function(){c(void 0!==this.wrappedOnOpen,"Cannot call onOpen because no callback was set"),this.wrappedOnOpen()},t.prototype.callOnClose=function(t){c(void 0!==this.wrappedOnClose,"Cannot call onClose because no callback was set"),this.wrappedOnClose(t)},t.prototype.callOnMessage=function(t){c(void 0!==this.wrappedOnMessage,"Cannot call onMessage because no callback was set"),this.wrappedOnMessage(t)},t}()),Cr="Connection",Ir={BatchGetDocuments:"batchGet",Commit:"commit"},Ar="gl-js/ fire/"+Ie,Or=function(){function t(t){this.databaseId=t.databaseId,this.pool=new Ce.XhrIoPool;var e=t.ssl?"https":"http";this.baseUrl=e+"://"+t.host}return t.prototype.modifyHeadersForRequest=function(t,e){if(e)for(var n in e.authHeaders)e.authHeaders.hasOwnProperty(n)&&(t[n]=e.authHeaders[n]);t["X-Goog-Api-Client"]=Ar},t.prototype.invokeRPC=function(t,e,n){var r=this,i=this.makeUrl(t);return new Promise(function(a,s){r.pool.getObject(function(c){c.listenOnce(Ce.EventType.COMPLETE,function(){try{switch(c.getLastErrorCode()){case Ce.ErrorCode.NO_ERROR:var e=c.getResponseJson();o(Cr,"XHR received:",JSON.stringify(e)),a(e);break;case Ce.ErrorCode.TIMEOUT:o(Cr,'RPC "'+t+'" timed out'),s(new Re(ke.DEADLINE_EXCEEDED,"Request time out"));break;case Ce.ErrorCode.HTTP_ERROR:var n=c.getStatus();o(Cr,'RPC "'+t+'" failed with status:',n,"response text:",c.getResponseText()),n>0?s(new Re(et(n),"Server responded with status "+c.getStatusText())):(o(Cr,'RPC "'+t+'" failed'),s(new Re(ke.UNAVAILABLE,"Connection failed.")));break;default:u('RPC "'+t+'" failed with unanticipated webchannel error '+c.getLastErrorCode()+": "+c.getLastError()+", giving up.")}}finally{o(Cr,'RPC "'+t+'" completed.'),r.pool.releaseObject(c)}});var f=JSON.stringify(e);o(Cr,"XHR sending: ",i+" "+f);var l={"Content-Type":"text/plain"};r.modifyHeadersForRequest(l,n),c.send(i,"POST",f,l,15)})})},t.prototype.invokeStreamingRPC=function(t,e,n){return this.invokeRPC(t,e,n)},t.prototype.openStream=function(t,e){var n=[this.baseUrl,"/","google.firestore.v1beta1.Firestore","/",t,"/channel"],r=Ce.createWebChannelTransport(),i={backgroundChannelTest:!0,httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database},sendRawJson:!0,supportsCrossDomainXhr:!0};this.modifyHeadersForRequest(i.initMessageHeaders,e),gr()||(i.httpHeadersOverwriteParam="$httpHeaders");var a=n.join("");o(Cr,"Creating WebChannel: "+a+" "+i);var s=r.createWebChannel(a,i),u=!1,f=!1,l=new Tr({sendFn:function(t){f?o(Cr,"Not sending because WebChannel is closed:",t):(u||(o(Cr,"Opening WebChannel transport."),s.open(),u=!0),o(Cr,"WebChannel sending:",t),s.send(t))},closeFn:function(){return s.close()}}),h=function(t,e){s.listen(t,function(t){try{e(t)}catch(t){setTimeout(function(){throw t},0)}})};return h(Ce.WebChannel.EventType.OPEN,function(){f||o(Cr,"WebChannel transport opened.")}),h(Ce.WebChannel.EventType.CLOSE,function(){f||(f=!0,o(Cr,"WebChannel transport closed"),l.callOnClose())}),h(Ce.WebChannel.EventType.ERROR,function(t){f||(f=!0,o(Cr,"WebChannel transport errored:",t),l.callOnClose(new Re(ke.UNAVAILABLE,"The operation could not be completed")))}),h(Ce.WebChannel.EventType.MESSAGE,function(t){if(!f){var e=t.data[0];c(!!e,"Got a webchannel message without data.");var n=e.error||e[0]&&e[0].error;if(n){o(Cr,"WebChannel received error:",n);var r=n.status,i=J(r),a=n.message;void 0===i&&(i=ke.INTERNAL,a="Unknown error status: "+r+" with message "+n.message),f=!0,l.callOnClose(new Re(i,a)),s.close()}else o(Cr,"WebChannel received:",e),l.callOnMessage(e)}}),setTimeout(function(){l.callOnOpen()},0),l},t.prototype.makeUrl=function(t){var e=Ir[t];c(void 0!==e,"Unknown REST mapping for: "+t);var n=[this.baseUrl,"/","v1beta1"];return n.push("/projects/"),n.push(this.databaseId.projectId),n.push("/databases/"),n.push(this.databaseId.database),n.push("/documents"),n.push(":"),n.push(e),n.join("")},t}(),kr=function(){function t(){this.emptyByteString="",this.base64Available="undefined"!==typeof atob}return Object.defineProperty(t.prototype,"document",{get:function(){return"undefined"!==typeof document?document:null},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"window",{get:function(){return"undefined"!==typeof window?window:null},enumerable:!0,configurable:!0}),t.prototype.loadConnection=function(t){return Promise.resolve(new Or(t))},t.prototype.newSerializer=function(t){return new vr(t,{useProto3Json:!0})},t.prototype.formatJSON=function(t){return JSON.stringify(t)},t.prototype.atob=function(t){return atob(t)},t.prototype.btoa=function(t){return btoa(t)},t}();Oe.setPlatform(new kr);var Rr,Pr=function(){function t(t,e){var n=this;this.previousValue=t,e&&(e.sequenceNumberHandler=function(t){return n.setPreviousValue(t)},this.writeNewSequenceNumber=function(t){return e.writeSequenceNumber(t)})}return t.prototype.setPreviousValue=function(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue},t.prototype.next=function(){var t=++this.previousValue;return this.writeNewSequenceNumber&&this.writeNewSequenceNumber(t),t},t.INVALID=-1,t}(),xr=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t}();!function(t){t.All="all",t.ListenStreamIdle="listen_stream_idle",t.ListenStreamConnectionBackoff="listen_stream_connection_backoff",t.WriteStreamIdle="write_stream_idle",t.WriteStreamConnectionBackoff="write_stream_connection_backoff",t.OnlineStateTimeout="online_state_timeout",t.ClientMetadataRefresh="client_metadata_refresh"}(Rr||(Rr={}));var Dr,Nr=function(){function t(t,e,n,r,i){this.asyncQueue=t,this.timerId=e,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new xr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.catch=this.deferred.promise.catch.bind(this.deferred.promise),this.deferred.promise.catch(function(t){})}return t.createAndSchedule=function(e,n,r,i,o){var a=Date.now()+r,s=new t(e,n,a,i,o);return s.start(r),s},t.prototype.start=function(t){var e=this;this.timerHandle=setTimeout(function(){return e.handleDelayElapsed()},t)},t.prototype.skipDelay=function(){return this.handleDelayElapsed()},t.prototype.cancel=function(t){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new Re(ke.CANCELLED,"Operation cancelled"+(t?": "+t:""))))},t.prototype.handleDelayElapsed=function(){var t=this;this.asyncQueue.enqueueAndForget(function(){return null!==t.timerHandle?(t.clearTimeout(),t.op().then(function(e){return t.deferred.resolve(e)})):Promise.resolve()})},t.prototype.clearTimeout=function(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)},t}(),Mr=function(){function t(){this.tail=Promise.resolve(),this.delayedOperations=[],this.operationInProgress=!1}return t.prototype.enqueueAndForget=function(t){this.enqueue(t)},t.prototype.enqueue=function(t){var e=this;this.verifyNotFailed();var n=this.tail.then(function(){return e.operationInProgress=!0,t().catch(function(t){e.failure=t,e.operationInProgress=!1;var n=t.stack||t.message||"";throw a("INTERNAL UNHANDLED ERROR: ",n),n.indexOf("Firestore Test Simulated Error")<0&&setTimeout(function(){throw t},0),t}).then(function(t){return e.operationInProgress=!1,t})});return this.tail=n,n},t.prototype.enqueueAfterDelay=function(t,e,n){var r=this;this.verifyNotFailed(),c(e>=0,"Attempted to schedule an operation with a negative delay of "+e),c(!this.containsDelayedOperation(t),"Attempted to schedule multiple operations with timer id "+t+".");var i=Nr.createAndSchedule(this,t,e,n,function(t){return r.removeDelayedOperation(t)});return this.delayedOperations.push(i),i},t.prototype.verifyNotFailed=function(){this.failure&&u("AsyncQueue is already failed: "+(this.failure.stack||this.failure.message))},t.prototype.verifyOperationInProgress=function(){c(this.operationInProgress,"verifyOpInProgress() called when no op in progress on this queue.")},t.prototype.drain=function(){return this.enqueue(function(){return Promise.resolve()})},t.prototype.containsDelayedOperation=function(t){for(var e=0,n=this.delayedOperations;e<n.length;e++){if(n[e].timerId===t)return!0}return!1},t.prototype.runDelayedOperationsEarly=function(t){var e=this;return this.drain().then(function(){c(t===Rr.All||e.containsDelayedOperation(t),"Attempted to drain to missing operation "+t),e.delayedOperations.sort(function(t,e){return t.targetTimeMs-e.targetTimeMs});for(var n=0,r=e.delayedOperations;n<r.length;n++){var i=r[n];if(i.skipDelay(),t!==Rr.All&&i.timerId===t)break}return e.drain()})},t.prototype.removeDelayedOperation=function(t){var e=this.delayedOperations.indexOf(t);c(e>=0,"Delayed operation not found."),this.delayedOperations.splice(e,1)},t}(),Lr="\x01",jr="\x01",Ur="\x10",Fr="\x11",Br=-1,qr=function(){function t(t,e,n){this.batchId=t,this.localWriteTime=e,this.mutations=n}return t.prototype.applyToRemoteDocument=function(t,e,n){e&&c(e.key.isEqual(t),"applyToRemoteDocument: key "+t+" should match maybeDoc key\n        "+e.key);var r=n.mutationResults;c(r.length===this.mutations.length,"Mismatch between mutations length\n      ("+this.mutations.length+") and mutation results length\n      ("+r.length+").");for(var i=0;i<this.mutations.length;i++){var o=this.mutations[i];if(o.key.isEqual(t)){var a=r[i];e=o.applyToRemoteDocument(e,a)}}return e},t.prototype.applyToLocalView=function(t,e){e&&c(e.key.isEqual(t),"applyToLocalDocument: key "+t+" should match maybeDoc key\n        "+e.key);for(var n=e,r=0;r<this.mutations.length;r++){var i=this.mutations[r];i.key.isEqual(t)&&(e=i.applyToLocalView(e,n,this.localWriteTime))}return e},t.prototype.keys=function(){for(var t=ot(),e=0,n=this.mutations;e<n.length;e++){var r=n[e];t=t.add(r.key)}return t},t.prototype.isEqual=function(t){return this.batchId===t.batchId&&W(this.mutations,t.mutations)},t.prototype.isTombstone=function(){return 0===this.mutations.length},t.prototype.toTombstone=function(){return new t(this.batchId,this.localWriteTime,[])},t}(),Wr=function(){function t(t,e,n,r,i){this.batch=t,this.commitVersion=e,this.mutationResults=n,this.streamToken=r,this.docVersions=i}return t.from=function(e,n,r,i){c(e.mutations.length===r.length,"Mutations sent "+e.mutations.length+" must equal results received "+r.length);for(var o=it(),a=e.mutations,s=0;s<a.length;s++)o=o.insert(a[s].key,r[s].version);return new t(e,n,r,i,o)},t}(),Vr=function(){function t(t){var e=this;this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(function(t){e.isDone=!0,e.result=t,e.nextCallback&&e.nextCallback(t)},function(t){e.isDone=!0,e.error=t,e.catchCallback&&e.catchCallback(t)})}return t.prototype.catch=function(t){return this.next(void 0,t)},t.prototype.next=function(e,n){var r=this;return this.callbackAttached&&u("Called next() or catch() twice for PersistencePromise"),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t(function(t,i){r.nextCallback=function(n){r.wrapSuccess(e,n).next(t,i)},r.catchCallback=function(e){r.wrapFailure(n,e).next(t,i)}})},t.prototype.toPromise=function(){var t=this;return new Promise(function(e,n){t.next(e,n)})},t.prototype.wrapUserFunction=function(e){try{var n=e();return n instanceof t?n:t.resolve(n)}catch(e){return t.reject(e)}},t.prototype.wrapSuccess=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.resolve(n)},t.prototype.wrapFailure=function(e,n){return e?this.wrapUserFunction(function(){return e(n)}):t.reject(n)},t.resolve=function(e){return new t(function(t,n){t(e)})},t.reject=function(e){return new t(function(t,n){n(e)})},t.waitFor=function(e){return new t(function(t,n){var r=0,i=0,o=!1;e.forEach(function(e){++r,e.next(function(){++i,o&&i===r&&t()},function(t){return n(t)})}),o=!0,i===r&&t()})},t.or=function(e){for(var n=t.resolve(!1),r=0,i=e;r<i.length;r++){var o=i[r];!function(e){n=n.next(function(n){return n?t.resolve(n):e()})}(o)}return n},t.forEach=function(t,e){var n=this,r=[];return t.forEach(function(t,i){r.push(e.call(n,t,i))}),this.waitFor(r)},t}(),Hr=function(){function t(t){this.mapKeyFn=t,this.inner={}}return t.prototype.get=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0!==n)for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];if(a.isEqual(t))return s}},t.prototype.has=function(t){return void 0!==this.get(t)},t.prototype.set=function(t,e){var n=this.mapKeyFn(t),r=this.inner[n];if(void 0===r)return void(this.inner[n]=[[t,e]]);for(var i=0;i<r.length;i++)if(r[i][0].isEqual(t))return void(r[i]=[t,e]);r.push([t,e])},t.prototype.delete=function(t){var e=this.mapKeyFn(t),n=this.inner[e];if(void 0===n)return!1;for(var r=0;r<n.length;r++)if(n[r][0].isEqual(t))return 1===n.length?delete this.inner[e]:n.splice(r,1),!0;return!1},t.prototype.forEach=function(t){m(this.inner,function(e,n){for(var r=0,i=n;r<i.length;r++){var o=i[r],a=o[0],s=o[1];t(a,s)}})},t.prototype.isEmpty=function(){return v(this.inner)},t}(),zr=function(){function t(){this.changes=nt(),this.documentSizes=new Hr(function(t){return t.toString()})}return t.prototype.addEntry=function(t){var e=this.assertChanges();this.changes=e.insert(t.key,t)},t.prototype.getEntry=function(t,e){var n=this,r=this.assertChanges(),i=r.get(e);return i?Vr.resolve(i):this.getFromCache(t,e).next(function(t){return null===t?(n.documentSizes.set(e,0),null):(n.documentSizes.set(e,t.size),t.maybeDocument)})},t.prototype.apply=function(t){var e=this.applyChanges(t);return this.changes=null,e},t.prototype.assertChanges=function(){return c(null!==this.changes,"Changes have already been applied."),this.changes},t}(),Kr=function(){function t(t){this.db=t}return t.openOrCreate=function(e,n,r){return c(t.isAvailable(),"IndexedDB not supported in current environment."),o("SimpleDb","Opening database:",e),new Vr(function(i,a){var s=window.indexedDB.open(e,n);s.onsuccess=function(e){var n=e.target.result;i(new t(n))},s.onblocked=function(){a(new Re(ke.FAILED_PRECONDITION,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},s.onerror=function(t){a(t.target.error)},s.onupgradeneeded=function(t){o("SimpleDb",'Database "'+e+'" requires upgrade from version:',t.oldVersion);var n=t.target.result,i=new Qr(s.transaction);r.createOrUpgrade(n,i,t.oldVersion,Zr).next(function(){o("SimpleDb","Database upgrade to version "+Zr+" complete")})}}).toPromise()},t.delete=function(t){return o("SimpleDb","Removing database:",t),mt(window.indexedDB.deleteDatabase(t)).toPromise()},t.isAvailable=function(){if("undefined"===typeof window||null==window.indexedDB)return!1;if(void 0===window.navigator)return"YES"===Object({NODE_ENV:"production",PUBLIC_URL:""}).USE_MOCK_PERSISTENCE;var t=window.navigator.userAgent;return!(t.indexOf("MSIE ")>0||t.indexOf("Trident/")>0||t.indexOf("Edge/")>0)},t.getStore=function(t,e){return t.store(e)},t.prototype.runTransaction=function(t,e,n){var r=Qr.open(this.db,t,e),i=n(r).catch(function(t){r.abort(t)}).toPromise();return r.completionPromise.then(function(){return i})},t.prototype.close=function(){this.db.close()},t}(),Gr=function(){function t(t){this.dbCursor=t,this.shouldStop=!1,this.nextKey=null}return Object.defineProperty(t.prototype,"isDone",{get:function(){return this.shouldStop},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"skipToKey",{get:function(){return this.nextKey},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"cursor",{set:function(t){this.dbCursor=t},enumerable:!0,configurable:!0}),t.prototype.done=function(){this.shouldStop=!0},t.prototype.skip=function(t){this.nextKey=t},t.prototype.delete=function(){return mt(this.dbCursor.delete())},t}(),Qr=function(){function t(t){var e=this;this.transaction=t,this.aborted=!1,this.completionDeferred=new xr,this.transaction.oncomplete=function(){e.completionDeferred.resolve()},this.transaction.onabort=function(){t.error?e.completionDeferred.reject(t.error):e.completionDeferred.resolve()},this.transaction.onerror=function(t){e.completionDeferred.reject(t.target.error)}}return t.open=function(e,n,r){return new t(e.transaction(r,n))},Object.defineProperty(t.prototype,"completionPromise",{get:function(){return this.completionDeferred.promise},enumerable:!0,configurable:!0}),t.prototype.abort=function(t){t&&this.completionDeferred.reject(t),this.aborted||(o("SimpleDb","Aborting transaction:",t?t.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())},t.prototype.store=function(t){var e=this.transaction.objectStore(t);return c(!!e,"Object store not part of transaction: "+t),new Yr(e)},t}(),Yr=function(){function t(t){this.store=t}return t.prototype.put=function(t,e){var n;return void 0!==e?(o("SimpleDb","PUT",this.store.name,t,e),n=this.store.put(e,t)):(o("SimpleDb","PUT",this.store.name,"<auto-key>",t),n=this.store.put(t)),mt(n)},t.prototype.add=function(t){return o("SimpleDb","ADD",this.store.name,t,t),mt(this.store.add(t))},t.prototype.get=function(t){var e=this;return mt(this.store.get(t)).next(function(n){return void 0===n&&(n=null),o("SimpleDb","GET",e.store.name,t,n),n})},t.prototype.delete=function(t){return o("SimpleDb","DELETE",this.store.name,t),mt(this.store.delete(t))},t.prototype.count=function(){return o("SimpleDb","COUNT",this.store.name),mt(this.store.count())},t.prototype.loadAll=function(t,e){var n=this.cursor(this.options(t,e)),r=[];return this.iterateCursor(n,function(t,e){r.push(e)}).next(function(){return r})},t.prototype.deleteAll=function(t,e){o("SimpleDb","DELETE ALL",this.store.name);var n=this.options(t,e);n.keysOnly=!1;var r=this.cursor(n);return this.iterateCursor(r,function(t,e,n){return n.delete()})},t.prototype.iterate=function(t,e){var n;e?n=t:(n={},e=t);var r=this.cursor(n);return this.iterateCursor(r,e)},t.prototype.iterateSerial=function(t){var e=this.cursor({});return new Vr(function(n,r){e.onerror=function(t){r(t.target.error)},e.onsuccess=function(e){var r=e.target.result;if(!r)return void n();t(r.primaryKey,r.value).next(function(t){t?r.continue():n()})}})},t.prototype.iterateCursor=function(t,e){var n=[];return new Vr(function(r,i){t.onerror=function(t){i(t.target.error)},t.onsuccess=function(t){var i=t.target.result;if(!i)return void r();var o=new Gr(i),a=e(i.primaryKey,i.value,o);if(a instanceof Vr){var s=a.catch(function(t){return o.done(),Vr.reject(t)});n.push(s)}o.isDone?r():null===o.skipToKey?i.continue():i.continue(o.skipToKey)}}).next(function(){return Vr.waitFor(n)})},t.prototype.options=function(t,e){var n=void 0;return void 0!==t&&("string"===typeof t?n=t:(c(void 0===e,"3rd argument must not be defined if 2nd is a range."),e=t)),{index:n,range:e}},t.prototype.cursor=function(t){var e="next";if(t.reverse&&(e="prev"),t.index){var n=this.store.index(t.index);return t.keysOnly?n.openKeyCursor(t.range,e):n.openCursor(t.range,e)}return this.store.openCursor(t.range,e)},t}(),Xr="The remote document changelog no longer contains all changes for all local query views. It may be necessary to rebuild these views.",$r=function(){function t(t,e){this.serializer=t,this.keepDocumentChangeLog=e,this._lastProcessedDocumentChangeId=0}return Object.defineProperty(t.prototype,"lastProcessedDocumentChangeId",{get:function(){return this._lastProcessedDocumentChangeId},enumerable:!0,configurable:!0}),t.prototype.start=function(t){var e=Kr.getStore(t,di.store);return this.synchronizeLastDocumentChangeId(e)},t.prototype.addEntries=function(t,e,n){var r=[];if(e.length>0){for(var i=bt(t),o=ot(),a=0,s=e;a<s.length;a++){var u=s[a],c=u.key,f=u.doc;r.push(i.put(wt(c),f)),o=o.add(c)}this.keepDocumentChangeLog&&r.push(_t(t).put({changes:this.serializer.toDbResourcePaths(o)})),r.push(this.updateSize(t,n))}return Vr.waitFor(r)},t.prototype.removeEntry=function(t,e){var n=bt(t),r=wt(e);return n.get(r).next(function(t){return t?n.delete(r).next(function(){return Et(t)}):Vr.resolve(0)})},t.prototype.getEntry=function(t,e){var n=this;return bt(t).get(wt(e)).next(function(t){return t?n.serializer.fromDbRemoteDocument(t):null})},t.prototype.getSizedEntry=function(t,e){var n=this;return bt(t).get(wt(e)).next(function(t){return t?{maybeDocument:n.serializer.fromDbRemoteDocument(t),size:Et(t)}:null})},t.prototype.getDocumentsMatchingQuery=function(t,e){var n=this,r=rt(),i=e.path.toArray(),o=IDBKeyRange.lowerBound(i);return bt(t).iterate({range:o},function(t,i,o){var a=n.serializer.fromDbRemoteDocument(i);e.path.isPrefixOf(a.key.path)?a instanceof ze&&e.matches(a)&&(r=r.insert(a.key,a)):o.done()}).next(function(){return r})},t.prototype.getNewDocumentChanges=function(t){var e=this;c(this.keepDocumentChangeLog,"Can only call getNewDocumentChanges() when document change log is enabled");var n=ot(),r=nt(),i=IDBKeyRange.lowerBound(this._lastProcessedDocumentChangeId+1),o=!0,a=_t(t);return a.iterate({range:i},function(t,r){if(o&&(o=!1,e._lastProcessedDocumentChangeId+1!==r.id))return e.synchronizeLastDocumentChangeId(a).next(function(){return Vr.reject(new Re(ke.DATA_LOSS,Xr))});n=n.unionWith(e.serializer.fromDbResourcePaths(r.changes)),e._lastProcessedDocumentChangeId=r.id}).next(function(){var i=[];return n.forEach(function(n){i.push(e.getEntry(t,n).next(function(t){var e=t||new Ke(n,xn.forDeletedDoc());r=r.insert(n,e)}))}),Vr.waitFor(i)}).next(function(){return r})},t.prototype.removeDocumentChangesThroughChangeId=function(t,e){var n=IDBKeyRange.upperBound(e);return _t(t).delete(n)},t.prototype.synchronizeLastDocumentChangeId=function(t){var e=this;return this._lastProcessedDocumentChangeId=0,t.iterate({keysOnly:!0,reverse:!0},function(t,n,r){e._lastProcessedDocumentChangeId=t,r.done()})},t.prototype.newChangeBuffer=function(){return new Jr(this)},t.prototype.getSize=function(t){return this.getMetadata(t).next(function(t){return t.byteSize})},t.prototype.getMetadata=function(t){return vt(t).get(ci.key).next(function(t){return c(!!t,"Missing document cache metadata"),t})},t.prototype.setMetadata=function(t,e){return vt(t).put(ci.key,e)},t.prototype.updateSize=function(t,e){var n=this;return this.getMetadata(t).next(function(r){return r.byteSize+=e,n.setMetadata(t,r)})},t}(),Jr=function(t){function e(e){var n=t.call(this)||this;return n.documentCache=e,n}return Te.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,i=[];return n.forEach(function(t,n){var o=e.documentCache.serializer.toDbRemoteDocument(n),a=e.documentSizes.get(t);c(void 0!==a,"Attempting to change document "+t.toString()+" without having read it first");var s=Et(o);r+=s-a,i.push({key:t,doc:o})}),this.documentCache.addEntries(t,i,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e}(zr),Zr=6,ti=function(){function t(t){this.serializer=t}return t.prototype.createOrUpgrade=function(t,e,n,r){var i=this;c(n<r&&n>=0&&r<=Zr,"Unexpected schema upgrade from v"+n+" to v{toVersion}."),n<1&&r>=1&&(St(t),Tt(t),Ot(t),It(t));var o=Vr.resolve();return n<3&&r>=3&&(0!==n&&(kt(t),Ot(t)),o=o.next(function(){return Rt(e)})),n<4&&r>=4&&(0!==n&&(o=o.next(function(){return Ct(t,e)})),o=o.next(function(){xt(t),Pt(t)})),n<5&&r>=5&&(o=o.next(function(){return i.removeAcknowledgedMutations(e)})),n<6&&r>=6&&(o=o.next(function(){return At(t),i.addDocumentGlobal(e)})),o},t.prototype.addDocumentGlobal=function(t){var e=0;return t.store(ui.store).iterate(function(t,n){e+=Et(n)}).next(function(){var n=new ci(e);return t.store(ci.store).put(ci.key,n)})},t.prototype.removeAcknowledgedMutations=function(t){var e=this,n=t.store(ri.store),r=t.store(ii.store);return n.loadAll().next(function(n){return Vr.forEach(n,function(n){var i=IDBKeyRange.bound([n.userId,Br],[n.userId,n.lastAcknowledgedBatchId]);return r.loadAll(ii.userMutationsIndex,i).next(function(r){return Vr.forEach(r,function(r){c(r.userId===n.userId,"Cannot process batch "+r.batchId+" from unexpected user");var i=e.serializer.fromDbMutationBatch(r);return Mt(t,n.userId,i).next(function(){})})})})})},t}(),ei=function(){function t(t,e){this.seconds=t,this.nanoseconds=e}return t}(),ni=function(){function t(t,e,n){this.ownerId=t,this.allowTabSynchronization=e,this.leaseTimestampMs=n}return t.store="owner",t.key="owner",t}(),ri=function(){function t(t,e,n){this.userId=t,this.lastAcknowledgedBatchId=e,this.lastStreamToken=n}return t.store="mutationQueues",t.keyPath="userId",t}(),ii=function(){function t(t,e,n,r){this.userId=t,this.batchId=e,this.localWriteTimeMs=n,this.mutations=r}return t.store="mutations",t.keyPath="batchId",t.userMutationsIndex="userMutationsIndex",t.userMutationsKeyPath=["userId","batchId"],t}(),oi=function(){function t(){}return t.prefixForUser=function(t){return[t]},t.prefixForPath=function(t,e){return[t,ht(e)]},t.key=function(t,e,n){return[t,ht(e),n]},t.store="documentMutations",t.PLACEHOLDER=new t,t}(),ai=function(){function t(t,e){this.path=t,this.readTime=e}return t}(),si=function(){function t(t,e){this.path=t,this.version=e}return t}(),ui=function(){function t(t,e,n,r){this.unknownDocument=t,this.noDocument=e,this.document=n,this.hasCommittedMutations=r}return t.store="remoteDocuments",t}(),ci=function(){function t(t){this.byteSize=t}return t.store="remoteDocumentGlobal",t.key="remoteDocumentGlobalKey",t}(),fi=function(){function t(t,e,n,r,i,o){this.targetId=t,this.canonicalId=e,this.readTime=n,this.resumeToken=r,this.lastListenSequenceNumber=i,this.query=o}return t.store="targets",t.keyPath="targetId",t.queryTargetsIndexName="queryTargetsIndex",t.queryTargetsKeyPath=["canonicalId","targetId"],t}(),li=function(){function t(t,e,n){this.targetId=t,this.path=e,this.sequenceNumber=n,c(0===t===(void 0!==n),"A target-document row must either have targetId == 0 and a defined sequence number, or a non-zero targetId and no sequence number")}return t.store="targetDocuments",t.keyPath=["targetId","path"],t.documentTargetsIndex="documentTargetsIndex",t.documentTargetsKeyPath=["path","targetId"],t}(),hi=function(){function t(t,e,n,r){this.highestTargetId=t,this.highestListenSequenceNumber=e,this.lastRemoteSnapshotVersion=n,this.targetCount=r}return t.key="targetGlobalKey",t.store="targetGlobal",t}(),di=function(){function t(t){this.changes=t}return t.store="remoteDocumentChanges",t.keyPath="id",t}(),pi=function(){function t(t,e,n,r,i){this.clientId=t,this.updateTimeMs=e,this.networkEnabled=n,this.inForeground=r,this.lastProcessedDocumentChangeId=i}return t.store="clientMetadata",t.keyPath="clientId",t}(),yi=[ri.store,ii.store,oi.store,ui.store,fi.store,ni.store,hi.store,li.store],mi=yi,vi=mi.concat([pi.store,di.store]),gi=vi.concat([ci.store]),bi=gi,_i=function(){function t(t,e,n){this.userId=t,this.serializer=e,this.referenceDelegate=n,this.documentKeysByBatchId={}}return t.forUser=function(e,n,r){return c(""!==e.uid,"UserID must not be an empty string."),new t(e.isAuthenticated()?e.uid:"",n,r)},t.prototype.checkEmpty=function(t){var e=!0,n=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return jt(t).iterate({index:ii.userMutationsIndex,range:n},function(t,n,r){e=!1,r.done()}).next(function(){return e})},t.prototype.acknowledgeBatch=function(t,e,n){return this.getMutationQueueMetadata(t).next(function(r){var i=e.batchId;return c(i>r.lastAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order"),r.lastAcknowledgedBatchId=i,r.lastStreamToken=Lt(n),Ft(t).put(r)})},t.prototype.getLastStreamToken=function(t){return this.getMutationQueueMetadata(t).next(function(t){return t.lastStreamToken})},t.prototype.setLastStreamToken=function(t,e){return this.getMutationQueueMetadata(t).next(function(n){return n.lastStreamToken=Lt(e),Ft(t).put(n)})},t.prototype.addMutationBatch=function(t,e,n){var r=this,i=Ut(t),o=jt(t);return o.add({}).next(function(t){c("number"===typeof t,"Auto-generated key is not a number");var a=new qr(t,e,n),s=r.serializer.toDbMutationBatch(r.userId,a);r.documentKeysByBatchId[t]=a.keys();for(var u=[],f=0,l=n;f<l.length;f++){var h=l[f],d=oi.key(r.userId,h.key.path,t);u.push(o.put(s)),u.push(i.put(d,oi.PLACEHOLDER))}return Vr.waitFor(u).next(function(){return a})})},t.prototype.lookupMutationBatch=function(t,e){var n=this;return jt(t).get(e).next(function(t){return t?(c(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),n.serializer.fromDbMutationBatch(t)):null})},t.prototype.lookupMutationKeys=function(t,e){var n=this;return this.documentKeysByBatchId[e]?Vr.resolve(this.documentKeysByBatchId[e]):this.lookupMutationBatch(t,e).next(function(t){if(t){var r=t.keys();return n.documentKeysByBatchId[e]=r,r}return null})},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){var n=this;return this.getMutationQueueMetadata(t).next(function(r){var i=Math.max(e,r.lastAcknowledgedBatchId)+1,o=IDBKeyRange.lowerBound([n.userId,i]),a=null;return jt(t).iterate({index:ii.userMutationsIndex,range:o},function(t,e,r){e.userId===n.userId&&(c(e.batchId>=i,"Should have found mutation after "+i),a=n.serializer.fromDbMutationBatch(e)),r.done()}).next(function(){return a})})},t.prototype.getAllMutationBatches=function(t){var e=this,n=IDBKeyRange.bound([this.userId,Br],[this.userId,Number.POSITIVE_INFINITY]);return jt(t).loadAll(ii.userMutationsIndex,n).next(function(t){return t.map(function(t){return e.serializer.fromDbMutationBatch(t)})})},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=oi.prefixForPath(this.userId,e.path),i=IDBKeyRange.lowerBound(r),o=[];return Ut(t).iterate({range:i},function(r,i,a){var s=r[0],f=r[1],l=r[2],h=yt(f);return s===n.userId&&e.path.isEqual(h)?jt(t).get(l).next(function(t){if(!t)throw u("Dangling document-mutation reference found: "+r+" which points to "+l);c(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+l),o.push(n.serializer.fromDbMutationBatch(t))}):void a.done()}).next(function(){return o})},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Xn(B),i=[];return e.forEach(function(e){var o=oi.prefixForPath(n.userId,e.path),a=IDBKeyRange.lowerBound(o),s=Ut(t).iterate({range:a},function(t,i,o){var a=t[0],s=t[1],u=t[2],c=yt(s);if(a!==n.userId||!e.path.isEqual(c))return void o.done();r=r.add(u)});i.push(s)}),Vr.waitFor(i).next(function(){return n.lookupMutationBatches(t,r)})},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=this;c(!e.isDocumentQuery(),"Document queries shouldn't go down this path");var r=e.path,i=r.length+1,o=oi.prefixForPath(this.userId,r),a=IDBKeyRange.lowerBound(o),s=new Xn(B);return Ut(t).iterate({range:a},function(t,e,o){var a=t[0],u=t[1],c=t[2],f=yt(u);if(a!==n.userId||!r.isPrefixOf(f))return void o.done();f.length===i&&(s=s.add(c))}).next(function(){return n.lookupMutationBatches(t,s)})},t.prototype.lookupMutationBatches=function(t,e){var n=this,r=[],i=[];return e.forEach(function(e){i.push(jt(t).get(e).next(function(t){if(null===t)throw u("Dangling document-mutation reference found, which points to "+e);c(t.userId===n.userId,"Unexpected user '"+t.userId+"' for mutation batch "+e),r.push(n.serializer.fromDbMutationBatch(t))}))}),Vr.waitFor(i).next(function(){return r})},t.prototype.removeMutationBatch=function(t,e){var n=this;return Mt(t.simpleDbTransaction,this.userId,e).next(function(r){return n.removeCachedMutationKeys(e.batchId),Vr.forEach(r,function(e){return n.referenceDelegate.removeMutationReference(t,e)})})},t.prototype.removeCachedMutationKeys=function(t){delete this.documentKeysByBatchId[t]},t.prototype.performConsistencyCheck=function(t){var e=this;return this.checkEmpty(t).next(function(n){if(!n)return Vr.resolve();var r=IDBKeyRange.lowerBound(oi.prefixForUser(e.userId)),i=[];return Ut(t).iterate({range:r},function(t,n,r){if(t[0]!==e.userId)return void r.done();var o=yt(t[1]);i.push(o)}).next(function(){c(0===i.length,"Document leak -- detected dangling mutation references when queue is empty. Dangling keys: "+i.map(function(t){return t.canonicalString()}))})})},t.prototype.containsKey=function(t,e){return Dt(t,this.userId,e)},t.prototype.getMutationQueueMetadata=function(t){var e=this;return Ft(t).get(this.userId).next(function(t){return t||new ri(e.userId,Br,"")})},t}(),wi=1;!function(t){t[t.QueryCache=0]="QueryCache",t[t.SyncEngine=1]="SyncEngine"}(Dr||(Dr={}));var Ei,Si=function(){function t(t,e){this.generatorId=t,c((t&wi)===t,"Generator ID "+t+" contains more than "+wi+" reserved bits"),this.seek(void 0!==e?e:this.generatorId)}return t.prototype.next=function(){var t=this.nextId;return this.nextId+=1<<wi,t},t.prototype.after=function(t){return this.seek(t+(1<<wi)),this.next()},t.prototype.seek=function(t){c((t&wi)===this.generatorId,"Cannot supply target ID from different generator ID"),this.nextId=t},t.forQueryCache=function(){return new t(Dr.QueryCache,2)},t.forSyncEngine=function(){return new t(Dr.SyncEngine)},t}(),Ti=function(){function t(t,e){this.referenceDelegate=t,this.serializer=e,this.targetIdGenerator=Si.forQueryCache()}return t.prototype.allocateTargetId=function(t){var e=this;return this.retrieveMetadata(t).next(function(n){return n.highestTargetId=e.targetIdGenerator.after(n.highestTargetId),e.saveMetadata(t,n).next(function(){return n.highestTargetId})})},t.prototype.getLastRemoteSnapshotVersion=function(t){return this.retrieveMetadata(t).next(function(t){return xn.fromTimestamp(new Me(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds))})},t.prototype.getHighestSequenceNumber=function(t){return Vt(t.simpleDbTransaction)},t.prototype.setTargetsMetadata=function(t,e,n){var r=this;return this.retrieveMetadata(t).next(function(i){return i.highestListenSequenceNumber=e,n&&(i.lastRemoteSnapshotVersion=n.toTimestamp()),e>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=e),r.saveMetadata(t,i)})},t.prototype.addQueryData=function(t,e){var n=this;return this.saveQueryData(t,e).next(function(){return n.retrieveMetadata(t).next(function(r){return r.targetCount+=1,n.updateMetadataFromQueryData(e,r),n.saveMetadata(t,r)})})},t.prototype.updateQueryData=function(t,e){return this.saveQueryData(t,e)},t.prototype.removeQueryData=function(t,e){var n=this;return this.removeMatchingKeysForTargetId(t,e.targetId).next(function(){return Bt(t).delete(e.targetId)}).next(function(){return n.retrieveMetadata(t)}).next(function(e){return c(e.targetCount>0,"Removing from an empty query cache"),e.targetCount-=1,n.saveMetadata(t,e)})},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return Bt(t).iterate(function(a,s){var u=r.serializer.fromDbTarget(s);u.sequenceNumber<=e&&void 0===n[u.targetId]&&(i++,o.push(r.removeQueryData(t,u)))}).next(function(){return Vr.waitFor(o)}).next(function(){return i})},t.prototype.forEachTarget=function(t,e){var n=this;return Bt(t).iterate(function(t,r){var i=n.serializer.fromDbTarget(r);e(i)})},t.prototype.retrieveMetadata=function(t){return Wt(t.simpleDbTransaction)},t.prototype.saveMetadata=function(t,e){return qt(t).put(hi.key,e)},t.prototype.saveQueryData=function(t,e){return Bt(t).put(this.serializer.toDbTarget(e))},t.prototype.updateMetadataFromQueryData=function(t,e){var n=!1;return t.targetId>e.highestTargetId&&(e.highestTargetId=t.targetId,n=!0),t.sequenceNumber>e.highestListenSequenceNumber&&(e.highestListenSequenceNumber=t.sequenceNumber,n=!0),n},t.prototype.getQueryCount=function(t){return this.retrieveMetadata(t).next(function(t){return t.targetCount})},t.prototype.getQueryData=function(t,e){var n=this,r=e.canonicalId(),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]),o=null;return Bt(t).iterate({range:i,index:fi.queryTargetsIndexName},function(t,r,i){var a=n.serializer.fromDbTarget(r);e.isEqual(a.query)&&(o=a,i.done())}).next(function(){return o})},t.prototype.addMatchingKeys=function(t,e,n){var r=this,i=[],o=Ht(t);return e.forEach(function(e){var a=ht(e.path);i.push(o.put(new li(n,a))),i.push(r.referenceDelegate.addReference(t,e))}),Vr.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){var r=this,i=Ht(t);return Vr.forEach(e,function(e){var o=ht(e.path);return Vr.waitFor([i.delete([n,o]),r.referenceDelegate.removeReference(t,e)])})},t.prototype.removeMatchingKeysForTargetId=function(t,e){var n=Ht(t),r=IDBKeyRange.bound([e],[e+1],!1,!0);return n.delete(r)},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=IDBKeyRange.bound([e],[e+1],!1,!0),r=Ht(t),i=ot();return r.iterate({range:n,keysOnly:!0},function(t,e,n){var r=yt(t[1]),o=new Ve(r);i=i.add(o)}).next(function(){return i})},t.prototype.containsKey=function(t,e){var n=ht(e.path),r=IDBKeyRange.bound([n],[V(n)],!1,!0),i=0;return Ht(t).iterate({index:li.documentTargetsIndex,keysOnly:!0,range:r},function(t,e,n){var r=t[0];t[1];0!==r&&(i++,n.done())}).next(function(){return i>0})},t.prototype.getQueryDataForTarget=function(t,e){var n=this;return Bt(t).get(e).next(function(t){return t?n.serializer.fromDbTarget(t):null})},t}(),Ci=function(){function t(t){this.remoteSerializer=t}return t.prototype.fromDbRemoteDocument=function(t){if(t.document)return this.remoteSerializer.fromDocument(t.document,!!t.hasCommittedMutations);if(t.noDocument){var e=Ve.fromSegments(t.noDocument.path),n=this.fromDbTimestamp(t.noDocument.readTime);return new Ke(e,n,{hasCommittedMutations:!!t.hasCommittedMutations})}if(t.unknownDocument){var e=Ve.fromSegments(t.unknownDocument.path),n=this.fromDbTimestamp(t.unknownDocument.version);return new Ge(e,n)}return u("Unexpected DbRemoteDocument")},t.prototype.toDbRemoteDocument=function(t){if(t instanceof ze){var e=this.remoteSerializer.toDocument(t),n=t.hasCommittedMutations;return new ui(null,null,e,n)}if(t instanceof Ke){var r=t.key.path.toArray(),i=this.toDbTimestamp(t.version),n=t.hasCommittedMutations;return new ui(null,new ai(r,i),null,n)}if(t instanceof Ge){var r=t.key.path.toArray(),i=this.toDbTimestamp(t.version);return new ui(new si(r,i),null,null,!0)}return u("Unexpected MaybeDocumment")},t.prototype.toDbTimestamp=function(t){var e=t.toTimestamp();return new ei(e.seconds,e.nanoseconds)},t.prototype.fromDbTimestamp=function(t){var e=new Me(t.seconds,t.nanoseconds);return xn.fromTimestamp(e)},t.prototype.toDbMutationBatch=function(t,e){var n=this,r=e.mutations.map(function(t){return n.remoteSerializer.toMutation(t)});return new ii(t,e.batchId,e.localWriteTime.toMillis(),r)},t.prototype.fromDbMutationBatch=function(t){var e=this,n=t.mutations.map(function(t){return e.remoteSerializer.fromMutation(t)}),r=Me.fromMillis(t.localWriteTimeMs);return new qr(t.batchId,r,n)},t.prototype.toDbResourcePaths=function(t){var e=[];return t.forEach(function(t){e.push(ht(t.path))}),e},t.prototype.fromDbResourcePaths=function(t){for(var e=ot(),n=0,r=t;n<r.length;n++){var i=r[n];e=e.add(new Ve(yt(i)))}return e},t.prototype.fromDbTarget=function(t){var e,n=this.fromDbTimestamp(t.readTime);return e=zt(t.query)?this.remoteSerializer.fromDocumentsTarget(t.query):this.remoteSerializer.fromQueryTarget(t.query),new Nn(e,t.targetId,tn.Listen,t.lastListenSequenceNumber,n,t.resumeToken)},t.prototype.toDbTarget=function(t){c(tn.Listen===t.purpose,"Only queries with purpose "+tn.Listen+" may be stored, got "+t.purpose);var e,n=this.toDbTimestamp(t.snapshotVersion);e=t.query.isDocumentQuery()?this.remoteSerializer.toDocumentsTarget(t.query):this.remoteSerializer.toQueryTarget(t.query);var r;return t.resumeToken instanceof Uint8Array?(c("YES"===Object({NODE_ENV:"production",PUBLIC_URL:""}).USE_MOCK_PERSISTENCE,"Persisting non-string stream tokens is only supported with mock persistence ."),r=t.resumeToken.toString()):r=t.resumeToken,new fi(t.targetId,t.query.canonicalId(),n,r,t.sequenceNumber,e)},t}(),Ii=function(){function t(t){this.maxElements=t,this.buffer=new Xn(Kt),this.previousIndex=0}return t.prototype.nextIndex=function(){return++this.previousIndex},t.prototype.addElement=function(t){var e=[t,this.nextIndex()];if(this.buffer.size<this.maxElements)this.buffer=this.buffer.add(e);else{var n=this.buffer.last();Kt(e,n)<0&&(this.buffer=this.buffer.delete(n).add(e))}},Object.defineProperty(t.prototype,"maxValue",{get:function(){return this.buffer.last()[0]},enumerable:!0,configurable:!0}),t}(),Ai=function(){function t(t){this.delegate=t}return t.prototype.calculateTargetCount=function(t,e){return this.delegate.getTargetCount(t).next(function(t){return Math.floor(e/100*t)})},t.prototype.nthSequenceNumber=function(t,e){var n=this;if(0===e)return Vr.resolve(Pr.INVALID);var r=new Ii(e);return this.delegate.forEachTarget(t,function(t){return r.addElement(t.sequenceNumber)}).next(function(){return n.delegate.forEachOrphanedDocumentSequenceNumber(t,function(t){return r.addElement(t)})}).next(function(){return r.maxValue})},t.prototype.removeTargets=function(t,e,n){return this.delegate.removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){return this.delegate.removeOrphanedDocuments(t,e)},t}(),Oi=function(){function t(){}return t}(),ki="IndexedDbPersistence",Ri="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Pi="Another tab has exclusive access to the persistence layer. To allow shared access, make sure to invoke `enablePersistence()` with `experimentalTabSynchronization:true` in all tabs.",xi="This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.",Di=function(t){function e(e,n){var r=t.call(this)||this;return r.simpleDbTransaction=e,r.currentSequenceNumber=n,r}return Te.__extends(e,t),e}(Oi),Ni=function(){function t(e,n,r,i,o,a){if(this.persistenceKey=e,this.clientId=n,this.queue=i,this.multiClientParams=a,this._started=!1,this.isPrimary=!1,this.networkEnabled=!0,this.inForeground=!1,this.lastGarbageCollectionTime=Number.NEGATIVE_INFINITY,this.primaryStateListener=function(t){return Promise.resolve()},!t.isAvailable())throw new Re(ke.UNIMPLEMENTED,xi);if(this.referenceDelegate=new Mi(this),this.dbName=e+t.MAIN_DATABASE,this.serializer=new Ci(o),this.document=r.document,this.allowTabSynchronization=void 0!==a,this.queryCache=new Ti(this.referenceDelegate,this.serializer),this.remoteDocumentCache=new $r(this.serializer,this.allowTabSynchronization),!r.window||!r.window.localStorage)throw new Re(ke.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");this.window=r.window,this.webStorage=this.window.localStorage}return t.getStore=function(t,e){if(t instanceof Di)return Kr.getStore(t.simpleDbTransaction,e);throw u("IndexedDbPersistence must use instances of IndexedDbTransaction")},t.createIndexedDbPersistence=function(e,n,r,i,o){return Te.__awaiter(this,void 0,void 0,function(){var a;return Te.__generator(this,function(s){switch(s.label){case 0:return a=new t(e,n,r,i,o),[4,a.start()];case 1:return s.sent(),[2,a]}})})},t.createMultiClientIndexedDbPersistence=function(e,n,r,i,o,a){return Te.__awaiter(this,void 0,void 0,function(){var s;return Te.__generator(this,function(u){switch(u.label){case 0:return s=new t(e,n,r,i,o,a),[4,s.start()];case 1:return u.sent(),[2,s]}})})},t.prototype.start=function(){var t=this;return c(!this.started,"IndexedDbPersistence double-started!"),c(null!==this.window,"Expected 'window' to be defined"),Kr.openOrCreate(this.dbName,Zr,new ti(this.serializer)).then(function(e){t.simpleDb=e}).then(function(){return t.startRemoteDocumentCache()}).then(function(){return t.attachVisibilityHandler(),t.attachWindowUnloadHook(),t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})}).then(function(){return t.simpleDb.runTransaction("readonly",[hi.store],function(e){return Vt(e).next(function(e){var n=t.multiClientParams?t.multiClientParams.sequenceNumberSyncer:void 0;t.listenSequence=new Pr(e,n)})})}).then(function(){t._started=!0}).catch(function(e){return t.simpleDb&&t.simpleDb.close(),Promise.reject(e)})},t.prototype.startRemoteDocumentCache=function(){var t=this;return this.simpleDb.runTransaction("readonly",bi,function(e){return t.remoteDocumentCache.start(e)})},t.prototype.setPrimaryStateListener=function(t){var e=this;return this.primaryStateListener=function(n){return Te.__awaiter(e,void 0,void 0,function(){return Te.__generator(this,function(e){return this.started?[2,t(n)]:[2]})})},t(this.isPrimary)},t.prototype.setNetworkEnabled=function(t){var e=this;this.networkEnabled!==t&&(this.networkEnabled=t,this.queue.enqueueAndForget(function(){return Te.__awaiter(e,void 0,void 0,function(){return Te.__generator(this,function(t){switch(t.label){case 0:return this.started?[4,this.updateClientMetadataAndTryBecomePrimary()]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})}))},t.prototype.updateClientMetadataAndTryBecomePrimary=function(){var t=this;return this.simpleDb.runTransaction("readwrite",bi,function(e){return Yt(e).put(new pi(t.clientId,Date.now(),t.networkEnabled,t.inForeground,t.remoteDocumentCache.lastProcessedDocumentChangeId)).next(function(){if(t.isPrimary)return t.verifyPrimaryLease(e).next(function(e){e||(t.isPrimary=!1,t.queue.enqueueAndForget(function(){return t.primaryStateListener(!1)}))})}).next(function(){return t.canActAsPrimary(e)}).next(function(n){var r=t.isPrimary;return t.isPrimary=n,r!==t.isPrimary&&t.queue.enqueueAndForget(function(){return t.primaryStateListener(t.isPrimary)}),r&&!t.isPrimary?t.releasePrimaryLeaseIfHeld(e):t.isPrimary?t.acquireOrExtendPrimaryLease(e):void 0})})},t.prototype.verifyPrimaryLease=function(t){var e=this;return Qt(t).get(ni.key).next(function(t){return Vr.resolve(e.isLocalClient(t))})},t.prototype.removeClientMetadata=function(t){return Yt(t).delete(this.clientId)},t.prototype.maybeGarbageCollectMultiClientState=function(){return Te.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return Te.__generator(this,function(i){switch(i.label){case 0:return!this.isPrimary||this.isWithinAge(this.lastGarbageCollectionTime,18e5)?[3,2]:(this.lastGarbageCollectionTime=Date.now(),n=[],[4,this.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",function(i){var o=t.getStore(i,pi.store);return o.loadAll().next(function(t){e=r.filterActiveClients(t,18e5),n=t.filter(function(t){return-1===e.indexOf(t)})}).next(function(){return Vr.forEach(n,function(t){return o.delete(t.clientId)})}).next(function(){if(e=e.filter(function(t){return t.clientId!==r.clientId}),e.length>0){var t=e.map(function(t){return t.lastProcessedDocumentChangeId||0}),n=Math.min.apply(Math,t);return r.remoteDocumentCache.removeDocumentChangesThroughChangeId(i,n)}})})]);case 1:i.sent(),n.forEach(function(t){r.window.localStorage.removeItem(r.zombiedClientLocalStorageKey(t.clientId))}),i.label=2;case 2:return[2]}})})},t.prototype.scheduleClientMetadataAndPrimaryLeaseRefreshes=function(){var t=this;this.clientMetadataRefresher=this.queue.enqueueAfterDelay(Rr.ClientMetadataRefresh,4e3,function(){return t.updateClientMetadataAndTryBecomePrimary().then(function(){return t.maybeGarbageCollectMultiClientState()}).then(function(){return t.scheduleClientMetadataAndPrimaryLeaseRefreshes()})})},t.prototype.isLocalClient=function(t){return!!t&&t.ownerId===this.clientId},t.prototype.canActAsPrimary=function(t){var e=this;return Qt(t).get(ni.key).next(function(n){if(null!==n&&e.isWithinAge(n.leaseTimestampMs,5e3)&&!e.isClientZombied(n.ownerId)){if(e.isLocalClient(n)&&e.networkEnabled)return!0;if(!e.isLocalClient(n)){if(!n.allowTabSynchronization)throw new Re(ke.FAILED_PRECONDITION,Pi);return!1}}return!(!e.networkEnabled||!e.inForeground)||Yt(t).loadAll().next(function(t){return void 0===e.filterActiveClients(t,5e3).find(function(t){if(e.clientId!==t.clientId){var n=!e.networkEnabled&&t.networkEnabled,r=!e.inForeground&&t.inForeground,i=e.networkEnabled===t.networkEnabled;if(n||r&&i)return!0}return!1})})}).next(function(t){return e.isPrimary!==t&&o(ki,"Client "+(t?"is":"is not")+" eligible for a primary lease."),t})},t.prototype.shutdown=function(t){return Te.__awaiter(this,void 0,void 0,function(){var e=this;return Te.__generator(this,function(n){switch(n.label){case 0:return this._started=!1,this.markClientZombied(),this.clientMetadataRefresher&&this.clientMetadataRefresher.cancel(),this.detachVisibilityHandler(),this.detachWindowUnloadHook(),[4,this.simpleDb.runTransaction("readwrite",[ni.store,pi.store],function(t){return e.releasePrimaryLeaseIfHeld(t).next(function(){return e.removeClientMetadata(t)})})];case 1:return n.sent(),this.simpleDb.close(),this.removeClientZombiedEntry(),t?[4,Kr.delete(this.dbName)]:[3,3];case 2:n.sent(),n.label=3;case 3:return[2]}})})},t.prototype.filterActiveClients=function(t,e){var n=this;return t.filter(function(t){return n.isWithinAge(t.updateTimeMs,e)&&!n.isClientZombied(t.clientId)})},t.prototype.getActiveClients=function(){var t=this;return this.simpleDb.runTransaction("readonly",[pi.store],function(e){return Yt(e).loadAll().next(function(e){return t.filterActiveClients(e,18e5).map(function(t){return t.clientId})})})},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getMutationQueue=function(t){return c(this.started,"Cannot initialize MutationQueue before persistence is started."),_i.forUser(t,this.serializer,this.referenceDelegate)},t.prototype.getQueryCache=function(){return c(this.started,"Cannot initialize QueryCache before persistence is started."),this.queryCache},t.prototype.getRemoteDocumentCache=function(){return c(this.started,"Cannot initialize RemoteDocumentCache before persistence is started."),this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;return o(ki,"Starting transaction:",t),this.simpleDb.runTransaction("readonly"===e?"readonly":"readwrite",bi,function(i){return"readwrite-primary"===e?r.verifyPrimaryLease(i).next(function(e){if(!e)throw a("Failed to obtain primary lease for action '"+t+"'."),r.isPrimary=!1,r.queue.enqueueAndForget(function(){return r.primaryStateListener(!1)}),new Re(ke.FAILED_PRECONDITION,Ri);return n(new Di(i,r.listenSequence.next()))}).next(function(t){return r.acquireOrExtendPrimaryLease(i).next(function(){return t})}):r.verifyAllowTabSynchronization(i).next(function(){return n(new Di(i,r.listenSequence.next()))})})},t.prototype.verifyAllowTabSynchronization=function(t){var e=this;return Qt(t).get(ni.key).next(function(t){if(null!==t&&e.isWithinAge(t.leaseTimestampMs,5e3)&&!e.isClientZombied(t.ownerId)&&!e.isLocalClient(t)&&!t.allowTabSynchronization)throw new Re(ke.FAILED_PRECONDITION,Pi)})},t.prototype.acquireOrExtendPrimaryLease=function(t){var e=new ni(this.clientId,this.allowTabSynchronization,Date.now());return Qt(t).put(ni.key,e)},t.isAvailable=function(){return Kr.isAvailable()},t.buildStoragePrefix=function(t){var e=t.databaseId.projectId;return t.databaseId.isDefaultDatabase||(e+="."+t.databaseId.database),"firestore/"+t.persistenceKey+"/"+e+"/"},t.prototype.releasePrimaryLeaseIfHeld=function(t){var e=this,n=Qt(t);return n.get(ni.key).next(function(t){return e.isLocalClient(t)?(o(ki,"Releasing primary lease."),n.delete(ni.key)):Vr.resolve()})},t.prototype.isWithinAge=function(t,e){var n=Date.now(),r=n-e,i=n;return!(t<r)&&(!(t>i)||(a("Detected an update time that is in the future: "+t+" > "+i),!1))},t.prototype.attachVisibilityHandler=function(){var t=this;null!==this.document&&"function"===typeof this.document.addEventListener&&(this.documentVisibilityHandler=function(){t.queue.enqueueAndForget(function(){return t.inForeground="visible"===t.document.visibilityState,t.updateClientMetadataAndTryBecomePrimary()})},this.document.addEventListener("visibilitychange",this.documentVisibilityHandler),this.inForeground="visible"===this.document.visibilityState)},t.prototype.detachVisibilityHandler=function(){this.documentVisibilityHandler&&(c(null!==this.document&&"function"===typeof this.document.addEventListener,"Expected 'document.addEventListener' to be a function"),this.document.removeEventListener("visibilitychange",this.documentVisibilityHandler),this.documentVisibilityHandler=null)},t.prototype.attachWindowUnloadHook=function(){var t=this;"function"===typeof this.window.addEventListener&&(this.windowUnloadHandler=function(){t.markClientZombied(),t.queue.enqueueAndForget(function(){return t.shutdown()})},this.window.addEventListener("unload",this.windowUnloadHandler))},t.prototype.detachWindowUnloadHook=function(){this.windowUnloadHandler&&(c("function"===typeof this.window.removeEventListener,"Expected 'window.removeEventListener' to be a function"),this.window.removeEventListener("unload",this.windowUnloadHandler),this.windowUnloadHandler=null)},t.prototype.isClientZombied=function(t){try{var e=null!==this.webStorage.getItem(this.zombiedClientLocalStorageKey(t));return o(ki,"Client '"+t+"' "+(e?"is":"is not")+" zombied in LocalStorage"),e}catch(t){return a(ki,"Failed to get zombied client id.",t),!1}},t.prototype.markClientZombied=function(){try{this.webStorage.setItem(this.zombiedClientLocalStorageKey(this.clientId),String(Date.now()))}catch(t){a("Failed to set zombie client id.",t)}},t.prototype.removeClientZombiedEntry=function(){try{this.webStorage.removeItem(this.zombiedClientLocalStorageKey(this.clientId))}catch(t){}},t.prototype.zombiedClientLocalStorageKey=function(t){return"firestore_zombie_"+this.persistenceKey+"_"+t},t.MAIN_DATABASE="main",t}(),Mi=function(){function t(t){this.db=t,this.garbageCollector=new Ai(this)}return t.prototype.getTargetCount=function(t){return this.db.getQueryCache().getQueryCount(t)},t.prototype.forEachTarget=function(t,e){return this.db.getQueryCache().forEachTarget(t,e)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){return this.forEachOrphanedDocument(t,function(t,n){return e(n)})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return Jt(t,e)},t.prototype.removeReference=function(t,e){return Jt(t,e)},t.prototype.removeTargets=function(t,e,n){return this.db.getQueryCache().removeTargets(t,e,n)},t.prototype.removeMutationReference=function(t,e){return Jt(t,e)},t.prototype.isPinned=function(t,e){return this.inMemoryPins.containsKey(e)?Vr.resolve(!0):Nt(t,e)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=0,o=[];return this.forEachOrphanedDocument(t,function(a,s){if(s<=e){var u=n.isPinned(t,a).next(function(e){if(!e)return r++,n.removeOrphanedDocument(t,a).next(function(t){i+=t})});o.push(u)}}).next(function(){return Vr.waitFor(o)}).next(function(){return n.db.getRemoteDocumentCache().updateSize(t,-i)}).next(function(){return r})},t.prototype.removeOrphanedDocument=function(t,e){var n=0,r=this.db.getRemoteDocumentCache();return Vr.waitFor([Ht(t).delete(Xt(e)),r.removeEntry(t,e).next(function(t){n+=t})]).next(function(){return n})},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.db.getQueryCache().updateQueryData(t,n)},t.prototype.updateLimboDocument=function(t,e){return Jt(t,e)},t.prototype.forEachOrphanedDocument=function(t,e){var n,r=Ht(t),i=Pr.INVALID;return r.iterate({index:li.documentTargetsIndex},function(t,r){var o=t[0],a=(t[1],r.path),s=r.sequenceNumber;0===o?(i!==Pr.INVALID&&e(new Ve(yt(n)),i),i=s,n=a):i=Pr.INVALID}).next(function(){i!==Pr.INVALID&&e(new Ve(yt(n)),i)})},t}(),Li=function(){function t(t,e){this.remoteDocumentCache=t,this.mutationQueue=e}return t.prototype.getDocument=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKey(t,e).next(function(r){return n.getDocumentInternal(t,e,r)})},t.prototype.getDocumentInternal=function(t,e,n){return this.remoteDocumentCache.getEntry(t,e).next(function(t){for(var r=0,i=n;r<i.length;r++){t=i[r].applyToLocalView(e,t)}return t})},t.prototype.getDocuments=function(t,e){var n=this;return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,e).next(function(r){var i=[],o=nt();return e.forEach(function(e){i.push(n.getDocumentInternal(t,e,r).next(function(t){t||(t=new Ke(e,xn.forDeletedDoc())),o=o.insert(e,t)}))}),Vr.waitFor(i).next(function(){return o})})},t.prototype.getDocumentsMatchingQuery=function(t,e){return Ve.isDocumentKey(e.path)?this.getDocumentsMatchingDocumentQuery(t,e.path):this.getDocumentsMatchingCollectionQuery(t,e)},t.prototype.getDocumentsMatchingDocumentQuery=function(t,e){return this.getDocument(t,new Ve(e)).next(function(t){var e=rt();return t instanceof ze&&(e=e.insert(t.key,t)),e})},t.prototype.getDocumentsMatchingCollectionQuery=function(t,e){var n,r=this;return this.remoteDocumentCache.getDocumentsMatchingQuery(t,e).next(function(i){return n=i,r.mutationQueue.getAllMutationBatchesAffectingQuery(t,e)}).next(function(t){for(var r=0,i=t;r<i.length;r++)for(var o=i[r],a=0,s=o.mutations;a<s.length;a++){var u=s[a],c=u.key;if(e.path.isImmediateParentOf(c.path)){var f=n.get(c),l=u.applyToLocalView(f,f,o.localWriteTime);n=l instanceof ze?n.insert(c,l):n.remove(c)}}}).next(function(){return n.forEach(function(t,r){e.matches(r)||(n=n.remove(t))}),n})},t}(),ji=function(){function t(){this.refsByKey=new Xn(Ui.compareByKey),this.refsByTarget=new Xn(Ui.compareByTargetId)}return t.prototype.isEmpty=function(){return this.refsByKey.isEmpty()},t.prototype.addReference=function(t,e){var n=new Ui(t,e);this.refsByKey=this.refsByKey.add(n),this.refsByTarget=this.refsByTarget.add(n)},t.prototype.addReferences=function(t,e){var n=this;t.forEach(function(t){return n.addReference(t,e)})},t.prototype.removeReference=function(t,e){this.removeRef(new Ui(t,e))},t.prototype.removeReferences=function(t,e){var n=this;t.forEach(function(t){return n.removeReference(t,e)})},t.prototype.removeReferencesForId=function(t){var e=this,n=Ve.EMPTY,r=new Ui(n,t),i=new Ui(n,t+1),o=[];return this.refsByTarget.forEachInRange([r,i],function(t){e.removeRef(t),o.push(t.key)}),o},t.prototype.removeAllReferences=function(){var t=this;this.refsByKey.forEach(function(e){return t.removeRef(e)})},t.prototype.removeRef=function(t){this.refsByKey=this.refsByKey.delete(t),this.refsByTarget=this.refsByTarget.delete(t)},t.prototype.referencesForId=function(t){var e=Ve.EMPTY,n=new Ui(e,t),r=new Ui(e,t+1),i=ot();return this.refsByTarget.forEachInRange([n,r],function(t){i=i.add(t.key)}),i},t.prototype.containsKey=function(t){var e=new Ui(t,0),n=this.refsByKey.firstAfterOrEqual(e);return null!==n&&t.isEqual(n.key)},t}(),Ui=function(){function t(t,e){this.key=t,this.targetOrBatchId=e}return t.compareByKey=function(t,e){return Ve.comparator(t.key,e.key)||B(t.targetOrBatchId,e.targetOrBatchId)},t.compareByTargetId=function(t,e){return B(t.targetOrBatchId,e.targetOrBatchId)||Ve.comparator(t.key,e.key)},t}(),Fi=function(){function t(t,e){this.persistence=t,this.localViewReferences=new ji,this.queryDataByTarget={},c(t.started,"LocalStore was passed an unstarted persistence implementation"),this.persistence.referenceDelegate.setInMemoryPins(this.localViewReferences),this.mutationQueue=t.getMutationQueue(e),this.remoteDocuments=t.getRemoteDocumentCache(),this.queryCache=t.getQueryCache(),this.localDocuments=new Li(this.remoteDocuments,this.mutationQueue)}return t.prototype.handleUserChange=function(t){var e=this;return this.persistence.runTransaction("Handle user change","readonly",function(n){var r;return e.mutationQueue.getAllMutationBatches(n).next(function(i){return r=i,e.mutationQueue=e.persistence.getMutationQueue(t),e.localDocuments=new Li(e.remoteDocuments,e.mutationQueue),e.mutationQueue.getAllMutationBatches(n)}).next(function(t){for(var i=[],o=[],a=ot(),s=0,u=r;s<u.length;s++){var c=u[s];i.push(c.batchId);for(var f=0,l=c.mutations;f<l.length;f++){var h=l[f];a=a.add(h.key)}}for(var d=0,p=t;d<p.length;d++){var c=p[d];o.push(c.batchId);for(var y=0,m=c.mutations;y<m.length;y++){var h=m[y];a=a.add(h.key)}}return e.localDocuments.getDocuments(n,a).next(function(t){return{affectedDocuments:t,removedBatchIds:i,addedBatchIds:o}})})})},t.prototype.localWrite=function(t){var e=this;return this.persistence.runTransaction("Locally write mutations","readwrite",function(n){var r,i=Me.now();return e.mutationQueue.addMutationBatch(n,i,t).next(function(t){r=t;var i=r.keys();return e.localDocuments.getDocuments(n,i)}).next(function(t){return{batchId:r.batchId,changes:t}})})},t.prototype.lookupMutationDocuments=function(t){var e=this;return this.persistence.runTransaction("Lookup mutation documents","readonly",function(n){return e.mutationQueue.lookupMutationKeys(n,t).next(function(t){return t?e.localDocuments.getDocuments(n,t):Vr.resolve(null)})})},t.prototype.acknowledgeBatch=function(t){var e=this;return this.persistence.runTransaction("Acknowledge batch","readwrite-primary",function(n){var r=t.batch.keys(),i=e.remoteDocuments.newChangeBuffer();return e.mutationQueue.acknowledgeBatch(n,t.batch,t.streamToken).next(function(){return e.applyWriteToRemoteDocuments(n,t,i)}).next(function(){return i.apply(n)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.rejectBatch=function(t){var e=this;return this.persistence.runTransaction("Reject batch","readwrite-primary",function(n){var r;return e.mutationQueue.lookupMutationBatch(n,t).next(function(t){return c(null!==t,"Attempt to reject nonexistent batch!"),r=t.keys(),e.mutationQueue.removeMutationBatch(n,t)}).next(function(){return e.mutationQueue.performConsistencyCheck(n)}).next(function(){return e.localDocuments.getDocuments(n,r)})})},t.prototype.getLastStreamToken=function(){var t=this;return this.persistence.runTransaction("Get last stream token","readonly",function(e){return t.mutationQueue.getLastStreamToken(e)})},t.prototype.setLastStreamToken=function(t){var e=this;return this.persistence.runTransaction("Set last stream token","readwrite-primary",function(n){return e.mutationQueue.setLastStreamToken(n,t)})},t.prototype.getLastRemoteSnapshotVersion=function(){var t=this;return this.persistence.runTransaction("Get last remote snapshot version","readonly",function(e){return t.queryCache.getLastRemoteSnapshotVersion(e)})},t.prototype.applyRemoteEvent=function(e){var n=this,r=this.remoteDocuments.newChangeBuffer();return this.persistence.runTransaction("Apply remote event","readwrite-primary",function(i){var a=[],s=ot();p(e.targetChanges,function(r,o){var u=n.queryDataByTarget[r];if(u){o.addedDocuments.forEach(function(t){s=s.add(t)}),o.modifiedDocuments.forEach(function(t){s=s.add(t)}),a.push(n.queryCache.removeMatchingKeys(i,o.removedDocuments,r).next(function(){return n.queryCache.addMatchingKeys(i,o.addedDocuments,r)}));var c=o.resumeToken;if(c.length>0){var f=u;u=u.copy({resumeToken:c,snapshotVersion:e.snapshotVersion}),n.queryDataByTarget[r]=u,t.shouldPersistQueryData(f,u,o)&&a.push(n.queryCache.updateQueryData(i,u))}}});var u=ot();e.documentUpdates.forEach(function(t,c){u=u.add(t),a.push(r.getEntry(i,t).next(function(e){null==e||c.version.isEqual(xn.MIN)||s.has(c.key)&&!e.hasPendingWrites||c.version.compareTo(e.version)>=0?r.addEntry(c):o("LocalStore","Ignoring outdated watch update for ",t,". Current version:",e.version," Watch version:",c.version)})),e.resolvedLimboDocuments.has(t)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,t))});var f=e.snapshotVersion;if(!f.isEqual(xn.MIN)){var l=n.queryCache.getLastRemoteSnapshotVersion(i).next(function(t){return c(f.compareTo(t)>=0,"Watch stream reverted to previous snapshot?? "+f+" < "+t),n.queryCache.setTargetsMetadata(i,i.currentSequenceNumber,f)});a.push(l)}return Vr.waitFor(a).next(function(){return r.apply(i)}).next(function(){return n.localDocuments.getDocuments(i,u)})})},t.shouldPersistQueryData=function(t,e,n){return 0!==e.resumeToken.length&&(0===t.resumeToken.length||(e.snapshotVersion.toMicroseconds()-t.snapshotVersion.toMicroseconds()>=this.RESUME_TOKEN_MAX_AGE_MICROS||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0))},t.prototype.notifyLocalViewChanges=function(t){var e=this;return this.persistence.runTransaction("notifyLocalViewChanges","readwrite",function(n){return Vr.forEach(t,function(t){return e.localViewReferences.addReferences(t.addedKeys,t.targetId),e.localViewReferences.removeReferences(t.removedKeys,t.targetId),Vr.forEach(t.removedKeys,function(t){return e.persistence.referenceDelegate.removeReference(n,t)})})})},t.prototype.nextMutationBatch=function(t){var e=this;return this.persistence.runTransaction("Get next mutation batch","readonly",function(n){return void 0===t&&(t=Br),e.mutationQueue.getNextMutationBatchAfterBatchId(n,t)})},t.prototype.readDocument=function(t){var e=this;return this.persistence.runTransaction("read document","readonly",function(n){return e.localDocuments.getDocument(n,t)})},t.prototype.allocateQuery=function(t){var e=this;return this.persistence.runTransaction("Allocate query","readwrite",function(n){var r;return e.queryCache.getQueryData(n,t).next(function(i){return i?(r=i,Vr.resolve()):e.queryCache.allocateTargetId(n).next(function(i){return r=new Nn(t,i,tn.Listen,n.currentSequenceNumber),e.queryCache.addQueryData(n,r)})}).next(function(){return c(!e.queryDataByTarget[r.targetId],"Tried to allocate an already allocated query: "+t),e.queryDataByTarget[r.targetId]=r,r})})},t.prototype.releaseQuery=function(t,e){var n=this,r=e?"readwrite":"readwrite-primary";return this.persistence.runTransaction("Release query",r,function(r){return n.queryCache.getQueryData(r,t).next(function(i){c(null!=i,"Tried to release nonexistent query: "+t);var o=i.targetId,a=n.queryDataByTarget[o],s=n.localViewReferences.removeReferencesForId(o);return delete n.queryDataByTarget[o],e?Vr.resolve():Vr.forEach(s,function(t){return n.persistence.referenceDelegate.removeReference(r,t)}).next(function(){return n.persistence.referenceDelegate.removeTarget(r,a)})})})},t.prototype.executeQuery=function(t){var e=this;return this.persistence.runTransaction("Execute query","readonly",function(n){return e.localDocuments.getDocumentsMatchingQuery(n,t)})},t.prototype.remoteDocumentKeys=function(t){var e=this;return this.persistence.runTransaction("Remote document keys","readonly",function(n){return e.queryCache.getMatchingKeysForTargetId(n,t)})},t.prototype.getActiveClients=function(){return this.persistence.getActiveClients()},t.prototype.removeCachedMutationBatchMetadata=function(t){this.mutationQueue.removeCachedMutationKeys(t)},t.prototype.setNetworkEnabled=function(t){this.persistence.setNetworkEnabled(t)},t.prototype.applyWriteToRemoteDocuments=function(t,e,n){var r=this,i=e.batch,o=i.keys(),a=Vr.resolve();return o.forEach(function(r){a=a.next(function(){return n.getEntry(t,r)}).next(function(t){var o=t,a=e.docVersions.get(r);c(null!==a,"ackVersions should contain every doc in the write."),(!o||o.version.compareTo(a)<0)&&(o=i.applyToRemoteDocument(r,o,e),o?n.addEntry(o):c(!t,"Mutation batch "+i+" applied to document "+t+" resulted in null"))})}),a.next(function(){return r.mutationQueue.removeMutationBatch(t,i)})},t.prototype.getQueryForTarget=function(t){var e=this;return this.queryDataByTarget[t]?Promise.resolve(this.queryDataByTarget[t].query):this.persistence.runTransaction("Get query data","readonly",function(n){return e.queryCache.getQueryDataForTarget(n,t).next(function(t){return t?t.query:null})})},t.prototype.getNewDocumentChanges=function(){var t=this;return this.persistence.runTransaction("Get new document changes","readonly",function(e){return t.remoteDocuments.getNewDocumentChanges(e)})},t.RESUME_TOKEN_MAX_AGE_MICROS=3e8,t}(),Bi=function(){function t(t){this.referenceDelegate=t,this.mutationQueue=[],this.nextBatchId=1,this.highestAcknowledgedBatchId=Br,this.lastStreamToken=f(),this.batchesByDocumentKey=new Xn(Ui.compareByKey)}return t.prototype.checkEmpty=function(t){return Vr.resolve(0===this.mutationQueue.length)},t.prototype.acknowledgeBatch=function(t,e,n){var r=e.batchId;c(r>this.highestAcknowledgedBatchId,"Mutation batchIDs must be acknowledged in order");var i=this.indexOfExistingBatchId(r,"acknowledged"),o=this.mutationQueue[i];return c(r===o.batchId,"Queue ordering failure: expected batch "+r+", got batch "+o.batchId),c(!o.isTombstone(),"Can't acknowledge a previously removed batch"),this.highestAcknowledgedBatchId=r,this.lastStreamToken=n,Vr.resolve()},t.prototype.getLastStreamToken=function(t){return Vr.resolve(this.lastStreamToken)},t.prototype.setLastStreamToken=function(t,e){return this.lastStreamToken=e,Vr.resolve()},t.prototype.addMutationBatch=function(t,e,n){c(0!==n.length,"Mutation batches should not be empty");var r=this.nextBatchId;if(this.nextBatchId++,this.mutationQueue.length>0){c(this.mutationQueue[this.mutationQueue.length-1].batchId<r,"Mutation batchIDs must be monotonically increasing order")}var i=new qr(r,e,n);this.mutationQueue.push(i);for(var o=0,a=n;o<a.length;o++){var s=a[o];this.batchesByDocumentKey=this.batchesByDocumentKey.add(new Ui(s.key,r))}return Vr.resolve(i)},t.prototype.lookupMutationBatch=function(t,e){return Vr.resolve(this.findMutationBatch(e))},t.prototype.lookupMutationKeys=function(t,e){var n=this.findMutationBatch(e);return c(null!=n,"Failed to find local mutation batch."),Vr.resolve(n.isTombstone()?null:n.keys())},t.prototype.getNextMutationBatchAfterBatchId=function(t,e){for(var n=this.mutationQueue.length,r=Math.max(e,this.highestAcknowledgedBatchId)+1,i=this.indexOfBatchId(r),o=i<0?0:i;o<n;o++){var a=this.mutationQueue[o];if(!a.isTombstone())return Vr.resolve(a)}return Vr.resolve(null)},t.prototype.getAllMutationBatches=function(t){return Vr.resolve(this.getAllLiveMutationBatchesBeforeIndex(this.mutationQueue.length))},t.prototype.getAllMutationBatchesAffectingDocumentKey=function(t,e){var n=this,r=new Ui(e,0),i=new Ui(e,Number.POSITIVE_INFINITY),o=[];return this.batchesByDocumentKey.forEachInRange([r,i],function(t){c(e.isEqual(t.key),"Should only iterate over a single key's batches");var r=n.findMutationBatch(t.targetOrBatchId);c(null!==r,"Batches in the index must exist in the main table"),o.push(r)}),Vr.resolve(o)},t.prototype.getAllMutationBatchesAffectingDocumentKeys=function(t,e){var n=this,r=new Xn(B);return e.forEach(function(t){var e=new Ui(t,0),i=new Ui(t,Number.POSITIVE_INFINITY);n.batchesByDocumentKey.forEachInRange([e,i],function(e){c(t.isEqual(e.key),"For each key, should only iterate over a single key's batches"),r=r.add(e.targetOrBatchId)})}),Vr.resolve(this.findMutationBatches(r))},t.prototype.getAllMutationBatchesAffectingQuery=function(t,e){var n=e.path,r=n.length+1,i=n;Ve.isDocumentKey(i)||(i=i.child(""));var o=new Ui(new Ve(i),0),a=new Xn(B);return this.batchesByDocumentKey.forEachWhile(function(t){var e=t.key.path;return!!n.isPrefixOf(e)&&(e.length===r&&(a=a.add(t.targetOrBatchId)),!0)},o),Vr.resolve(this.findMutationBatches(a))},t.prototype.findMutationBatches=function(t){var e=this,n=[];return t.forEach(function(t){var r=e.findMutationBatch(t);null!==r&&n.push(r)}),n},t.prototype.removeMutationBatch=function(t,e){var n=this,r=this.indexOfExistingBatchId(e.batchId,"removed");if(c(this.mutationQueue[r].batchId===e.batchId,"Removed batches must exist in the queue"),0===r){for(var i=1;i<this.mutationQueue.length;i++){if(!this.mutationQueue[i].isTombstone())break}this.mutationQueue.splice(0,i)}else this.mutationQueue[r]=this.mutationQueue[r].toTombstone();var o=this.batchesByDocumentKey;return Vr.forEach(e.mutations,function(r){var i=new Ui(r.key,e.batchId);return o=o.delete(i),n.referenceDelegate.removeMutationReference(t,r.key)}).next(function(){n.batchesByDocumentKey=o})},t.prototype.removeCachedMutationKeys=function(t){},t.prototype.containsKey=function(t,e){var n=new Ui(e,0),r=this.batchesByDocumentKey.firstAfterOrEqual(n);return Vr.resolve(e.isEqual(r&&r.key))},t.prototype.performConsistencyCheck=function(t){return 0===this.mutationQueue.length&&c(this.batchesByDocumentKey.isEmpty(),"Document leak -- detected dangling mutation references when queue is empty."),Vr.resolve()},t.prototype.getAllLiveMutationBatchesBeforeIndex=function(t){for(var e=[],n=0;n<t;n++){var r=this.mutationQueue[n];r.isTombstone()||e.push(r)}return e},t.prototype.indexOfExistingBatchId=function(t,e){var n=this.indexOfBatchId(t);return c(n>=0&&n<this.mutationQueue.length,"Batches must exist to be "+e),n},t.prototype.indexOfBatchId=function(t){return 0===this.mutationQueue.length?0:t-this.mutationQueue[0].batchId},t.prototype.findMutationBatch=function(t){var e=this.indexOfBatchId(t);if(e<0||e>=this.mutationQueue.length)return null;var n=this.mutationQueue[e];return c(n.batchId===t,"If found batch must match"),n.isTombstone()?null:n},t}(),qi=function(){function t(t){this.persistence=t,this.queries=new Hr(function(t){return t.canonicalId()}),this.lastRemoteSnapshotVersion=xn.MIN,this.highestTargetId=0,this.highestSequenceNumber=0,this.references=new ji,this.targetCount=0,this.targetIdGenerator=Si.forQueryCache()}return t.prototype.getTargetCount=function(t){return Vr.resolve(this.targetCount)},t.prototype.forEachTarget=function(t,e){return this.queries.forEach(function(t,n){return e(n)}),Vr.resolve()},t.prototype.getLastRemoteSnapshotVersion=function(t){return Vr.resolve(this.lastRemoteSnapshotVersion)},t.prototype.getHighestSequenceNumber=function(t){return Vr.resolve(this.highestSequenceNumber)},t.prototype.allocateTargetId=function(t){var e=this.targetIdGenerator.after(this.highestTargetId);return this.highestTargetId=e,Vr.resolve(e)},t.prototype.setTargetsMetadata=function(t,e,n){return n&&(this.lastRemoteSnapshotVersion=n),e>this.highestSequenceNumber&&(this.highestSequenceNumber=e),Vr.resolve()},t.prototype.saveQueryData=function(t){this.queries.set(t.query,t);var e=t.targetId;e>this.highestTargetId&&(this.highestTargetId=e),t.sequenceNumber>this.highestSequenceNumber&&(this.highestSequenceNumber=t.sequenceNumber)},t.prototype.addQueryData=function(t,e){return c(!this.queries.has(e.query),"Adding a query that already exists"),this.saveQueryData(e),this.targetCount+=1,Vr.resolve()},t.prototype.updateQueryData=function(t,e){return c(this.queries.has(e.query),"Updating a non-existent query"),this.saveQueryData(e),Vr.resolve()},t.prototype.removeQueryData=function(t,e){return c(this.targetCount>0,"Removing a target from an empty cache"),c(this.queries.has(e.query),"Removing a non-existent target from the cache"),this.queries.delete(e.query),this.references.removeReferencesForId(e.targetId),this.targetCount-=1,Vr.resolve()},t.prototype.removeTargets=function(t,e,n){var r=this,i=0,o=[];return this.queries.forEach(function(a,s){s.sequenceNumber<=e&&!n[s.targetId]&&(r.queries.delete(a),o.push(r.removeMatchingKeysForTargetId(t,s.targetId)),i++)}),Vr.waitFor(o).next(function(){return i})},t.prototype.getQueryCount=function(t){return Vr.resolve(this.targetCount)},t.prototype.getQueryData=function(t,e){var n=this.queries.get(e)||null;return Vr.resolve(n)},t.prototype.getQueryDataForTarget=function(t,e){return u("Not yet implemented.")},t.prototype.addMatchingKeys=function(t,e,n){this.references.addReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.addReference(t,e))}),Vr.waitFor(i)},t.prototype.removeMatchingKeys=function(t,e,n){this.references.removeReferences(e,n);var r=this.persistence.referenceDelegate,i=[];return r&&e.forEach(function(e){i.push(r.removeReference(t,e))}),Vr.waitFor(i)},t.prototype.removeMatchingKeysForTargetId=function(t,e){return this.references.removeReferencesForId(e),Vr.resolve()},t.prototype.getMatchingKeysForTargetId=function(t,e){var n=this.references.referencesForId(e);return Vr.resolve(n)},t.prototype.containsKey=function(t,e){return Vr.resolve(this.references.containsKey(e))},t}(),Wi=function(){function t(t){this.sizer=t,this.docs=Zt(),this.newDocumentChanges=ot(),this.size=0}return t.prototype.addEntries=function(t,e,n){for(var r=0,i=e;r<i.length;r++){var o=i[r],a=o.maybeDocument.key;this.docs=this.docs.insert(a,o),this.newDocumentChanges=this.newDocumentChanges.add(a)}return this.size+=n,Vr.resolve()},t.prototype.removeEntry=function(t,e){var n=this.docs.get(e);return n?(this.docs=this.docs.remove(e),this.size-=n.size,Vr.resolve(n.size)):Vr.resolve(0)},t.prototype.getEntry=function(t,e){var n=this.docs.get(e);return Vr.resolve(n?n.maybeDocument:null)},t.prototype.getSizedEntry=function(t,e){return Vr.resolve(this.docs.get(e))},t.prototype.getDocumentsMatchingQuery=function(t,e){for(var n=rt(),r=new Ve(e.path.child("")),i=this.docs.getIteratorFrom(r);i.hasNext();){var o=i.getNext(),a=o.key,s=o.value.maybeDocument;if(!e.path.isPrefixOf(a.path))break;s instanceof ze&&e.matches(s)&&(n=n.insert(s.key,s))}return Vr.resolve(n)},t.prototype.forEachDocumentKey=function(t,e){return Vr.forEach(this.docs,function(t){return e(t)})},t.prototype.getNewDocumentChanges=function(t){var e=this,n=nt();return this.newDocumentChanges.forEach(function(t){var r=e.docs.get(t),i=r?r.maybeDocument:new Ke(t,xn.forDeletedDoc());n=n.insert(t,i)}),this.newDocumentChanges=ot(),Vr.resolve(n)},t.prototype.newChangeBuffer=function(){return new Vi(this.sizer,this)},t.prototype.getSize=function(t){return Vr.resolve(this.size)},t}(),Vi=function(t){function e(e,n){var r=t.call(this)||this;return r.sizer=e,r.documentCache=n,r}return Te.__extends(e,t),e.prototype.applyChanges=function(t){var e=this,n=this.assertChanges(),r=0,i=[];return n.forEach(function(t,n){var o=e.documentSizes.get(t);c(void 0!==o,"Attempting to change document "+t.toString()+" without having read it first");var a=e.sizer(n);r+=a-o,i.push({maybeDocument:n,size:a})}),this.documentCache.addEntries(t,i,r)},e.prototype.getFromCache=function(t,e){return this.documentCache.getSizedEntry(t,e)},e}(zr),Hi=function(){function t(t,e,n){var r=this;this.clientId=t,this.mutationQueues={},this.listenSequence=new Pr(0),this._started=!1,this._started=!0,this.referenceDelegate=e?new Ki(this):new Gi(this,new Ci(n)),this.queryCache=new qi(this);var i=function(t){return r.referenceDelegate.documentSize(t)};this.remoteDocumentCache=new Wi(i)}return t.createLruPersistence=function(e,n){return new t(e,!1,n)},t.createEagerPersistence=function(e,n){return new t(e,!0,n)},t.prototype.shutdown=function(t){return this._started=!1,Promise.resolve()},Object.defineProperty(t.prototype,"started",{get:function(){return this._started},enumerable:!0,configurable:!0}),t.prototype.getActiveClients=function(){return Te.__awaiter(this,void 0,void 0,function(){return Te.__generator(this,function(t){return[2,[this.clientId]]})})},t.prototype.setPrimaryStateListener=function(t){return t(!0)},t.prototype.setNetworkEnabled=function(t){},t.prototype.getMutationQueue=function(t){var e=this.mutationQueues[t.toKey()];return e||(e=new Bi(this.referenceDelegate),this.mutationQueues[t.toKey()]=e),e},t.prototype.getQueryCache=function(){return this.queryCache},t.prototype.getRemoteDocumentCache=function(){return this.remoteDocumentCache},t.prototype.runTransaction=function(t,e,n){var r=this;o("MemoryPersistence","Starting transaction:",t);var i=new zi(this.listenSequence.next());return this.referenceDelegate.onTransactionStarted(),n(i).next(function(t){return r.referenceDelegate.onTransactionCommitted(i).next(function(){return t})}).toPromise()},t.prototype.mutationQueuesContainKey=function(t,e){return Vr.or(y(this.mutationQueues).map(function(n){return function(){return n.containsKey(t,e)}}))},t}(),zi=function(){function t(t){this.currentSequenceNumber=t}return t}(),Ki=function(){function t(t){this.persistence=t}return t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.addReference=function(t,e){return this.orphanedDocuments.delete(e),Vr.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedDocuments.add(e),Vr.resolve()},t.prototype.removeMutationReference=function(t,e){return this.orphanedDocuments.add(e),Vr.resolve()},t.prototype.removeTarget=function(t,e){var n=this,r=this.persistence.getQueryCache();return r.getMatchingKeysForTargetId(t,e.targetId).next(function(t){t.forEach(function(t){return n.orphanedDocuments.add(t)})}).next(function(){return r.removeQueryData(t,e)})},t.prototype.onTransactionStarted=function(){this.orphanedDocuments=new Set},t.prototype.onTransactionCommitted=function(t){var e=this,n=this.persistence.getRemoteDocumentCache();return Vr.forEach(this.orphanedDocuments,function(r){return e.isReferenced(t,r).next(function(e){return e?Vr.resolve():n.removeEntry(t,r).next(function(){})})})},t.prototype.updateLimboDocument=function(t,e){var n=this;return this.isReferenced(t,e).next(function(t){t?n.orphanedDocuments.delete(e):n.orphanedDocuments.add(e)})},t.prototype.documentSize=function(t){return 0},t.prototype.isReferenced=function(t,e){var n=this;return Vr.or([function(){return n.persistence.getQueryCache().containsKey(t,e)},function(){return n.persistence.mutationQueuesContainKey(t,e)},function(){return Vr.resolve(n.inMemoryPins.containsKey(e))}])},t}(),Gi=function(){function t(t,e){this.persistence=t,this.serializer=e,this.orphanedSequenceNumbers=new Hr(function(t){return ht(t.path)}),this.garbageCollector=new Ai(this)}return t.prototype.onTransactionStarted=function(){},t.prototype.onTransactionCommitted=function(t){return Vr.resolve()},t.prototype.forEachTarget=function(t,e){return this.persistence.getQueryCache().forEachTarget(t,e)},t.prototype.getTargetCount=function(t){return this.persistence.getQueryCache().getTargetCount(t)},t.prototype.forEachOrphanedDocumentSequenceNumber=function(t,e){var n=this;return Vr.forEach(this.orphanedSequenceNumbers,function(r,i){return n.isPinned(t,r,i).next(function(t){return t?Vr.resolve():e(i)})})},t.prototype.setInMemoryPins=function(t){this.inMemoryPins=t},t.prototype.removeTargets=function(t,e,n){return this.persistence.getQueryCache().removeTargets(t,e,n)},t.prototype.removeOrphanedDocuments=function(t,e){var n=this,r=0,i=this.persistence.getRemoteDocumentCache();return i.forEachDocumentKey(t,function(o){return n.isPinned(t,o,e).next(function(e){return e?Vr.resolve():(r++,i.removeEntry(t,o).next())})}).next(function(){return r})},t.prototype.removeMutationReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Vr.resolve()},t.prototype.removeTarget=function(t,e){var n=e.copy({sequenceNumber:t.currentSequenceNumber});return this.persistence.getQueryCache().updateQueryData(t,n)},t.prototype.addReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Vr.resolve()},t.prototype.removeReference=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Vr.resolve()},t.prototype.updateLimboDocument=function(t,e){return this.orphanedSequenceNumbers.set(e,t.currentSequenceNumber),Vr.resolve()},t.prototype.documentSize=function(t){var e,n=this.serializer.toDbRemoteDocument(t);if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw u("Unknown remote document type");e=n.noDocument}return JSON.stringify(e).length},t.prototype.isPinned=function(t,e,n){var r=this;return Vr.or([function(){return r.persistence.mutationQueuesContainKey(t,e)},function(){return Vr.resolve(r.inMemoryPins.containsKey(e))},function(){return r.persistence.getQueryCache().containsKey(t,e)},function(){var t=r.orphanedSequenceNumbers.get(e);return Vr.resolve(void 0!==t&&t>n)}])},t}(),Qi=function(){function t(t,e,n,r,i){this.queue=t,this.timerId=e,this.initialDelayMs=n,this.backoffFactor=r,this.maxDelayMs=i,this.timerPromise=null,this.lastAttemptTime=Date.now(),this.reset()}return t.prototype.reset=function(){this.currentBaseMs=0},t.prototype.resetToMax=function(){this.currentBaseMs=this.maxDelayMs},t.prototype.backoffAndRun=function(t){var e=this;this.cancel();var n=Math.floor(this.currentBaseMs+this.jitterDelayMs()),r=Math.max(0,Date.now()-this.lastAttemptTime),i=Math.max(0,n-r);this.currentBaseMs>0&&o("ExponentialBackoff","Backing off for "+i+" ms (base delay: "+this.currentBaseMs+" ms, delay with jitter: "+n+" ms, last attempt: "+r+" ms ago)"),this.timerPromise=this.queue.enqueueAfterDelay(this.timerId,i,function(){return e.lastAttemptTime=Date.now(),t()}),this.currentBaseMs*=this.backoffFactor,this.currentBaseMs<this.initialDelayMs&&(this.currentBaseMs=this.initialDelayMs),this.currentBaseMs>this.maxDelayMs&&(this.currentBaseMs=this.maxDelayMs)},t.prototype.cancel=function(){null!==this.timerPromise&&(this.timerPromise.cancel(),this.timerPromise=null)},t.prototype.jitterDelayMs=function(){return(Math.random()-.5)*this.currentBaseMs},t}();!function(t){t[t.Initial=0]="Initial",t[t.Starting=1]="Starting",t[t.Open=2]="Open",t[t.Error=3]="Error",t[t.Backoff=4]="Backoff"}(Ei||(Ei={}));var Yi,Xi=1e3,$i=6e4,Ji=1.5,Zi=function(){function t(t,e,n,r,i,o){this.queue=t,this.idleTimerId=n,this.connection=r,this.credentialsProvider=i,this.listener=o,this.state=Ei.Initial,this.closeCount=0,this.idleTimer=null,this.stream=null,this.backoff=new Qi(t,e,Xi,Ji,$i)}return t.prototype.isStarted=function(){return this.state===Ei.Starting||this.state===Ei.Open||this.state===Ei.Backoff},t.prototype.isOpen=function(){return this.state===Ei.Open},t.prototype.start=function(){if(this.state===Ei.Error)return void this.performBackoff();c(this.state===Ei.Initial,"Already started"),this.auth()},t.prototype.stop=function(){return Te.__awaiter(this,void 0,void 0,function(){return Te.__generator(this,function(t){switch(t.label){case 0:return this.isStarted()?[4,this.close(Ei.Initial)]:[3,2];case 1:t.sent(),t.label=2;case 2:return[2]}})})},t.prototype.inhibitBackoff=function(){c(!this.isStarted(),"Can only inhibit backoff in a stopped state"),this.state=Ei.Initial,this.backoff.reset()},t.prototype.markIdle=function(){var t=this;this.isOpen()&&null===this.idleTimer&&(this.idleTimer=this.queue.enqueueAfterDelay(this.idleTimerId,6e4,function(){return t.handleIdleCloseTimer()}))},t.prototype.sendRequest=function(t){this.cancelIdleCheck(),this.stream.send(t)},t.prototype.handleIdleCloseTimer=function(){return Te.__awaiter(this,void 0,void 0,function(){return Te.__generator(this,function(t){return this.isOpen()?[2,this.close(Ei.Initial)]:[2]})})},t.prototype.cancelIdleCheck=function(){this.idleTimer&&(this.idleTimer.cancel(),this.idleTimer=null)},t.prototype.close=function(t,e){return Te.__awaiter(this,void 0,void 0,function(){return Te.__generator(this,function(n){switch(n.label){case 0:return c(this.isStarted(),"Only started streams should be closed."),c(t===Ei.Error||Q(e),"Can't provide an error when not in an error state."),this.cancelIdleCheck(),this.backoff.cancel(),this.closeCount++,t!==Ei.Error?this.backoff.reset():e&&e.code===ke.RESOURCE_EXHAUSTED?(a(e.toString()),a("Using maximum backoff delay to prevent overloading the backend."),this.backoff.resetToMax()):e&&e.code===ke.UNAUTHENTICATED&&this.credentialsProvider.invalidateToken(),null!==this.stream&&(this.tearDown(),this.stream.close(),this.stream=null),this.state=t,[4,this.listener.onClose(e)];case 1:return n.sent(),[2]}})})},t.prototype.tearDown=function(){},t.prototype.auth=function(){var t=this;c(this.state===Ei.Initial,"Must be in initial state to auth"),this.state=Ei.Starting;var e=this.getCloseGuardedDispatcher(this.closeCount),n=this.closeCount;this.credentialsProvider.getToken().then(function(e){t.closeCount===n&&t.startStream(e)},function(n){e(function(){var e=new Re(ke.UNKNOWN,"Fetching auth token failed: "+n.message);return t.handleStreamClose(e)})})},t.prototype.startStream=function(t){var e=this;c(this.state===Ei.Starting,"Trying to start stream in a non-starting state");var n=this.getCloseGuardedDispatcher(this.closeCount);this.stream=this.startRpc(t),this.stream.onOpen(function(){n(function(){return c(e.state===Ei.Starting,"Expected stream to be in state Starting, but was "+e.state),e.state=Ei.Open,e.listener.onOpen()})}),this.stream.onClose(function(t){n(function(){return e.handleStreamClose(t)})}),this.stream.onMessage(function(t){n(function(){return e.onMessage(t)})})},t.prototype.performBackoff=function(){var t=this;c(this.state===Ei.Error,"Should only perform backoff when in Error state"),this.state=Ei.Backoff,this.backoff.backoffAndRun(function(){return Te.__awaiter(t,void 0,void 0,function(){return Te.__generator(this,function(t){return c(this.state===Ei.Backoff,"Backoff elapsed but state is now: "+this.state),this.state=Ei.Initial,this.start(),c(this.isStarted(),"PersistentStream should have started"),[2]})})})},t.prototype.handleStreamClose=function(t){return c(this.isStarted(),"Can't handle server close on non-started stream"),o("PersistentStream","close with error: "+t),this.stream=null,this.close(Ei.Error,t)},t.prototype.getCloseGuardedDispatcher=function(t){var e=this;return function(n){e.queue.enqueueAndForget(function(){return e.closeCount===t?n():(o("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())})}},t}(),to=function(t){function e(e,n,r,i,o){var a=t.call(this,e,Rr.ListenStreamConnectionBackoff,Rr.ListenStreamIdle,n,r,o)||this;return a.serializer=i,a}return Te.__extends(e,t),e.prototype.startRpc=function(t){return this.connection.openStream("Listen",t)},e.prototype.onMessage=function(t){this.backoff.reset();var e=this.serializer.fromWatchChange(t),n=this.serializer.versionFromListenResponse(t);return this.listener.onWatchChange(e,n)},e.prototype.watch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.addTarget=this.serializer.toTarget(t);var n=this.serializer.toListenRequestLabels(t);n&&(e.labels=n),this.sendRequest(e)},e.prototype.unwatch=function(t){var e={};e.database=this.serializer.encodedDatabaseId,e.removeTarget=t,this.sendRequest(e)},e}(Zi),eo=function(t){function e(e,n,r,i,o){var a=t.call(this,e,Rr.WriteStreamConnectionBackoff,Rr.WriteStreamIdle,n,r,o)||this;return a.serializer=i,a.handshakeComplete_=!1,a}return Te.__extends(e,t),Object.defineProperty(e.prototype,"handshakeComplete",{get:function(){return this.handshakeComplete_},enumerable:!0,configurable:!0}),e.prototype.start=function(){this.handshakeComplete_=!1,t.prototype.start.call(this)},e.prototype.tearDown=function(){this.handshakeComplete_&&this.writeMutations([])},e.prototype.startRpc=function(t){return this.connection.openStream("Write",t)},e.prototype.onMessage=function(t){if(c(!!t.streamToken,"Got a write response without a stream token"),this.lastStreamToken=t.streamToken,this.handshakeComplete_){this.backoff.reset();var e=this.serializer.fromWriteResults(t.writeResults,t.commitTime),n=this.serializer.fromVersion(t.commitTime);return this.listener.onMutationResult(n,e)}return c(!t.writeResults||0===t.writeResults.length,"Got mutation results for handshake"),this.handshakeComplete_=!0,this.listener.onHandshakeComplete()},e.prototype.writeHandshake=function(){c(this.isOpen(),"Writing handshake requires an opened stream"),c(!this.handshakeComplete_,"Handshake already completed");var t={};t.database=this.serializer.encodedDatabaseId,this.sendRequest(t)},e.prototype.writeMutations=function(t){var e=this;c(this.isOpen(),"Writing mutations requires an opened stream"),c(this.handshakeComplete_,"Handshake must be complete before writing mutations"),c(this.lastStreamToken.length>0,"Trying to write mutation without a token");var n={streamToken:this.lastStreamToken,writes:t.map(function(t){return e.serializer.toMutation(t)})};this.sendRequest(n)},e}(Zi),no=function(){function t(t,e,n,r){this.queue=t,this.connection=e,this.credentials=n,this.serializer=r}return t.prototype.newPersistentWriteStream=function(t){return new eo(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.newPersistentWatchStream=function(t){return new to(this.queue,this.connection,this.credentials,this.serializer,t)},t.prototype.commit=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,writes:t.map(function(t){return e.serializer.toMutation(t)})};return this.invokeRPC("Commit",n).then(function(t){return e.serializer.fromWriteResults(t.writeResults,t.commitTime)})},t.prototype.lookup=function(t){var e=this,n={database:this.serializer.encodedDatabaseId,documents:t.map(function(t){return e.serializer.toName(t)})};return this.invokeStreamingRPC("BatchGetDocuments",n).then(function(n){var r=nt();n.forEach(function(t){var n=e.serializer.fromMaybeDocument(t);r=r.insert(n.key,n)});var i=[];return t.forEach(function(t){var e=r.get(t);c(!!e,"Missing entity in write response for "+t),i.push(e)}),i})},t.prototype.invokeRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeRPC(t,e,r)}).catch(function(t){throw t.code===ke.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t.prototype.invokeStreamingRPC=function(t,e){var n=this;return this.credentials.getToken().then(function(r){return n.connection.invokeStreamingRPC(t,e,r)}).catch(function(t){throw t.code===ke.UNAUTHENTICATED&&n.credentials.invalidateToken(),t})},t}(),ro=function(){function t(t){this.datastore=t,this.readVersions=it(),this.mutations=[],this.committed=!1}return t.prototype.recordVersion=function(t){var e;if(t instanceof ze)e=t.version;else{if(!(t instanceof Ke))throw u("Document in a transaction was a "+t.constructor.name);e=xn.forDeletedDoc()}var n=this.readVersions.get(t.key);if(null!==n){if(!e.isEqual(n))throw new Re(ke.ABORTED,"Document version changed between two reads.")}else this.readVersions=this.readVersions.insert(t.key,e)},t.prototype.lookup=function(t){var e=this;return this.committed?Promise.reject("Transaction has already completed."):this.mutations.length>0?Promise.reject("Transactions lookups are invalid after writes."):this.datastore.lookup(t).then(function(t){return t.forEach(function(t){t instanceof Ke||t instanceof ze?e.recordVersion(t):u("Document in a transaction was a "+t.constructor.name)}),t})},t.prototype.write=function(t){if(this.committed)throw new Re(ke.FAILED_PRECONDITION,"Transaction has already completed.");this.mutations=this.mutations.concat(t)},t.prototype.precondition=function(t){var e=this.readVersions.get(t);return e?Fn.updateTime(e):Fn.NONE},t.prototype.preconditionForUpdate=function(t){var e=this.readVersions.get(t);if(e&&e.isEqual(xn.forDeletedDoc()))throw new Re(ke.FAILED_PRECONDITION,"Can't update a document that doesn't exist.");return e?Fn.updateTime(e):Fn.exists(!0)},t.prototype.set=function(t,e){this.write(e.toMutations(t,this.precondition(t)))},t.prototype.update=function(t,e){this.write(e.toMutations(t,this.preconditionForUpdate(t)))},t.prototype.delete=function(t){this.write([new Hn(t,this.precondition(t))]),this.readVersions=this.readVersions.insert(t,xn.forDeletedDoc())},t.prototype.commit=function(){var t=this,e=this.readVersions;return this.mutations.forEach(function(t){e=e.remove(t.key)}),e.isEmpty()?this.datastore.commit(this.mutations).then(function(){t.committed=!0}):Promise.reject(Error("Every document read in a transaction must also be written."))},t}();!function(t){t[t.Unknown=0]="Unknown",t[t.Online=1]="Online",t[t.Offline=2]="Offline"}(Yi||(Yi={}));var io;!function(t){t[t.RemoteStore=0]="RemoteStore",t[t.SharedClientState=1]="SharedClientState"}(io||(io={}));var oo,ao=function(){function t(t,e){this.asyncQueue=t,this.onlineStateHandler=e,this.state=Yi.Unknown,this.watchStreamFailures=0,this.onlineStateTimer=null,this.shouldWarnClientIsOffline=!0}return t.prototype.handleWatchStreamStart=function(){var t=this;0===this.watchStreamFailures&&(this.setAndBroadcast(Yi.Unknown),c(null===this.onlineStateTimer,"onlineStateTimer shouldn't be started yet"),this.onlineStateTimer=this.asyncQueue.enqueueAfterDelay(Rr.OnlineStateTimeout,1e4,function(){return t.onlineStateTimer=null,c(t.state===Yi.Unknown,"Timer should be canceled if we transitioned to a different state."),t.logClientOfflineWarningIfNecessary("Backend didn't respond within 10 seconds."),t.setAndBroadcast(Yi.Offline),Promise.resolve()}))},t.prototype.handleWatchStreamFailure=function(t){this.state===Yi.Online?(this.setAndBroadcast(Yi.Unknown),c(0===this.watchStreamFailures,"watchStreamFailures must be 0"),c(null===this.onlineStateTimer,"onlineStateTimer must be null")):++this.watchStreamFailures>=1&&(this.clearOnlineStateTimer(),this.logClientOfflineWarningIfNecessary("Connection failed 1 times. Most recent error: "+t.toString()),this.setAndBroadcast(Yi.Offline))},t.prototype.set=function(t){this.clearOnlineStateTimer(),this.watchStreamFailures=0,t===Yi.Online&&(this.shouldWarnClientIsOffline=!1),this.setAndBroadcast(t)},t.prototype.setAndBroadcast=function(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))},t.prototype.logClientOfflineWarningIfNecessary=function(t){var e="Could not reach Cloud Firestore backend. "+t+"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.";this.shouldWarnClientIsOffline?(a(e),this.shouldWarnClientIsOffline=!1):o("OnlineStateTracker",e)},t.prototype.clearOnlineStateTimer=function(){null!==this.onlineStateTimer&&(this.onlineStateTimer.cancel(),this.onlineStateTimer=null)},t}(),so=function(){function t(t,e,n,r){this.localStore=t,this.datastore=e,this.writePipeline=[],this.listenTargets={},this.watchChangeAggregator=null,this.networkEnabled=!1,this.isPrimary=!1,this.onlineStateTracker=new ao(n,r),this.watchStream=this.datastore.newPersistentWatchStream({onOpen:this.onWatchStreamOpen.bind(this),onClose:this.onWatchStreamClose.bind(this),onWatchChange:this.onWatchStreamChange.bind(this)}),this.writeStream=this.datastore.newPersistentWriteStream({onOpen:this.onWriteStreamOpen.bind(this),onClose:this.onWriteStreamClose.bind(this),onHandshakeComplete:this.onWriteHandshakeComplete.bind(this),onMutationResult:this.onMutationResult.bind(this)})}return t.prototype.start=function(){return this.enableNetwork()},t.prototype.enableNetwork=function(){return Te.__awaiter(this,void 0,void 0,function(){var t;return Te.__generator(this,function(e){switch(e.label){case 0:return this.networkEnabled=!0,this.canUseNetwork()?(t=this.writeStream,[4,this.localStore.getLastStreamToken()]):[3,3];case 1:return t.lastStreamToken=e.sent(),this.shouldStartWatchStream()?this.startWatchStream():this.onlineStateTracker.set(Yi.Unknown),[4,this.fillWritePipeline()];case 2:e.sent(),e.label=3;case 3:return[2]}})})},t.prototype.disableNetwork=function(){return Te.__awaiter(this,void 0,void 0,function(){return Te.__generator(this,function(t){switch(t.label){case 0:return this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(Yi.Offline),[2]}})})},t.prototype.disableNetworkInternal=function(){return Te.__awaiter(this,void 0,void 0,function(){return Te.__generator(this,function(t){switch(t.label){case 0:return[4,this.writeStream.stop()];case 1:return t.sent(),[4,this.watchStream.stop()];case 2:return t.sent(),this.writePipeline.length>0&&(o("RemoteStore","Stopping write stream with "+this.writePipeline.length+" pending writes"),this.writePipeline=[]),this.cleanUpWatchStreamState(),[2]}})})},t.prototype.shutdown=function(){return Te.__awaiter(this,void 0,void 0,function(){return Te.__generator(this,function(t){switch(t.label){case 0:return o("RemoteStore","RemoteStore shutting down."),this.networkEnabled=!1,[4,this.disableNetworkInternal()];case 1:return t.sent(),this.onlineStateTracker.set(Yi.Unknown),[2]}})})},t.prototype.listen=function(t){c(!h(this.listenTargets,t.targetId),"listen called with duplicate targetId!"),this.listenTargets[t.targetId]=t,this.shouldStartWatchStream()?this.startWatchStream():this.watchStream.isOpen()&&this.sendWatchRequest(t)},t.prototype.unlisten=function(t){c(h(this.listenTargets,t),"unlisten called without assigned target ID!"),delete this.listenTargets[t],this.watchStream.isOpen()&&this.sendUnwatchRequest(t),v(this.listenTargets)&&(this.watchStream.isOpen()?this.watchStream.markIdle():this.canUseNetwork()&&this.onlineStateTracker.set(Yi.Unknown))},t.prototype.getQueryDataForTarget=function(t){return this.listenTargets[t]||null},t.prototype.getRemoteKeysForTarget=function(t){return this.syncEngine.getRemoteKeysForTarget(t)},t.prototype.sendWatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t.targetId),this.watchStream.watch(t)},t.prototype.sendUnwatchRequest=function(t){this.watchChangeAggregator.recordPendingTargetRequest(t),this.watchStream.unwatch(t)},t.prototype.startWatchStream=function(){c(this.shouldStartWatchStream(),"startWatchStream() called when shouldStartWatchStream() is false."),this.watchChangeAggregator=new dr(this),this.watchStream.start(),this.onlineStateTracker.handleWatchStreamStart()},t.prototype.shouldStartWatchStream=function(){return this.canUseNetwork()&&!this.watchStream.isStarted()&&!v(this.listenTargets)},t.prototype.canUseNetwork=function(){return this.isPrimary&&this.networkEnabled},t.prototype.cleanUpWatchStreamState=function(){this.watchChangeAggregator=null},t.prototype.onWatchStreamOpen=function(){return Te.__awaiter(this,void 0,void 0,function(){var t=this;return Te.__generator(this,function(e){return p(this.listenTargets,function(e,n){t.sendWatchRequest(n)}),[2]})})},t.prototype.onWatchStreamClose=function(t){return Te.__awaiter(this,void 0,void 0,function(){return Te.__generator(this,function(e){return void 0===t&&c(!this.shouldStartWatchStream(),"Watch stream was stopped gracefully while still needed."),this.cleanUpWatchStreamState(),this.shouldStartWatchStream()?(this.onlineStateTracker.handleWatchStreamFailure(t),this.startWatchStream()):this.onlineStateTracker.set(Yi.Unknown),[2]})})},t.prototype.onWatchStreamChange=function(t,e){return Te.__awaiter(this,void 0,void 0,function(){var n;return Te.__generator(this,function(r){switch(r.label){case 0:return this.onlineStateTracker.set(Yi.Online),t instanceof lr&&t.state===ir.Removed&&t.cause?[2,this.handleTargetError(t)]:(t instanceof cr?this.watchChangeAggregator.handleDocumentChange(t):t instanceof fr?this.watchChangeAggregator.handleExistenceFilter(t):(c(t instanceof lr,"Expected watchChange to be an instance of WatchTargetChange"),this.watchChangeAggregator.handleTargetChange(t)),e.isEqual(xn.MIN)?[3,3]:[4,this.localStore.getLastRemoteSnapshotVersion()]);case 1:return n=r.sent(),e.compareTo(n)>=0?[4,this.raiseWatchSnapshot(e)]:[3,3];case 2:r.sent(),r.label=3;case 3:return[2]}})})},t.prototype.raiseWatchSnapshot=function(t){var e=this;c(!t.isEqual(xn.MIN),"Can't raise event for unknown SnapshotVersion");var n=this.watchChangeAggregator.createRemoteEvent(t);return p(n.targetChanges,function(n,r){if(r.resumeToken.length>0){var i=e.listenTargets[n];i&&(e.listenTargets[n]=i.copy({resumeToken:r.resumeToken,snapshotVersion:t}))}}),n.targetMismatches.forEach(function(t){var n=e.listenTargets[t];if(n){e.listenTargets[t]=n.copy({resumeToken:f()}),e.sendUnwatchRequest(t);var r=new Nn(n.query,t,tn.ExistenceFilterMismatch,n.sequenceNumber);e.sendWatchRequest(r)}}),this.syncEngine.applyRemoteEvent(n)},t.prototype.handleTargetError=function(t){var e=this;c(!!t.cause,"Handling target error without a cause");var n=t.cause,r=Promise.resolve();return t.targetIds.forEach(function(t){r=r.then(function(){return Te.__awaiter(e,void 0,void 0,function(){return Te.__generator(this,function(e){return h(this.listenTargets,t)?(delete this.listenTargets[t],this.watchChangeAggregator.removeTarget(t),[2,this.syncEngine.rejectListen(t,n)]):[2]})})})}),r},t.prototype.fillWritePipeline=function(){return Te.__awaiter(this,void 0,void 0,function(){var t,e;return Te.__generator(this,function(n){switch(n.label){case 0:return this.canAddToWritePipeline()?(t=this.writePipeline.length>0?this.writePipeline[this.writePipeline.length-1].batchId:Br,[4,this.localStore.nextMutationBatch(t)]):[3,4];case 1:return null!==(e=n.sent())?[3,2]:(0===this.writePipeline.length&&this.writeStream.markIdle(),[3,4]);case 2:return this.addToWritePipeline(e),[4,this.fillWritePipeline()];case 3:n.sent(),n.label=4;case 4:return this.shouldStartWriteStream()&&this.startWriteStream(),[2]}})})},t.prototype.canAddToWritePipeline=function(){return this.canUseNetwork()&&this.writePipeline.length<10},t.prototype.outstandingWrites=function(){return this.writePipeline.length},t.prototype.addToWritePipeline=function(t){c(this.canAddToWritePipeline(),"addToWritePipeline called when pipeline is full"),this.writePipeline.push(t),this.writeStream.isOpen()&&this.writeStream.handshakeComplete&&this.writeStream.writeMutations(t.mutations)},t.prototype.shouldStartWriteStream=function(){return this.canUseNetwork()&&!this.writeStream.isStarted()&&this.writePipeline.length>0},t.prototype.startWriteStream=function(){c(this.shouldStartWriteStream(),"startWriteStream() called when shouldStartWriteStream() is false."),this.writeStream.start()},t.prototype.onWriteStreamOpen=function(){return Te.__awaiter(this,void 0,void 0,function(){return Te.__generator(this,function(t){return this.writeStream.writeHandshake(),[2]})})},t.prototype.onWriteHandshakeComplete=function(){var t=this;return this.localStore.setLastStreamToken(this.writeStream.lastStreamToken).then(function(){for(var e=0,n=t.writePipeline;e<n.length;e++){var r=n[e];t.writeStream.writeMutations(r.mutations)}}).catch(function(e){return t.ignoreIfPrimaryLeaseLoss(e)})},t.prototype.ignoreIfPrimaryLeaseLoss=function(t){if(!Gt(t))throw t;o("RemoteStore","Unexpectedly lost primary lease")},t.prototype.onMutationResult=function(t,e){var n=this;c(this.writePipeline.length>0,"Got result for empty write pipeline");var r=this.writePipeline.shift(),i=Wr.from(r,t,e,this.writeStream.lastStreamToken);return this.syncEngine.applySuccessfulWrite(i).then(function(){return n.fillWritePipeline()})},t.prototype.onWriteStreamClose=function(t){return Te.__awaiter(this,void 0,void 0,function(){var e,n=this;return Te.__generator(this,function(r){return void 0===t&&c(!this.shouldStartWriteStream(),"Write stream was stopped gracefully while still needed."),t&&this.writePipeline.length>0?(e=void 0,e=this.writeStream.handshakeComplete?this.handleWriteError(t):this.handleHandshakeError(t),[2,e.then(function(){n.shouldStartWriteStream()&&n.startWriteStream()})]):[2]})})},t.prototype.handleHandshakeError=function(t){return Te.__awaiter(this,void 0,void 0,function(){var e=this;return Te.__generator(this,function(n){return $(t.code)||t.code===ke.ABORTED?(o("RemoteStore","RemoteStore error before completed handshake; resetting stream token: ",this.writeStream.lastStreamToken),this.writeStream.lastStreamToken=f(),[2,this.localStore.setLastStreamToken(f()).catch(function(t){return e.ignoreIfPrimaryLeaseLoss(t)})]):[2]})})},t.prototype.handleWriteError=function(t){return Te.__awaiter(this,void 0,void 0,function(){var e,n=this;return Te.__generator(this,function(r){return $(t.code)?(e=this.writePipeline.shift(),this.writeStream.inhibitBackoff(),[2,this.syncEngine.rejectFailedWrite(e.batchId,t).then(function(){return n.fillWritePipeline()})]):[2]})})},t.prototype.createTransaction=function(){return new ro(this.datastore)},t.prototype.handleCredentialChange=function(){return Te.__awaiter(this,void 0,void 0,function(){return Te.__generator(this,function(t){switch(t.label){case 0:return this.canUseNetwork()?(o("RemoteStore","RemoteStore restarting streams for new credential"),this.networkEnabled=!1,[4,this.disableNetworkInternal()]):[3,3];case 1:return t.sent(),this.onlineStateTracker.set(Yi.Unknown),[4,this.enableNetwork()];case 2:t.sent(),t.label=3;case 3:return[2]}})})},t.prototype.applyPrimaryState=function(t){return Te.__awaiter(this,void 0,void 0,function(){return Te.__generator(this,function(e){switch(e.label){case 0:return this.isPrimary=t,t&&this.networkEnabled?[4,this.enableNetwork()]:[3,2];case 1:return e.sent(),[3,4];case 2:return t?[3,4]:[4,this.disableNetworkInternal()];case 3:e.sent(),this.onlineStateTracker.set(Yi.Unknown),e.label=4;case 4:return[2]}})})},t}(),uo=function(){function t(){this.listeners=[]}return t}(),co=function(){function t(t){this.syncEngine=t,this.queries=new Hr(function(t){return t.canonicalId()}),this.onlineState=Yi.Unknown,this.syncEngine.subscribe(this)}return t.prototype.listen=function(t){var e=t.query,n=!1,r=this.queries.get(e);return r||(n=!0,r=new uo,this.queries.set(e,r)),r.listeners.push(t),t.applyOnlineStateChange(this.onlineState),r.viewSnap&&t.onViewSnapshot(r.viewSnap),n?this.syncEngine.listen(e).then(function(t){return r.targetId=t,t}):Promise.resolve(r.targetId)},t.prototype.unlisten=function(t){return Te.__awaiter(this,void 0,void 0,function(){var e,n,r,i;return Te.__generator(this,function(o){return e=t.query,n=!1,r=this.queries.get(e),r&&(i=r.listeners.indexOf(t))>=0&&(r.listeners.splice(i,1),n=0===r.listeners.length),n?(this.queries.delete(e),[2,this.syncEngine.unlisten(e)]):[2]})})},t.prototype.onWatchChange=function(t){for(var e=0,n=t;e<n.length;e++){var r=n[e],i=r.query,o=this.queries.get(i);if(o){for(var a=0,s=o.listeners;a<s.length;a++){s[a].onViewSnapshot(r)}o.viewSnap=r}}},t.prototype.onWatchError=function(t,e){var n=this.queries.get(t);if(n)for(var r=0,i=n.listeners;r<i.length;r++){var o=i[r];o.onError(e)}this.queries.delete(t)},t.prototype.onOnlineStateChange=function(t){this.onlineState=t,this.queries.forEach(function(e,n){for(var r=0,i=n.listeners;r<i.length;r++){i[r].applyOnlineStateChange(t)}})},t}(),fo=function(){function t(t,e,n){this.query=t,this.queryObserver=e,this.raisedInitialEvent=!1,this.onlineState=Yi.Unknown,this.options=n||{}}return t.prototype.onViewSnapshot=function(t){if(c(t.docChanges.length>0||t.syncStateChanged,"We got a new snapshot with no changes?"),!this.options.includeMetadataChanges){for(var e=[],n=0,r=t.docChanges;n<r.length;n++){var i=r[n];i.type!==Yn.Metadata&&e.push(i)}t=new ar(t.query,t.docs,t.oldDocs,e,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0)}this.raisedInitialEvent?this.shouldRaiseEvent(t)&&this.queryObserver.next(t):this.shouldRaiseInitialEvent(t,this.onlineState)&&this.raiseInitialEvent(t),this.snap=t},t.prototype.onError=function(t){this.queryObserver.error(t)},t.prototype.applyOnlineStateChange=function(t){this.onlineState=t,this.snap&&!this.raisedInitialEvent&&this.shouldRaiseInitialEvent(this.snap,t)&&this.raiseInitialEvent(this.snap)},t.prototype.shouldRaiseInitialEvent=function(t,e){if(c(!this.raisedInitialEvent,"Determining whether to raise first event but already had first event"),!t.fromCache)return!0;var n=e!==Yi.Offline;return this.options.waitForSyncWhenOnline&&n?(c(t.fromCache,"Waiting for sync, but snapshot is not from cache"),!1):!t.docs.isEmpty()||e===Yi.Offline},t.prototype.shouldRaiseEvent=function(t){if(t.docChanges.length>0)return!0;var e=this.snap&&this.snap.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!e)&&!0===this.options.includeMetadataChanges},t.prototype.raiseInitialEvent=function(t){c(!this.raisedInitialEvent,"Trying to raise initial events for second time"),t=ar.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache),this.raisedInitialEvent=!0,this.queryObserver.next(t)},t}(),lo=function(){function t(t,e,n){this.targetId=t,this.addedKeys=e,this.removedKeys=n}return t.fromSnapshot=function(e,n){for(var r=ot(),i=ot(),o=0,a=n.docChanges;o<a.length;o++){var s=a[o];switch(s.type){case Yn.Added:r=r.add(s.doc.key);break;case Yn.Removed:i=i.add(s.doc.key)}}return new t(e,r,i)},t}(),ho=function(){function t(t){this.key=t}return t}(),po=function(){function t(t){this.key=t}return t}(),yo=function(){function t(t,e){this.query=t,this._syncedDocuments=e,this.syncState=null,this.current=!1,this.limboDocuments=ot(),this.mutatedKeys=ot(),this.documentSet=new nr(t.docComparator.bind(t))}return Object.defineProperty(t.prototype,"syncedDocuments",{get:function(){return this._syncedDocuments},enumerable:!0,configurable:!0}),t.prototype.computeDocChanges=function(t,e){var n=this,r=e?e.changeSet:new or,i=e?e.documentSet:this.documentSet,o=e?e.mutatedKeys:this.mutatedKeys,a=i,s=!1,u=this.query.hasLimit()&&i.size===this.query.limit?i.last():null;if(t.inorderTraversal(function(t,e){var f=i.get(t),l=e instanceof ze?e:null;l&&(c(t.isEqual(l.key),"Mismatching keys found in document changes: "+t+" != "+l.key),l=n.query.matches(l)?l:null);var h=!!f&&n.mutatedKeys.has(f.key),d=!!l&&(l.hasLocalMutations||n.mutatedKeys.has(l.key)&&l.hasCommittedMutations),p=!1;if(f&&l){f.data.isEqual(l.data)?h!==d&&(r.track({type:Yn.Metadata,doc:l}),p=!0):n.shouldWaitForSyncedDocument(f,l)||(r.track({type:Yn.Modified,doc:l}),p=!0,u&&n.query.docComparator(l,u)>0&&(s=!0))}else!f&&l?(r.track({type:Yn.Added,doc:l}),p=!0):f&&!l&&(r.track({type:Yn.Removed,doc:f}),p=!0,u&&(s=!0));p&&(l?(a=a.add(l),o=d?o.add(t):o.delete(t)):(a=a.delete(t),o=o.delete(t)))}),this.query.hasLimit())for(;a.size>this.query.limit;){var f=a.last();a=a.delete(f.key),o=o.delete(f.key),r.track({type:Yn.Removed,doc:f})}return c(!s||!e,"View was refilled using docs that themselves needed refilling."),{documentSet:a,changeSet:r,needsRefill:s,mutatedKeys:o}},t.prototype.shouldWaitForSyncedDocument=function(t,e){return t.hasLocalMutations&&e.hasCommittedMutations&&!e.hasLocalMutations},t.prototype.applyChanges=function(t,e,n){var r=this;c(!t.needsRefill,"Cannot apply changes that need a refill");var i=this.documentSet;this.documentSet=t.documentSet,this.mutatedKeys=t.mutatedKeys;var o=t.changeSet.getChanges();o.sort(function(t,e){return te(t.type,e.type)||r.query.docComparator(t.doc,e.doc)}),this.applyTargetChange(n);var a=e?this.updateLimboDocuments():[],s=0===this.limboDocuments.size&&this.current,u=s?rr.Synced:rr.Local,f=u!==this.syncState;if(this.syncState=u,0!==o.length||f){return{snapshot:new ar(this.query,t.documentSet,i,o,t.mutatedKeys,u===rr.Local,f,!1),limboChanges:a}}return{limboChanges:a}},t.prototype.applyOnlineStateChange=function(t){return this.current&&t===Yi.Offline?(this.current=!1,this.applyChanges({documentSet:this.documentSet,changeSet:new or,mutatedKeys:this.mutatedKeys,needsRefill:!1},!1)):{limboChanges:[]}},t.prototype.shouldBeInLimbo=function(t){return!this._syncedDocuments.has(t)&&(!!this.documentSet.has(t)&&!this.documentSet.get(t).hasLocalMutations)},t.prototype.applyTargetChange=function(t){var e=this;t&&(t.addedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.add(t)}),t.modifiedDocuments.forEach(function(t){return c(e._syncedDocuments.has(t),"Modified document "+t+" not found in view.")}),t.removedDocuments.forEach(function(t){return e._syncedDocuments=e._syncedDocuments.delete(t)}),this.current=t.current)},t.prototype.updateLimboDocuments=function(){var t=this;if(!this.current)return[];var e=this.limboDocuments;this.limboDocuments=ot(),this.documentSet.forEach(function(e){t.shouldBeInLimbo(e.key)&&(t.limboDocuments=t.limboDocuments.add(e.key))});var n=[];return e.forEach(function(e){t.limboDocuments.has(e)||n.push(new po(e))}),this.limboDocuments.forEach(function(t){e.has(t)||n.push(new ho(t))}),n},t.prototype.synchronizeWithPersistedState=function(t,e){this._syncedDocuments=e,this.limboDocuments=ot();var n=this.computeDocChanges(t);return this.applyChanges(n,!0)},t.prototype.computeInitialSnapshot=function(){return ar.fromInitialDocuments(this.query,this.documentSet,this.mutatedKeys,this.syncState===rr.Local)},t}(),mo=function(){function t(t,e,n){this.query=t,this.targetId=e,this.view=n}return t}(),vo=function(){function t(t){this.key=t}return t}(),go=function(){function t(t,e,n,r){this.localStore=t,this.remoteStore=e,this.sharedClientState=n,this.currentUser=r,this.syncEngineListener=null,this.queryViewsByQuery=new Hr(function(t){return t.canonicalId()}),this.queryViewsByTarget={},this.limboTargetsByKey=new Qe(Ve.comparator),this.limboResolutionsByTarget={},this.limboDocumentRefs=new ji,this.mutationUserCallbacks={},this.limboTargetIdGenerator=Si.forSyncEngine(),this.isPrimary=void 0,this.onlineState=Yi.Unknown}return Object.defineProperty(t.prototype,"isPrimaryClient",{get:function(){return!0===this.isPrimary},enumerable:!0,configurable:!0}),t.prototype.subscribe=function(t){c(null!==t,"SyncEngine listener cannot be null"),c(null===this.syncEngineListener,"SyncEngine already has a subscriber."),this.syncEngineListener=t},t.prototype.listen=function(t){return Te.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o;return Te.__generator(this,function(a){switch(a.label){case 0:return this.assertSubscribed("listen()"),(r=this.queryViewsByQuery.get(t))?(e=r.targetId,this.sharedClientState.addLocalQueryTarget(e),n=r.view.computeInitialSnapshot(),[3,4]):[3,1];case 1:return[4,this.localStore.allocateQuery(t)];case 2:return i=a.sent(),o=this.sharedClientState.addLocalQueryTarget(i.targetId),e=i.targetId,[4,this.initializeViewAndComputeSnapshot(i,"current"===o)];case 3:n=a.sent(),this.isPrimary&&this.remoteStore.listen(i),a.label=4;case 4:return this.syncEngineListener.onWatchChange([n]),[2,e]}})})},t.prototype.initializeViewAndComputeSnapshot=function(t,e){var n=this,r=t.query;return this.localStore.executeQuery(r).then(function(i){return n.localStore.remoteDocumentKeys(t.targetId).then(function(o){var a=new yo(r,o),s=a.computeDocChanges(i),u=ur.createSynthesizedTargetChangeForCurrentChange(t.targetId,e&&n.onlineState!==Yi.Offline),f=a.applyChanges(s,!0===n.isPrimary,u);c(0===f.limboChanges.length,"View returned limbo docs before target ack from the server."),c(!!f.snapshot,"applyChanges for new view should always return a snapshot");var l=new mo(r,t.targetId,a);return n.queryViewsByQuery.set(r,l),n.queryViewsByTarget[t.targetId]=l,f.snapshot})})},t.prototype.synchronizeViewAndComputeSnapshot=function(t){var e=this;return this.localStore.executeQuery(t.query).then(function(n){return e.localStore.remoteDocumentKeys(t.targetId).then(function(r){return Te.__awaiter(e,void 0,void 0,function(){var e;return Te.__generator(this,function(i){return e=t.view.synchronizeWithPersistedState(n,r),this.isPrimary&&this.updateTrackedLimbos(t.targetId,e.limboChanges),[2,e]})})})})},t.prototype.unlisten=function(t){return Te.__awaiter(this,void 0,void 0,function(){var e,n,r=this;return Te.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("unlisten()"),(e=this.queryViewsByQuery.get(t),c(!!e,"Trying to unlisten on query not found:"+t),this.isPrimary)?(this.sharedClientState.removeLocalQueryTarget(e.targetId),n=this.sharedClientState.isActiveQueryTarget(e.targetId),n?[3,2]:[4,this.localStore.releaseQuery(t,!1).then(function(){r.sharedClientState.clearQueryState(e.targetId),r.remoteStore.unlisten(e.targetId),r.removeAndCleanupQuery(e)}).catch(function(t){return r.ignoreIfPrimaryLeaseLoss(t)})]):[3,3];case 1:i.sent(),i.label=2;case 2:return[3,5];case 3:return this.removeAndCleanupQuery(e),[4,this.localStore.releaseQuery(t,!0)];case 4:i.sent(),i.label=5;case 5:return[2]}})})},t.prototype.write=function(t,e){var n=this;return this.assertSubscribed("write()"),this.localStore.localWrite(t).then(function(t){return n.sharedClientState.addPendingMutation(t.batchId),n.addMutationCallback(t.batchId,e),n.emitNewSnapsAndNotifyLocalStore(t.changes)}).then(function(){return n.remoteStore.fillWritePipeline()})},t.prototype.wrapUpdateFunctionError=function(t){return t},t.prototype.runTransaction=function(t,e){var n=this;void 0===e&&(e=5),c(e>=0,"Got negative number of retries for transaction.");var r=this.remoteStore.createTransaction();return function(){try{var e=t(r);return!Q(e)&&e.catch&&e.then?e.catch(function(t){return Promise.reject(n.wrapUpdateFunctionError(t))}):Promise.reject(Error("Transaction callback must return a Promise"))}catch(t){return Promise.reject(n.wrapUpdateFunctionError(t))}}().then(function(i){return r.commit().then(function(){return i}).catch(function(r){return 0===e?Promise.reject(r):n.runTransaction(t,e-1)})})},t.prototype.applyRemoteEvent=function(t){var e=this;return this.assertSubscribed("applyRemoteEvent()"),this.localStore.applyRemoteEvent(t).then(function(n){return m(t.targetChanges,function(t,n){var r=e.limboResolutionsByTarget[t];r&&(c(n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size<=1,"Limbo resolution for single document contains multiple changes."),n.addedDocuments.size>0?r.receivedDocument=!0:n.modifiedDocuments.size>0?c(r.receivedDocument,"Received change for limbo target document without add."):n.removedDocuments.size>0&&(c(r.receivedDocument,"Received remove for limbo target document without add."),r.receivedDocument=!1))}),e.emitNewSnapsAndNotifyLocalStore(n,t)}).catch(function(t){return e.ignoreIfPrimaryLeaseLoss(t)})},t.prototype.applyOnlineStateChange=function(t,e){if(this.isPrimary&&e===io.RemoteStore||!this.isPrimary&&e===io.SharedClientState){var n=[];this.queryViewsByQuery.forEach(function(e,r){var i=r.view.applyOnlineStateChange(t);c(0===i.limboChanges.length,"OnlineState should not affect limbo documents."),i.snapshot&&n.push(i.snapshot)}),this.syncEngineListener.onOnlineStateChange(t),this.syncEngineListener.onWatchChange(n),this.onlineState=t,this.isPrimary&&this.sharedClientState.setOnlineState(t)}},t.prototype.rejectListen=function(t,e){return Te.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,s,u=this;return Te.__generator(this,function(f){switch(f.label){case 0:return this.assertSubscribed("rejectListens()"),(this.sharedClientState.updateQueryState(t,"rejected",e),n=this.limboResolutionsByTarget[t],r=n&&n.key)?(this.limboTargetsByKey=this.limboTargetsByKey.remove(r),delete this.limboResolutionsByTarget[t],i=new Qe(Ve.comparator),i=i.insert(r,new Ke(r,xn.forDeletedDoc())),o=ot().add(r),a=new sr(xn.MIN,{},new Xn(B),i,o),[2,this.applyRemoteEvent(a)]):[3,1];case 1:return s=this.queryViewsByTarget[t],c(!!s,"Unknown targetId: "+t),[4,this.localStore.releaseQuery(s.query,!1).then(function(){return u.removeAndCleanupQuery(s)}).catch(function(t){return u.ignoreIfPrimaryLeaseLoss(t)})];case 2:f.sent(),this.syncEngineListener.onWatchError(s.query,e),f.label=3;case 3:return[2]}})})},t.prototype.applyBatchState=function(t,e,n){return Te.__awaiter(this,void 0,void 0,function(){var r;return Te.__generator(this,function(i){switch(i.label){case 0:return this.assertSubscribed("applyBatchState()"),[4,this.localStore.lookupMutationDocuments(t)];case 1:return r=i.sent(),null===r?(o("SyncEngine","Cannot apply mutation batch with id: "+t),[2]):"pending"!==e?[3,3]:[4,this.remoteStore.fillWritePipeline()];case 2:return i.sent(),[3,4];case 3:"acknowledged"===e||"rejected"===e?(this.processUserCallback(t,n||null),this.localStore.removeCachedMutationBatchMetadata(t)):u("Unknown batchState: "+e),i.label=4;case 4:return[4,this.emitNewSnapsAndNotifyLocalStore(r)];case 5:return i.sent(),[2]}})})},t.prototype.applySuccessfulWrite=function(t){var e=this;this.assertSubscribed("applySuccessfulWrite()");var n=t.batch.batchId;return this.processUserCallback(n,null),this.localStore.acknowledgeBatch(t).then(function(t){return e.sharedClientState.updateMutationState(n,"acknowledged"),e.emitNewSnapsAndNotifyLocalStore(t)}).catch(function(t){return e.ignoreIfPrimaryLeaseLoss(t)})},t.prototype.rejectFailedWrite=function(t,e){var n=this;return this.assertSubscribed("rejectFailedWrite()"),this.processUserCallback(t,e),this.localStore.rejectBatch(t).then(function(r){return n.sharedClientState.updateMutationState(t,"rejected",e),n.emitNewSnapsAndNotifyLocalStore(r)}).catch(function(t){return n.ignoreIfPrimaryLeaseLoss(t)})},t.prototype.addMutationCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];n||(n=new Qe(B)),n=n.insert(t,e),this.mutationUserCallbacks[this.currentUser.toKey()]=n},t.prototype.processUserCallback=function(t,e){var n=this.mutationUserCallbacks[this.currentUser.toKey()];if(n){var r=n.get(t);r&&(c(t===n.minKey(),"Mutation callbacks processed out-of-order?"),e?r.reject(e):r.resolve(),n=n.remove(t)),this.mutationUserCallbacks[this.currentUser.toKey()]=n}},t.prototype.removeAndCleanupQuery=function(t){var e=this;if(this.sharedClientState.removeLocalQueryTarget(t.targetId),this.queryViewsByQuery.delete(t.query),delete this.queryViewsByTarget[t.targetId],this.isPrimary){var n=this.limboDocumentRefs.referencesForId(t.targetId);this.limboDocumentRefs.removeReferencesForId(t.targetId),n.forEach(function(t){e.limboDocumentRefs.containsKey(t)||e.removeLimboTarget(t)})}},t.prototype.removeLimboTarget=function(t){var e=this.limboTargetsByKey.get(t);null!==e&&(this.remoteStore.unlisten(e),this.limboTargetsByKey=this.limboTargetsByKey.remove(t),delete this.limboResolutionsByTarget[e])},t.prototype.updateTrackedLimbos=function(t,e){for(var n=0,r=e;n<r.length;n++){var i=r[n];if(i instanceof ho)this.limboDocumentRefs.addReference(i.key,t),this.trackLimboChange(i);else if(i instanceof po){o("SyncEngine","Document no longer in limbo: "+i.key),this.limboDocumentRefs.removeReference(i.key,t);var a=this.limboDocumentRefs.containsKey(i.key);a||this.removeLimboTarget(i.key)}else u("Unknown limbo change: "+JSON.stringify(i))}},t.prototype.trackLimboChange=function(t){var e=t.key;if(!this.limboTargetsByKey.get(e)){o("SyncEngine","New document in limbo: "+e);var n=this.limboTargetIdGenerator.next(),r=wn.atPath(e.path);this.limboResolutionsByTarget[n]=new vo(e),this.remoteStore.listen(new Nn(r,n,tn.LimboResolution,Pr.INVALID)),this.limboTargetsByKey=this.limboTargetsByKey.insert(e,n)}},t.prototype.currentLimboDocs=function(){return this.limboTargetsByKey},t.prototype.emitNewSnapsAndNotifyLocalStore=function(t,e){return Te.__awaiter(this,void 0,void 0,function(){var n,r,i,o=this;return Te.__generator(this,function(a){switch(a.label){case 0:return n=[],r=[],i=[],this.queryViewsByQuery.forEach(function(a,s){i.push(Promise.resolve().then(function(){var e=s.view.computeDocChanges(t);return e.needsRefill?o.localStore.executeQuery(s.query).then(function(t){return s.view.computeDocChanges(t,e)}):e}).then(function(t){var i=e&&e.targetChanges[s.targetId],a=s.view.applyChanges(t,!0===o.isPrimary,i);if(o.updateTrackedLimbos(s.targetId,a.limboChanges),a.snapshot){o.isPrimary&&o.sharedClientState.updateQueryState(s.targetId,a.snapshot.fromCache?"not-current":"current"),n.push(a.snapshot);var u=lo.fromSnapshot(s.targetId,a.snapshot);r.push(u)}}))}),[4,Promise.all(i)];case 1:return a.sent(),this.syncEngineListener.onWatchChange(n),[4,this.localStore.notifyLocalViewChanges(r)];case 2:return a.sent(),[2]}})})},t.prototype.ignoreIfPrimaryLeaseLoss=function(t){return Te.__awaiter(this,void 0,void 0,function(){return Te.__generator(this,function(e){if(!Gt(t))throw t;return o("SyncEngine","Unexpectedly lost primary lease"),[2]})})},t.prototype.assertSubscribed=function(t){c(null!==this.syncEngineListener,"Trying to call "+t+" before calling subscribe().")},t.prototype.handleCredentialChange=function(t){return Te.__awaiter(this,void 0,void 0,function(){var e,n;return Te.__generator(this,function(r){switch(r.label){case 0:return e=!this.currentUser.isEqual(t),this.currentUser=t,e?[4,this.localStore.handleUserChange(t)]:[3,3];case 1:return n=r.sent(),this.sharedClientState.handleUserChange(t,n.removedBatchIds,n.addedBatchIds),[4,this.emitNewSnapsAndNotifyLocalStore(n.affectedDocuments)];case 2:r.sent(),r.label=3;case 3:return[4,this.remoteStore.handleCredentialChange()];case 4:return r.sent(),[2]}})})},t.prototype.applyPrimaryState=function(t){return Te.__awaiter(this,void 0,void 0,function(){var e,n,r,i,o,a,s,u=this;return Te.__generator(this,function(c){switch(c.label){case 0:return!0!==t||!0===this.isPrimary?[3,3]:(this.isPrimary=!0,[4,this.remoteStore.applyPrimaryState(!0)]);case 1:return c.sent(),e=this.sharedClientState.getAllActiveQueryTargets(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e.toArray())];case 2:for(n=c.sent(),r=0,i=n;r<i.length;r++)o=i[r],this.remoteStore.listen(o);return[3,7];case 3:return!1!==t||!1===this.isPrimary?[3,7]:(this.isPrimary=!1,a=[],s=Promise.resolve(),p(this.queryViewsByTarget,function(t,e){u.sharedClientState.isLocalQueryTarget(t)?a.push(t):s=s.then(function(){return u.unlisten(e.query)}),u.remoteStore.unlisten(e.targetId)}),[4,s]);case 4:return c.sent(),[4,this.synchronizeQueryViewsAndRaiseSnapshots(a)];case 5:return c.sent(),this.resetLimboDocuments(),[4,this.remoteStore.applyPrimaryState(!1)];case 6:c.sent(),c.label=7;case 7:return[2]}})})},t.prototype.resetLimboDocuments=function(){var t=this;p(this.limboResolutionsByTarget,function(e){t.remoteStore.unlisten(e)}),this.limboDocumentRefs.removeAllReferences(),this.limboResolutionsByTarget=[],this.limboTargetsByKey=new Qe(Ve.comparator)},t.prototype.synchronizeQueryViewsAndRaiseSnapshots=function(t){for(var e=this,n=Promise.resolve(),r=[],i=[],o=0,a=t;o<a.length;o++){var s=a[o];!function(t){n=n.then(function(){return Te.__awaiter(e,void 0,void 0,function(){var e,n,o,a;return Te.__generator(this,function(s){switch(s.label){case 0:return n=this.queryViewsByTarget[t],n?[4,this.localStore.releaseQuery(n.query,!0)]:[3,4];case 1:return s.sent(),[4,this.localStore.allocateQuery(n.query)];case 2:return e=s.sent(),[4,this.synchronizeViewAndComputeSnapshot(n)];case 3:return o=s.sent(),o.snapshot&&i.push(o.snapshot),[3,8];case 4:return c(!0===this.isPrimary,"A secondary tab should never have an active query without an active view."),[4,this.localStore.getQueryForTarget(t)];case 5:return a=s.sent(),c(!!a,"Query data for target "+t+" not found"),[4,this.localStore.allocateQuery(a)];case 6:return e=s.sent(),[4,this.initializeViewAndComputeSnapshot(e,!1)];case 7:s.sent(),s.label=8;case 8:return r.push(e),[2]}})})})}(s)}return n.then(function(){return e.syncEngineListener.onWatchChange(i),r})},t.prototype.getActiveClients=function(){return this.localStore.getActiveClients()},t.prototype.applyTargetState=function(t,e,n){return Te.__awaiter(this,void 0,void 0,function(){var r,i,a=this;return Te.__generator(this,function(s){switch(s.label){case 0:if(this.isPrimary)return o("SyncEngine","Ignoring unexpected query state notification."),[2];if(!this.queryViewsByTarget[t])return[3,5];switch(r=e){case"current":case"not-current":return[3,1];case"rejected":return[3,2]}return[3,4];case 1:return[2,this.localStore.getNewDocumentChanges().then(function(n){return Te.__awaiter(a,void 0,void 0,function(){var r;return Te.__generator(this,function(i){switch(i.label){case 0:return r=sr.createSynthesizedRemoteEventForCurrentChange(t,"current"===e),[4,this.emitNewSnapsAndNotifyLocalStore(n,r)];case 1:return i.sent(),[2]}})})},function(t){return Te.__awaiter(a,void 0,void 0,function(){var e;return Te.__generator(this,function(n){switch(n.label){case 0:return gt(t)?(e=[],p(this.queryViewsByTarget,function(t){return e.push(t)}),[4,this.synchronizeQueryViewsAndRaiseSnapshots(e)]):[3,2];case 1:return n.sent(),[3,3];case 2:throw t;case 3:return[2]}})})})];case 2:return i=this.queryViewsByTarget[t],this.removeAndCleanupQuery(i),[4,this.localStore.releaseQuery(i.query,!0)];case 3:return s.sent(),this.syncEngineListener.onWatchError(i.query,n),[3,5];case 4:u("Unexpected target state: "+e),s.label=5;case 5:return[2]}})})},t.prototype.applyActiveTargetsChange=function(t,e){return Te.__awaiter(this,void 0,void 0,function(){var n,r,i,o,a,s,u,f,l,i,h=this;return Te.__generator(this,function(d){switch(d.label){case 0:if(!this.isPrimary)return[2];n=0,r=t,d.label=1;case 1:return n<r.length?(i=r[n],c(!this.queryViewsByTarget[i],"Trying to add an already active target"),[4,this.localStore.getQueryForTarget(i)]):[3,6];case 2:return o=d.sent(),c(!!o,"Query data for active target "+i+" not found"),[4,this.localStore.allocateQuery(o)];case 3:return a=d.sent(),[4,this.initializeViewAndComputeSnapshot(a,!1)];case 4:d.sent(),this.remoteStore.listen(a),d.label=5;case 5:return n++,[3,1];case 6:s=function(t){var e;return Te.__generator(this,function(n){switch(n.label){case 0:return e=u.queryViewsByTarget[t],e?[4,u.localStore.releaseQuery(e.query,!1).then(function(){h.remoteStore.unlisten(t),h.removeAndCleanupQuery(e)}).catch(function(t){return h.ignoreIfPrimaryLeaseLoss(t)})]:[3,2];case 1:n.sent(),n.label=2;case 2:return[2]}})},u=this,f=0,l=e,d.label=7;case 7:return f<l.length?(i=l[f],[5,s(i)]):[3,10];case 8:d.sent(),d.label=9;case 9:return f++,[3,7];case 10:return[2]}})})},t.prototype.enableNetwork=function(){return this.localStore.setNetworkEnabled(!0),this.remoteStore.enableNetwork()},t.prototype.disableNetwork=function(){return this.localStore.setNetworkEnabled(!1),this.remoteStore.disableNetwork()},t.prototype.getRemoteKeysForTarget=function(t){var e=this.limboResolutionsByTarget[t];return e&&e.receivedDocument?ot().add(e.key):this.queryViewsByTarget[t]?this.queryViewsByTarget[t].view.syncedDocuments:ot()},t}(),bo=function(){function t(t){this.uid=t}return t.prototype.isAuthenticated=function(){return null!=this.uid},t.prototype.toKey=function(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"},t.prototype.isEqual=function(t){return t.uid===this.uid},t.UNAUTHENTICATED=new t(null),t.GOOGLE_CREDENTIALS=new t("google-credentials-uid"),t.FIRST_PARTY=new t("first-party-uid"),t}(),_o="SharedClientState",wo="firestore_clients",Eo="firestore_mutations",So="firestore_targets",To="firestore_online_state",Co="firestore_sequence_number",Io=function(){function t(t,e,n,r){this.user=t,this.batchId=e,this.state=n,this.error=r,c(void 0!==r===("rejected"===n),"MutationMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n,r){var i=JSON.parse(r),o="object"===typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"===typeof i.error),s=void 0;return o&&i.error&&(o="string"===typeof i.error.message&&"string"===typeof i.error.code)&&(s=new Re(i.error.code,i.error.message)),o?new t(e,n,i.state,s):(a(_o,"Failed to parse mutation state for ID '"+n+"': "+r),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Ao=function(){function t(t,e,n){this.targetId=t,this.state=e,this.error=n,c(void 0!==n===("rejected"===e),"QueryTargetMetadata must contain an error iff state is 'rejected'")}return t.fromWebStorageEntry=function(e,n){var r=JSON.parse(n),i="object"===typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"===typeof r.error),o=void 0;return i&&r.error&&(i="string"===typeof r.error.message&&"string"===typeof r.error.code)&&(o=new Re(r.error.code,r.error.message)),i?new t(e,r.state,o):(a(_o,"Failed to parse target state for ID '"+e+"': "+n),null)},t.prototype.toWebStorageJSON=function(){var t={state:this.state,updateTimeMs:Date.now()};return this.error&&(t.error={code:this.error.code,message:this.error.message}),JSON.stringify(t)},t}(),Oo=function(){function t(t,e){this.clientId=t,this.activeTargetIds=e}return t.fromWebStorageEntry=function(e,n){for(var r=JSON.parse(n),i="object"===typeof r&&r.activeTargetIds instanceof Array,o=at(),s=0;i&&s<r.activeTargetIds.length;++s)i=Y(r.activeTargetIds[s]),o=o.add(r.activeTargetIds[s]);return i?new t(e,o):(a(_o,"Failed to parse client data for instance '"+e+"': "+n),null)},t}(),ko=function(){function t(t,e){this.clientId=t,this.onlineState=e}return t.fromWebStorageEntry=function(e){var n=JSON.parse(e);return"object"===typeof n&&void 0!==Yi[n.onlineState]&&"string"===typeof n.clientId?new t(n.clientId,Yi[n.onlineState]):(a(_o,"Failed to parse online state: "+e),null)},t}(),Ro=function(){function t(){this.activeTargetIds=at()}return t.prototype.addQueryTarget=function(t){c(!this.activeTargetIds.has(t),"Target with ID '"+t+"' already active."),this.activeTargetIds=this.activeTargetIds.add(t)},t.prototype.removeQueryTarget=function(t){this.activeTargetIds=this.activeTargetIds.delete(t)},t.prototype.toWebStorageJSON=function(){var t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)},t}(),Po=function(){function t(e,n,r,i,o){if(this.queue=e,this.platform=n,this.persistenceKey=r,this.localClientId=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this.activeClients={},this.storageListener=this.handleWebStorageEvent.bind(this),this.started=!1,this.earlyEvents=[],!t.isAvailable(this.platform))throw new Re(ke.UNIMPLEMENTED,"LocalStorage is not available on this platform.");var a=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.platform.window.localStorage,this.currentUser=o,this.localClientStorageKey=this.toWebStorageClientStateKey(this.localClientId),this.sequenceNumberKey=Co+"_"+r,this.activeClients[this.localClientId]=new Ro,this.clientStateKeyRe=new RegExp("^"+wo+"_"+a+"_([^_]*)$"),this.mutationBatchKeyRe=new RegExp("^"+Eo+"_"+a+"_(\\d+)(?:_(.*))?$"),this.queryTargetKeyRe=new RegExp("^"+So+"_"+a+"_(\\d+)$"),this.onlineStateKey=To+"_"+r,this.platform.window.addEventListener("storage",this.storageListener)}return t.isAvailable=function(t){return!(!t.window||null==t.window.localStorage)},t.prototype.start=function(){return Te.__awaiter(this,void 0,void 0,function(){var t,e,n,r,i,o,a,s,u,f,l,h=this;return Te.__generator(this,function(d){switch(d.label){case 0:return c(!this.started,"WebStorageSharedClientState already started"),c(null!==this.syncEngine,"syncEngine property must be set before calling start()"),c(null!==this.onlineStateHandler,"onlineStateHandler property must be set before calling start()"),[4,this.syncEngine.getActiveClients()];case 1:for(t=d.sent(),e=0,n=t;e<n.length;e++)(r=n[e])!==this.localClientId&&(i=this.getItem(this.toWebStorageClientStateKey(r)))&&(o=Oo.fromWebStorageEntry(r,i))&&(this.activeClients[o.clientId]=o);for(this.persistClientState(),a=this.storage.getItem(this.onlineStateKey),a&&(s=this.fromWebStorageOnlineState(a))&&this.handleOnlineStateEvent(s),u=0,f=this.earlyEvents;u<f.length;u++)l=f[u],this.handleWebStorageEvent(l);return this.earlyEvents=[],this.platform.window.addEventListener("unload",function(){return h.shutdown()}),this.started=!0,[2]}})})},t.prototype.writeSequenceNumber=function(t){this.setItem(this.sequenceNumberKey,JSON.stringify(t))},t.prototype.getAllActiveQueryTargets=function(){var t=at();return m(this.activeClients,function(e,n){t=t.unionWith(n.activeTargetIds)}),t},t.prototype.isActiveQueryTarget=function(t){for(var e in this.activeClients)if(this.activeClients.hasOwnProperty(e)&&this.activeClients[e].activeTargetIds.has(t))return!0;return!1},t.prototype.addPendingMutation=function(t){this.persistMutationState(t,"pending")},t.prototype.updateMutationState=function(t,e,n){this.persistMutationState(t,e,n),this.removeMutationState(t)},t.prototype.addLocalQueryTarget=function(t){var e="not-current";if(this.isActiveQueryTarget(t)){var n=this.storage.getItem(this.toWebStorageQueryTargetMetadataKey(t));if(n){var r=Ao.fromWebStorageEntry(t,n);r&&(e=r.state)}}return this.localClientState.addQueryTarget(t),this.persistClientState(),e},t.prototype.removeLocalQueryTarget=function(t){this.localClientState.removeQueryTarget(t),this.persistClientState()},t.prototype.isLocalQueryTarget=function(t){return this.localClientState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){this.removeItem(this.toWebStorageQueryTargetMetadataKey(t))},t.prototype.updateQueryState=function(t,e,n){this.persistQueryTargetState(t,e,n)},t.prototype.handleUserChange=function(t,e,n){var r=this;e.forEach(function(t){r.removeMutationState(t)}),this.currentUser=t,n.forEach(function(t){r.addPendingMutation(t)})},t.prototype.setOnlineState=function(t){this.persistOnlineState(t)},t.prototype.shutdown=function(){this.started&&(this.platform.window.removeEventListener("storage",this.storageListener),this.removeItem(this.localClientStorageKey),this.started=!1)},t.prototype.getItem=function(t){var e=this.storage.getItem(t);return o(_o,"READ",t,e),e},t.prototype.setItem=function(t,e){o(_o,"SET",t,e),this.storage.setItem(t,e)},t.prototype.removeItem=function(t){o(_o,"REMOVE",t),this.storage.removeItem(t)},t.prototype.handleWebStorageEvent=function(t){var e=this;if(t.storageArea===this.storage){if(o(_o,"EVENT",t.key,t.newValue),t.key===this.localClientStorageKey)return void a("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.queue.enqueueAndForget(function(){return Te.__awaiter(e,void 0,void 0,function(){var e,n,r,i,o,a;return Te.__generator(this,function(s){if(!this.started)return this.earlyEvents.push(t),[2];if(null===t.key)return[2];if(this.clientStateKeyRe.test(t.key)){if(null==t.newValue)return n=this.fromWebStorageClientStateKey(t.key),[2,this.handleClientStateEvent(n,null)];if(e=this.fromWebStorageClientState(t.key,t.newValue))return[2,this.handleClientStateEvent(e.clientId,e)]}else if(this.mutationBatchKeyRe.test(t.key)){if(null!==t.newValue&&(r=this.fromWebStorageMutationMetadata(t.key,t.newValue)))return[2,this.handleMutationBatchEvent(r)]}else if(this.queryTargetKeyRe.test(t.key)){if(null!==t.newValue&&(i=this.fromWebStorageQueryTargetMetadata(t.key,t.newValue)))return[2,this.handleQueryTargetEvent(i)]}else if(t.key===this.onlineStateKey){if(null!==t.newValue&&(o=this.fromWebStorageOnlineState(t.newValue)))return[2,this.handleOnlineStateEvent(o)]}else t.key===this.sequenceNumberKey&&(c(!!this.sequenceNumberHandler,"Missing sequenceNumberHandler"),(a=ee(t.newValue))!==Pr.INVALID&&this.sequenceNumberHandler(a));return[2]})})})}},Object.defineProperty(t.prototype,"localClientState",{get:function(){return this.activeClients[this.localClientId]},enumerable:!0,configurable:!0}),t.prototype.persistClientState=function(){this.setItem(this.localClientStorageKey,this.localClientState.toWebStorageJSON())},t.prototype.persistMutationState=function(t,e,n){var r=new Io(this.currentUser,t,e,n),i=this.toWebStorageMutationBatchKey(t);this.setItem(i,r.toWebStorageJSON())},t.prototype.removeMutationState=function(t){var e=this.toWebStorageMutationBatchKey(t);this.removeItem(e)},t.prototype.persistOnlineState=function(t){var e={clientId:this.localClientId,onlineState:Yi[t]};this.storage.setItem(this.onlineStateKey,JSON.stringify(e))},t.prototype.persistQueryTargetState=function(t,e,n){var r=this.toWebStorageQueryTargetMetadataKey(t),i=new Ao(t,e,n);this.setItem(r,i.toWebStorageJSON())},t.prototype.toWebStorageClientStateKey=function(t){return c(-1===t.indexOf("_"),"Client key cannot contain '_', but was '"+t+"'"),wo+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageQueryTargetMetadataKey=function(t){return So+"_"+this.persistenceKey+"_"+t},t.prototype.toWebStorageMutationBatchKey=function(t){var e=Eo+"_"+this.persistenceKey+"_"+t;return this.currentUser.isAuthenticated()&&(e+="_"+this.currentUser.uid),e},t.prototype.fromWebStorageClientStateKey=function(t){var e=this.clientStateKeyRe.exec(t);return e?e[1]:null},t.prototype.fromWebStorageClientState=function(t,e){var n=this.fromWebStorageClientStateKey(t);return c(null!==n,"Cannot parse client state key '"+t+"'"),Oo.fromWebStorageEntry(n,e)},t.prototype.fromWebStorageMutationMetadata=function(t,e){var n=this.mutationBatchKeyRe.exec(t);c(null!==n,"Cannot parse mutation batch key '"+t+"'");var r=Number(n[1]),i=void 0!==n[2]?n[2]:null;return Io.fromWebStorageEntry(new bo(i),r,e)},t.prototype.fromWebStorageQueryTargetMetadata=function(t,e){var n=this.queryTargetKeyRe.exec(t);c(null!==n,"Cannot parse query target key '"+t+"'");var r=Number(n[1]);return Ao.fromWebStorageEntry(r,e)},t.prototype.fromWebStorageOnlineState=function(t){return ko.fromWebStorageEntry(t)},t.prototype.handleMutationBatchEvent=function(t){return Te.__awaiter(this,void 0,void 0,function(){return Te.__generator(this,function(e){return t.user.uid!==this.currentUser.uid?(o(_o,"Ignoring mutation for non-active user "+t.user.uid),[2]):[2,this.syncEngine.applyBatchState(t.batchId,t.state,t.error)]})})},t.prototype.handleQueryTargetEvent=function(t){return this.syncEngine.applyTargetState(t.targetId,t.state,t.error)},t.prototype.handleClientStateEvent=function(t,e){var n=this,r=this.getAllActiveQueryTargets();e?this.activeClients[t]=e:delete this.activeClients[t];var i=this.getAllActiveQueryTargets(),o=[],a=[];return i.forEach(function(t){return Te.__awaiter(n,void 0,void 0,function(){return Te.__generator(this,function(e){return r.has(t)||o.push(t),[2]})})}),r.forEach(function(t){return Te.__awaiter(n,void 0,void 0,function(){return Te.__generator(this,function(e){return i.has(t)||a.push(t),[2]})})}),this.syncEngine.applyActiveTargetsChange(o,a)},t.prototype.handleOnlineStateEvent=function(t){this.activeClients[t.clientId]&&this.onlineStateHandler(t.onlineState)},t}(),xo=function(){function t(){this.localState=new Ro,this.queryState={},this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null}return t.prototype.addPendingMutation=function(t){},t.prototype.updateMutationState=function(t,e,n){},t.prototype.addLocalQueryTarget=function(t){return this.localState.addQueryTarget(t),this.queryState[t]||"not-current"},t.prototype.updateQueryState=function(t,e,n){this.queryState[t]=e},t.prototype.removeLocalQueryTarget=function(t){this.localState.removeQueryTarget(t)},t.prototype.isLocalQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.clearQueryState=function(t){delete this.queryState[t]},t.prototype.getAllActiveQueryTargets=function(){return this.localState.activeTargetIds},t.prototype.isActiveQueryTarget=function(t){return this.localState.activeTargetIds.has(t)},t.prototype.start=function(){return this.localState=new Ro,Promise.resolve()},t.prototype.handleUserChange=function(t,e,n){},t.prototype.setOnlineState=function(t){},t.prototype.shutdown=function(){},t.prototype.writeSequenceNumber=function(t){},t}(),Do=function(){function t(t,e,n,r){this.platform=t,this.databaseInfo=e,this.credentials=n,this.asyncQueue=r,this.clientId=Pe.newId()}return t.prototype.start=function(t){var e=this,n=new xr,r=new xr,i=!1;return this.credentials.setChangeListener(function(o){i?e.asyncQueue.enqueueAndForget(function(){return e.handleCredentialChange(o)}):(i=!0,e.initializePersistence(t,r,o).then(function(){return e.initializeRest(o)}).then(n.resolve,n.reject))}),this.asyncQueue.enqueueAndForget(function(){return n.promise}),r.promise},t.prototype.enableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.syncEngine.enableNetwork()})},t.prototype.initializePersistence=function(t,e,n){var r=this;return t.enabled?this.startIndexedDbPersistence(n,t).then(e.resolve).catch(function(t){return e.reject(t),r.canFallback(t)?(console.warn("Error enabling offline storage. Falling back to storage disabled: "+t),r.startMemoryPersistence()):Promise.reject(t)}):(e.resolve(),this.startMemoryPersistence())},t.prototype.canFallback=function(t){return t instanceof Re?t.code===ke.FAILED_PRECONDITION||t.code===ke.UNIMPLEMENTED:!("undefined"!==typeof DOMException&&t instanceof DOMException)||(22===t.code||20===t.code)},t.prototype.startIndexedDbPersistence=function(t,e){var n=this;c(e.enabled,"Should only start IndexedDb persitence with offline persistence enabled.");var r=Ni.buildStoragePrefix(this.databaseInfo),i=new vr(this.databaseInfo.databaseId,{useProto3Json:!0});return Promise.resolve().then(function(){return Te.__awaiter(n,void 0,void 0,function(){var n,o;return Te.__generator(this,function(a){switch(a.label){case 0:if(e.experimentalTabSynchronization&&!Po.isAvailable(this.platform))throw new Re(ke.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");return e.experimentalTabSynchronization?(this.sharedClientState=new Po(this.asyncQueue,this.platform,r,this.clientId,t),n=this,[4,Ni.createMultiClientIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i,{sequenceNumberSyncer:this.sharedClientState})]):[3,2];case 1:return n.persistence=a.sent(),[3,4];case 2:return this.sharedClientState=new xo,o=this,[4,Ni.createIndexedDbPersistence(r,this.clientId,this.platform,this.asyncQueue,i)];case 3:o.persistence=a.sent(),a.label=4;case 4:return[2]}})})})},t.prototype.startMemoryPersistence=function(){var t=new vr(this.databaseInfo.databaseId,{useProto3Json:!0});return this.persistence=Hi.createEagerPersistence(this.clientId,t),this.sharedClientState=new xo,Promise.resolve()},t.prototype.initializeRest=function(t){var e=this;return o("FirestoreClient","Initializing. user=",t.uid),this.platform.loadConnection(this.databaseInfo).then(function(n){return Te.__awaiter(e,void 0,void 0,function(){var e,r,i,o,a=this;return Te.__generator(this,function(s){switch(s.label){case 0:return this.localStore=new Fi(this.persistence,t),e=this.platform.newSerializer(this.databaseInfo.databaseId),r=new no(this.asyncQueue,n,this.credentials,e),i=function(t){return a.syncEngine.applyOnlineStateChange(t,io.RemoteStore)},o=function(t){return a.syncEngine.applyOnlineStateChange(t,io.SharedClientState)},this.remoteStore=new so(this.localStore,r,this.asyncQueue,i),this.syncEngine=new go(this.localStore,this.remoteStore,this.sharedClientState,t),this.sharedClientState.onlineStateHandler=o,this.remoteStore.syncEngine=this.syncEngine,this.sharedClientState.syncEngine=this.syncEngine,this.eventMgr=new co(this.syncEngine),[4,this.sharedClientState.start()];case 1:return s.sent(),[4,this.remoteStore.start()];case 2:return s.sent(),[4,this.persistence.setPrimaryStateListener(function(t){return a.syncEngine.applyPrimaryState(t)})];case 3:return s.sent(),[2]}})})})},t.prototype.handleCredentialChange=function(t){return this.asyncQueue.verifyOperationInProgress(),o("FirestoreClient","Credential Changed. Current user: "+t.uid),this.syncEngine.handleCredentialChange(t)},t.prototype.disableNetwork=function(){var t=this;return this.asyncQueue.enqueue(function(){return t.syncEngine.disableNetwork()})},t.prototype.shutdown=function(t){var e=this;return this.asyncQueue.enqueue(function(){return Te.__awaiter(e,void 0,void 0,function(){return Te.__generator(this,function(e){switch(e.label){case 0:return[4,this.remoteStore.shutdown()];case 1:return e.sent(),[4,this.sharedClientState.shutdown()];case 2:return e.sent(),[4,this.persistence.shutdown(t&&t.purgePersistenceWithDataLoss)];case 3:return e.sent(),this.credentials.removeChangeListener(),[2]}})})})},t.prototype.listen=function(t,e,n){var r=this,i=new fo(t,e,n);return this.asyncQueue.enqueueAndForget(function(){return r.eventMgr.listen(i)}),i},t.prototype.unlisten=function(t){var e=this;this.asyncQueue.enqueueAndForget(function(){return e.eventMgr.unlisten(t)})},t.prototype.getDocumentFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.readDocument(t)}).then(function(t){if(t instanceof ze)return t;if(t instanceof Ke)return null;throw new Re(ke.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)")})},t.prototype.getDocumentsFromLocalCache=function(t){var e=this;return this.asyncQueue.enqueue(function(){return e.localStore.executeQuery(t)}).then(function(e){var n=ot(),r=new yo(t,n),i=r.computeDocChanges(e);return r.applyChanges(i,!1).snapshot})},t.prototype.write=function(t){var e=this,n=new xr;return this.asyncQueue.enqueueAndForget(function(){return e.syncEngine.write(t,n)}),n.promise},t.prototype.databaseId=function(){return this.databaseInfo.databaseId},t.prototype.transaction=function(t){var e=this;return this.asyncQueue.enqueue(function(){return Te.__awaiter(e,void 0,void 0,function(){return Te.__generator(this,function(t){return[2]})})}).then(function(){return e.syncEngine.runTransaction(t)})},t}(),No=function(){function t(t){this.observer=t,this.muted=!1}return t.prototype.next=function(t){this.scheduleEvent(this.observer.next,t)},t.prototype.error=function(t){this.scheduleEvent(this.observer.error,t)},t.prototype.mute=function(){this.muted=!0},t.prototype.scheduleEvent=function(t,e){var n=this;this.muted||setTimeout(function(){n.muted||t(e)},0)},t}(),Mo=function(){function t(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];E("FieldPath",t,"fieldNames",1);for(var n=0;n<t.length;++n)if(S("FieldPath","string",n,t[n]),0===t[n].length)throw new Re(ke.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new We(t)}return t.documentId=function(){return t._DOCUMENT_ID},t.prototype.isEqual=function(e){if(!(e instanceof t))throw j("isEqual","FieldPath",1,e);return this._internalPath.isEqual(e._internalPath)},t._DOCUMENT_ID=new t(We.keyField().canonicalString()),t}(),Lo=new RegExp("[~\\*/\\[\\]]"),jo=function(){function t(t,e){this.user=e,this.type="OAuth",this.authHeaders={Authorization:"Bearer "+t}}return t}(),Uo=function(){function t(){this.changeListener=null}return t.prototype.getToken=function(){return Promise.resolve(null)},t.prototype.invalidateToken=function(){},t.prototype.setChangeListener=function(t){c(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,t(bo.UNAUTHENTICATED)},t.prototype.removeChangeListener=function(){c(null!==this.changeListener,"removeChangeListener() when no listener registered"),this.changeListener=null},t}(),Fo=function(){function t(t){var e=this;this.app=t,this.tokenListener=null,this.tokenCounter=0,this.changeListener=null,this.forceRefresh=!1,this.tokenListener=function(){e.tokenCounter++,e.currentUser=e.getUser(),e.changeListener&&e.changeListener(e.currentUser)},this.tokenCounter=0,this.app.INTERNAL.addAuthTokenListener(this.tokenListener)}return t.prototype.getToken=function(){var t=this;c(null!=this.tokenListener,"getToken cannot be called after listener removed.");var e=this.tokenCounter,n=this.forceRefresh;return this.forceRefresh=!1,this.app.INTERNAL.getToken(n).then(function(n){if(t.tokenCounter!==e)throw new Re(ke.ABORTED,"getToken aborted due to token change.");return n?(c("string"===typeof n.accessToken,"Invalid tokenData returned from getToken():"+n),new jo(n.accessToken,t.currentUser)):null})},t.prototype.invalidateToken=function(){this.forceRefresh=!0},t.prototype.setChangeListener=function(t){c(!this.changeListener,"Can only call setChangeListener() once."),this.changeListener=t,this.currentUser&&t(this.currentUser)},t.prototype.removeChangeListener=function(){c(null!=this.tokenListener,"removeChangeListener() called twice"),c(null!==this.changeListener,"removeChangeListener() called when no listener registered"),this.app.INTERNAL.removeAuthTokenListener(this.tokenListener),this.tokenListener=null,this.changeListener=null},t.prototype.getUser=function(){var t=this.app.INTERNAL.getUid();return c(null===t||"string"===typeof t,"Received invalid UID: "+t),new bo(t)},t}(),Bo=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,this.type="FirstParty",this.user=bo.FIRST_PARTY,c(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return Object.defineProperty(t.prototype,"authHeaders",{get:function(){return{Authorization:this.gapi.auth.getAuthHeaderValueForFirstParty([]),"X-Goog-AuthUser":this.sessionIndex}},enumerable:!0,configurable:!0}),t}(),qo=function(){function t(t,e){this.gapi=t,this.sessionIndex=e,c(this.gapi&&this.gapi.auth&&this.gapi.auth.getAuthHeaderValueForFirstParty,"unexpected gapi interface")}return t.prototype.getToken=function(){return Promise.resolve(new Bo(this.gapi,this.sessionIndex))},t.prototype.setChangeListener=function(t){t(bo.FIRST_PARTY)},t.prototype.removeChangeListener=function(){},t.prototype.invalidateToken=function(){},t}(),Wo=function(){function t(t){this._methodName=t}return t.delete=function(){return Vo.instance},t.serverTimestamp=function(){return Ho.instance},t.arrayUnion=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return _("FieldValue.arrayUnion",arguments,1),new zo(t)},t.arrayRemove=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];return _("FieldValue.arrayRemove",arguments,1),new Ko(t)},t.prototype.isEqual=function(t){return this===t},t}(),Vo=function(t){function e(){return t.call(this,"FieldValue.delete")||this}return Te.__extends(e,t),e.instance=new e,e}(Wo),Ho=function(t){function e(){return t.call(this,"FieldValue.serverTimestamp")||this}return Te.__extends(e,t),e.instance=new e,e}(Wo),zo=function(t){function e(e){var n=t.call(this,"FieldValue.arrayUnion")||this;return n._elements=e,n}return Te.__extends(e,t),e}(Wo),Ko=function(t){function e(e){var n=t.call(this,"FieldValue.arrayRemove")||this;return n._elements=e,n}return Te.__extends(e,t),e}(Wo),Go=l(Wo,"Use FieldValue.<field>() instead."),Qo=/^__.*__$/,Yo=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[];return null!==this.fieldMask?n.push(new Wn(t,this.data,this.fieldMask,e)):n.push(new qn(t,this.data,e)),this.fieldTransforms.length>0&&n.push(new Vn(t,this.fieldTransforms)),n},t}(),Xo=function(){function t(t,e,n){this.data=t,this.fieldMask=e,this.fieldTransforms=n}return t.prototype.toMutations=function(t,e){var n=[new Wn(t,this.data,this.fieldMask,e)];return this.fieldTransforms.length>0&&n.push(new Vn(t,this.fieldTransforms)),n},t}();!function(t){t[t.Set=0]="Set",t[t.Update=1]="Update",t[t.MergeSet=2]="MergeSet",t[t.Argument=3]="Argument"}(oo||(oo={}));var $o=function(){function t(t,e,n,r,i,o){this.dataSource=t,this.methodName=e,this.path=n,this.arrayElement=r,void 0===i&&this.validatePath(),this.arrayElement=void 0!==r&&r,this.fieldTransforms=i||[],this.fieldMask=o||[]}return t.prototype.childContextForField=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePathSegment(e),r},t.prototype.childContextForFieldPath=function(e){var n=null==this.path?null:this.path.child(e),r=new t(this.dataSource,this.methodName,n,!1,this.fieldTransforms,this.fieldMask);return r.validatePath(),r},t.prototype.childContextForArray=function(e){return new t(this.dataSource,this.methodName,null,!0,this.fieldTransforms,this.fieldMask)},t.prototype.createError=function(t){var e=null===this.path||this.path.isEmpty()?"":" (found in field "+this.path.toString()+")";return new Re(ke.INVALID_ARGUMENT,"Function "+this.methodName+"() called with invalid data. "+t+e)},t.prototype.contains=function(t){return void 0!==this.fieldMask.find(function(e){return t.isPrefixOf(e)})||void 0!==this.fieldTransforms.find(function(e){return t.isPrefixOf(e.field)})},t.prototype.validatePath=function(){if(null!==this.path)for(var t=0;t<this.path.length;t++)this.validatePathSegment(this.path.get(t))},t.prototype.validatePathSegment=function(t){if(ae(this.dataSource)&&Qo.test(t))throw this.createError("Document fields cannot begin and end with __")},t}(),Jo=function(){function t(t,e){this.databaseId=t,this.key=e}return t}(),Zo=function(){function t(t){this.preConverter=t}return t.prototype.parseSetData=function(t,e){var n=new $o(oo.Set,t,We.EMPTY_PATH);ue("Data must be an object, but it was:",n,e);var r=this.parseData(e,n);return new Yo(r,null,n.fieldTransforms)},t.prototype.parseMergeData=function(t,e,n){var r=new $o(oo.MergeSet,t,We.EMPTY_PATH);ue("Data must be an object, but it was:",r,e);var i,o,a=this.parseData(e,r);if(n){for(var s=[],c=0,f=n;c<f.length;c++){var l=f[c],h=void 0;if(l instanceof Mo)h=l._internalPath;else{if("string"!==typeof l)throw u("Expected stringOrFieldPath to be a string or a FieldPath");h=fe(t,l)}if(!r.contains(h))throw new Re(ke.INVALID_ARGUMENT,"Field '"+h+"' is specified in your field mask but missing from your input data.");s.push(h)}i=new Mn(s),o=r.fieldTransforms.filter(function(t){return i.covers(t.field)})}else i=new Mn(r.fieldMask),o=r.fieldTransforms;return new Yo(a,i,o)},t.prototype.parseUpdateData=function(t,e){var n=this,r=new $o(oo.Update,t,We.EMPTY_PATH);ue("Data must be an object, but it was:",r,e);var i=[],o=yn.EMPTY;m(e,function(e,a){var s=fe(t,e),u=r.childContextForFieldPath(s);if((a=n.runPreConverter(a,u))instanceof Vo)i.push(s);else{var c=n.parseData(a,u);null!=c&&(i.push(s),o=o.set(s,c))}});var a=new Mn(i);return new Xo(o,a,r.fieldTransforms)},t.prototype.parseUpdateVarargs=function(t,e,n,r){var i=new $o(oo.Update,t,We.EMPTY_PATH),o=[ce(t,e)],a=[n];if(r.length%2!==0)throw new Re(ke.INVALID_ARGUMENT,"Function "+t+"() needs to be called with an even number of arguments that alternate between field names and values.");for(var s=0;s<r.length;s+=2)o.push(ce(t,r[s])),a.push(r[s+1]);for(var u=[],c=yn.EMPTY,s=0;s<o.length;++s){var f=o[s],l=i.childContextForFieldPath(f),h=this.runPreConverter(a[s],l);if(h instanceof Vo)u.push(f);else{var d=this.parseData(h,l);null!=d&&(u.push(f),c=c.set(f,d))}}var p=new Mn(u);return new Xo(c,p,i.fieldTransforms)},t.prototype.parseQueryValue=function(t,e){var n=new $o(oo.Argument,t,We.EMPTY_PATH),r=this.parseData(e,n);return c(null!=r,"Parsed data should not be null."),c(0===n.fieldTransforms.length,"Field transforms should have been disallowed."),r},t.prototype.runPreConverter=function(t,e){try{return this.preConverter(t)}catch(t){var n=le(t);throw e.createError(n)}},t.prototype.parseData=function(t,e){if(t=this.runPreConverter(t,e),se(t))return ue("Unsupported field value:",e,t),this.parseObject(t,e);if(t instanceof Wo)return this.parseSentinelFieldValue(t,e),null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.arrayElement)throw e.createError("Nested arrays are not supported");return this.parseArray(t,e)}return this.parseScalarValue(t,e)},t.prototype.parseObject=function(t,e){var n=this,r=new Qe(B);return v(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):m(t,function(t,i){var o=n.parseData(i,e.childContextForField(t));null!=o&&(r=r.insert(t,o))}),new yn(r)},t.prototype.parseArray=function(t,e){for(var n=[],r=0,i=0,o=t;i<o.length;i++){var a=o[i],s=this.parseData(a,e.childContextForArray(r));null==s&&(s=rn.INSTANCE),n.push(s),r++}return new mn(n)},t.prototype.parseSentinelFieldValue=function(t,e){if(!ae(e.dataSource))throw e.createError(t._methodName+"() can only be used with update() and set()");if(null===e.path)throw e.createError(t._methodName+"() is not currently supported inside arrays");if(t instanceof Vo){if(e.dataSource!==oo.MergeSet)throw e.dataSource===oo.Update?(c(e.path.length>0,"FieldValue.delete() at the top level should have already been handled."),e.createError("FieldValue.delete() can only appear at the top level of your update data")):e.createError("FieldValue.delete() cannot be used with set() unless you pass {merge:true}");e.fieldMask.push(e.path)}else if(t instanceof Ho)e.fieldTransforms.push(new Ln(e.path,zn.instance));else if(t instanceof zo){var n=this.parseArrayTransformElements(t._methodName,t._elements),r=new Kn(n);e.fieldTransforms.push(new Ln(e.path,r))}else if(t instanceof Ko){var n=this.parseArrayTransformElements(t._methodName,t._elements),i=new Gn(n);e.fieldTransforms.push(new Ln(e.path,i))}else u("Unknown FieldValue type: "+t)},t.prototype.parseScalarValue=function(t,e){if(null===t)return rn.INSTANCE;if("number"===typeof t)return Y(t)?new sn(t):new un(t);if("boolean"===typeof t)return on.of(t);if("string"===typeof t)return new cn(t);if(t instanceof Date)return new fn(Me.fromDate(t));if(t instanceof Me)return new fn(new Me(t.seconds,1e3*Math.floor(t.nanoseconds/1e3)));if(t instanceof Ne)return new pn(t);if(t instanceof xe)return new hn(t);if(t instanceof Jo)return new dn(t.databaseId,t.key);throw e.createError("Unsupported field value: "+D(t))},t.prototype.parseArrayTransformElements=function(t,e){var n=this;return e.map(function(e,r){var i=new $o(oo.Argument,t,We.EMPTY_PATH);return n.parseData(e,i.childContextForArray(r))})},t}(),ta="firestore.googleapis.com",ea=!0,na=!1,ra=!1,ia=function(){function t(t){if(void 0===t.host){if(void 0!==t.ssl)throw new Re(ke.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=ta,this.ssl=ea}else C("settings","non-empty string","host",t.host),this.host=t.host,I("settings","boolean","ssl",t.ssl),this.ssl=d(t.ssl,ea);L("settings",t,["host","ssl","credentials","timestampsInSnapshots"]),I("settings","object","credentials",t.credentials),this.credentials=t.credentials,I("settings","boolean","timestampsInSnapshots",t.timestampsInSnapshots),this.timestampsInSnapshots=d(t.timestampsInSnapshots,na)}return t.prototype.isEqual=function(t){return this.host===t.host&&this.ssl===t.ssl&&this.timestampsInSnapshots===t.timestampsInSnapshots&&this.credentials===t.credentials},t}(),oa=function(){function t(){}return t}(),aa=function(){function t(t,e){this.enabled=t,c(t||!e,"Can only provide PersistenceSettings with persistence enabled"),e=e||{},this.experimentalTabSynchronization=d(e.experimentalTabSynchronization,ra)}return t.prototype.isEqual=function(t){return this.enabled===t.enabled&&this.experimentalTabSynchronization===t.experimentalTabSynchronization},t}(),sa=function(){function t(e){var n=this;this._queue=new Mr,this.INTERNAL={delete:function(t){return Te.__awaiter(n,void 0,void 0,function(){return Te.__generator(this,function(e){return this._firestoreClient?[2,this._firestoreClient.shutdown(t)]:[2]})})}};var r=new oa;if("object"===typeof e.options){var i=e;r.firebaseApp=i,r.databaseId=t.databaseIdFromApp(i),r.persistenceKey=r.firebaseApp.name,r.credentials=new Fo(i)}else{var o=e;if(!o.projectId)throw new Re(ke.INVALID_ARGUMENT,"Must provide projectId");r.databaseId=new Ue(o.projectId,o.database),r.persistenceKey="[DEFAULT]",r.credentials=new Uo}r.settings=new ia({}),this._config=r,this._databaseId=r.databaseId}return t.prototype.settings=function(t){if(b("Firestore.settings",arguments,1),S("Firestore.settings","object",1,t),h(t,"persistence"))throw new Re(ke.INVALID_ARGUMENT,'"persistence" is now specified with a separate call to firestore.enablePersistence().');var e=new ia(t);if(this._firestoreClient&&!this._config.settings.isEqual(e))throw new Re(ke.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only call settings() before calling any other methods on a Firestore object.");this._config.settings=e,void 0!==e.credentials&&(this._config.credentials=re(e.credentials))},t.prototype.enableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.enableNetwork()},t.prototype.disableNetwork=function(){return this.ensureClientConfigured(),this._firestoreClient.disableNetwork()},t.prototype.enablePersistence=function(t){if(this._firestoreClient)throw new Re(ke.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only call enablePersistence() before calling any other methods on a Firestore object.");return this.configureClient(new aa(!0,t))},t.prototype.ensureClientConfigured=function(){return this._firestoreClient||this.configureClient(new aa(!1)),this._firestoreClient},t.prototype.configureClient=function(t){var e=this;c(!!this._config.settings.host,"FirestoreSettings.host cannot be falsey"),this._config.settings.timestampsInSnapshots||a("\nThe behavior for Date objects stored in Firestore is going to change\nAND YOUR APP MAY BREAK.\nTo hide this warning and ensure your app does not break, you need to add the\nfollowing code to your app before calling any other Cloud Firestore methods:\n\n  const firestore = firebase.firestore();\n  const settings = {/* your settings... */ timestampsInSnapshots: true};\n  firestore.settings(settings);\n\nWith this change, timestamps stored in Cloud Firestore will be read back as\nFirebase Timestamp objects instead of as system Date objects. So you will also\nneed to update code expecting a Date to instead expect a Timestamp. For example:\n\n  // Old:\n  const date = snapshot.get('created_at');\n  // New:\n  const timestamp = snapshot.get('created_at');\n  const date = timestamp.toDate();\n\nPlease audit all existing usages of Date when you enable the new behavior. In a\nfuture release, the behavior will change to the new behavior, so if you do not\nfollow these steps, YOUR APP MAY BREAK."),c(!this._firestoreClient,"configureClient() called multiple times");var n=new Le(this._config.databaseId,this._config.persistenceKey,this._config.settings.host,this._config.settings.ssl),r=function(t){if(t instanceof fa){var n=e._config.databaseId,r=t.firestore._config.databaseId;if(!r.isEqual(n))throw new Re(ke.INVALID_ARGUMENT,"Document reference is for database "+r.projectId+"/"+r.database+" but should be for database "+n.projectId+"/"+n.database);return new Jo(e._config.databaseId,t._key)}return t};return this._dataConverter=new Zo(r),this._firestoreClient=new Do(Oe.getPlatform(),n,this._config.credentials,this._queue),this._firestoreClient.start(t)},t.databaseIdFromApp=function(t){var e=t.options;if(!h(e,"projectId"))throw new Re(ke.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');var n=e.projectId;if(!n||"string"!==typeof n)throw new Re(ke.INVALID_ARGUMENT,"projectId must be a string in FirebaseApp.options");return new Ue(n)},Object.defineProperty(t.prototype,"app",{get:function(){if(!this._config.firebaseApp)throw new Re(ke.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._config.firebaseApp},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(b("Firestore.collection",arguments,1),S("Firestore.collection","non-empty string",1,t),!t)throw new Re(ke.INVALID_ARGUMENT,"Must provide a non-empty collection path to collection()");return this.ensureClientConfigured(),new ma(Be.fromString(t),this)},t.prototype.doc=function(t){if(b("Firestore.doc",arguments,1),S("Firestore.doc","non-empty string",1,t),!t)throw new Re(ke.INVALID_ARGUMENT,"Must provide a non-empty document path to doc()");return this.ensureClientConfigured(),fa.forPath(Be.fromString(t),this)},t.prototype.runTransaction=function(t){var e=this;return b("Firestore.runTransaction",arguments,1),S("Firestore.runTransaction","function",1,t),this.ensureClientConfigured().transaction(function(n){return t(new ua(e,n))})},t.prototype.batch=function(){return this.ensureClientConfigured(),new ca(this)},Object.defineProperty(t,"logLevel",{get:function(){switch(r()){case we.DEBUG:return"debug";case we.ERROR:return"error";case we.SILENT:return"silent";default:return u("Unknown log level: "+r())}},enumerable:!0,configurable:!0}),t.setLogLevel=function(t){switch(b("Firestore.setLogLevel",arguments,1),S("Firestore.setLogLevel","non-empty string",1,t),t){case"debug":i(we.DEBUG);break;case"error":i(we.ERROR);break;case"silent":i(we.SILENT);break;default:throw new Re(ke.INVALID_ARGUMENT,"Invalid log level: "+t)}},t.prototype._areTimestampsInSnapshotsEnabled=function(){return this._config.settings.timestampsInSnapshots},t}(),ua=function(){function t(t,e){this._firestore=t,this._transaction=e}return t.prototype.get=function(t){var e=this;b("Transaction.get",arguments,1);var n=me("Transaction.get",t,this._firestore);return this._transaction.lookup([n._key]).then(function(t){if(!t||1!==t.length)return u("Mismatch in docs returned from document lookup.");var r=t[0];if(r instanceof Ke)return new ha(e._firestore,n._key,null,!1,!1);if(r instanceof ze)return new ha(e._firestore,n._key,r,!1,!1);throw u("BatchGetDocumentsRequest returned unexpected document type: "+r.constructor.name)})},t.prototype.set=function(t,e,n){w("Transaction.set",arguments,2,3);var r=me("Transaction.set",t,this._firestore);n=de("Transaction.set",n);var i=n.merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("Transaction.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("Transaction.set",e);return this._transaction.set(r._key,i),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];var o,a;return"string"===typeof e||e instanceof Mo?(_("Transaction.update",arguments,3),o=me("Transaction.update",t,this._firestore),a=this._firestore._dataConverter.parseUpdateVarargs("Transaction.update",e,n,r)):(b("Transaction.update",arguments,2),o=me("Transaction.update",t,this._firestore),a=this._firestore._dataConverter.parseUpdateData("Transaction.update",e)),this._transaction.update(o._key,a),this},t.prototype.delete=function(t){b("Transaction.delete",arguments,1);var e=me("Transaction.delete",t,this._firestore);return this._transaction.delete(e._key),this},t}(),ca=function(){function t(t){this._firestore=t,this._mutations=[],this._committed=!1}return t.prototype.set=function(t,e,n){w("WriteBatch.set",arguments,2,3),this.verifyNotCommitted();var r=me("WriteBatch.set",t,this._firestore);n=de("WriteBatch.set",n);var i=n.merge||n.mergeFields?this._firestore._dataConverter.parseMergeData("WriteBatch.set",e,n.mergeFields):this._firestore._dataConverter.parseSetData("WriteBatch.set",e);return this._mutations=this._mutations.concat(i.toMutations(r._key,Fn.NONE)),this},t.prototype.update=function(t,e,n){for(var r=[],i=3;i<arguments.length;i++)r[i-3]=arguments[i];this.verifyNotCommitted();var o,a;return"string"===typeof e||e instanceof Mo?(_("WriteBatch.update",arguments,3),o=me("WriteBatch.update",t,this._firestore),a=this._firestore._dataConverter.parseUpdateVarargs("WriteBatch.update",e,n,r)):(b("WriteBatch.update",arguments,2),o=me("WriteBatch.update",t,this._firestore),a=this._firestore._dataConverter.parseUpdateData("WriteBatch.update",e)),this._mutations=this._mutations.concat(a.toMutations(o._key,Fn.exists(!0))),this},t.prototype.delete=function(t){b("WriteBatch.delete",arguments,1),this.verifyNotCommitted();var e=me("WriteBatch.delete",t,this._firestore);return this._mutations=this._mutations.concat(new Hn(e._key,Fn.NONE)),this},t.prototype.commit=function(){return Te.__awaiter(this,void 0,void 0,function(){return Te.__generator(this,function(t){return this.verifyNotCommitted(),this._committed=!0,this._mutations.length>0?[2,this._firestore.ensureClientConfigured().write(this._mutations)]:[2]})})},t.prototype.verifyNotCommitted=function(){if(this._committed)throw new Re(ke.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")},t}(),fa=function(){function t(t,e){this._key=t,this.firestore=e,this._firestoreClient=this.firestore.ensureClientConfigured()}return t.forPath=function(e,n){if(e.length%2!==0)throw new Re(ke.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but "+e.canonicalString()+" has "+e.length);return new t(new Ve(e),n)},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"parent",{get:function(){return new ma(this._key.path.popLast(),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"path",{get:function(){return this._key.path.canonicalString()},enumerable:!0,configurable:!0}),t.prototype.collection=function(t){if(b("DocumentReference.collection",arguments,1),S("DocumentReference.collection","non-empty string",1,t),!t)throw new Re(ke.INVALID_ARGUMENT,"Must provide a non-empty collection name to collection()");var e=Be.fromString(t);return new ma(this._key.path.child(e),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw j("isEqual","DocumentReference",1,e);return this.firestore===e.firestore&&this._key.isEqual(e._key)},t.prototype.set=function(t,e){w("DocumentReference.set",arguments,1,2),e=de("DocumentReference.set",e);var n=e.merge||e.mergeFields?this.firestore._dataConverter.parseMergeData("DocumentReference.set",t,e.mergeFields):this.firestore._dataConverter.parseSetData("DocumentReference.set",t);return this._firestoreClient.write(n.toMutations(this._key,Fn.NONE))},t.prototype.update=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];var i;return"string"===typeof t||t instanceof Mo?(_("DocumentReference.update",arguments,2),i=this.firestore._dataConverter.parseUpdateVarargs("DocumentReference.update",t,e,n)):(b("DocumentReference.update",arguments,1),i=this.firestore._dataConverter.parseUpdateData("DocumentReference.update",t)),this._firestoreClient.write(i.toMutations(this._key,Fn.exists(!0)))},t.prototype.delete=function(){return b("DocumentReference.delete",arguments,0),this._firestoreClient.write([new Hn(this._key,Fn.NONE)])},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];w("DocumentReference.onSnapshot",arguments,1,4);var n,r={includeMetadataChanges:!1},i=0;"object"!==typeof t[i]||ie(t[i])||(r=t[i],L("DocumentReference.onSnapshot",r,["includeMetadataChanges"]),I("DocumentReference.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++);var o={includeMetadataChanges:r.includeMetadataChanges};return ie(t[i])?n=t[i]:(S("DocumentReference.onSnapshot","function",i,t[i]),T("DocumentReference.onSnapshot","function",i+1,t[i+1]),T("DocumentReference.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(o,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new No({next:function(t){if(e.next){c(t.docs.size<=1,"Too many documents returned on a document query");var r=t.docs.get(n._key);e.next(new ha(n.firestore,n._key,r,t.fromCache,t.hasPendingWrites))}},error:r}),o=this._firestoreClient.listen(wn.atPath(this._key.path),i,t);return function(){i.mute(),n._firestoreClient.unlisten(o)}},t.prototype.get=function(t){var e=this;return w("DocumentReference.get",arguments,0,1),ye("DocumentReference.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentFromLocalCache(e._key).then(function(t){n(new ha(e.firestore,e._key,t,!0,t instanceof ze&&t.hasLocalMutations))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),!i.exists&&i.metadata.fromCache?e(new Re(ke.UNAVAILABLE,"Failed to get document because the client is offline.")):i.exists&&i.metadata.fromCache&&n&&"server"===n.source?e(new Re(ke.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):t(i)},error:e})},t}(),la=function(){function t(t,e){this.hasPendingWrites=t,this.fromCache=e}return t.prototype.isEqual=function(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache},t}(),ha=function(){function t(t,e,n,r,i){this._firestore=t,this._key=e,this._document=n,this._fromCache=r,this._hasPendingWrites=i}return t.prototype.data=function(t){return w("DocumentSnapshot.data",arguments,0,1),t=pe("DocumentSnapshot.data",t),this._document?this.convertObject(this._document.data,en.fromSnapshotOptions(t,this._firestore._areTimestampsInSnapshotsEnabled())):void 0},t.prototype.get=function(t,e){if(w("DocumentSnapshot.get",arguments,1,2),e=pe("DocumentSnapshot.get",e),this._document){var n=this._document.data.field(ce("DocumentSnapshot.get",t));if(void 0!==n)return this.convertValue(n,en.fromSnapshotOptions(e,this._firestore._areTimestampsInSnapshotsEnabled()))}},Object.defineProperty(t.prototype,"id",{get:function(){return this._key.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"ref",{get:function(){return new fa(this._key,this._firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"exists",{get:function(){return null!==this._document},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"metadata",{get:function(){return new la(this._hasPendingWrites,this._fromCache)},enumerable:!0,configurable:!0}),t.prototype.isEqual=function(e){if(!(e instanceof t))throw j("isEqual","DocumentSnapshot",1,e);return this._firestore===e._firestore&&this._fromCache===e._fromCache&&this._key.isEqual(e._key)&&(null===this._document?null===e._document:this._document.isEqual(e._document))},t.prototype.convertObject=function(t,e){var n=this,r={};return t.forEach(function(t,i){r[t]=n.convertValue(i,e)}),r},t.prototype.convertValue=function(t,e){if(t instanceof yn)return this.convertObject(t,e);if(t instanceof mn)return this.convertArray(t,e);if(t instanceof dn){var n=t.value(e),r=this._firestore.ensureClientConfigured().databaseId();return t.databaseId.isEqual(r)||a("Document "+this._key.path+" contains a document reference within a different database ("+t.databaseId.projectId+"/"+t.databaseId.database+") which is not supported. It will be treated as a reference in the current database ("+r.projectId+"/"+r.database+") instead."),new fa(n,this._firestore)}return t.value(e)},t.prototype.convertArray=function(t,e){var n=this;return t.internalValue.map(function(t){return n.convertValue(t,e)})},t}(),da=function(t){function e(e,n,r,i,o){return t.call(this,e,n,r,i,o)||this}return Te.__extends(e,t),e.prototype.data=function(e){var n=t.prototype.data.call(this,e);return c("object"===typeof n,"Document in a QueryDocumentSnapshot should exist"),n},e}(ha),pa=function(){function t(t,e){this._query=t,this.firestore=e}return t.prototype.where=function(e,n,r){b("Query.where",arguments,3),S("Query.where","non-empty string",2,n),M("Query.where",3,r);var i,o=ce("Query.where",e),a=Sn.fromString(n);if(o.isKeyField()){if(a===Sn.ARRAY_CONTAINS)throw new Re(ke.INVALID_ARGUMENT,"Invalid Query. You can't perform array-contains queries on FieldPath.documentId() since document IDs are not arrays.");if("string"===typeof r){if(-1!==r.indexOf("/"))throw new Re(ke.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it contains a slash.");if(""===r)throw new Re(ke.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a valid document ID if the first parameter is FieldPath.documentId(), but it was an empty string.");var s=this._query.path.child(new Be([r]));c(s.length%2===0,"Path should be a document key"),i=new dn(this.firestore._databaseId,new Ve(s))}else{if(!(r instanceof fa))throw new Re(ke.INVALID_ARGUMENT,"Function Query.where() requires its third parameter to be a string or a DocumentReference if the first parameter is FieldPath.documentId(), but it was: "+D(r)+".");var u=r;i=new dn(this.firestore._databaseId,u._key)}}else i=this.firestore._dataConverter.parseQueryValue("Query.where",r);var f=En.create(o,a,i);return this.validateNewFilter(f),new t(this._query.addFilter(f),this.firestore)},t.prototype.orderBy=function(e,n){w("Query.orderBy",arguments,1,2),T("Query.orderBy","non-empty string",2,n);var r;if(void 0===n||"asc"===n)r=An.ASCENDING;else{if("desc"!==n)throw new Re(ke.INVALID_ARGUMENT,"Function Query.orderBy() has unknown direction '"+n+"', expected 'asc' or 'desc'.");r=An.DESCENDING}if(null!==this._query.startAt)throw new Re(ke.INVALID_ARGUMENT,"Invalid query. You must not call Query.startAt() or Query.startAfter() before calling Query.orderBy().");if(null!==this._query.endAt)throw new Re(ke.INVALID_ARGUMENT,"Invalid query. You must not call Query.endAt() or Query.endBefore() before calling Query.orderBy().");var i=ce("Query.orderBy",e),o=new kn(i,r);return this.validateNewOrderBy(o),new t(this._query.addOrderBy(o),this.firestore)},t.prototype.limit=function(e){if(b("Query.limit",arguments,1),S("Query.limit","number",1,e),e<=0)throw new Re(ke.INVALID_ARGUMENT,"Invalid Query. Query limit ("+e+") is invalid. Limit must be positive.");return new t(this._query.withLimit(e),this.firestore)},t.prototype.startAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];_("Query.startAt",arguments,1);var i=this.boundFromDocOrFields("Query.startAt",e,n,!0);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.startAfter=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];_("Query.startAfter",arguments,1);var i=this.boundFromDocOrFields("Query.startAfter",e,n,!1);return new t(this._query.withStartAt(i),this.firestore)},t.prototype.endBefore=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];_("Query.endBefore",arguments,1);var i=this.boundFromDocOrFields("Query.endBefore",e,n,!0);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.endAt=function(e){for(var n=[],r=1;r<arguments.length;r++)n[r-1]=arguments[r];_("Query.endAt",arguments,1);var i=this.boundFromDocOrFields("Query.endAt",e,n,!1);return new t(this._query.withEndAt(i),this.firestore)},t.prototype.isEqual=function(e){if(!(e instanceof t))throw j("isEqual","Query",1,e);return this.firestore===e.firestore&&this._query.isEqual(e._query)},t.prototype.boundFromDocOrFields=function(t,e,n,r){if(M(t,1,e),e instanceof ha){if(n.length>0)throw new Re(ke.INVALID_ARGUMENT,"Too many arguments provided to "+t+"().");var i=e;if(!i.exists)throw new Re(ke.NOT_FOUND,"Can't use a DocumentSnapshot that doesn't exist for "+t+"().");return this.boundFromDocument(t,i._document,r)}var o=[e].concat(n);return this.boundFromFields(t,o,r)},t.prototype.boundFromDocument=function(t,e,n){for(var r=[],i=0,o=this._query.orderBy;i<o.length;i++){var a=o[i];if(a.field.isKeyField())r.push(new dn(this.firestore._databaseId,e.key));else{var s=e.field(a.field);if(void 0===s){var u=a.field.canonicalString();throw new Re(ke.INVALID_ARGUMENT,"Invalid query. You are trying to start or end a query using a document for which the field '"+u+"' (used as the orderBy) does not exist.")}r.push(s)}}return new On(r,n)},t.prototype.boundFromFields=function(t,e,n){var r=this._query.explicitOrderBy;if(e.length>r.length)throw new Re(ke.INVALID_ARGUMENT,"Too many arguments provided to "+t+"(). The number of arguments must be less than or equal to the number of Query.orderBy() clauses");for(var i=[],o=0;o<e.length;o++){var a=e[o];if(r[o].field.isKeyField()){if("string"!==typeof a)throw new Re(ke.INVALID_ARGUMENT,"Invalid query. Expected a string for document ID in "+t+"(), but got a "+typeof a);if(-1!==a.indexOf("/"))throw new Re(ke.INVALID_ARGUMENT,"Invalid query. Document ID '"+a+"' contains a slash in "+t+"()");var s=new Ve(this._query.path.child(a));i.push(new dn(this.firestore._databaseId,s))}else{var u=this.firestore._dataConverter.parseQueryValue(t,a);i.push(u)}}return new On(i,n)},t.prototype.onSnapshot=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];w("Query.onSnapshot",arguments,1,4);var n,r={},i=0;return"object"!==typeof t[i]||ie(t[i])||(r=t[i],L("Query.onSnapshot",r,["includeMetadataChanges"]),I("Query.onSnapshot","boolean","includeMetadataChanges",r.includeMetadataChanges),i++),ie(t[i])?n=t[i]:(S("Query.onSnapshot","function",i,t[i]),T("Query.onSnapshot","function",i+1,t[i+1]),T("Query.onSnapshot","function",i+2,t[i+2]),n={next:t[i],error:t[i+1],complete:t[i+2]}),this.onSnapshotInternal(r,n)},t.prototype.onSnapshotInternal=function(t,e){var n=this,r=function(t){console.error("Uncaught Error in onSnapshot:",t)};e.error&&(r=e.error.bind(e));var i=new No({next:function(t){e.next&&e.next(new ya(n.firestore,n._query,t))},error:r}),o=this.firestore.ensureClientConfigured(),a=o.listen(this._query,i,t);return function(){i.mute(),o.unlisten(a)}},t.prototype.get=function(t){var e=this;return w("Query.get",arguments,0,1),ye("Query.get",t),new Promise(function(n,r){t&&"cache"===t.source?e.firestore.ensureClientConfigured().getDocumentsFromLocalCache(e._query).then(function(t){n(new ya(e.firestore,e._query,t))},r):e.getViaSnapshotListener(n,r,t)})},t.prototype.getViaSnapshotListener=function(t,e,n){var r=this.onSnapshotInternal({includeMetadataChanges:!0,waitForSyncWhenOnline:!0},{next:function(i){r(),i.metadata.fromCache&&n&&"server"===n.source?e(new Re(ke.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):t(i)},error:e})},t.prototype.validateNewFilter=function(t){if(t instanceof Tn)if(t.isInequality()){var e=this._query.getInequalityFilterField();if(null!==e&&!e.isEqual(t.field))throw new Re(ke.INVALID_ARGUMENT,"Invalid query. All where filters with an inequality (<, <=, >, or >=) must be on the same field. But you have inequality filters on '"+e.toString()+"' and '"+t.field.toString()+"'");var n=this._query.getFirstOrderByField();null!==n&&this.validateOrderByAndInequalityMatch(t.field,n)}else if(t.op===Sn.ARRAY_CONTAINS&&this._query.hasArrayContainsFilter())throw new Re(ke.INVALID_ARGUMENT,"Invalid query. Queries only support a single array-contains filter.")},t.prototype.validateNewOrderBy=function(t){if(null===this._query.getFirstOrderByField()){var e=this._query.getInequalityFilterField();null!==e&&this.validateOrderByAndInequalityMatch(e,t.field)}},t.prototype.validateOrderByAndInequalityMatch=function(t,e){if(!e.isEqual(t))throw new Re(ke.INVALID_ARGUMENT,"Invalid query. You have a where filter with an inequality (<, <=, >, or >=) on field '"+t.toString()+"' and so you must also use '"+t.toString()+"' as your first Query.orderBy(), but your first Query.orderBy() is on field '"+e.toString()+"' instead.")},t}(),ya=function(){function t(t,e,n){this._firestore=t,this._originalQuery=e,this._snapshot=n,this._cachedChanges=null,this._cachedChangesIncludeMetadataChanges=null,this.metadata=new la(n.hasPendingWrites,n.fromCache)}return Object.defineProperty(t.prototype,"docs",{get:function(){var t=[];return this.forEach(function(e){return t.push(e)}),t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"empty",{get:function(){return this._snapshot.docs.isEmpty()},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"size",{get:function(){return this._snapshot.docs.size},enumerable:!0,configurable:!0}),t.prototype.forEach=function(t,e){var n=this;w("QuerySnapshot.forEach",arguments,1,2),S("QuerySnapshot.forEach","function",1,t),this._snapshot.docs.forEach(function(r){t.call(e,n.convertToDocumentImpl(r))})},Object.defineProperty(t.prototype,"query",{get:function(){return new pa(this._originalQuery,this._firestore)},enumerable:!0,configurable:!0}),t.prototype.docChanges=function(t){t&&(L("QuerySnapshot.docChanges",t,["includeMetadataChanges"]),I("QuerySnapshot.docChanges","boolean","includeMetadataChanges",t.includeMetadataChanges));var e=!(!t||!t.includeMetadataChanges);if(e&&this._snapshot.excludesMetadataChanges)throw new Re(ke.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===e||(this._cachedChanges=ve(this._firestore,e,this._snapshot),this._cachedChangesIncludeMetadataChanges=e),this._cachedChanges},t.prototype.isEqual=function(e){if(!(e instanceof t))throw j("isEqual","QuerySnapshot",1,e);return this._firestore===e._firestore&&this._originalQuery.isEqual(e._originalQuery)&&this._snapshot.isEqual(e._snapshot)},t.prototype.convertToDocumentImpl=function(t){return new da(this._firestore,t.key,t,this.metadata.fromCache,this._snapshot.mutatedKeys.has(t.key))},t}();["length","forEach","map"].concat("undefined"!==typeof Symbol?[Symbol.iterator]:[]).forEach(function(t){try{Object.defineProperty(ya.prototype.docChanges,t,{get:function(){return he()}})}catch(t){}});var ma=function(t){function e(e,n){var r=t.call(this,wn.atPath(e),n)||this;if(e.length%2!==1)throw new Re(ke.INVALID_ARGUMENT,"Invalid collection reference. Collection references must have an odd number of segments, but "+e.canonicalString()+" has "+e.length);return r}return Te.__extends(e,t),Object.defineProperty(e.prototype,"id",{get:function(){return this._query.path.lastSegment()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){var t=this._query.path.popLast();return t.isEmpty()?null:new fa(new Ve(t),this.firestore)},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"path",{get:function(){return this._query.path.canonicalString()},enumerable:!0,configurable:!0}),e.prototype.doc=function(t){if(w("CollectionReference.doc",arguments,0,1),0===arguments.length&&(t=Pe.newId()),S("CollectionReference.doc","non-empty string",1,t),""===t)throw new Re(ke.INVALID_ARGUMENT,"Document path must be a non-empty string");var e=Be.fromString(t);return fa.forPath(this._query.path.child(e),this.firestore)},e.prototype.add=function(t){b("CollectionReference.add",arguments,1),S("CollectionReference.add","object",1,t);var e=this.doc();return e.set(t).then(function(){return e})},e}(pa),va=l(sa,"Use firebase.firestore() instead."),ga=l(ua,"Use firebase.firestore().runTransaction() instead."),ba=l(ca,"Use firebase.firestore().batch() instead."),_a=l(fa,"Use firebase.firestore().doc() instead."),wa=l(ha),Ea=l(da),Sa=l(pa),Ta=l(ya),Ca=l(ma,"Use firebase.firestore().collection() instead."),Ia={Firestore:va,GeoPoint:Ne,Timestamp:Me,Blob:De,Transaction:ga,WriteBatch:ba,DocumentReference:_a,DocumentSnapshot:wa,Query:Sa,QueryDocumentSnapshot:Ea,QuerySnapshot:Ta,CollectionReference:Ca,FieldPath:Mo,FieldValue:Go,setLogLevel:sa.setLogLevel};_e(Ee),e.registerFirestore=_e},function(t,e,n){"use strict";function r(t){return"storage/"+t}function i(){return new ie(oe.UNKNOWN,"An unknown error occurred, please check the error payload for server response.")}function o(t){return new ie(oe.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function a(t){return new ie(oe.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function s(){return new ie(oe.UNAUTHENTICATED,"User is not authenticated, please authenticate using Firebase Authentication and try again.")}function u(t){return new ie(oe.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function c(){return new ie(oe.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function f(){return new ie(oe.CANCELED,"User canceled the upload/download.")}function l(t){return new ie(oe.INVALID_URL,"Invalid URL '"+t+"'.")}function h(t){return new ie(oe.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function d(){return new ie(oe.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function p(){return new ie(oe.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function y(){return new ie(oe.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function m(t,e,n){return new ie(oe.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function v(t,e,n,r){var i,o;return t===e?(i=t,o=1===t?"argument":"arguments"):(i="between "+t+" and "+e,o="arguments"),new ie(oe.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+n+"`: Expected "+i+" "+o+", received "+r+".")}function g(){return new ie(oe.APP_DELETED,"The Firebase app was deleted.")}function b(t){return new ie(oe.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function _(t,e){return new ie(oe.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function w(t){throw new ie(oe.INTERNAL_ERROR,"Internal error: "+t)}function E(t){switch(t){case ae.RAW:case ae.BASE64:case ae.BASE64URL:case ae.DATA_URL:return;default:throw"Expected one of the event types: ["+ae.RAW+", "+ae.BASE64+", "+ae.BASE64URL+", "+ae.DATA_URL+"]."}}function S(t,e){switch(t){case ae.RAW:return new se(T(e));case ae.BASE64:case ae.BASE64URL:return new se(I(t,e));case ae.DATA_URL:return new se(A(e),O(e))}throw i()}function T(t){for(var e=[],n=0;n<t.length;n++){var r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|63&r);else if(55296==(64512&r)){var i=n<t.length-1&&56320==(64512&t.charCodeAt(n+1));if(i){var o=r,a=t.charCodeAt(++n);r=65536|(1023&o)<<10|1023&a,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|63&r)}else e.push(239,191,189)}else 56320==(64512&r)?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|63&r)}return new Uint8Array(e)}function C(t){var e;try{e=decodeURIComponent(t)}catch(t){throw _(ae.DATA_URL,"Malformed data URL.")}return T(e)}function I(t,e){switch(t){case ae.BASE64:var n=-1!==e.indexOf("-"),r=-1!==e.indexOf("_");if(n||r){var i=n?"-":"_";throw _(t,"Invalid character '"+i+"' found: is it base64url encoded?")}break;case ae.BASE64URL:var o=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(o||a){var i=o?"+":"/";throw _(t,"Invalid character '"+i+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/")}var s;try{s=atob(e)}catch(e){throw _(t,"Invalid character found")}for(var u=new Uint8Array(s.length),c=0;c<s.length;c++)u[c]=s.charCodeAt(c);return u}function A(t){var e=new ue(t);return e.base64?I(ae.BASE64,e.rest):C(e.rest)}function O(t){return new ue(t).contentType}function k(t,e){return!!(t.length>=e.length)&&t.substring(t.length-e.length)===e}function R(t){switch(t){case fe.RUNNING:case fe.PAUSING:case fe.CANCELING:return le.RUNNING;case fe.PAUSED:return le.PAUSED;case fe.SUCCESS:return le.SUCCESS;case fe.CANCELED:return le.CANCELED;case fe.ERROR:default:return le.ERROR}}function P(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function x(t,e){for(var n in t)P(t,n)&&e(n,t[n])}function D(t){if(null==t)return{};var e={};return x(t,function(t,n){e[t]=n}),e}function N(t){return new Promise(t)}function M(t){return Promise.resolve(t)}function L(t){return Promise.reject(t)}function j(t){return null!=t}function U(t){return void 0!==t}function F(t){return"function"===typeof t}function B(t){return"object"===typeof t}function q(t){return B(t)&&null!==t}function W(t){return B(t)&&!Array.isArray(t)}function V(t){return"string"===typeof t||t instanceof String}function H(t){return"number"===typeof t||t instanceof Number}function z(t){return K()&&t instanceof Blob}function K(){return"undefined"!==typeof Blob}function G(t){var e;try{e=JSON.parse(t)}catch(t){return null}return W(e)?e:null}function Q(t){if(0==t.length)return null;var e=t.lastIndexOf("/");return-1===e?"":t.slice(0,e)}function Y(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}function X(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function $(t){return $t+Zt+t}function J(t){return Jt+Zt+t}function Z(t){return $t+te+t}function tt(t){var e=encodeURIComponent,n="?";return x(t,function(t,r){var i=e(t)+"="+e(r);n=n+i+"&"}),n=n.slice(0,-1)}function et(t,e){return e}function nt(t){return!V(t)||t.length<2?t:(t=t,X(t))}function rt(){function t(t,e){return nt(e)}function e(t,e){return j(e)?+e:e}if(me)return me;var n=[];n.push(new ye("bucket")),n.push(new ye("generation")),n.push(new ye("metageneration")),n.push(new ye("name","fullPath",!0));var r=new ye("name");r.xform=t,n.push(r);var i=new ye("size");return i.xform=e,n.push(i),n.push(new ye("timeCreated")),n.push(new ye("updated")),n.push(new ye("md5Hash",null,!0)),n.push(new ye("cacheControl",null,!0)),n.push(new ye("contentDisposition",null,!0)),n.push(new ye("contentEncoding",null,!0)),n.push(new ye("contentLanguage",null,!0)),n.push(new ye("contentType",null,!0)),n.push(new ye("metadata","customMetadata",!0)),me=n}function it(t,e){function n(){var n=t.bucket,r=t.fullPath,i=new pe(n,r);return e.makeStorageReference(i)}Object.defineProperty(t,"ref",{get:n})}function ot(t,e,n){var r={};r.type="file";for(var i=n.length,o=0;o<i;o++){var a=n[o];r[a.local]=a.xform(r,e[a.server])}return it(r,t),r}function at(t,e,n){var r=G(e);return null===r?null:ot(t,r,n)}function st(t,e){var n=G(e);if(null===n)return null;if(!V(n.downloadTokens))return null;var r=n.downloadTokens;if(0===r.length)return null;var i=encodeURIComponent;return r.split(",").map(function(e){var n=t.bucket,r=t.fullPath;return J("/b/"+i(n)+"/o/"+i(r))+tt({alt:"media",token:e})})[0]}function ut(t,e){for(var n={},r=e.length,i=0;i<r;i++){var o=e[i];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function ct(t){if(!t||!B(t))throw"Expected Metadata object.";for(var e in t){var n=t[e];if("customMetadata"===e){if(!B(n))throw"Expected object for 'customMetadata' mapping."}else if(q(n))throw"Mapping for '"+e+"' cannot be an object."}}function ft(t,e,n){for(var r=e.length,i=e.length,o=0;o<e.length;o++)if(e[o].optional){r=o;break}if(!(r<=n.length&&n.length<=i))throw v(r,i,t,n.length);for(var o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(e){throw e instanceof Error?m(o,t,e.message):m(o,t,e)}}function lt(t,e){return function(n){t(n),e(n)}}function ht(t,e){function n(t){if(!V(t))throw"Expected string."}var r;return r=t?lt(n,t):n,new ve(r,e)}function dt(){function t(t){if(!(t instanceof Uint8Array||t instanceof ArrayBuffer||K()&&t instanceof Blob))throw"Expected Blob or File."}return new ve(t)}function pt(t){return new ve(ct,t)}function yt(){function t(t){if(!(H(t)&&t>=0))throw"Expected a number 0 or greater."}return new ve(t)}function mt(t,e){function n(e){if(!(null===e||j(e)&&e instanceof Object))throw"Expected an Object.";void 0!==t&&null!==t&&t(e)}return new ve(n,e)}function vt(t){function e(t){if(null!==t&&!F(t))throw"Expected a Function."}return new ve(e,t)}function gt(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function bt(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=gt();if(void 0!==n){for(var r=new n,i=0;i<t.length;i++)r.append(t[i]);return r.getBlob()}if(K())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}function _t(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function wt(t,e){return-1!==t.indexOf(e)}function Et(t){return Array.prototype.slice.call(t)}function St(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}function Tt(t){if(!t)throw i()}function Ct(t,e){function n(n,r){var i=at(t,r,e);return Tt(null!==i),i}return n}function It(t,e){function n(n,r){var i=at(t,r,e);return Tt(null!==i),st(i,r)}return n}function At(t){function e(e,n){var r;return r=401===e.getStatus()?s():402===e.getStatus()?a(t.bucket):403===e.getStatus()?u(t.path):n,r.setServerResponseProp(n.serverResponseProp()),r}return e}function Ot(t){function e(e,r){var i=n(e,r);return 404===e.getStatus()&&(i=o(t.path)),i.setServerResponseProp(r.serverResponseProp()),i}var n=At(t);return e}function kt(t,e,n){var r=e.fullServerUrl(),i=$(r),o=t.maxOperationRetryTime(),a=new be(i,"GET",Ct(t,n),o);return a.errorHandler=Ot(e),a}function Rt(t,e,n){var r=e.fullServerUrl(),i=$(r),o=t.maxOperationRetryTime(),a=new be(i,"GET",It(t,n),o);return a.errorHandler=Ot(e),a}function Pt(t,e,n,r){var i=e.fullServerUrl(),o=$(i),a=ut(n,r),s={"Content-Type":"application/json; charset=utf-8"},u=t.maxOperationRetryTime(),c=new be(o,"PATCH",Ct(t,r),u);return c.headers=s,c.body=a,c.errorHandler=Ot(e),c}function xt(t,e){function n(t,e){}var r=e.fullServerUrl(),i=$(r),o=t.maxOperationRetryTime(),a=new be(i,"DELETE",n,o);return a.successCodes=[200,204],a.errorHandler=Ot(e),a}function Dt(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function Nt(t,e,n){var r=D(n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=Dt(null,e)),r}function Mt(t,e,n,r,i){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"},s=function(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}();a["Content-Type"]="multipart/related; boundary="+s;var u=Nt(e,r,i),c=ut(u,n),f="--"+s+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+c+"\r\n--"+s+"\r\nContent-Type: "+u.contentType+"\r\n\r\n",l="\r\n--"+s+"--",h=ge.getBlob(f,r,l);if(null===h)throw d();var p={name:u.fullPath},y=Z(o),m=t.maxUploadRetryTime(),v=new be(y,"POST",Ct(t,n),m);return v.urlParams=p,v.headers=a,v.body=h.uploadData(),v.errorHandler=At(e),v}function Lt(t,e){var n;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(t){Tt(!1)}return Tt(wt(e||["active"],n)),n}function jt(t,e,n,r,i){function o(t,e){Lt(t);var n;try{n=t.getResponseHeader("X-Goog-Upload-URL")}catch(t){Tt(!1)}return Tt(V(n)),n}var a=e.bucketOnlyServerUrl(),s=Nt(e,r,i),u={name:s.fullPath},c=Z(a),f={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":r.size(),"X-Goog-Upload-Header-Content-Type":s.contentType,"Content-Type":"application/json; charset=utf-8"},l=ut(s,n),h=t.maxUploadRetryTime(),d=new be(c,"POST",o,h);return d.urlParams=u,d.headers=f,d.body=l,d.errorHandler=At(e),d}function Ut(t,e,n,r){function i(t,e){var n,i=Lt(t,["active","final"]);try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(t){Tt(!1)}var o=parseInt(n,10);return Tt(!isNaN(o)),new _e(o,r.size(),"final"===i)}var o={"X-Goog-Upload-Command":"query"},a=t.maxUploadRetryTime(),s=new be(n,"POST",i,a);return s.headers=o,s.errorHandler=At(e),s}function Ft(t,e,n,r,i,o,a,s){function u(t,n){var i,a=Lt(t,["active","final"]),s=c.current+l,u=r.size();return i="final"===a?Ct(e,o)(t,n):null,new _e(s,u,"final"===a,i)}var c=new _e(0,0);if(a?(c.current=a.current,c.total=a.total):(c.current=0,c.total=r.size()),r.size()!==c.total)throw p();var f=c.total-c.current,l=f;i>0&&(l=Math.min(l,i));var h=c.current,y=h+l,m=l===f?"upload, finalize":"upload",v={"X-Goog-Upload-Command":m,"X-Goog-Upload-Offset":c.current},g=r.slice(h,y);if(null===g)throw d();var b=e.maxUploadRetryTime(),_=new be(n,"POST",u,b);return _.headers=v,_.body=g.uploadData(),_.progressCallback=s||null,_.errorHandler=At(t),_}function Bt(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];M(!0).then(function(){t.apply(null,e)})}}function qt(t,e,n){function r(){return 2===l}function i(){h||(h=!0,e.apply(null,arguments))}function o(e){c=setTimeout(function(){c=null,t(a,r())},e)}function a(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!h){if(t)return void i.apply(null,arguments);if(r()||f)return void i.apply(null,arguments);u<64&&(u*=2);var a;1===l?(l=2,a=0):a=1e3*(u+Math.random()),o(a)}}function s(t){d||(d=!0,h||(null!==c?(t||(l=2),clearTimeout(c),o(0)):t||(l=1)))}var u=1,c=null,f=!1,l=0,h=!1,d=!1;return o(0),setTimeout(function(){f=!0,s(!0)},n),s}function Wt(t){t(!1)}function Vt(t,e){null!==e&&e.length>0&&(t.Authorization="Firebase "+e)}function Ht(t){var e="undefined"!==typeof Xt.a?Xt.a.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}function zt(t,e,n){var r=tt(t.urlParams),i=t.url+r,o=D(t.headers);return Vt(o,e),Ht(o),new Oe(i,t.method,o,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n)}function Kt(t,e,n){return new Re(t,new de,n)}function Gt(t){var e={TaskState:le,TaskEvent:ce,StringFormat:ae,Storage:Re,Reference:Te};t.INTERNAL.registerService(xe,Kt,e,void 0,!0)}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"registerStorage",function(){return Gt});var Qt,Yt=n(24),Xt=n.n(Yt),$t="https://firebasestorage.googleapis.com",Jt="https://firebasestorage.googleapis.com",Zt="/v0",te="/v0",ee=12e4,ne=6e4,re=-9007199254740991,ie=function(){function t(t,e){this.code_=r(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return r(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),oe={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"},ae={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},se=function(){function t(t,e){this.data=t,this.contentType=e||null}return t}(),ue=function(){function t(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw _(ae.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=k(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}return t}(),ce={STATE_CHANGED:"state_changed"},fe={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},le={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};!function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"}(Qt||(Qt={}));var he=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=Qt.NO_ERROR,this.sendPromise_=N(function(e,n){t.xhr_.addEventListener("abort",function(n){t.errorCode_=Qt.ABORT,e(t)}),t.xhr_.addEventListener("error",function(n){t.errorCode_=Qt.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(n){e(t)})})}return t.prototype.send=function(t,e,n,r){var i=this;if(this.sent_)throw w("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),j(r)){x(r,function(t,e){i.xhr_.setRequestHeader(t,e.toString())})}return j(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw w("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw w("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw w("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){j(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){j(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),de=function(){function t(){}return t.prototype.createXhrIo=function(){return new he},t}(),pe=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){return"/b/"+encodeURIComponent(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(n){return new t(e,"")}if(""===n.path)return n;throw h(e)},t.makeFromUrl=function(e){function n(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}function r(t){t.path_=decodeURIComponent(t.path)}for(var i=null,o=new RegExp("^gs://([A-Za-z0-9.\\-]+)(/(.*))?$","i"),a={bucket:1,path:3},s=new RegExp("^https?://firebasestorage\\.googleapis\\.com/v[A-Za-z0-9_]+/b/([A-Za-z0-9.\\-]+)/o(/([^?#]*).*)?$","i"),u={bucket:1,path:3},c=[{regex:o,indices:a,postModify:n},{regex:s,indices:u,postModify:r}],f=0;f<c.length;f++){var h=c[f],d=h.regex.exec(e);if(d){var p=d[h.indices.bucket],y=d[h.indices.path];y||(y=""),i=new t(p,y),h.postModify(i);break}}if(null==i)throw l(e);return i},t}(),ye=function(){function t(t,e,n,r){this.server=t,this.local=e||t,this.writable=!!n,this.xform=r||et}return t}(),me=null,ve=function(){function t(t,e){var n=this;this.validator=function(e){n.optional&&!U(e)||t(e)},this.optional=!!e}return t}(),ge=function(){function t(t,e){var n=0,r="";z(t)?(this.data_=t,n=t.size,r=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=r}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(z(this.data_)){var r=this.data_,i=_t(r,e,n);return null===i?null:new t(i)}return new t(new Uint8Array(this.data_.buffer,e,n-e),!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(K()){var r=e.map(function(e){return e instanceof t?e.data_:e});return new t(bt.apply(null,r))}var i=e.map(function(t){return V(t)?S(ae.RAW,t).data:t.data_}),o=0;i.forEach(function(t){o+=t.byteLength});var a=new Uint8Array(o),s=0;return i.forEach(function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]}),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}(),be=function(){function t(t,e,n,r){this.url=t,this.method=e,this.handler=n,this.timeout=r,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}(),_e=function(){function t(t,e,n,r){this.current=t,this.total=e,this.finalized=!!n,this.metadata=r||null}return t}(),we=function(){function t(t,e,n){if(F(t)||j(e)||j(n))this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}return t}(),Ee=function(){function t(t,e,n,r,i,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=r,this.task=i,this.ref=o}return t}(),Se=function(){function t(t,e,n,r,i,o){void 0===o&&(o=null);var a=this;this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=i,this.metadata_=o,this.mappings_=r,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=fe.RUNNING,this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals(oe.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_(fe.ERROR))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals(oe.CANCELED)?a.completeTransitions_():(a.error_=t,a.transition_(fe.ERROR))},this.promise_=N(function(t,e){a.resolve_=t,a.reject_=e,a.start_()}),this.promise_.then(null,function(){})}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n,r){t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===fe.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then(function(n){switch(e.state_){case fe.RUNNING:t(n);break;case fe.CANCELING:e.transition_(fe.CANCELED);break;case fe.PAUSING:e.transition_(fe.PAUSED)}})},t.prototype.createResumable_=function(){var t=this;this.resolveToken_(function(e){var n=jt(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()},t.errorHandler_)})},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_(function(n){var r=Ut(t.authWrapper_,t.location_,e,t.blob_),i=t.authWrapper_.makeRequest(r,n);t.request_=i,i.getPromise().then(function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()},t.errorHandler_)})},t.prototype.continueUpload_=function(){var t=this,e=262144*this.chunkMultiplier_,n=new _e(this.transferred_,this.blob_.size()),r=this.uploadUrl_;this.resolveToken_(function(i){var o;try{o=Ft(t.location_,t.authWrapper_,r,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(e){return t.error_=e,void t.transition_(fe.ERROR)}var a=t.authWrapper_.makeRequest(o,i);t.request_=a,a.getPromise().then(function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(fe.SUCCESS)):t.completeTransitions_()},t.errorHandler_)})},t.prototype.increaseMultiplier_=function(){262144*this.chunkMultiplier_<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_(function(e){var n=kt(t.authWrapper_,t.location_,t.mappings_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.transition_(fe.SUCCESS)},t.metadataErrorHandler_)})},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_(function(e){var n=Mt(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),r=t.authWrapper_.makeRequest(n,e);t.request_=r,r.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(fe.SUCCESS)},t.errorHandler_)})},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case fe.CANCELING:case fe.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case fe.RUNNING:var e=this.state_===fe.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case fe.PAUSED:this.state_=t,this.notifyObservers_();break;case fe.CANCELED:this.error_=f(),this.state_=t,this.notifyObservers_();break;case fe.ERROR:case fe.SUCCESS:this.state_=t,this.notifyObservers_()}},t.prototype.completeTransitions_=function(){switch(this.state_){case fe.PAUSING:this.transition_(fe.PAUSED);break;case fe.CANCELING:this.transition_(fe.CANCELED);break;case fe.RUNNING:this.start_()}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=R(this.state_);return new Ee(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,r){function i(e){if(t!==ce.STATE_CHANGED)throw"Expected one of the event types: ["+ce.STATE_CHANGED+"]."}function o(t){try{return void c(t)}catch(t){}try{f(t);if(!(U(t.next)||U(t.error)||U(t.complete)))throw"";return}catch(t){throw u}}function a(t){function e(e,n,i){null!==t&&ft("on",t,arguments);var o=new we(e,n,r);return l.addObserver_(o),function(){l.removeObserver_(o)}}return e}function s(t){if(null===t)throw u;o(t)}void 0===e&&(e=void 0),void 0===n&&(n=void 0),void 0===r&&(r=void 0);var u="Expected a function or an Object with one of `next`, `error`, `complete` properties.",c=vt(!0).validator,f=mt(null,!0).validator;ft("on",[ht(i),mt(o,!0),vt(!0),vt(!0)],arguments);var l=this,h=[mt(s),vt(!0),vt(!0)];return U(e)||U(n)||U(r)?a(null)(e,n,r):a(h)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){St(this.observers_,t)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_(),Et(this.observers_).forEach(function(e){t.notifyObserver_(e)})},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(R(this.state_)){case le.SUCCESS:Bt(this.resolve_.bind(null,this.snapshot))();break;case le.CANCELED:case le.ERROR:Bt(this.reject_.bind(null,this.error_))();break;default:t=!1}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){switch(R(this.state_)){case le.RUNNING:case le.PAUSED:null!==t.next&&Bt(t.next.bind(t,this.snapshot))();break;case le.SUCCESS:null!==t.complete&&Bt(t.complete.bind(t))();break;case le.CANCELED:case le.ERROR:null!==t.error&&Bt(t.error.bind(t,this.error_))();break;default:null!==t.error&&Bt(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){ft("resume",[],arguments);var t=this.state_===fe.PAUSED||this.state_===fe.PAUSING;return t&&this.transition_(fe.RUNNING),t},t.prototype.pause=function(){ft("pause",[],arguments);var t=this.state_===fe.RUNNING;return t&&this.transition_(fe.PAUSING),t},t.prototype.cancel=function(){ft("cancel",[],arguments);var t=this.state_===fe.RUNNING||this.state_===fe.PAUSING;return t&&this.transition_(fe.CANCELING),t},t}(),Te=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof pe?e:pe.makeFromUrl(e)}return t.prototype.toString=function(){return ft("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return rt()},t.prototype.child=function(t){ft("child",[ht()],arguments);var e=Y(this.location.path,t),n=new pe(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=Q(this.location.path);if(null===t)return null;var e=new pe(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new pe(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return X(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),ft("put",[dt(),pt(!0)],arguments),this.throwIfRoot_("put"),new Se(this,this.authWrapper,this.location,this.mappings(),new ge(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=ae.RAW),ft("putString",[ht(),ht(E,!0),pt(!0)],arguments),this.throwIfRoot_("putString");var r=S(e,t),i=D(n);return!j(i.contentType)&&j(r.contentType)&&(i.contentType=r.contentType),new Se(this,this.authWrapper,this.location,this.mappings(),new ge(r.data,!0),i)},t.prototype.delete=function(){ft("delete",[],arguments),this.throwIfRoot_("delete");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=xt(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.getMetadata=function(){ft("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=kt(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.updateMetadata=function(t){ft("updateMetadata",[pt()],arguments),this.throwIfRoot_("updateMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(n){var r=Pt(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(r,n).getPromise()})},t.prototype.getDownloadURL=function(){ft("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=Rt(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw y();return t})})},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw b(t)},t}(),Ce=function(){function t(t){this.promise_=L(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){void 0===t&&(t=!1)},t}(),Ie=function(){function t(){this.map_={},this.id_=re}return t.prototype.addRequest=function(t){function e(){delete r.map_[n]}var n=this.id_;this.id_++,this.map_[n]=t;var r=this;t.getPromise().then(e,e)},t.prototype.clear=function(){x(this.map_,function(t,e){e&&e.cancel(!0)}),this.map_={}},t}(),Ae=function(){function t(e,n,r,i,o){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var a=this.app_.options;j(a)&&(this.bucket_=t.extractBucket_(a))}this.storageRefMaker_=n,this.requestMaker_=r,this.pool_=o,this.service_=i,this.maxOperationRetryTime_=ee,this.maxUploadRetryTime_=ne,this.requestMap_=new Ie}return t.extractBucket_=function(t){var e=t.storageBucket||null;return null==e?null:pe.makeFromBucketSpec(e).bucket},t.prototype.getAuthToken=function(){return null!==this.app_&&j(this.app_.INTERNAL)&&j(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(t){return null!==t?t.accessToken:null},function(t){return null}):M(null)},t.prototype.bucket=function(){if(this.deleted_)throw g();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new Ce(g());var n=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}(),Oe=function(){function t(t,e,n,r,i,o,a,s,u,c,f){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=r,this.successCodes_=i.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=f;var l=this;this.promise_=N(function(t,e){l.resolve_=t,l.reject_=e,l.start_()})}return t.prototype.start_=function(){function t(t,e){function r(t){var e=t.loaded,r=t.lengthComputable?t.total:-1;null!==n.progressCallback_&&n.progressCallback_(e,r)}if(e)return void t(!1,new ke(!1,null,!0));var i=n.pool_.createXhrIo();n.pendingXhr_=i,null!==n.progressCallback_&&i.addUploadProgressListener(r),i.send(n.url_,n.method_,n.body_,n.headers_).then(function(e){null!==n.progressCallback_&&e.removeUploadProgressListener(r),n.pendingXhr_=null,e=e;var i=e.getErrorCode()===Qt.NO_ERROR,o=e.getStatus();if(!i||n.isRetryStatusCode_(o)){var a=e.getErrorCode()===Qt.ABORT;return void t(!1,new ke(!1,null,a))}var s=wt(n.successCodes_,o);t(!0,new ke(s,e))})}function e(t,e){var r=n.resolve_,o=n.reject_,a=e.xhr;if(e.wasSuccessCode)try{var s=n.callback_(a,a.getResponseText());U(s)?r(s):r()}catch(t){o(t)}else if(null!==a){var u=i();u.setServerResponseProp(a.getResponseText()),o(n.errorCallback_?n.errorCallback_(a,u):u)}else if(e.canceled){var u=n.appDelete_?g():f();o(u)}else{var u=c();o(u)}}var n=this;this.canceled_?e(!1,new ke(!1,null,!0)):this.backoffId_=qt(t,e,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&Wt(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=[408,429],r=wt(n,t),i=wt(this.additionalRetryCodes_,t);return e||r||i},t}(),ke=function(){function t(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}return t}(),Re=function(){function t(t,e,n){function r(t,e){return new Te(t,e)}if(this.bucket_=null,this.authWrapper_=new Ae(t,r,zt,this,e),this.app_=t,null!=n)this.bucket_=pe.makeFromBucketSpec(n);else{var i=this.authWrapper_.bucket();null!=i&&(this.bucket_=new pe(i,""))}this.internals_=new Pe(this)}return t.prototype.ref=function(t){function e(t){if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(ft("ref",[ht(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new Te(this.authWrapper_,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{pe.makeFromUrl(t)}catch(t){throw"Expected valid full URL but got an invalid one."}}return ft("refFromURL",[ht(e,!1)],arguments),new Te(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){ft("setMaxUploadRetryTime",[yt()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.authWrapper_.maxOperationRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){ft("setMaxOperationRetryTime",[yt()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),Pe=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),M(void 0)},t}(),xe="storage";Gt(Xt.a)},function(t,e,n){"use strict";n.d(e,"b",function(){return a});var r=n(356),i=n.n(r),o=(n(357),n(358),n(359),{apiKey:"AIzaSyBMbFPF2-CfNZywfSpRu_AEdRyb_czGB_0",authDomain:"dagk-da64a.firebaseapp.com",databaseURL:"https://dagk-da64a.firebaseio.com",projectId:"dagk-da64a",storageBucket:"dagk-da64a.appspot.com",messagingSenderId:"734095293560"});i.a.initializeApp(o),i.a.firestore().settings({timestampsInSnapshots:!0});var a=new i.a.auth.GoogleAuthProvider;e.a=i.a;i.a.storage().ref()},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.createFirebaseInstance=void 0;var i=n(4),o=function(t){return t&&t.__esModule?t:{default:t}}(i),a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},s=n(49),u=n(211),c=n(212);e.createFirebaseInstance=function(t,e,n){e.enableLogging&&t.database&&"function"===typeof t.database.enableLogging&&t.database.enableLogging(e.enableLogging);var i={watchers:{},listeners:{},callbacks:{},queries:{},config:e,authUid:null};Object.defineProperty(t,"_",{value:i,writable:!0,enumerable:!0,configurable:!0});var f=function(e,n,i,s){if((0,o.default)(i)){var u="update"===e?"updated":"created",c=a({},i,r({},u+"At",t.database.ServerValue.TIMESTAMP));return t.auth().currentUser&&(c[u+"By"]=t.auth().currentUser.uid),t.database().ref(n)[e](c,s)}return t.database().ref(n)[e](i,s)},l=function(e,n,r){return t.database().ref(e).set(n,r)},h=function(t,e,n){return f("set",t,e,n)},d=function(e,n,r){return t.database().ref(e).push(n,r)},p=function(t,e,n){return f("push",t,e,n)},y=function(e,n,r){return t.database().ref(e).update(n,r)},m=function(t,e,n){return f("update",t,e,n)},v=function(e,r,i){return c.queryActions.remove(t,n,e,i).then(function(){return"function"===typeof r&&r(),e})},g=function(e,n,r){return t.database().ref(e).transaction(function(t){return null===t?n:void 0}).then(function(t){var e=t.committed,n=t.snapshot;if(!e){var i=new Error("Path already exists.");return r&&r(i),Promise.reject(i)}return r&&r(n),n})},b=function(e,r,i,o){return c.storageActions.uploadFile(n,t,{path:e,file:r,dbPath:i,options:o})},_=function(e,r,i,o){return c.storageActions.uploadFiles(n,t,{path:e,files:r,dbPath:i,options:o})},w=function(e,r){return c.storageActions.deleteFile(n,t,{path:e,dbPath:r})},E=function(e,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return c.queryActions.watchEvent(t,n,a({type:e,path:r,storeAs:i},o))},S=function(e,r,i){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};return c.queryActions.unWatchEvent(t,n,a({type:e,path:r,queryId:i},o))},T=function(e,r){var i=(0,s.createCallable)(e),o=i(r,t),a=(0,s.getEventsFromInput)(o);return Promise.all(a.map(function(e){return c.queryActions.watchEvent(t,n,e)}))},C=function(e){return c.authActions.login(n,t,e)},I=function(){return c.authActions.logout(n,t)},A=function(e,r){return c.authActions.createUser(n,t,e,r)},O=function(e){return c.authActions.resetPassword(n,t,e)},k=function(e,r){return c.authActions.confirmPasswordReset(n,t,e,r)},R=function(e){return c.authActions.verifyPasswordResetCode(n,t,e)},P=function(e,r){return c.authActions.updateProfile(n,t,e,r)},x=function(e,r){return c.authActions.updateAuth(n,t,e,r)},D=function(e,r){return c.authActions.updateEmail(n,t,e,r)},N=function(){return c.authActions.reloadAuth(n,t)},M=function(e){return c.authActions.linkWithCredential(n,t,e)},L=(0,u.mapWithFirebaseAndDispatch)(t,n,{signInWithPhoneNumber:c.authActions.signInWithPhoneNumber}),j=a({ref:function(e){return t.database().ref(e)},set:l,setWithMeta:h,uniqueSet:g,push:d,pushWithMeta:p,remove:v,update:y,updateWithMeta:m,login:C,logout:I,updateAuth:x,updateEmail:D,updateProfile:P,uploadFile:b,uploadFiles:_,deleteFile:w,createUser:A,resetPassword:O,confirmPasswordReset:k,verifyPasswordResetCode:R,watchEvent:E,unWatchEvent:S,reloadAuth:N,linkWithCredential:M,promiseEvents:T},L);return a(t,j,{helpers:j})}},function(t,e,n){(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.exports=n}).call(e,n(8))},function(t,e){function n(t){if(null!=t){try{return i.call(t)}catch(t){}try{return t+""}catch(t){}}return""}var r=Function.prototype,i=r.toString;t.exports=n},function(t,e,n){function r(t,e,n,r,c,f){var l=n&s,h=t.length,d=e.length;if(h!=d&&!(l&&d>h))return!1;var p=f.get(t);if(p&&f.get(e))return p==e;var y=-1,m=!0,v=n&u?new i:void 0;for(f.set(t,e),f.set(e,t);++y<h;){var g=t[y],b=e[y];if(r)var _=l?r(b,g,y,e,t,f):r(g,b,y,t,e,f);if(void 0!==_){if(_)continue;m=!1;break}if(v){if(!o(e,function(t,e){if(!a(v,e)&&(g===t||c(g,t,n,r,f)))return v.push(e)})){m=!1;break}}else if(g!==b&&!c(g,b,n,r,f)){m=!1;break}}return f.delete(t),f.delete(e),m}var i=n(111),o=n(187),a=n(112),s=1,u=2;t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}t.exports=n},function(t,e,n){var r=n(11),i=r.Uint8Array;t.exports=i},function(t,e,n){function r(t){return i(t,a,o)}var i=n(190),o=n(115),a=n(40);t.exports=r},function(t,e,n){function r(t,e,n){var r=e(t);return o(t)?r:i(r,n(t))}var i=n(114),o=n(2);t.exports=r},function(t,e){function n(){return[]}t.exports=n},function(t,e,n){function r(t,e){var n=a(t),r=!n&&o(t),f=!n&&!r&&s(t),h=!n&&!r&&!f&&c(t),d=n||r||f||h,p=d?i(t.length,String):[],y=p.length;for(var m in t)!e&&!l.call(t,m)||d&&("length"==m||f&&("offset"==m||"parent"==m)||h&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||u(m,y))||p.push(m);return p}var i=n(400),o=n(76),a=n(2),s=n(77),u=n(42),c=n(117),f=Object.prototype,l=f.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){return function(n){return t(e(n))}}t.exports=n},function(t,e,n){var r=n(30),i=n(11),o=r(i,"Set");t.exports=o},function(t,e,n){var r=n(30),i=n(11),o=r(i,"WeakMap");t.exports=o},function(t,e,n){function r(t){return t===t&&!i(t)}var i=n(4);t.exports=r},function(t,e){function n(t,e){return function(n){return null!=n&&(n[t]===e&&(void 0!==e||t in Object(n)))}}t.exports=n},function(t,e,n){var r=n(409),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r(function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(i,function(t,n,r,i){e.push(r?i.replace(o,"$1"):n||t)}),e});t.exports=a},function(t,e,n){function r(t,e){return null!=t&&o(t,e,i)}var i=n(411),o=n(200);t.exports=r},function(t,e,n){function r(t,e,n){e=i(e,t);for(var r=-1,f=e.length,l=!1;++r<f;){var h=c(e[r]);if(!(l=null!=t&&n(t,h)))break;t=t[h]}return l||++r!=f?l:!!(f=null==t?0:t.length)&&u(f)&&s(h,f)&&(a(t)||o(t))}var i=n(32),o=n(76),a=n(2),s=n(42),u=n(118),c=n(26);t.exports=r},function(t,e){function n(t){return function(e){return null==e?void 0:e[t]}}t.exports=n},function(t,e,n){function r(t,e){return e.length<2?t:i(t,o(e,0,-1))}var i=n(80),o=n(203);t.exports=r},function(t,e){function n(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++r<i;)o[r]=t[r+e];return o}t.exports=n},function(t,e,n){function r(t,e){return t&&i(t,e,o)}var i=n(205),o=n(40);t.exports=r},function(t,e,n){var r=n(418),i=r();t.exports=i},function(t,e,n){function r(t,e,n){var r=s(t)?i:a;return n&&u(t,e,n)&&(e=void 0),r(t,o(e,3))}var i=n(187),o=n(14),a=n(420),s=n(2),u=n(124);t.exports=r},function(t,e,n){function r(t,e,n){return null==t?t:i(t,e,n)}var i=n(126);t.exports=r},function(t,e,n){var r=n(30),i=function(){try{var t=r(Object,"defineProperty");return t({},"",{}),t}catch(t){}}();t.exports=i},function(t,e,n){function r(t,e){var n=[];return i(t,function(t,r,i){e(t,r,i)&&n.push(t)}),n}var i=n(34);t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.populateAndDispatch=e.orderedFromSnapshot=e.applyParamsToQuery=e.unsetWatcher=e.getWatcherCount=e.setWatcher=e.getQueryIdFromPath=e.getWatchPath=void 0;var i=n(27),o=r(i),a=n(57),s=r(a),u=n(84),c=r(u),f=n(427),l=r(f),h=n(19),d=n(82),p=function(t){var e=Number(t);return(0,l.default)(e)?t:e},y=e.getWatchPath=function(t,e){if(!t||""===t||!e)throw new Error("Event and path are required");return t+":"+("/"===e.substring(0,1)?"":"/")+e},m=e.getQueryIdFromPath=function(t,e){if(!(0,o.default)(t))throw new Error("Query path must be a string");var n=t,r=t.split("#");t=r[0];var i=r.length>1,a=i?r[1].split("&"):[],s=i?a.map(function(t){var e=t.split("=");if("queryId"===e[0])return e[1]}).filter(function(t){return t}):void 0;return s&&s.length>0?e?e+":/"+s:s[0]:i?n:void 0},v=(e.setWatcher=function(t,e,n,r,i){var o=i||m(r,n)||y(n,r);return t._.watchers[o]?t._.watchers[o]++:t._.watchers[o]=1,e({type:h.actionTypes.SET_LISTENER,path:r,payload:{id:o}}),t._.watchers[o]},e.getWatcherCount=function(t,e,n,r){var i=r||m(n,e)||y(e,n);return t._.watchers[i]},e.unsetWatcher=function(t,e,n,r,i){var o=i||m(r,n)||y(n,r);r=r.split("#")[0];var a=t._.watchers;a[o]<=1?(delete a[o],"first_child"!==n&&"once"!==n&&t.database().ref().child(r).off(n)):a[o]&&a[o]--,e({type:h.actionTypes.UNSET_LISTENER,path:r,payload:{id:o}})},e.applyParamsToQuery=function(t,e){var n=!1;return t&&t.forEach(function(t){switch(t=t.split("="),t[0]){case"orderByValue":e=e.orderByValue(),n=!0;break;case"orderByPriority":e=e.orderByPriority(),n=!0;break;case"orderByKey":e=e.orderByKey(),n=!0;break;case"orderByChild":e=e.orderByChild(t[1]);break;case"limitToFirst":e=e.limitToFirst(parseInt(t[1],10));break;case"limitToLast":e=e.limitToLast(parseInt(t[1],10));break;case"notParsed":n=!0;break;case"parsed":n=!1;break;case"equalTo":var r=n?t[1]:p(t[1]);r="null"===r?null:r,r="false"!==r&&r,r="true"===r||r,e=3===t.length?e.equalTo(r,t[2]):e.equalTo(r);break;case"startAt":var i=n?t[1]:p(t[1]);i="null"===i?null:i,e=3===t.length?e.startAt(i,t[2]):e.startAt(i);break;case"endAt":var o=n?t[1]:p(t[1]);o="null"===o?null:o,e=3===t.length?e.endAt(o,t[2]):e.endAt(o)}}),e},e.orderedFromSnapshot=function(t){if(t.hasChildren&&!t.hasChildren())return null;var e=[];return t.forEach&&t.forEach(function(t){e.push({key:t.key,value:t.val()})}),(0,s.default)(e)?e:null});e.populateAndDispatch=function(t,e,n){var r=n.data,i=n.populates,o=n.snapshot,a=n.path,s=n.storeAs;return(0,d.promisesForPopulate)(t,o.key,r,i).then(function(t){return(0,c.default)(t,function(t,n){e({type:h.actionTypes.MERGE,path:n,data:t})}),e({type:h.actionTypes.SET,path:s||a,data:r,ordered:v(o)}),t}).catch(function(t){return e({type:h.actionTypes.ERROR,payload:t}),Promise.reject(t)})}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.mapWithFirebaseAndDispatch=e.wrapInDispatch=void 0;var a=n(128),s=r(a),u=n(4),c=r(u),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),h=(e.wrapInDispatch=function(t,e){var n=(e.ref,e.meta),r=e.method,i=e.args,a=void 0===i?[]:i,s=e.types,u=l(s,3),f=u[0],h=u[1],d=u[2];return t({type:(0,c.default)(f)?f.type:f,meta:n,payload:(0,c.default)(f)?f.payload:{args:a}}),r.apply(void 0,o(a)).then(function(e){return t({type:(0,c.default)(h)?h.type:h,meta:n,payload:(0,c.default)(h)?h.payload:e}),e}).catch(function(e){return t({type:d,meta:n,payload:e}),Promise.reject(e)})},function(t,e,n){return function(r){return function(){for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return r.apply(t,n?[e,t].concat(o):[t,e].concat(o))}}});e.mapWithFirebaseAndDispatch=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],o=h(t,e);return f({},(0,s.default)(n,o),r.reduce(function(t,e){var n=e.action,r=e.name;return f({},t,i({},r,o(n)))},{}))}},function(t,e,n){"use strict";function r(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}Object.defineProperty(e,"__esModule",{value:!0}),e.storageActions=e.queryActions=e.authActions=void 0;var i=n(429),o=r(i),a=n(241),s=r(a),u=n(497),c=r(u);e.authActions=o,e.queryActions=s,e.storageActions=c,e.default={authActions:o,queryActions:s,storageActions:c}},function(t,e,n){function r(t,e,n){return e=o(void 0===e?t.length-1:e,0),function(){for(var r=arguments,a=-1,s=o(r.length-e,0),u=Array(s);++a<s;)u[a]=r[e+a];a=-1;for(var c=Array(e+1);++a<e;)c[a]=r[a];return c[e]=n(u),i(t,this,c)}}var i=n(58),o=Math.max;t.exports=r},function(t,e){function n(t){var e=0,n=0;return function(){var a=o(),s=i-(a-n);if(n=a,s>0){if(++e>=r)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var r=800,i=16,o=Date.now;t.exports=n},function(t,e,n){function r(t,e){return t&&i(e,o(e),t)}var i=n(35),o=n(40);t.exports=r},function(t,e,n){(function(t){function r(t,e){if(e)return t.slice();var n=t.length,r=c?c(n):new t.constructor(n);return t.copy(r),r}var i=n(11),o="object"==typeof e&&e&&!e.nodeType&&e,a=o&&"object"==typeof t&&t&&!t.nodeType&&t,s=a&&a.exports===o,u=s?i.Buffer:void 0,c=u?u.allocUnsafe:void 0;t.exports=r}).call(e,n(41)(t))},function(t,e,n){var r=n(114),i=n(132),o=n(115),a=n(191),s=Object.getOwnPropertySymbols,u=s?function(t){for(var e=[];t;)r(e,o(t)),t=i(t);return e}:a;t.exports=u},function(t,e,n){function r(t){return i(t,a,o)}var i=n(190),o=n(217),a=n(88);t.exports=r},function(t,e,n){function r(t,e){var n=e?i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.length)}var i=n(133);t.exports=r},function(t,e,n){function r(t){return"function"!=typeof t.constructor||a(t)?{}:i(o(t))}var i=n(89),o=n(132),a=n(79);t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.populate=e.fixPath=e.isEmpty=e.isLoaded=e.getVal=void 0;var a=n(9),s=r(a),u=n(2),c=r(u),f=n(206),l=r(f),h=n(450),d=r(h),p=n(27),y=r(p),m=n(451),v=r(m),g=n(224),b=r(g),_=n(225),w=r(_),E=n(128),S=r(E),T=n(55),C=r(T),I=n(54),A=r(I),O=n(125),k=r(O),R=n(31),P=r(R),x=n(207),D=r(x),N=n(57),M=r(N),L=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},j=n(19),U=n(82),F=n(138),B=(e.getVal=function(t,e,n){if(!t)return n;var r=(0,F.getDotStrPath)(e);return(0,P.default)(t,r,n)},e.isLoaded=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return!e||!e.length||(0,w.default)(e,function(t){return void 0!==t&&!1!==(0,P.default)(t,"isLoaded")})},e.isEmpty=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return(0,l.default)(e,function(t){return!(t&&(0,M.default)(t))||!0===t.isEmpty})},e.fixPath=function(t){return("/"===t.substring(0,1)?"":"/")+t},function(t,e,n){return(0,S.default)(e,function(e,r){var i=e;(!0===e||n.populateByKey)&&(i=r);var a=(0,d.default)(n.root.split("/")).join("."),s=[a,i];n.childParam&&s.push(n.childParam);var u=s.join(".");return(0,P.default)(t.data,u)?n.keyProp?L(o({},n.keyProp,i),(0,P.default)(t.data,u)):(0,P.default)(t.data,u):!0===e||n.populateByKey?e:i})}),q=function(t,e,n){var r=(0,P.default)(e,n.child);if(!e||!r)return null;if((0,y.default)(r)){var i=(0,d.default)(n.root.split("/")).join("."),a=[i,r];n.childParam&&a.push(n.childParam);var s=a.join("."),u=(0,P.default)(t.data,s);return u?(0,D.default)({},n.childAlias||n.child,n.keyProp?L(o({},n.keyProp,r),u):u):e}return(0,D.default)({},n.childAlias||n.child,B(t,r,n))};e.populate=function(t,e,n,r){var o=(0,d.default)(e.split("/")),a=-1===j.topLevelPaths.indexOf(o[0])?["data"].concat(i(o)):o,u=a.join("."),f=(0,P.default)(t,u,r);if(!t||f===r)return r;if(null===f)return null;var h=(0,U.getPopulateObjs)((0,s.default)(n)?n((0,A.default)(a),f):n);if((0,c.default)(f)){var p=function(t){return function(e){return(0,l.default)(t,function(t){return(0,k.default)(t,e)})}};return(0,l.default)(h,function(t){return p(f)(["value",t.child])})?f.map(function(e){var n=e.key,r=e.value;return{key:n,value:h.map(function(e){return q(t,r,e)}).reduce(function(t,e){return(0,v.default)(e,t)},r)}}):f}return(0,l.default)(h,function(t){return(0,k.default)(f,t.child)})?h.map(function(e){return q(t,f,e)}).reduce(function(t,e){return(0,v.default)(e,t)},f):-1!==a.indexOf("profile")?f:(0,S.default)(f,function(e,r){var i="ordered"===a[0]?e.key:r,o=(0,U.getPopulateObjs)((0,s.default)(n)?n(i,e):n);return(0,l.default)(o,function(t){return(0,k.default)(e,t.child)})?(0,b.default)((0,C.default)(o,function(n){return q(t,e,n)}),function(t,e){return(0,v.default)(e,t)},e):e})}},function(t,e,n){function r(t,e,n){(void 0===n||o(t[e],n))&&(void 0!==n||e in t)||i(t,e,n)}var i=n(56),o=n(50);t.exports=r},function(t,e){function n(t,e){if("__proto__"!=e)return t[e]}t.exports=n},function(t,e,n){function r(t,e,n){var r=u(t)?i:s,c=arguments.length<3;return r(t,a(e,4),n,c,o)}var i=n(456),o=n(34),a=n(14),s=n(457),u=n(2);t.exports=r},function(t,e,n){function r(t,e,n){var r=s(t)?i:o;return n&&u(t,e,n)&&(e=void 0),r(t,a(e,3))}var i=n(458),o=n(459),a=n(14),s=n(2),u=n(124);t.exports=r},function(t,e,n){var r=n(53),i=n(227),o=i?function(t,e){return i.set(t,e),t}:r;t.exports=o},function(t,e,n){var r=n(195),i=r&&new r;t.exports=i},function(t,e,n){function r(t,e,n,b,_,w,E,S,T,C){function I(){for(var d=arguments.length,p=Array(d),y=d;y--;)p[y]=arguments[y];if(R)var m=c(I),v=a(p,m);if(b&&(p=i(p,b,_,R)),w&&(p=o(p,w,E,R)),d-=v,R&&d<C){var g=l(p,m);return u(t,e,r,I.placeholder,n,p,g,S,T,C-d)}var D=O?n:this,N=k?D[t]:t;return d=p.length,S?p=f(p,S):P&&d>1&&p.reverse(),A&&T<d&&(p.length=T),this&&this!==h&&this instanceof I&&(N=x||s(N)),N.apply(D,p)}var A=e&v,O=e&d,k=e&p,R=e&(y|m),P=e&g,x=k?void 0:s(t);return I}var i=n(229),o=n(230),a=n(467),s=n(91),u=n(231),c=n(237),f=n(479),l=n(144),h=n(11),d=1,p=2,y=8,m=16,v=128,g=512;t.exports=r},function(t,e){function n(t,e,n,i){for(var o=-1,a=t.length,s=n.length,u=-1,c=e.length,f=r(a-s,0),l=Array(c+f),h=!i;++u<c;)l[u]=e[u];for(;++o<s;)(h||o<a)&&(l[n[o]]=t[o]);for(;f--;)l[u++]=t[o++];return l}var r=Math.max;t.exports=n},function(t,e){function n(t,e,n,i){for(var o=-1,a=t.length,s=-1,u=n.length,c=-1,f=e.length,l=r(a-u,0),h=Array(l+f),d=!i;++o<l;)h[o]=t[o];for(var p=o;++c<f;)h[p+c]=e[c];for(;++s<u;)(d||o<a)&&(h[p+n[s]]=t[o++]);return h}var r=Math.max;t.exports=n},function(t,e,n){function r(t,e,n,r,d,p,y,m,v,g){var b=e&f,_=b?y:void 0,w=b?void 0:y,E=b?p:void 0,S=b?void 0:p;e|=b?l:h,(e&=~(b?h:l))&c||(e&=~(s|u));var T=[t,e,d,E,_,S,w,m,v,g],C=n.apply(void 0,T);return i(t)&&o(C,T),C.placeholder=r,a(C,t,e)}var i=n(468),o=n(235),a=n(236),s=1,u=2,c=4,f=8,l=32,h=64;t.exports=r},function(t,e,n){var r=n(227),i=n(233),o=r?function(t){return r.get(t)}:i;t.exports=o},function(t,e){function n(){}t.exports=n},function(t,e,n){function r(t,e){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!e,this.__index__=0,this.__values__=void 0}var i=n(89),o=n(141);r.prototype=i(o.prototype),r.prototype.constructor=r,t.exports=r},function(t,e,n){var r=n(226),i=n(214),o=i(r);t.exports=o},function(t,e,n){function r(t,e,n){var r=e+"";return a(t,o(r,s(i(r),n)))}var i=n(473),o=n(474),a=n(130),s=n(475);t.exports=r},function(t,e){function n(t){return t.placeholder}t.exports=n},function(t,e,n){function r(t){var e=i(t),n=e%1;return e===e?n?e-n:e:0}var i=n(482);t.exports=r},function(t,e,n){function r(t){return!0===t||!1===t||o(t)&&i(t)==a}var i=n(18),o=n(10),a="[object Boolean]";t.exports=r},function(t,e,n){function r(){var t=arguments,e=i(t[0]);return t.length<3?e:e.replace(t[1],t[2])}var i=n(33);t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.remove=e.unWatchEvents=e.watchEvents=e.unWatchEvent=e.watchEvent=void 0;var r=n(2),i=function(t){return t&&t.__esModule?t:{default:t}}(r),o=n(19),a=n(210),s=e.watchEvent=function(t,e,n){if(!t.database||"function"!==typeof t.database)throw new Error("Firebase database is required to create watchers");var r=n.type,i=n.path,s=n.populates,u=n.queryParams,c=n.queryId,f=n.isQuery,l=n.storeAs,h=t._.config.logErrors,d=l?i+"@"+l:i,p=c||(0,a.getQueryIdFromPath)(i);if((0,a.getWatcherCount)(t,r,d,p)>0&&p&&(0,a.unsetWatcher)(t,e,r,i,p),(0,a.setWatcher)(t,e,r,d,p),"first_child"===r)return t.database().ref().child(i).orderByKey().limitToFirst(1).once("value").then(function(t){return null===t.val()&&e({type:o.actionTypes.NO_VALUE,path:l||i}),t}).catch(function(t){return e({type:o.actionTypes.ERROR,path:l||i,payload:t}),Promise.reject(t)});var y=t.database().ref().child(i);if(f&&(y=(0,a.applyParamsToQuery)(u,y)),e({type:o.actionTypes.START,path:l||i}),"once"===r)return y.once("value").then(function(n){return null===n.val()?e({type:o.actionTypes.NO_VALUE,path:l||i}):s?(0,a.populateAndDispatch)(t,e,{path:i,storeAs:l,snapshot:n,data:n.val(),populates:s}):e({type:o.actionTypes.SET,path:l||i,data:n.val(),ordered:(0,a.orderedFromSnapshot)(n)})}).catch(function(t){return e({type:o.actionTypes.UNAUTHORIZED_ERROR,payload:t}),Promise.reject(t)});y.on(r,function(n){var u="child_removed"===r?void 0:n.val(),c=l||"value"===r?i:i+"/"+n.key;if(!s){var f="child_added"===r?[{key:n.key,value:n.val()}]:(0,a.orderedFromSnapshot)(n);return e({type:o.actionTypes.SET,path:l||c,data:u,ordered:f})}return(0,a.populateAndDispatch)(t,e,{path:i,storeAs:l,snapshot:n,data:n.val(),populates:s})},function(t){h&&console.log("RRF: Error retrieving data for path: "+i+", storeAs: "+l+". Firebase:",t),e({type:o.actionTypes.ERROR,storeAs:l,path:i,payload:t})})},u=e.unWatchEvent=function(t,e,n){var r=n.type,i=n.path,o=n.storeAs,s=n.queryId,u=o?i+"@"+o:i;(0,a.unsetWatcher)(t,e,r,u,s)},c=e.watchEvents=function(t,e,n){if(!(0,i.default)(n))throw new Error("Events config must be an Array");return n.map(function(n){return s(t,e,n)})},f=e.unWatchEvents=function(t,e,n){return n.forEach(function(n){return u(t,e,n)})},l=e.remove=function(t,e,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.dispatchAction,a=void 0===i||i,s=t._.config.dispatchRemoveAction;return t.database().ref(n).remove().then(function(){return s&&a&&e({type:o.actionTypes.REMOVE,path:n}),n}).catch(function(t){return e({type:o.actionTypes.ERROR,payload:t}),Promise.reject(t)})};e.default={watchEvents:c,unWatchEvents:f,remove:l}},function(t,e){function n(t,e,n){for(var r=-1,i=null==t?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}t.exports=n},function(t,e,n){var r=n(90),i=r("assign",n(508));i.placeholder=n(61),t.exports=i},function(t,e,n){var r=n(90),i=r("setWith",n(509));i.placeholder=n(61),t.exports=i},function(t,e,n){(function(t){!function(e,n){t.exports=n()}(0,function(){"use strict";function e(){return Ar.apply(null,arguments)}function n(t){return t instanceof Array||"[object Array]"===Object.prototype.toString.call(t)}function r(t){return null!=t&&"[object Object]"===Object.prototype.toString.call(t)}function i(t){if(Object.getOwnPropertyNames)return 0===Object.getOwnPropertyNames(t).length;var e;for(e in t)if(t.hasOwnProperty(e))return!1;return!0}function o(t){return void 0===t}function a(t){return"number"===typeof t||"[object Number]"===Object.prototype.toString.call(t)}function s(t){return t instanceof Date||"[object Date]"===Object.prototype.toString.call(t)}function u(t,e){var n,r=[];for(n=0;n<t.length;++n)r.push(e(t[n],n));return r}function c(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function f(t,e){for(var n in e)c(e,n)&&(t[n]=e[n]);return c(e,"toString")&&(t.toString=e.toString),c(e,"valueOf")&&(t.valueOf=e.valueOf),t}function l(t,e,n,r){return Te(t,e,n,r,!0).utc()}function h(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function d(t){return null==t._pf&&(t._pf=h()),t._pf}function p(t){if(null==t._isValid){var e=d(t),n=Or.call(e.parsedDateParts,function(t){return null!=t}),r=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&n);if(t._strict&&(r=r&&0===e.charsLeftOver&&0===e.unusedTokens.length&&void 0===e.bigHour),null!=Object.isFrozen&&Object.isFrozen(t))return r;t._isValid=r}return t._isValid}function y(t){var e=l(NaN);return null!=t?f(d(e),t):d(e).userInvalidated=!0,e}function m(t,e){var n,r,i;if(o(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),o(e._i)||(t._i=e._i),o(e._f)||(t._f=e._f),o(e._l)||(t._l=e._l),o(e._strict)||(t._strict=e._strict),o(e._tzm)||(t._tzm=e._tzm),o(e._isUTC)||(t._isUTC=e._isUTC),o(e._offset)||(t._offset=e._offset),o(e._pf)||(t._pf=d(e)),o(e._locale)||(t._locale=e._locale),kr.length>0)for(n=0;n<kr.length;n++)r=kr[n],i=e[r],o(i)||(t[r]=i);return t}function v(t){m(this,t),this._d=new Date(null!=t._d?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),!1===Rr&&(Rr=!0,e.updateOffset(this),Rr=!1)}function g(t){return t instanceof v||null!=t&&null!=t._isAMomentObject}function b(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function _(t){var e=+t,n=0;return 0!==e&&isFinite(e)&&(n=b(e)),n}function w(t,e,n){var r,i=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(r=0;r<i;r++)(n&&t[r]!==e[r]||!n&&_(t[r])!==_(e[r]))&&a++;return a+o}function E(t){!1===e.suppressDeprecationWarnings&&"undefined"!==typeof console&&console.warn&&console.warn("Deprecation warning: "+t)}function S(t,n){var r=!0;return f(function(){if(null!=e.deprecationHandler&&e.deprecationHandler(null,t),r){for(var i,o=[],a=0;a<arguments.length;a++){if(i="","object"===typeof arguments[a]){i+="\n["+a+"] ";for(var s in arguments[0])i+=s+": "+arguments[0][s]+", ";i=i.slice(0,-2)}else i=arguments[a];o.push(i)}E(t+"\nArguments: "+Array.prototype.slice.call(o).join("")+"\n"+(new Error).stack),r=!1}return n.apply(this,arguments)},n)}function T(t,n){null!=e.deprecationHandler&&e.deprecationHandler(t,n),Pr[t]||(E(n),Pr[t]=!0)}function C(t){return t instanceof Function||"[object Function]"===Object.prototype.toString.call(t)}function I(t){var e,n;for(n in t)e=t[n],C(e)?this[n]=e:this["_"+n]=e;this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function A(t,e){var n,i=f({},t);for(n in e)c(e,n)&&(r(t[n])&&r(e[n])?(i[n]={},f(i[n],t[n]),f(i[n],e[n])):null!=e[n]?i[n]=e[n]:delete i[n]);for(n in t)c(t,n)&&!c(e,n)&&r(t[n])&&(i[n]=f({},i[n]));return i}function O(t){null!=t&&this.set(t)}function k(t,e,n){var r=this._calendar[t]||this._calendar.sameElse;return C(r)?r.call(e,n):r}function R(t){var e=this._longDateFormat[t],n=this._longDateFormat[t.toUpperCase()];return e||!n?e:(this._longDateFormat[t]=n.replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t])}function P(){return this._invalidDate}function x(t){return this._ordinal.replace("%d",t)}function D(t,e,n,r){var i=this._relativeTime[n];return C(i)?i(t,e,n,r):i.replace(/%d/i,t)}function N(t,e){var n=this._relativeTime[t>0?"future":"past"];return C(n)?n(e):n.replace(/%s/i,e)}function M(t,e){var n=t.toLowerCase();jr[n]=jr[n+"s"]=jr[e]=t}function L(t){return"string"===typeof t?jr[t]||jr[t.toLowerCase()]:void 0}function j(t){var e,n,r={};for(n in t)c(t,n)&&(e=L(n))&&(r[e]=t[n]);return r}function U(t,e){Ur[t]=e}function F(t){var e=[];for(var n in t)e.push({unit:n,priority:Ur[n]});return e.sort(function(t,e){return t.priority-e.priority}),e}function B(t,e,n){var r=""+Math.abs(t),i=e-r.length;return(t>=0?n?"+":"":"-")+Math.pow(10,Math.max(0,i)).toString().substr(1)+r}function q(t,e,n,r){var i=r;"string"===typeof r&&(i=function(){return this[r]()}),t&&(Wr[t]=i),e&&(Wr[e[0]]=function(){return B(i.apply(this,arguments),e[1],e[2])}),n&&(Wr[n]=function(){return this.localeData().ordinal(i.apply(this,arguments),t)})}function W(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function V(t){var e,n,r=t.match(Fr);for(e=0,n=r.length;e<n;e++)Wr[r[e]]?r[e]=Wr[r[e]]:r[e]=W(r[e]);return function(e){var i,o="";for(i=0;i<n;i++)o+=C(r[i])?r[i].call(e,t):r[i];return o}}function H(t,e){return t.isValid()?(e=z(e,t.localeData()),qr[e]=qr[e]||V(e),qr[e](t)):t.localeData().invalidDate()}function z(t,e){function n(t){return e.longDateFormat(t)||t}var r=5;for(Br.lastIndex=0;r>=0&&Br.test(t);)t=t.replace(Br,n),Br.lastIndex=0,r-=1;return t}function K(t,e,n){ai[t]=C(e)?e:function(t,r){return t&&n?n:e}}function G(t,e){return c(ai,t)?ai[t](e._strict,e._locale):new RegExp(Q(t))}function Q(t){return Y(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,n,r,i){return e||n||r||i}))}function Y(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function X(t,e){var n,r=e;for("string"===typeof t&&(t=[t]),a(e)&&(r=function(t,n){n[e]=_(t)}),n=0;n<t.length;n++)si[t[n]]=r}function $(t,e){X(t,function(t,n,r,i){r._w=r._w||{},e(t,r._w,r,i)})}function J(t,e,n){null!=e&&c(si,t)&&si[t](e,n._a,n,t)}function Z(t){return tt(t)?366:365}function tt(t){return t%4===0&&t%100!==0||t%400===0}function et(){return tt(this.year())}function nt(t,n){return function(r){return null!=r?(it(this,t,r),e.updateOffset(this,n),this):rt(this,t)}}function rt(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function it(t,e,n){t.isValid()&&!isNaN(n)&&("FullYear"===e&&tt(t.year())&&1===t.month()&&29===t.date()?t._d["set"+(t._isUTC?"UTC":"")+e](n,t.month(),ut(n,t.month())):t._d["set"+(t._isUTC?"UTC":"")+e](n))}function ot(t){return t=L(t),C(this[t])?this[t]():this}function at(t,e){if("object"===typeof t){t=j(t);for(var n=F(t),r=0;r<n.length;r++)this[n[r].unit](t[n[r].unit])}else if(t=L(t),C(this[t]))return this[t](e);return this}function st(t,e){return(t%e+e)%e}function ut(t,e){if(isNaN(t)||isNaN(e))return NaN;var n=st(e,12);return t+=(e-n)/12,1===n?tt(t)?29:28:31-n%7%2}function ct(t,e){return t?n(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||bi).test(e)?"format":"standalone"][t.month()]:n(this._months)?this._months:this._months.standalone}function ft(t,e){return t?n(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[bi.test(e)?"format":"standalone"][t.month()]:n(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function lt(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],r=0;r<12;++r)o=l([2e3,r]),this._shortMonthsParse[r]=this.monthsShort(o,"").toLocaleLowerCase(),this._longMonthsParse[r]=this.months(o,"").toLocaleLowerCase();return n?"MMM"===e?(i=vi.call(this._shortMonthsParse,a),-1!==i?i:null):(i=vi.call(this._longMonthsParse,a),-1!==i?i:null):"MMM"===e?-1!==(i=vi.call(this._shortMonthsParse,a))?i:(i=vi.call(this._longMonthsParse,a),-1!==i?i:null):-1!==(i=vi.call(this._longMonthsParse,a))?i:(i=vi.call(this._shortMonthsParse,a),-1!==i?i:null)}function ht(t,e,n){var r,i,o;if(this._monthsParseExact)return lt.call(this,t,e,n);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),r=0;r<12;r++){if(i=l([2e3,r]),n&&!this._longMonthsParse[r]&&(this._longMonthsParse[r]=new RegExp("^"+this.months(i,"").replace(".","")+"$","i"),this._shortMonthsParse[r]=new RegExp("^"+this.monthsShort(i,"").replace(".","")+"$","i")),n||this._monthsParse[r]||(o="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[r]=new RegExp(o.replace(".",""),"i")),n&&"MMMM"===e&&this._longMonthsParse[r].test(t))return r;if(n&&"MMM"===e&&this._shortMonthsParse[r].test(t))return r;if(!n&&this._monthsParse[r].test(t))return r}}function dt(t,e){var n;if(!t.isValid())return t;if("string"===typeof e)if(/^\d+$/.test(e))e=_(e);else if(e=t.localeData().monthsParse(e),!a(e))return t;return n=Math.min(t.date(),ut(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,n),t}function pt(t){return null!=t?(dt(this,t),e.updateOffset(this,!0),this):rt(this,"Month")}function yt(){return ut(this.year(),this.month())}function mt(t){return this._monthsParseExact?(c(this,"_monthsRegex")||gt.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(c(this,"_monthsShortRegex")||(this._monthsShortRegex=Ei),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function vt(t){return this._monthsParseExact?(c(this,"_monthsRegex")||gt.call(this),t?this._monthsStrictRegex:this._monthsRegex):(c(this,"_monthsRegex")||(this._monthsRegex=Si),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function gt(){function t(t,e){return e.length-t.length}var e,n,r=[],i=[],o=[];for(e=0;e<12;e++)n=l([2e3,e]),r.push(this.monthsShort(n,"")),i.push(this.months(n,"")),o.push(this.months(n,"")),o.push(this.monthsShort(n,""));for(r.sort(t),i.sort(t),o.sort(t),e=0;e<12;e++)r[e]=Y(r[e]),i[e]=Y(i[e]);for(e=0;e<24;e++)o[e]=Y(o[e]);this._monthsRegex=new RegExp("^("+o.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+i.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+r.join("|")+")","i")}function bt(t,e,n,r,i,o,a){var s=new Date(t,e,n,r,i,o,a);return t<100&&t>=0&&isFinite(s.getFullYear())&&s.setFullYear(t),s}function _t(t){var e=new Date(Date.UTC.apply(null,arguments));return t<100&&t>=0&&isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t),e}function wt(t,e,n){var r=7+e-n;return-(7+_t(t,0,r).getUTCDay()-e)%7+r-1}function Et(t,e,n,r,i){var o,a,s=(7+n-r)%7,u=wt(t,r,i),c=1+7*(e-1)+s+u;return c<=0?(o=t-1,a=Z(o)+c):c>Z(t)?(o=t+1,a=c-Z(t)):(o=t,a=c),{year:o,dayOfYear:a}}function St(t,e,n){var r,i,o=wt(t.year(),e,n),a=Math.floor((t.dayOfYear()-o-1)/7)+1;return a<1?(i=t.year()-1,r=a+Tt(i,e,n)):a>Tt(t.year(),e,n)?(r=a-Tt(t.year(),e,n),i=t.year()+1):(i=t.year(),r=a),{week:r,year:i}}function Tt(t,e,n){var r=wt(t,e,n),i=wt(t+1,e,n);return(Z(t)-r+i)/7}function Ct(t){return St(t,this._week.dow,this._week.doy).week}function It(){return this._week.dow}function At(){return this._week.doy}function Ot(t){var e=this.localeData().week(this);return null==t?e:this.add(7*(t-e),"d")}function kt(t){var e=St(this,1,4).week;return null==t?e:this.add(7*(t-e),"d")}function Rt(t,e){return"string"!==typeof t?t:isNaN(t)?(t=e.weekdaysParse(t),"number"===typeof t?t:null):parseInt(t,10)}function Pt(t,e){return"string"===typeof t?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function xt(t,e){return t?n(this._weekdays)?this._weekdays[t.day()]:this._weekdays[this._weekdays.isFormat.test(e)?"format":"standalone"][t.day()]:n(this._weekdays)?this._weekdays:this._weekdays.standalone}function Dt(t){return t?this._weekdaysShort[t.day()]:this._weekdaysShort}function Nt(t){return t?this._weekdaysMin[t.day()]:this._weekdaysMin}function Mt(t,e,n){var r,i,o,a=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],r=0;r<7;++r)o=l([2e3,1]).day(r),this._minWeekdaysParse[r]=this.weekdaysMin(o,"").toLocaleLowerCase(),this._shortWeekdaysParse[r]=this.weekdaysShort(o,"").toLocaleLowerCase(),this._weekdaysParse[r]=this.weekdays(o,"").toLocaleLowerCase();return n?"dddd"===e?(i=vi.call(this._weekdaysParse,a),-1!==i?i:null):"ddd"===e?(i=vi.call(this._shortWeekdaysParse,a),-1!==i?i:null):(i=vi.call(this._minWeekdaysParse,a),-1!==i?i:null):"dddd"===e?-1!==(i=vi.call(this._weekdaysParse,a))?i:-1!==(i=vi.call(this._shortWeekdaysParse,a))?i:(i=vi.call(this._minWeekdaysParse,a),-1!==i?i:null):"ddd"===e?-1!==(i=vi.call(this._shortWeekdaysParse,a))?i:-1!==(i=vi.call(this._weekdaysParse,a))?i:(i=vi.call(this._minWeekdaysParse,a),-1!==i?i:null):-1!==(i=vi.call(this._minWeekdaysParse,a))?i:-1!==(i=vi.call(this._weekdaysParse,a))?i:(i=vi.call(this._shortWeekdaysParse,a),-1!==i?i:null)}function Lt(t,e,n){var r,i,o;if(this._weekdaysParseExact)return Mt.call(this,t,e,n);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),r=0;r<7;r++){if(i=l([2e3,1]).day(r),n&&!this._fullWeekdaysParse[r]&&(this._fullWeekdaysParse[r]=new RegExp("^"+this.weekdays(i,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[r]=new RegExp("^"+this.weekdaysShort(i,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[r]=new RegExp("^"+this.weekdaysMin(i,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[r]||(o="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[r]=new RegExp(o.replace(".",""),"i")),n&&"dddd"===e&&this._fullWeekdaysParse[r].test(t))return r;if(n&&"ddd"===e&&this._shortWeekdaysParse[r].test(t))return r;if(n&&"dd"===e&&this._minWeekdaysParse[r].test(t))return r;if(!n&&this._weekdaysParse[r].test(t))return r}}function jt(t){if(!this.isValid())return null!=t?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=Rt(t,this.localeData()),this.add(t-e,"d")):e}function Ut(t){if(!this.isValid())return null!=t?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return null==t?e:this.add(t-e,"d")}function Ft(t){if(!this.isValid())return null!=t?this:NaN;if(null!=t){var e=Pt(t,this.localeData());return this.day(this.day()%7?e:e-7)}return this.day()||7}function Bt(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Vt.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(c(this,"_weekdaysRegex")||(this._weekdaysRegex=Oi),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function qt(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Vt.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(c(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=ki),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Wt(t){return this._weekdaysParseExact?(c(this,"_weekdaysRegex")||Vt.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(c(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Ri),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Vt(){function t(t,e){return e.length-t.length}var e,n,r,i,o,a=[],s=[],u=[],c=[];for(e=0;e<7;e++)n=l([2e3,1]).day(e),r=this.weekdaysMin(n,""),i=this.weekdaysShort(n,""),o=this.weekdays(n,""),a.push(r),s.push(i),u.push(o),c.push(r),c.push(i),c.push(o);for(a.sort(t),s.sort(t),u.sort(t),c.sort(t),e=0;e<7;e++)s[e]=Y(s[e]),u[e]=Y(u[e]),c[e]=Y(c[e]);this._weekdaysRegex=new RegExp("^("+c.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+u.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+a.join("|")+")","i")}function Ht(){return this.hours()%12||12}function zt(){return this.hours()||24}function Kt(t,e){q(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}function Gt(t,e){return e._meridiemParse}function Qt(t){return"p"===(t+"").toLowerCase().charAt(0)}function Yt(t,e,n){return t>11?n?"pm":"PM":n?"am":"AM"}function Xt(t){return t?t.toLowerCase().replace("_","-"):t}function $t(t){for(var e,n,r,i,o=0;o<t.length;){for(i=Xt(t[o]).split("-"),e=i.length,n=Xt(t[o+1]),n=n?n.split("-"):null;e>0;){if(r=Jt(i.slice(0,e).join("-")))return r;if(n&&n.length>=e&&w(i,n,!0)>=e-1)break;e--}o++}return Pi}function Jt(e){var n=null;if(!Mi[e]&&"undefined"!==typeof t&&t&&t.exports)try{n=Pi._abbr;!function(){var t=new Error('Cannot find module "./locale"');throw t.code="MODULE_NOT_FOUND",t}(),Zt(n)}catch(t){}return Mi[e]}function Zt(t,e){var n;return t&&(n=o(e)?ne(t):te(t,e),n?Pi=n:"undefined"!==typeof console&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),Pi._abbr}function te(t,e){if(null!==e){var n,r=Ni;if(e.abbr=t,null!=Mi[t])T("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),r=Mi[t]._config;else if(null!=e.parentLocale)if(null!=Mi[e.parentLocale])r=Mi[e.parentLocale]._config;else{if(null==(n=Jt(e.parentLocale)))return Li[e.parentLocale]||(Li[e.parentLocale]=[]),Li[e.parentLocale].push({name:t,config:e}),null;r=n._config}return Mi[t]=new O(A(r,e)),Li[t]&&Li[t].forEach(function(t){te(t.name,t.config)}),Zt(t),Mi[t]}return delete Mi[t],null}function ee(t,e){if(null!=e){var n,r,i=Ni;r=Jt(t),null!=r&&(i=r._config),e=A(i,e),n=new O(e),n.parentLocale=Mi[t],Mi[t]=n,Zt(t)}else null!=Mi[t]&&(null!=Mi[t].parentLocale?Mi[t]=Mi[t].parentLocale:null!=Mi[t]&&delete Mi[t]);return Mi[t]}function ne(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return Pi;if(!n(t)){if(e=Jt(t))return e;t=[t]}return $t(t)}function re(){return xr(Mi)}function ie(t){var e,n=t._a;return n&&-2===d(t).overflow&&(e=n[ci]<0||n[ci]>11?ci:n[fi]<1||n[fi]>ut(n[ui],n[ci])?fi:n[li]<0||n[li]>24||24===n[li]&&(0!==n[hi]||0!==n[di]||0!==n[pi])?li:n[hi]<0||n[hi]>59?hi:n[di]<0||n[di]>59?di:n[pi]<0||n[pi]>999?pi:-1,d(t)._overflowDayOfYear&&(e<ui||e>fi)&&(e=fi),d(t)._overflowWeeks&&-1===e&&(e=yi),d(t)._overflowWeekday&&-1===e&&(e=mi),d(t).overflow=e),t}function oe(t,e,n){return null!=t?t:null!=e?e:n}function ae(t){var n=new Date(e.now());return t._useUTC?[n.getUTCFullYear(),n.getUTCMonth(),n.getUTCDate()]:[n.getFullYear(),n.getMonth(),n.getDate()]}function se(t){var e,n,r,i,o,a=[];if(!t._d){for(r=ae(t),t._w&&null==t._a[fi]&&null==t._a[ci]&&ue(t),null!=t._dayOfYear&&(o=oe(t._a[ui],r[ui]),(t._dayOfYear>Z(o)||0===t._dayOfYear)&&(d(t)._overflowDayOfYear=!0),n=_t(o,0,t._dayOfYear),t._a[ci]=n.getUTCMonth(),t._a[fi]=n.getUTCDate()),e=0;e<3&&null==t._a[e];++e)t._a[e]=a[e]=r[e];for(;e<7;e++)t._a[e]=a[e]=null==t._a[e]?2===e?1:0:t._a[e];24===t._a[li]&&0===t._a[hi]&&0===t._a[di]&&0===t._a[pi]&&(t._nextDay=!0,t._a[li]=0),t._d=(t._useUTC?_t:bt).apply(null,a),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),null!=t._tzm&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[li]=24),t._w&&"undefined"!==typeof t._w.d&&t._w.d!==i&&(d(t).weekdayMismatch=!0)}}function ue(t){var e,n,r,i,o,a,s,u;if(e=t._w,null!=e.GG||null!=e.W||null!=e.E)o=1,a=4,n=oe(e.GG,t._a[ui],St(Ce(),1,4).year),r=oe(e.W,1),((i=oe(e.E,1))<1||i>7)&&(u=!0);else{o=t._locale._week.dow,a=t._locale._week.doy;var c=St(Ce(),o,a);n=oe(e.gg,t._a[ui],c.year),r=oe(e.w,c.week),null!=e.d?((i=e.d)<0||i>6)&&(u=!0):null!=e.e?(i=e.e+o,(e.e<0||e.e>6)&&(u=!0)):i=o}r<1||r>Tt(n,o,a)?d(t)._overflowWeeks=!0:null!=u?d(t)._overflowWeekday=!0:(s=Et(n,r,i,o,a),t._a[ui]=s.year,t._dayOfYear=s.dayOfYear)}function ce(t){var e,n,r,i,o,a,s=t._i,u=ji.exec(s)||Ui.exec(s);if(u){for(d(t).iso=!0,e=0,n=Bi.length;e<n;e++)if(Bi[e][1].exec(u[1])){i=Bi[e][0],r=!1!==Bi[e][2];break}if(null==i)return void(t._isValid=!1);if(u[3]){for(e=0,n=qi.length;e<n;e++)if(qi[e][1].exec(u[3])){o=(u[2]||" ")+qi[e][0];break}if(null==o)return void(t._isValid=!1)}if(!r&&null!=o)return void(t._isValid=!1);if(u[4]){if(!Fi.exec(u[4]))return void(t._isValid=!1);a="Z"}t._f=i+(o||"")+(a||""),ve(t)}else t._isValid=!1}function fe(t,e,n,r,i,o){var a=[le(t),wi.indexOf(e),parseInt(n,10),parseInt(r,10),parseInt(i,10)];return o&&a.push(parseInt(o,10)),a}function le(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function he(t){return t.replace(/\([^)]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function de(t,e,n){if(t){if(Ii.indexOf(t)!==new Date(e[0],e[1],e[2]).getDay())return d(n).weekdayMismatch=!0,n._isValid=!1,!1}return!0}function pe(t,e,n){if(t)return Hi[t];if(e)return 0;var r=parseInt(n,10),i=r%100;return(r-i)/100*60+i}function ye(t){var e=Vi.exec(he(t._i));if(e){var n=fe(e[4],e[3],e[2],e[5],e[6],e[7]);if(!de(e[1],n,t))return;t._a=n,t._tzm=pe(e[8],e[9],e[10]),t._d=_t.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),d(t).rfc2822=!0}else t._isValid=!1}function me(t){var n=Wi.exec(t._i);if(null!==n)return void(t._d=new Date(+n[1]));ce(t),!1===t._isValid&&(delete t._isValid,ye(t),!1===t._isValid&&(delete t._isValid,e.createFromInputFallback(t)))}function ve(t){if(t._f===e.ISO_8601)return void ce(t);if(t._f===e.RFC_2822)return void ye(t);t._a=[],d(t).empty=!0;var n,r,i,o,a,s=""+t._i,u=s.length,c=0;for(i=z(t._f,t._locale).match(Fr)||[],n=0;n<i.length;n++)o=i[n],r=(s.match(G(o,t))||[])[0],r&&(a=s.substr(0,s.indexOf(r)),a.length>0&&d(t).unusedInput.push(a),s=s.slice(s.indexOf(r)+r.length),c+=r.length),Wr[o]?(r?d(t).empty=!1:d(t).unusedTokens.push(o),J(o,r,t)):t._strict&&!r&&d(t).unusedTokens.push(o);d(t).charsLeftOver=u-c,s.length>0&&d(t).unusedInput.push(s),t._a[li]<=12&&!0===d(t).bigHour&&t._a[li]>0&&(d(t).bigHour=void 0),d(t).parsedDateParts=t._a.slice(0),d(t).meridiem=t._meridiem,t._a[li]=ge(t._locale,t._a[li],t._meridiem),se(t),ie(t)}function ge(t,e,n){var r;return null==n?e:null!=t.meridiemHour?t.meridiemHour(e,n):null!=t.isPM?(r=t.isPM(n),r&&e<12&&(e+=12),r||12!==e||(e=0),e):e}function be(t){var e,n,r,i,o;if(0===t._f.length)return d(t).invalidFormat=!0,void(t._d=new Date(NaN));for(i=0;i<t._f.length;i++)o=0,e=m({},t),null!=t._useUTC&&(e._useUTC=t._useUTC),e._f=t._f[i],ve(e),p(e)&&(o+=d(e).charsLeftOver,o+=10*d(e).unusedTokens.length,d(e).score=o,(null==r||o<r)&&(r=o,n=e));f(t,n||e)}function _e(t){if(!t._d){var e=j(t._i);t._a=u([e.year,e.month,e.day||e.date,e.hour,e.minute,e.second,e.millisecond],function(t){return t&&parseInt(t,10)}),se(t)}}function we(t){var e=new v(ie(Ee(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function Ee(t){var e=t._i,r=t._f;return t._locale=t._locale||ne(t._l),null===e||void 0===r&&""===e?y({nullInput:!0}):("string"===typeof e&&(t._i=e=t._locale.preparse(e)),g(e)?new v(ie(e)):(s(e)?t._d=e:n(r)?be(t):r?ve(t):Se(t),p(t)||(t._d=null),t))}function Se(t){var i=t._i;o(i)?t._d=new Date(e.now()):s(i)?t._d=new Date(i.valueOf()):"string"===typeof i?me(t):n(i)?(t._a=u(i.slice(0),function(t){return parseInt(t,10)}),se(t)):r(i)?_e(t):a(i)?t._d=new Date(i):e.createFromInputFallback(t)}function Te(t,e,o,a,s){var u={};return!0!==o&&!1!==o||(a=o,o=void 0),(r(t)&&i(t)||n(t)&&0===t.length)&&(t=void 0),u._isAMomentObject=!0,u._useUTC=u._isUTC=s,u._l=o,u._i=t,u._f=e,u._strict=a,we(u)}function Ce(t,e,n,r){return Te(t,e,n,r,!1)}function Ie(t,e){var r,i;if(1===e.length&&n(e[0])&&(e=e[0]),!e.length)return Ce();for(r=e[0],i=1;i<e.length;++i)e[i].isValid()&&!e[i][t](r)||(r=e[i]);return r}function Ae(){return Ie("isBefore",[].slice.call(arguments,0))}function Oe(){return Ie("isAfter",[].slice.call(arguments,0))}function ke(t){for(var e in t)if(-1===vi.call(Qi,e)||null!=t[e]&&isNaN(t[e]))return!1;for(var n=!1,r=0;r<Qi.length;++r)if(t[Qi[r]]){if(n)return!1;parseFloat(t[Qi[r]])!==_(t[Qi[r]])&&(n=!0)}return!0}function Re(){return this._isValid}function Pe(){return Xe(NaN)}function xe(t){var e=j(t),n=e.year||0,r=e.quarter||0,i=e.month||0,o=e.week||0,a=e.day||0,s=e.hour||0,u=e.minute||0,c=e.second||0,f=e.millisecond||0;this._isValid=ke(e),this._milliseconds=+f+1e3*c+6e4*u+1e3*s*60*60,this._days=+a+7*o,this._months=+i+3*r+12*n,this._data={},this._locale=ne(),this._bubble()}function De(t){return t instanceof xe}function Ne(t){return t<0?-1*Math.round(-1*t):Math.round(t)}function Me(t,e){q(t,0,0,function(){var t=this.utcOffset(),n="+";return t<0&&(t=-t,n="-"),n+B(~~(t/60),2)+e+B(~~t%60,2)})}function Le(t,e){var n=(e||"").match(t);if(null===n)return null;var r=n[n.length-1]||[],i=(r+"").match(Yi)||["-",0,0],o=60*i[1]+_(i[2]);return 0===o?0:"+"===i[0]?o:-o}function je(t,n){var r,i;return n._isUTC?(r=n.clone(),i=(g(t)||s(t)?t.valueOf():Ce(t).valueOf())-r.valueOf(),r._d.setTime(r._d.valueOf()+i),e.updateOffset(r,!1),r):Ce(t).local()}function Ue(t){return 15*-Math.round(t._d.getTimezoneOffset()/15)}function Fe(t,n,r){var i,o=this._offset||0;if(!this.isValid())return null!=t?this:NaN;if(null!=t){if("string"===typeof t){if(null===(t=Le(ri,t)))return this}else Math.abs(t)<16&&!r&&(t*=60);return!this._isUTC&&n&&(i=Ue(this)),this._offset=t,this._isUTC=!0,null!=i&&this.add(i,"m"),o!==t&&(!n||this._changeInProgress?en(this,Xe(t-o,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,e.updateOffset(this,!0),this._changeInProgress=null)),this}return this._isUTC?o:Ue(this)}function Be(t,e){return null!=t?("string"!==typeof t&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function qe(t){return this.utcOffset(0,t)}function We(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(Ue(this),"m")),this}function Ve(){if(null!=this._tzm)this.utcOffset(this._tzm,!1,!0);else if("string"===typeof this._i){var t=Le(ni,this._i);null!=t?this.utcOffset(t):this.utcOffset(0,!0)}return this}function He(t){return!!this.isValid()&&(t=t?Ce(t).utcOffset():0,(this.utcOffset()-t)%60===0)}function ze(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function Ke(){if(!o(this._isDSTShifted))return this._isDSTShifted;var t={};if(m(t,this),t=Ee(t),t._a){var e=t._isUTC?l(t._a):Ce(t._a);this._isDSTShifted=this.isValid()&&w(t._a,e.toArray())>0}else this._isDSTShifted=!1;return this._isDSTShifted}function Ge(){return!!this.isValid()&&!this._isUTC}function Qe(){return!!this.isValid()&&this._isUTC}function Ye(){return!!this.isValid()&&(this._isUTC&&0===this._offset)}function Xe(t,e){var n,r,i,o=t,s=null;return De(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:a(t)?(o={},e?o[e]=t:o.milliseconds=t):(s=Xi.exec(t))?(n="-"===s[1]?-1:1,o={y:0,d:_(s[fi])*n,h:_(s[li])*n,m:_(s[hi])*n,s:_(s[di])*n,ms:_(Ne(1e3*s[pi]))*n}):(s=$i.exec(t))?(n="-"===s[1]?-1:(s[1],1),o={y:$e(s[2],n),M:$e(s[3],n),w:$e(s[4],n),d:$e(s[5],n),h:$e(s[6],n),m:$e(s[7],n),s:$e(s[8],n)}):null==o?o={}:"object"===typeof o&&("from"in o||"to"in o)&&(i=Ze(Ce(o.from),Ce(o.to)),o={},o.ms=i.milliseconds,o.M=i.months),r=new xe(o),De(t)&&c(t,"_locale")&&(r._locale=t._locale),r}function $e(t,e){var n=t&&parseFloat(t.replace(",","."));return(isNaN(n)?0:n)*e}function Je(t,e){var n={milliseconds:0,months:0};return n.months=e.month()-t.month()+12*(e.year()-t.year()),t.clone().add(n.months,"M").isAfter(e)&&--n.months,n.milliseconds=+e-+t.clone().add(n.months,"M"),n}function Ze(t,e){var n;return t.isValid()&&e.isValid()?(e=je(e,t),t.isBefore(e)?n=Je(t,e):(n=Je(e,t),n.milliseconds=-n.milliseconds,n.months=-n.months),n):{milliseconds:0,months:0}}function tn(t,e){return function(n,r){var i,o;return null===r||isNaN(+r)||(T(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),o=n,n=r,r=o),n="string"===typeof n?+n:n,i=Xe(n,r),en(this,i,t),this}}function en(t,n,r,i){var o=n._milliseconds,a=Ne(n._days),s=Ne(n._months);t.isValid()&&(i=null==i||i,s&&dt(t,rt(t,"Month")+s*r),a&&it(t,"Date",rt(t,"Date")+a*r),o&&t._d.setTime(t._d.valueOf()+o*r),i&&e.updateOffset(t,a||s))}function nn(t,e){var n=t.diff(e,"days",!0);return n<-6?"sameElse":n<-1?"lastWeek":n<0?"lastDay":n<1?"sameDay":n<2?"nextDay":n<7?"nextWeek":"sameElse"}function rn(t,n){var r=t||Ce(),i=je(r,this).startOf("day"),o=e.calendarFormat(this,i)||"sameElse",a=n&&(C(n[o])?n[o].call(this,r):n[o]);return this.format(a||this.localeData().calendar(o,this,Ce(r)))}function on(){return new v(this)}function an(t,e){var n=g(t)?t:Ce(t);return!(!this.isValid()||!n.isValid())&&(e=L(o(e)?"millisecond":e),"millisecond"===e?this.valueOf()>n.valueOf():n.valueOf()<this.clone().startOf(e).valueOf())}function sn(t,e){var n=g(t)?t:Ce(t);return!(!this.isValid()||!n.isValid())&&(e=L(o(e)?"millisecond":e),"millisecond"===e?this.valueOf()<n.valueOf():this.clone().endOf(e).valueOf()<n.valueOf())}function un(t,e,n,r){return r=r||"()",("("===r[0]?this.isAfter(t,n):!this.isBefore(t,n))&&(")"===r[1]?this.isBefore(e,n):!this.isAfter(e,n))}function cn(t,e){var n,r=g(t)?t:Ce(t);return!(!this.isValid()||!r.isValid())&&(e=L(e||"millisecond"),"millisecond"===e?this.valueOf()===r.valueOf():(n=r.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf()))}function fn(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function ln(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function hn(t,e,n){var r,i,o;if(!this.isValid())return NaN;if(r=je(t,this),!r.isValid())return NaN;switch(i=6e4*(r.utcOffset()-this.utcOffset()),e=L(e)){case"year":o=dn(this,r)/12;break;case"month":o=dn(this,r);break;case"quarter":o=dn(this,r)/3;break;case"second":o=(this-r)/1e3;break;case"minute":o=(this-r)/6e4;break;case"hour":o=(this-r)/36e5;break;case"day":o=(this-r-i)/864e5;break;case"week":o=(this-r-i)/6048e5;break;default:o=this-r}return n?o:b(o)}function dn(t,e){var n,r,i=12*(e.year()-t.year())+(e.month()-t.month()),o=t.clone().add(i,"months");return e-o<0?(n=t.clone().add(i-1,"months"),r=(e-o)/(o-n)):(n=t.clone().add(i+1,"months"),r=(e-o)/(n-o)),-(i+r)||0}function pn(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function yn(t){if(!this.isValid())return null;var e=!0!==t,n=e?this.clone().utc():this;return n.year()<0||n.year()>9999?H(n,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):C(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+60*this.utcOffset()*1e3).toISOString().replace("Z",H(n,"Z")):H(n,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function mn(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="";this.isLocal()||(t=0===this.utcOffset()?"moment.utc":"moment.parseZone",e="Z");var n="["+t+'("]',r=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",i=e+'[")]';return this.format(n+r+"-MM-DD[T]HH:mm:ss.SSS"+i)}function vn(t){t||(t=this.isUtc()?e.defaultFormatUtc:e.defaultFormat);var n=H(this,t);return this.localeData().postformat(n)}function gn(t,e){return this.isValid()&&(g(t)&&t.isValid()||Ce(t).isValid())?Xe({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function bn(t){return this.from(Ce(),t)}function _n(t,e){return this.isValid()&&(g(t)&&t.isValid()||Ce(t).isValid())?Xe({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function wn(t){return this.to(Ce(),t)}function En(t){var e;return void 0===t?this._locale._abbr:(e=ne(t),null!=e&&(this._locale=e),this)}function Sn(){return this._locale}function Tn(t){switch(t=L(t)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":case"date":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t&&this.weekday(0),"isoWeek"===t&&this.isoWeekday(1),"quarter"===t&&this.month(3*Math.floor(this.month()/3)),this}function Cn(t){return void 0===(t=L(t))||"millisecond"===t?this:("date"===t&&(t="day"),this.startOf(t).add(1,"isoWeek"===t?"week":t).subtract(1,"ms"))}function In(){return this._d.valueOf()-6e4*(this._offset||0)}function An(){return Math.floor(this.valueOf()/1e3)}function On(){return new Date(this.valueOf())}function kn(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Rn(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Pn(){return this.isValid()?this.toISOString():null}function xn(){return p(this)}function Dn(){return f({},d(this))}function Nn(){return d(this).overflow}function Mn(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}function Ln(t,e){q(0,[t,t.length],0,e)}function jn(t){return qn.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Un(t){return qn.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function Fn(){return Tt(this.year(),1,4)}function Bn(){var t=this.localeData()._week;return Tt(this.year(),t.dow,t.doy)}function qn(t,e,n,r,i){var o;return null==t?St(this,r,i).year:(o=Tt(t,r,i),e>o&&(e=o),Wn.call(this,t,e,n,r,i))}function Wn(t,e,n,r,i){var o=Et(t,e,n,r,i),a=_t(o.year,0,o.dayOfYear);return this.year(a.getUTCFullYear()),this.month(a.getUTCMonth()),this.date(a.getUTCDate()),this}function Vn(t){return null==t?Math.ceil((this.month()+1)/3):this.month(3*(t-1)+this.month()%3)}function Hn(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return null==t?e:this.add(t-e,"d")}function zn(t,e){e[pi]=_(1e3*("0."+t))}function Kn(){return this._isUTC?"UTC":""}function Gn(){return this._isUTC?"Coordinated Universal Time":""}function Qn(t){return Ce(1e3*t)}function Yn(){return Ce.apply(null,arguments).parseZone()}function Xn(t){return t}function $n(t,e,n,r){var i=ne(),o=l().set(r,e);return i[n](o,t)}function Jn(t,e,n){if(a(t)&&(e=t,t=void 0),t=t||"",null!=e)return $n(t,e,n,"month");var r,i=[];for(r=0;r<12;r++)i[r]=$n(t,r,n,"month");return i}function Zn(t,e,n,r){"boolean"===typeof t?(a(e)&&(n=e,e=void 0),e=e||""):(e=t,n=e,t=!1,a(e)&&(n=e,e=void 0),e=e||"");var i=ne(),o=t?i._week.dow:0;if(null!=n)return $n(e,(n+o)%7,r,"day");var s,u=[];for(s=0;s<7;s++)u[s]=$n(e,(s+o)%7,r,"day");return u}function tr(t,e){return Jn(t,e,"months")}function er(t,e){return Jn(t,e,"monthsShort")}function nr(t,e,n){return Zn(t,e,n,"weekdays")}function rr(t,e,n){return Zn(t,e,n,"weekdaysShort")}function ir(t,e,n){return Zn(t,e,n,"weekdaysMin")}function or(){var t=this._data;return this._milliseconds=uo(this._milliseconds),this._days=uo(this._days),this._months=uo(this._months),t.milliseconds=uo(t.milliseconds),t.seconds=uo(t.seconds),t.minutes=uo(t.minutes),t.hours=uo(t.hours),t.months=uo(t.months),t.years=uo(t.years),this}function ar(t,e,n,r){var i=Xe(e,n);return t._milliseconds+=r*i._milliseconds,t._days+=r*i._days,t._months+=r*i._months,t._bubble()}function sr(t,e){return ar(this,t,e,1)}function ur(t,e){return ar(this,t,e,-1)}function cr(t){return t<0?Math.floor(t):Math.ceil(t)}function fr(){var t,e,n,r,i,o=this._milliseconds,a=this._days,s=this._months,u=this._data;return o>=0&&a>=0&&s>=0||o<=0&&a<=0&&s<=0||(o+=864e5*cr(hr(s)+a),a=0,s=0),u.milliseconds=o%1e3,t=b(o/1e3),u.seconds=t%60,e=b(t/60),u.minutes=e%60,n=b(e/60),u.hours=n%24,a+=b(n/24),i=b(lr(a)),s+=i,a-=cr(hr(i)),r=b(s/12),s%=12,u.days=a,u.months=s,u.years=r,this}function lr(t){return 4800*t/146097}function hr(t){return 146097*t/4800}function dr(t){if(!this.isValid())return NaN;var e,n,r=this._milliseconds;if("month"===(t=L(t))||"year"===t)return e=this._days+r/864e5,n=this._months+lr(e),"month"===t?n:n/12;switch(e=this._days+Math.round(hr(this._months)),t){case"week":return e/7+r/6048e5;case"day":return e+r/864e5;case"hour":return 24*e+r/36e5;case"minute":return 1440*e+r/6e4;case"second":return 86400*e+r/1e3;case"millisecond":return Math.floor(864e5*e)+r;default:throw new Error("Unknown unit "+t)}}function pr(){return this.isValid()?this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*_(this._months/12):NaN}function yr(t){return function(){return this.as(t)}}function mr(){return Xe(this)}function vr(t){return t=L(t),this.isValid()?this[t+"s"]():NaN}function gr(t){return function(){return this.isValid()?this._data[t]:NaN}}function br(){return b(this.days()/7)}function _r(t,e,n,r,i){return i.relativeTime(e||1,!!n,t,r)}function wr(t,e,n){var r=Xe(t).abs(),i=Co(r.as("s")),o=Co(r.as("m")),a=Co(r.as("h")),s=Co(r.as("d")),u=Co(r.as("M")),c=Co(r.as("y")),f=i<=Io.ss&&["s",i]||i<Io.s&&["ss",i]||o<=1&&["m"]||o<Io.m&&["mm",o]||a<=1&&["h"]||a<Io.h&&["hh",a]||s<=1&&["d"]||s<Io.d&&["dd",s]||u<=1&&["M"]||u<Io.M&&["MM",u]||c<=1&&["y"]||["yy",c];return f[2]=e,f[3]=+t>0,f[4]=n,_r.apply(null,f)}function Er(t){return void 0===t?Co:"function"===typeof t&&(Co=t,!0)}function Sr(t,e){return void 0!==Io[t]&&(void 0===e?Io[t]:(Io[t]=e,"s"===t&&(Io.ss=e-1),!0))}function Tr(t){if(!this.isValid())return this.localeData().invalidDate();var e=this.localeData(),n=wr(this,!t,e);return t&&(n=e.pastFuture(+this,n)),e.postformat(n)}function Cr(t){return(t>0)-(t<0)||+t}function Ir(){if(!this.isValid())return this.localeData().invalidDate();var t,e,n,r=Ao(this._milliseconds)/1e3,i=Ao(this._days),o=Ao(this._months);t=b(r/60),e=b(t/60),r%=60,t%=60,n=b(o/12),o%=12;var a=n,s=o,u=i,c=e,f=t,l=r?r.toFixed(3).replace(/\.?0+$/,""):"",h=this.asSeconds();if(!h)return"P0D";var d=h<0?"-":"",p=Cr(this._months)!==Cr(h)?"-":"",y=Cr(this._days)!==Cr(h)?"-":"",m=Cr(this._milliseconds)!==Cr(h)?"-":"";return d+"P"+(a?p+a+"Y":"")+(s?p+s+"M":"")+(u?y+u+"D":"")+(c||f||l?"T":"")+(c?m+c+"H":"")+(f?m+f+"M":"")+(l?m+l+"S":"")}var Ar,Or;Or=Array.prototype.some?Array.prototype.some:function(t){for(var e=Object(this),n=e.length>>>0,r=0;r<n;r++)if(r in e&&t.call(this,e[r],r,e))return!0;return!1};var kr=e.momentProperties=[],Rr=!1,Pr={};e.suppressDeprecationWarnings=!1,e.deprecationHandler=null;var xr;xr=Object.keys?Object.keys:function(t){var e,n=[];for(e in t)c(t,e)&&n.push(e);return n};var Dr={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},Nr={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},Mr=/\d{1,2}/,Lr={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},jr={},Ur={},Fr=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Br=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,qr={},Wr={},Vr=/\d/,Hr=/\d\d/,zr=/\d{3}/,Kr=/\d{4}/,Gr=/[+-]?\d{6}/,Qr=/\d\d?/,Yr=/\d\d\d\d?/,Xr=/\d\d\d\d\d\d?/,$r=/\d{1,3}/,Jr=/\d{1,4}/,Zr=/[+-]?\d{1,6}/,ti=/\d+/,ei=/[+-]?\d+/,ni=/Z|[+-]\d\d:?\d\d/gi,ri=/Z|[+-]\d\d(?::?\d\d)?/gi,ii=/[+-]?\d+(\.\d{1,3})?/,oi=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,ai={},si={},ui=0,ci=1,fi=2,li=3,hi=4,di=5,pi=6,yi=7,mi=8;q("Y",0,0,function(){var t=this.year();return t<=9999?""+t:"+"+t}),q(0,["YY",2],0,function(){return this.year()%100}),q(0,["YYYY",4],0,"year"),q(0,["YYYYY",5],0,"year"),q(0,["YYYYYY",6,!0],0,"year"),M("year","y"),U("year",1),K("Y",ei),K("YY",Qr,Hr),K("YYYY",Jr,Kr),K("YYYYY",Zr,Gr),K("YYYYYY",Zr,Gr),X(["YYYYY","YYYYYY"],ui),X("YYYY",function(t,n){n[ui]=2===t.length?e.parseTwoDigitYear(t):_(t)}),X("YY",function(t,n){n[ui]=e.parseTwoDigitYear(t)}),X("Y",function(t,e){e[ui]=parseInt(t,10)}),e.parseTwoDigitYear=function(t){return _(t)+(_(t)>68?1900:2e3)};var vi,gi=nt("FullYear",!0);vi=Array.prototype.indexOf?Array.prototype.indexOf:function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1},q("M",["MM",2],"Mo",function(){return this.month()+1}),q("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)}),q("MMMM",0,0,function(t){return this.localeData().months(this,t)}),M("month","M"),U("month",8),K("M",Qr),K("MM",Qr,Hr),K("MMM",function(t,e){return e.monthsShortRegex(t)}),K("MMMM",function(t,e){return e.monthsRegex(t)}),X(["M","MM"],function(t,e){e[ci]=_(t)-1}),X(["MMM","MMMM"],function(t,e,n,r){var i=n._locale.monthsParse(t,r,n._strict);null!=i?e[ci]=i:d(n).invalidMonth=t});var bi=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,_i="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),wi="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),Ei=oi,Si=oi;q("w",["ww",2],"wo","week"),q("W",["WW",2],"Wo","isoWeek"),M("week","w"),M("isoWeek","W"),U("week",5),U("isoWeek",5),K("w",Qr),K("ww",Qr,Hr),K("W",Qr),K("WW",Qr,Hr),$(["w","ww","W","WW"],function(t,e,n,r){e[r.substr(0,1)]=_(t)});var Ti={dow:0,doy:6};q("d",0,"do","day"),q("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)}),q("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)}),q("dddd",0,0,function(t){return this.localeData().weekdays(this,t)}),q("e",0,0,"weekday"),q("E",0,0,"isoWeekday"),M("day","d"),M("weekday","e"),M("isoWeekday","E"),U("day",11),U("weekday",11),U("isoWeekday",11),K("d",Qr),K("e",Qr),K("E",Qr),K("dd",function(t,e){return e.weekdaysMinRegex(t)}),K("ddd",function(t,e){return e.weekdaysShortRegex(t)}),K("dddd",function(t,e){return e.weekdaysRegex(t)}),$(["dd","ddd","dddd"],function(t,e,n,r){var i=n._locale.weekdaysParse(t,r,n._strict);null!=i?e.d=i:d(n).invalidWeekday=t}),$(["d","e","E"],function(t,e,n,r){e[r]=_(t)});var Ci="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),Ii="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Ai="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Oi=oi,ki=oi,Ri=oi;q("H",["HH",2],0,"hour"),q("h",["hh",2],0,Ht),q("k",["kk",2],0,zt),q("hmm",0,0,function(){return""+Ht.apply(this)+B(this.minutes(),2)}),q("hmmss",0,0,function(){return""+Ht.apply(this)+B(this.minutes(),2)+B(this.seconds(),2)}),q("Hmm",0,0,function(){return""+this.hours()+B(this.minutes(),2)}),q("Hmmss",0,0,function(){return""+this.hours()+B(this.minutes(),2)+B(this.seconds(),2)}),Kt("a",!0),Kt("A",!1),M("hour","h"),U("hour",13),K("a",Gt),K("A",Gt),K("H",Qr),K("h",Qr),K("k",Qr),K("HH",Qr,Hr),K("hh",Qr,Hr),K("kk",Qr,Hr),K("hmm",Yr),K("hmmss",Xr),K("Hmm",Yr),K("Hmmss",Xr),X(["H","HH"],li),X(["k","kk"],function(t,e,n){var r=_(t);e[li]=24===r?0:r}),X(["a","A"],function(t,e,n){n._isPm=n._locale.isPM(t),n._meridiem=t}),X(["h","hh"],function(t,e,n){e[li]=_(t),d(n).bigHour=!0}),X("hmm",function(t,e,n){var r=t.length-2;e[li]=_(t.substr(0,r)),e[hi]=_(t.substr(r)),d(n).bigHour=!0}),X("hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[li]=_(t.substr(0,r)),e[hi]=_(t.substr(r,2)),e[di]=_(t.substr(i)),d(n).bigHour=!0}),X("Hmm",function(t,e,n){var r=t.length-2;e[li]=_(t.substr(0,r)),e[hi]=_(t.substr(r))}),X("Hmmss",function(t,e,n){var r=t.length-4,i=t.length-2;e[li]=_(t.substr(0,r)),e[hi]=_(t.substr(r,2)),e[di]=_(t.substr(i))});var Pi,xi=/[ap]\.?m?\.?/i,Di=nt("Hours",!0),Ni={calendar:Dr,longDateFormat:Nr,invalidDate:"Invalid date",ordinal:"%d",dayOfMonthOrdinalParse:Mr,relativeTime:Lr,months:_i,monthsShort:wi,week:Ti,weekdays:Ci,weekdaysMin:Ai,weekdaysShort:Ii,meridiemParse:xi},Mi={},Li={},ji=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Ui=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,Fi=/Z|[+-]\d\d(?::?\d\d)?/,Bi=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/]],qi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],Wi=/^\/?Date\((\-?\d+)/i,Vi=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,Hi={UT:0,GMT:0,EDT:-240,EST:-300,CDT:-300,CST:-360,MDT:-360,MST:-420,PDT:-420,PST:-480};e.createFromInputFallback=S("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))}),e.ISO_8601=function(){},e.RFC_2822=function(){};var zi=S("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ce.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:y()}),Ki=S("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=Ce.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:y()}),Gi=function(){return Date.now?Date.now():+new Date},Qi=["year","quarter","month","week","day","hour","minute","second","millisecond"];Me("Z",":"),Me("ZZ",""),K("Z",ri),K("ZZ",ri),X(["Z","ZZ"],function(t,e,n){n._useUTC=!0,n._tzm=Le(ri,t)});var Yi=/([\+\-]|\d\d)/gi;e.updateOffset=function(){};var Xi=/^(\-|\+)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,$i=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;Xe.fn=xe.prototype,Xe.invalid=Pe;var Ji=tn(1,"add"),Zi=tn(-1,"subtract");e.defaultFormat="YYYY-MM-DDTHH:mm:ssZ",e.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";var to=S("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return void 0===t?this.localeData():this.locale(t)});q(0,["gg",2],0,function(){return this.weekYear()%100}),q(0,["GG",2],0,function(){return this.isoWeekYear()%100}),Ln("gggg","weekYear"),Ln("ggggg","weekYear"),Ln("GGGG","isoWeekYear"),Ln("GGGGG","isoWeekYear"),M("weekYear","gg"),M("isoWeekYear","GG"),U("weekYear",1),U("isoWeekYear",1),K("G",ei),K("g",ei),K("GG",Qr,Hr),K("gg",Qr,Hr),K("GGGG",Jr,Kr),K("gggg",Jr,Kr),K("GGGGG",Zr,Gr),K("ggggg",Zr,Gr),$(["gggg","ggggg","GGGG","GGGGG"],function(t,e,n,r){e[r.substr(0,2)]=_(t)}),$(["gg","GG"],function(t,n,r,i){n[i]=e.parseTwoDigitYear(t)}),q("Q",0,"Qo","quarter"),M("quarter","Q"),U("quarter",7),K("Q",Vr),X("Q",function(t,e){e[ci]=3*(_(t)-1)}),q("D",["DD",2],"Do","date"),M("date","D"),U("date",9),K("D",Qr),K("DD",Qr,Hr),K("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient}),X(["D","DD"],fi),X("Do",function(t,e){e[fi]=_(t.match(Qr)[0])});var eo=nt("Date",!0);q("DDD",["DDDD",3],"DDDo","dayOfYear"),M("dayOfYear","DDD"),U("dayOfYear",4),K("DDD",$r),K("DDDD",zr),X(["DDD","DDDD"],function(t,e,n){n._dayOfYear=_(t)}),q("m",["mm",2],0,"minute"),M("minute","m"),U("minute",14),K("m",Qr),K("mm",Qr,Hr),X(["m","mm"],hi);var no=nt("Minutes",!1);q("s",["ss",2],0,"second"),M("second","s"),U("second",15),K("s",Qr),K("ss",Qr,Hr),X(["s","ss"],di);var ro=nt("Seconds",!1);q("S",0,0,function(){return~~(this.millisecond()/100)}),q(0,["SS",2],0,function(){return~~(this.millisecond()/10)}),q(0,["SSS",3],0,"millisecond"),q(0,["SSSS",4],0,function(){return 10*this.millisecond()}),q(0,["SSSSS",5],0,function(){return 100*this.millisecond()}),q(0,["SSSSSS",6],0,function(){return 1e3*this.millisecond()}),q(0,["SSSSSSS",7],0,function(){return 1e4*this.millisecond()}),q(0,["SSSSSSSS",8],0,function(){return 1e5*this.millisecond()}),q(0,["SSSSSSSSS",9],0,function(){return 1e6*this.millisecond()}),M("millisecond","ms"),U("millisecond",16),K("S",$r,Vr),K("SS",$r,Hr),K("SSS",$r,zr);var io;for(io="SSSS";io.length<=9;io+="S")K(io,ti);for(io="S";io.length<=9;io+="S")X(io,zn);var oo=nt("Milliseconds",!1);q("z",0,0,"zoneAbbr"),q("zz",0,0,"zoneName");var ao=v.prototype;ao.add=Ji,ao.calendar=rn,ao.clone=on,ao.diff=hn,ao.endOf=Cn,ao.format=vn,ao.from=gn,ao.fromNow=bn,ao.to=_n,ao.toNow=wn,ao.get=ot,ao.invalidAt=Nn,ao.isAfter=an,ao.isBefore=sn,ao.isBetween=un,ao.isSame=cn,ao.isSameOrAfter=fn,ao.isSameOrBefore=ln,ao.isValid=xn,ao.lang=to,ao.locale=En,ao.localeData=Sn,ao.max=Ki,ao.min=zi,ao.parsingFlags=Dn,ao.set=at,ao.startOf=Tn,ao.subtract=Zi,ao.toArray=kn,ao.toObject=Rn,ao.toDate=On,ao.toISOString=yn,ao.inspect=mn,ao.toJSON=Pn,ao.toString=pn,ao.unix=An,ao.valueOf=In,ao.creationData=Mn,ao.year=gi,ao.isLeapYear=et,ao.weekYear=jn,ao.isoWeekYear=Un,ao.quarter=ao.quarters=Vn,ao.month=pt,ao.daysInMonth=yt,ao.week=ao.weeks=Ot,ao.isoWeek=ao.isoWeeks=kt,ao.weeksInYear=Bn,ao.isoWeeksInYear=Fn,ao.date=eo,ao.day=ao.days=jt,ao.weekday=Ut,ao.isoWeekday=Ft,ao.dayOfYear=Hn,ao.hour=ao.hours=Di,ao.minute=ao.minutes=no,ao.second=ao.seconds=ro,ao.millisecond=ao.milliseconds=oo,ao.utcOffset=Fe,ao.utc=qe,ao.local=We,ao.parseZone=Ve,ao.hasAlignedHourOffset=He,ao.isDST=ze,ao.isLocal=Ge,ao.isUtcOffset=Qe,ao.isUtc=Ye,ao.isUTC=Ye,ao.zoneAbbr=Kn,ao.zoneName=Gn,ao.dates=S("dates accessor is deprecated. Use date instead.",eo),ao.months=S("months accessor is deprecated. Use month instead",pt),ao.years=S("years accessor is deprecated. Use year instead",gi),ao.zone=S("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Be),ao.isDSTShifted=S("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",Ke);var so=O.prototype;so.calendar=k,so.longDateFormat=R,so.invalidDate=P,so.ordinal=x,so.preparse=Xn,so.postformat=Xn,so.relativeTime=D,so.pastFuture=N,so.set=I,so.months=ct,so.monthsShort=ft,so.monthsParse=ht,so.monthsRegex=vt,so.monthsShortRegex=mt,so.week=Ct,so.firstDayOfYear=At,so.firstDayOfWeek=It,so.weekdays=xt,so.weekdaysMin=Nt,so.weekdaysShort=Dt,so.weekdaysParse=Lt,so.weekdaysRegex=Bt,so.weekdaysShortRegex=qt,so.weekdaysMinRegex=Wt,so.isPM=Qt,so.meridiem=Yt,Zt("en",{dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10;return t+(1===_(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th")}}),e.lang=S("moment.lang is deprecated. Use moment.locale instead.",Zt),e.langData=S("moment.langData is deprecated. Use moment.localeData instead.",ne);var uo=Math.abs,co=yr("ms"),fo=yr("s"),lo=yr("m"),ho=yr("h"),po=yr("d"),yo=yr("w"),mo=yr("M"),vo=yr("y"),go=gr("milliseconds"),bo=gr("seconds"),_o=gr("minutes"),wo=gr("hours"),Eo=gr("days"),So=gr("months"),To=gr("years"),Co=Math.round,Io={ss:44,s:45,m:45,h:22,d:26,M:11},Ao=Math.abs,Oo=xe.prototype;return Oo.isValid=Re,Oo.abs=or,Oo.add=sr,Oo.subtract=ur,Oo.as=dr,Oo.asMilliseconds=co,Oo.asSeconds=fo,Oo.asMinutes=lo,Oo.asHours=ho,Oo.asDays=po,Oo.asWeeks=yo,Oo.asMonths=mo,Oo.asYears=vo,Oo.valueOf=pr,Oo._bubble=fr,Oo.clone=mr,Oo.get=vr,Oo.milliseconds=go,Oo.seconds=bo,Oo.minutes=_o,Oo.hours=wo,Oo.days=Eo,Oo.weeks=br,Oo.months=So,Oo.years=To,Oo.humanize=Tr,Oo.toISOString=Ir,Oo.toString=Ir,Oo.toJSON=Ir,Oo.locale=En,Oo.localeData=Sn,Oo.toIsoString=S("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",Ir),Oo.lang=to,q("X",0,0,"unix"),q("x",0,0,"valueOf"),K("x",ei),K("X",ii),X("X",function(t,e,n){n._d=new Date(1e3*parseFloat(t,10))}),X("x",function(t,e,n){n._d=new Date(_(t))}),e.version="2.22.2",function(t){Ar=t}(Ce),e.fn=ao,e.min=Ae,e.max=Oe,e.now=Gi,e.utc=l,e.unix=Qn,e.months=tr,e.isDate=s,e.locale=Zt,e.invalid=y,e.duration=Xe,e.isMoment=g,e.weekdays=nr,e.parseZone=Yn,e.localeData=ne,e.isDuration=De,e.monthsShort=er,e.weekdaysMin=ir,e.defineLocale=te,e.updateLocale=ee,e.locales=re,e.weekdaysShort=rr,e.normalizeUnits=L,e.relativeTimeRounding=Er,e.relativeTimeThreshold=Sr,e.calendarFormat=nn,e.prototype=ao,e.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"YYYY-[W]WW",MONTH:"YYYY-MM"},e})}).call(e,n(41)(t))},function(t,e,n){"use strict";n.d(e,"a",function(){return i});var r=n(106),i=(n.n(r),n(515),function(t){return function(e,n,r){var i=r.getFirestore,o=(r.getFirebase,i());o.get({collection:"messages",where:[["idSum","==",t.idSum]]}).then(function(e){var n=e.docs;if(0==e.docs.length)o.collection("messages").add({idSender:t.idSender,idReceiver:t.idReceiver,idSum:t.idSum,messages:[t.message]});else{var r=n[0].data().messages;r.push(t.message);var i=n[0].id;o.update({collection:"messages",doc:i},{messages:r}).then(function(){console.log("add message")})}})}})},function(t,e){var n={}.toString;t.exports=Array.isArray||function(t){return"[object Array]"==n.call(t)}},function(t,e,n){"use strict";function r(t,e){if(!o.isBuffer(t)&&"string"!==typeof t)throw new TypeError(e+" must be a string or a buffer")}function i(t){a.call(this),this._block=o.allocUnsafe(t),this._blockSize=t,this._blockOffset=0,this._length=[0,0,0,0],this._finalized=!1}var o=n(1).Buffer,a=n(150).Transform;n(0)(i,a),i.prototype._transform=function(t,e,n){var r=null;try{this.update(t,e)}catch(t){r=t}n(r)},i.prototype._flush=function(t){var e=null;try{this.push(this.digest())}catch(t){e=t}t(e)},i.prototype.update=function(t,e){if(r(t,"Data"),this._finalized)throw new Error("Digest already called");o.isBuffer(t)||(t=o.from(t,e));for(var n=this._block,i=0;this._blockOffset+t.length-i>=this._blockSize;){for(var a=this._blockOffset;a<this._blockSize;)n[a++]=t[i++];this._update(),this._blockOffset=0}for(;i<t.length;)n[this._blockOffset++]=t[i++];for(var s=0,u=8*t.length;u>0;++s)this._length[s]+=u,(u=this._length[s]/4294967296|0)>0&&(this._length[s]-=4294967296*u);return this},i.prototype._update=function(){throw new Error("_update is not implemented")},i.prototype.digest=function(t){if(this._finalized)throw new Error("Digest already called");this._finalized=!0;var e=this._digest();void 0!==t&&(e=e.toString(t)),this._block.fill(0),this._blockOffset=0;for(var n=0;n<4;++n)this._length[n]=0;return e},i.prototype._digest=function(){throw new Error("_digest is not implemented")},t.exports=i},function(t,e,n){"use strict";(function(e,r){function i(t){return j.from(t)}function o(t){return j.isBuffer(t)||t instanceof U}function a(t,e,n){if("function"===typeof t.prependListener)return t.prependListener(e,n);t._events&&t._events[e]?N(t._events[e])?t._events[e].unshift(n):t._events[e]=[n,t._events[e]]:t.on(e,n)}function s(t,e){D=D||n(36),t=t||{};var r=e instanceof D;this.objectMode=!!t.objectMode,r&&(this.objectMode=this.objectMode||!!t.readableObjectMode);var i=t.highWaterMark,o=t.readableHighWaterMark,a=this.objectMode?16:16384;this.highWaterMark=i||0===i?i:r&&(o||0===o)?o:a,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new V,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=t.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,t.encoding&&(W||(W=n(154).StringDecoder),this.decoder=new W(t.encoding),this.encoding=t.encoding)}function u(t){if(D=D||n(36),!(this instanceof u))return new u(t);this._readableState=new s(t,this),this.readable=!0,t&&("function"===typeof t.read&&(this._read=t.read),"function"===typeof t.destroy&&(this._destroy=t.destroy)),L.call(this)}function c(t,e,n,r,o){var a=t._readableState;if(null===e)a.reading=!1,y(t,a);else{var s;o||(s=l(a,e)),s?t.emit("error",s):a.objectMode||e&&e.length>0?("string"===typeof e||a.objectMode||Object.getPrototypeOf(e)===j.prototype||(e=i(e)),r?a.endEmitted?t.emit("error",new Error("stream.unshift() after end event")):f(t,a,e,!0):a.ended?t.emit("error",new Error("stream.push() after EOF")):(a.reading=!1,a.decoder&&!n?(e=a.decoder.write(e),a.objectMode||0!==e.length?f(t,a,e,!1):g(t,a)):f(t,a,e,!1))):r||(a.reading=!1)}return h(a)}function f(t,e,n,r){e.flowing&&0===e.length&&!e.sync?(t.emit("data",n),t.read(0)):(e.length+=e.objectMode?1:n.length,r?e.buffer.unshift(n):e.buffer.push(n),e.needReadable&&m(t)),g(t,e)}function l(t,e){var n;return o(e)||"string"===typeof e||void 0===e||t.objectMode||(n=new TypeError("Invalid non-string/buffer chunk")),n}function h(t){return!t.ended&&(t.needReadable||t.length<t.highWaterMark||0===t.length)}function d(t){return t>=K?t=K:(t--,t|=t>>>1,t|=t>>>2,t|=t>>>4,t|=t>>>8,t|=t>>>16,t++),t}function p(t,e){return t<=0||0===e.length&&e.ended?0:e.objectMode?1:t!==t?e.flowing&&e.length?e.buffer.head.data.length:e.length:(t>e.highWaterMark&&(e.highWaterMark=d(t)),t<=e.length?t:e.ended?e.length:(e.needReadable=!0,0))}function y(t,e){if(!e.ended){if(e.decoder){var n=e.decoder.end();n&&n.length&&(e.buffer.push(n),e.length+=e.objectMode?1:n.length)}e.ended=!0,m(t)}}function m(t){var e=t._readableState;e.needReadable=!1,e.emittedReadable||(q("emitReadable",e.flowing),e.emittedReadable=!0,e.sync?x.nextTick(v,t):v(t))}function v(t){q("emit readable"),t.emit("readable"),T(t)}function g(t,e){e.readingMore||(e.readingMore=!0,x.nextTick(b,t,e))}function b(t,e){for(var n=e.length;!e.reading&&!e.flowing&&!e.ended&&e.length<e.highWaterMark&&(q("maybeReadMore read 0"),t.read(0),n!==e.length);)n=e.length;e.readingMore=!1}function _(t){return function(){var e=t._readableState;q("pipeOnDrain",e.awaitDrain),e.awaitDrain&&e.awaitDrain--,0===e.awaitDrain&&M(t,"data")&&(e.flowing=!0,T(t))}}function w(t){q("readable nexttick read 0"),t.read(0)}function E(t,e){e.resumeScheduled||(e.resumeScheduled=!0,x.nextTick(S,t,e))}function S(t,e){e.reading||(q("resume read 0"),t.read(0)),e.resumeScheduled=!1,e.awaitDrain=0,t.emit("resume"),T(t),e.flowing&&!e.reading&&t.read(0)}function T(t){var e=t._readableState;for(q("flow",e.flowing);e.flowing&&null!==t.read(););}function C(t,e){if(0===e.length)return null;var n;return e.objectMode?n=e.buffer.shift():!t||t>=e.length?(n=e.decoder?e.buffer.join(""):1===e.buffer.length?e.buffer.head.data:e.buffer.concat(e.length),e.buffer.clear()):n=I(t,e.buffer,e.decoder),n}function I(t,e,n){var r;return t<e.head.data.length?(r=e.head.data.slice(0,t),e.head.data=e.head.data.slice(t)):r=t===e.head.data.length?e.shift():n?A(t,e):O(t,e),r}function A(t,e){var n=e.head,r=1,i=n.data;for(t-=i.length;n=n.next;){var o=n.data,a=t>o.length?o.length:t;if(a===o.length?i+=o:i+=o.slice(0,t),0===(t-=a)){a===o.length?(++r,n.next?e.head=n.next:e.head=e.tail=null):(e.head=n,n.data=o.slice(a));break}++r}return e.length-=r,i}function O(t,e){var n=j.allocUnsafe(t),r=e.head,i=1;for(r.data.copy(n),t-=r.data.length;r=r.next;){var o=r.data,a=t>o.length?o.length:t;if(o.copy(n,n.length-t,0,a),0===(t-=a)){a===o.length?(++i,r.next?e.head=r.next:e.head=e.tail=null):(e.head=r,r.data=o.slice(a));break}++i}return e.length-=i,n}function k(t){var e=t._readableState;if(e.length>0)throw new Error('"endReadable()" called on non-empty stream');e.endEmitted||(e.ended=!0,x.nextTick(R,e,t))}function R(t,e){t.endEmitted||0!==t.length||(t.endEmitted=!0,e.readable=!1,e.emit("end"))}function P(t,e){for(var n=0,r=t.length;n<r;n++)if(t[n]===e)return n;return-1}var x=n(92);t.exports=u;var D,N=n(247);u.ReadableState=s;var M=(n(151).EventEmitter,function(t,e){return t.listeners(e).length}),L=n(250),j=n(1).Buffer,U=e.Uint8Array||function(){},F=n(64);F.inherits=n(0);var B=n(520),q=void 0;q=B&&B.debuglog?B.debuglog("stream"):function(){};var W,V=n(521),H=n(251);F.inherits(u,L);var z=["error","close","destroy","pause","resume"];Object.defineProperty(u.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(t){this._readableState&&(this._readableState.destroyed=t)}}),u.prototype.destroy=H.destroy,u.prototype._undestroy=H.undestroy,u.prototype._destroy=function(t,e){this.push(null),e(t)},u.prototype.push=function(t,e){var n,r=this._readableState;return r.objectMode?n=!0:"string"===typeof t&&(e=e||r.defaultEncoding,e!==r.encoding&&(t=j.from(t,e),e=""),n=!0),c(this,t,e,!1,n)},u.prototype.unshift=function(t){return c(this,t,null,!0,!1)},u.prototype.isPaused=function(){return!1===this._readableState.flowing},u.prototype.setEncoding=function(t){return W||(W=n(154).StringDecoder),this._readableState.decoder=new W(t),this._readableState.encoding=t,this};var K=8388608;u.prototype.read=function(t){q("read",t),t=parseInt(t,10);var e=this._readableState,n=t;if(0!==t&&(e.emittedReadable=!1),0===t&&e.needReadable&&(e.length>=e.highWaterMark||e.ended))return q("read: emitReadable",e.length,e.ended),0===e.length&&e.ended?k(this):m(this),null;if(0===(t=p(t,e))&&e.ended)return 0===e.length&&k(this),null;var r=e.needReadable;q("need readable",r),(0===e.length||e.length-t<e.highWaterMark)&&(r=!0,q("length less than watermark",r)),e.ended||e.reading?(r=!1,q("reading or ended",r)):r&&(q("do read"),e.reading=!0,e.sync=!0,0===e.length&&(e.needReadable=!0),this._read(e.highWaterMark),e.sync=!1,e.reading||(t=p(n,e)));var i;return i=t>0?C(t,e):null,null===i?(e.needReadable=!0,t=0):e.length-=t,0===e.length&&(e.ended||(e.needReadable=!0),n!==t&&e.ended&&k(this)),null!==i&&this.emit("data",i),i},u.prototype._read=function(t){this.emit("error",new Error("_read() is not implemented"))},u.prototype.pipe=function(t,e){function n(t,e){q("onunpipe"),t===h&&e&&!1===e.hasUnpiped&&(e.hasUnpiped=!0,o())}function i(){q("onend"),t.end()}function o(){q("cleanup"),t.removeListener("close",c),t.removeListener("finish",f),t.removeListener("drain",m),t.removeListener("error",u),t.removeListener("unpipe",n),h.removeListener("end",i),h.removeListener("end",l),h.removeListener("data",s),v=!0,!d.awaitDrain||t._writableState&&!t._writableState.needDrain||m()}function s(e){q("ondata"),g=!1,!1!==t.write(e)||g||((1===d.pipesCount&&d.pipes===t||d.pipesCount>1&&-1!==P(d.pipes,t))&&!v&&(q("false write response, pause",h._readableState.awaitDrain),h._readableState.awaitDrain++,g=!0),h.pause())}function u(e){q("onerror",e),l(),t.removeListener("error",u),0===M(t,"error")&&t.emit("error",e)}function c(){t.removeListener("finish",f),l()}function f(){q("onfinish"),t.removeListener("close",c),l()}function l(){q("unpipe"),h.unpipe(t)}var h=this,d=this._readableState;switch(d.pipesCount){case 0:d.pipes=t;break;case 1:d.pipes=[d.pipes,t];break;default:d.pipes.push(t)}d.pipesCount+=1,q("pipe count=%d opts=%j",d.pipesCount,e);var p=(!e||!1!==e.end)&&t!==r.stdout&&t!==r.stderr,y=p?i:l;d.endEmitted?x.nextTick(y):h.once("end",y),t.on("unpipe",n);var m=_(h);t.on("drain",m);var v=!1,g=!1;return h.on("data",s),a(t,"error",u),t.once("close",c),t.once("finish",f),t.emit("pipe",h),d.flowing||(q("pipe resume"),h.resume()),t},u.prototype.unpipe=function(t){var e=this._readableState,n={hasUnpiped:!1};if(0===e.pipesCount)return this;if(1===e.pipesCount)return t&&t!==e.pipes?this:(t||(t=e.pipes),e.pipes=null,e.pipesCount=0,e.flowing=!1,t&&t.emit("unpipe",this,n),this);if(!t){var r=e.pipes,i=e.pipesCount;e.pipes=null,e.pipesCount=0,e.flowing=!1;for(var o=0;o<i;o++)r[o].emit("unpipe",this,n);return this}var a=P(e.pipes,t);return-1===a?this:(e.pipes.splice(a,1),e.pipesCount-=1,1===e.pipesCount&&(e.pipes=e.pipes[0]),t.emit("unpipe",this,n),this)},u.prototype.on=function(t,e){var n=L.prototype.on.call(this,t,e);if("data"===t)!1!==this._readableState.flowing&&this.resume();else if("readable"===t){var r=this._readableState;r.endEmitted||r.readableListening||(r.readableListening=r.needReadable=!0,r.emittedReadable=!1,r.reading?r.length&&m(this):x.nextTick(w,this))}return n},u.prototype.addListener=u.prototype.on,u.prototype.resume=function(){var t=this._readableState;return t.flowing||(q("resume"),t.flowing=!0,E(this,t)),this},u.prototype.pause=function(){return q("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(q("pause"),this._readableState.flowing=!1,this.emit("pause")),this},u.prototype.wrap=function(t){var e=this,n=this._readableState,r=!1;t.on("end",function(){if(q("wrapped end"),n.decoder&&!n.ended){var t=n.decoder.end();t&&t.length&&e.push(t)}e.push(null)}),t.on("data",function(i){if(q("wrapped data"),n.decoder&&(i=n.decoder.write(i)),(!n.objectMode||null!==i&&void 0!==i)&&(n.objectMode||i&&i.length)){e.push(i)||(r=!0,t.pause())}});for(var i in t)void 0===this[i]&&"function"===typeof t[i]&&(this[i]=function(e){return function(){return t[e].apply(t,arguments)}}(i));for(var o=0;o<z.length;o++)t.on(z[o],this.emit.bind(this,z[o]));return this._read=function(e){q("wrapped _read",e),r&&(r=!1,t.resume())},this},Object.defineProperty(u.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),u._fromList=C}).call(e,n(8),n(22))},function(t,e,n){t.exports=n(151).EventEmitter},function(t,e,n){"use strict";function r(t,e){var n=this,r=this._readableState&&this._readableState.destroyed,i=this._writableState&&this._writableState.destroyed;return r||i?(e?e(t):!t||this._writableState&&this._writableState.errorEmitted||a.nextTick(o,this,t),this):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(t||null,function(t){!e&&t?(a.nextTick(o,n,t),n._writableState&&(n._writableState.errorEmitted=!0)):e&&e(t)}),this)}function i(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}function o(t,e){t.emit("error",e)}var a=n(92);t.exports={destroy:r,undestroy:i}},function(t,e,n){"use strict";function r(t,e){var n=this._transformState;n.transforming=!1;var r=n.writecb;if(!r)return this.emit("error",new Error("write callback called multiple times"));n.writechunk=null,n.writecb=null,null!=e&&this.push(e),r(t);var i=this._readableState;i.reading=!1,(i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}function i(t){if(!(this instanceof i))return new i(t);s.call(this,t),this._transformState={afterTransform:r.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,t&&("function"===typeof t.transform&&(this._transform=t.transform),"function"===typeof t.flush&&(this._flush=t.flush)),this.on("prefinish",o)}function o(){var t=this;"function"===typeof this._flush?this._flush(function(e,n){a(t,e,n)}):a(this,null,null)}function a(t,e,n){if(e)return t.emit("error",e);if(null!=n&&t.push(n),t._writableState.length)throw new Error("Calling transform done when ws.length != 0");if(t._transformState.transforming)throw new Error("Calling transform done when still transforming");return t.push(null)}t.exports=i;var s=n(36),u=n(64);u.inherits=n(0),u.inherits(i,s),i.prototype.push=function(t,e){return this._transformState.needTransform=!1,s.prototype.push.call(this,t,e)},i.prototype._transform=function(t,e,n){throw new Error("_transform() is not implemented")},i.prototype._write=function(t,e,n){var r=this._transformState;if(r.writecb=n,r.writechunk=t,r.writeencoding=e,!r.transforming){var i=this._readableState;(r.needTransform||i.needReadable||i.length<i.highWaterMark)&&this._read(i.highWaterMark)}},i.prototype._read=function(t){var e=this._transformState;null!==e.writechunk&&e.writecb&&!e.transforming?(e.transforming=!0,this._transform(e.writechunk,e.writeencoding,e.afterTransform)):e.needTransform=!0},i.prototype._destroy=function(t,e){var n=this;s.prototype._destroy.call(this,t,function(t){e(t),n.emit("close")})}},function(t,e,n){function r(){this.init(),this._w=p,l.call(this,64,56)}function i(t,e,n){return n^t&(e^n)}function o(t,e,n){return t&e|n&(t|e)}function a(t){return(t>>>2|t<<30)^(t>>>13|t<<19)^(t>>>22|t<<10)}function s(t){return(t>>>6|t<<26)^(t>>>11|t<<21)^(t>>>25|t<<7)}function u(t){return(t>>>7|t<<25)^(t>>>18|t<<14)^t>>>3}function c(t){return(t>>>17|t<<15)^(t>>>19|t<<13)^t>>>10}var f=n(0),l=n(45),h=n(1).Buffer,d=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298],p=new Array(64);f(r,l),r.prototype.init=function(){return this._a=1779033703,this._b=3144134277,this._c=1013904242,this._d=2773480762,this._e=1359893119,this._f=2600822924,this._g=528734635,this._h=1541459225,this},r.prototype._update=function(t){for(var e=this._w,n=0|this._a,r=0|this._b,f=0|this._c,l=0|this._d,h=0|this._e,p=0|this._f,y=0|this._g,m=0|this._h,v=0;v<16;++v)e[v]=t.readInt32BE(4*v);for(;v<64;++v)e[v]=c(e[v-2])+e[v-7]+u(e[v-15])+e[v-16]|0;for(var g=0;g<64;++g){var b=m+s(h)+i(h,p,y)+d[g]+e[g]|0,_=a(n)+o(n,r,f)|0;m=y,y=p,p=h,h=l+b|0,l=f,f=r,r=n,n=b+_|0}this._a=n+this._a|0,this._b=r+this._b|0,this._c=f+this._c|0,this._d=l+this._d|0,this._e=h+this._e|0,this._f=p+this._f|0,this._g=y+this._g|0,this._h=m+this._h|0},r.prototype._hash=function(){var t=h.allocUnsafe(32);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t.writeInt32BE(this._h,28),t},t.exports=r},function(t,e,n){function r(){this.init(),this._w=v,p.call(this,128,112)}function i(t,e,n){return n^t&(e^n)}function o(t,e,n){return t&e|n&(t|e)}function a(t,e){return(t>>>28|e<<4)^(e>>>2|t<<30)^(e>>>7|t<<25)}function s(t,e){return(t>>>14|e<<18)^(t>>>18|e<<14)^(e>>>9|t<<23)}function u(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^t>>>7}function c(t,e){return(t>>>1|e<<31)^(t>>>8|e<<24)^(t>>>7|e<<25)}function f(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^t>>>6}function l(t,e){return(t>>>19|e<<13)^(e>>>29|t<<3)^(t>>>6|e<<26)}function h(t,e){return t>>>0<e>>>0?1:0}var d=n(0),p=n(45),y=n(1).Buffer,m=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591],v=new Array(160);d(r,p),r.prototype.init=function(){return this._ah=1779033703,this._bh=3144134277,this._ch=1013904242,this._dh=2773480762,this._eh=1359893119,this._fh=2600822924,this._gh=528734635,this._hh=1541459225,this._al=4089235720,this._bl=2227873595,this._cl=4271175723,this._dl=1595750129,this._el=2917565137,this._fl=725511199,this._gl=4215389547,this._hl=327033209,this},r.prototype._update=function(t){for(var e=this._w,n=0|this._ah,r=0|this._bh,d=0|this._ch,p=0|this._dh,y=0|this._eh,v=0|this._fh,g=0|this._gh,b=0|this._hh,_=0|this._al,w=0|this._bl,E=0|this._cl,S=0|this._dl,T=0|this._el,C=0|this._fl,I=0|this._gl,A=0|this._hl,O=0;O<32;O+=2)e[O]=t.readInt32BE(4*O),e[O+1]=t.readInt32BE(4*O+4);for(;O<160;O+=2){var k=e[O-30],R=e[O-30+1],P=u(k,R),x=c(R,k);k=e[O-4],R=e[O-4+1];var D=f(k,R),N=l(R,k),M=e[O-14],L=e[O-14+1],j=e[O-32],U=e[O-32+1],F=x+L|0,B=P+M+h(F,x)|0;F=F+N|0,B=B+D+h(F,N)|0,F=F+U|0,B=B+j+h(F,U)|0,e[O]=B,e[O+1]=F}for(var q=0;q<160;q+=2){B=e[q],F=e[q+1];var W=o(n,r,d),V=o(_,w,E),H=a(n,_),z=a(_,n),K=s(y,T),G=s(T,y),Q=m[q],Y=m[q+1],X=i(y,v,g),$=i(T,C,I),J=A+G|0,Z=b+K+h(J,A)|0;J=J+$|0,Z=Z+X+h(J,$)|0,J=J+Y|0,Z=Z+Q+h(J,Y)|0,J=J+F|0,Z=Z+B+h(J,F)|0;var tt=z+V|0,et=H+W+h(tt,z)|0;b=g,A=I,g=v,I=C,v=y,C=T,T=S+J|0,y=p+Z+h(T,S)|0,p=d,S=E,d=r,E=w,r=n,w=_,_=J+tt|0,n=Z+et+h(_,J)|0}this._al=this._al+_|0,this._bl=this._bl+w|0,this._cl=this._cl+E|0,this._dl=this._dl+S|0,this._el=this._el+T|0,this._fl=this._fl+C|0,this._gl=this._gl+I|0,this._hl=this._hl+A|0,this._ah=this._ah+n+h(this._al,_)|0,this._bh=this._bh+r+h(this._bl,w)|0,this._ch=this._ch+d+h(this._cl,E)|0,this._dh=this._dh+p+h(this._dl,S)|0,this._eh=this._eh+y+h(this._el,T)|0,this._fh=this._fh+v+h(this._fl,C)|0,this._gh=this._gh+g+h(this._gl,I)|0,this._hh=this._hh+b+h(this._hl,A)|0},r.prototype._hash=function(){function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}var e=y.allocUnsafe(64);return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),t(this._gh,this._gl,48),t(this._hh,this._hl,56),e},t.exports=r},function(t,e,n){"use strict";function r(t,e){a.call(this,"digest"),"string"===typeof e&&(e=s.from(e));var n="sha512"===t||"sha384"===t?128:64;if(this._alg=t,this._key=e,e.length>n){e=("rmd160"===t?new c:f(t)).update(e).digest()}else e.length<n&&(e=s.concat([e,l],n));for(var r=this._ipad=s.allocUnsafe(n),i=this._opad=s.allocUnsafe(n),o=0;o<n;o++)r[o]=54^e[o],i[o]=92^e[o];this._hash="rmd160"===t?new c:f(t),this._hash.update(r)}var i=n(0),o=n(533),a=n(28),s=n(1).Buffer,u=n(256),c=n(155),f=n(156),l=s.alloc(128);i(r,a),r.prototype._update=function(t){this._hash.update(t)},r.prototype._final=function(){var t=this._hash.digest();return("rmd160"===this._alg?new c:f(this._alg)).update(this._opad).update(t).digest()},t.exports=function(t,e){return t=t.toLowerCase(),"rmd160"===t||"ripemd160"===t?new r("rmd160",e):"md5"===t?new o(u,e):new r(t,e)}},function(t,e,n){var r=n(149);t.exports=function(t){return(new r).update(t).digest()}},function(t,e){t.exports={sha224WithRSAEncryption:{sign:"rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},"RSA-SHA224":{sign:"ecdsa/rsa",hash:"sha224",id:"302d300d06096086480165030402040500041c"},sha256WithRSAEncryption:{sign:"rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},"RSA-SHA256":{sign:"ecdsa/rsa",hash:"sha256",id:"3031300d060960864801650304020105000420"},sha384WithRSAEncryption:{sign:"rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},"RSA-SHA384":{sign:"ecdsa/rsa",hash:"sha384",id:"3041300d060960864801650304020205000430"},sha512WithRSAEncryption:{sign:"rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA512":{sign:"ecdsa/rsa",hash:"sha512",id:"3051300d060960864801650304020305000440"},"RSA-SHA1":{sign:"rsa",hash:"sha1",id:"3021300906052b0e03021a05000414"},"ecdsa-with-SHA1":{sign:"ecdsa",hash:"sha1",id:""},sha256:{sign:"ecdsa",hash:"sha256",id:""},sha224:{sign:"ecdsa",hash:"sha224",id:""},sha384:{sign:"ecdsa",hash:"sha384",id:""},sha512:{sign:"ecdsa",hash:"sha512",id:""},"DSA-SHA":{sign:"dsa",hash:"sha1",id:""},"DSA-SHA1":{sign:"dsa",hash:"sha1",id:""},DSA:{sign:"dsa",hash:"sha1",id:""},"DSA-WITH-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-SHA224":{sign:"dsa",hash:"sha224",id:""},"DSA-WITH-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-SHA256":{sign:"dsa",hash:"sha256",id:""},"DSA-WITH-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-SHA384":{sign:"dsa",hash:"sha384",id:""},"DSA-WITH-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-SHA512":{sign:"dsa",hash:"sha512",id:""},"DSA-RIPEMD160":{sign:"dsa",hash:"rmd160",id:""},ripemd160WithRSA:{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},"RSA-RIPEMD160":{sign:"rsa",hash:"rmd160",id:"3021300906052b2403020105000414"},md5WithRSAEncryption:{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"},"RSA-MD5":{sign:"rsa",hash:"md5",id:"3020300c06082a864886f70d020505000410"}}},function(t,e,n){e.pbkdf2=n(535),e.pbkdf2Sync=n(261)},function(t,e,n){(function(e){function n(t,n){if("string"!==typeof t&&!e.isBuffer(t))throw new TypeError(n+" must be a buffer or string")}var r=Math.pow(2,30)-1;t.exports=function(t,e,i,o){if(n(t,"Password"),n(e,"Salt"),"number"!==typeof i)throw new TypeError("Iterations not a number");if(i<0)throw new TypeError("Bad iterations");if("number"!==typeof o)throw new TypeError("Key length not a number");if(o<0||o>r||o!==o)throw new TypeError("Bad key length")}}).call(e,n(7).Buffer)},function(t,e,n){(function(e){var n;if(e.browser)n="utf-8";else{n=parseInt(e.version.split(".")[0].slice(1),10)>=6?"utf-8":"binary"}t.exports=n}).call(e,n(22))},function(t,e,n){function r(t,e,n){var r=i(t),o="sha512"===t||"sha384"===t?128:64;e.length>o?e=r(e):e.length<o&&(e=l.concat([e,h],o));for(var a=l.allocUnsafe(o+d[t]),s=l.allocUnsafe(o+d[t]),u=0;u<o;u++)a[u]=54^e[u],s[u]=92^e[u];var c=l.allocUnsafe(o+n+4);a.copy(c,0,0,o),this.ipad1=c,this.ipad2=a,this.opad=s,this.alg=t,this.blocksize=o,this.hash=r,this.size=d[t]}function i(t){function e(e){return u(t).update(e).digest()}function n(t){return(new s).update(t).digest()}return"rmd160"===t||"ripemd160"===t?n:"md5"===t?a:e}function o(t,e,n,i,o){c(t,e,n,i),l.isBuffer(t)||(t=l.from(t,f)),l.isBuffer(e)||(e=l.from(e,f)),o=o||"sha1";var a=new r(o,t,e.length),s=l.allocUnsafe(i),u=l.allocUnsafe(e.length+4);e.copy(u,0,0,e.length);for(var h=0,p=d[o],y=Math.ceil(i/p),m=1;m<=y;m++){u.writeUInt32BE(m,e.length);for(var v=a.run(u,a.ipad1),g=v,b=1;b<n;b++){g=a.run(g,a.ipad2);for(var _=0;_<p;_++)v[_]^=g[_]}v.copy(s,h),h+=p}return s}var a=n(256),s=n(155),u=n(156),c=n(259),f=n(260),l=n(1).Buffer,h=l.alloc(128),d={md5:16,sha1:20,sha224:28,sha256:32,sha384:48,sha512:64,rmd160:20,ripemd160:20};r.prototype.run=function(t,e){return t.copy(e,this.blocksize),this.hash(e).copy(this.opad,this.blocksize),this.hash(this.opad)},t.exports=o},function(t,e,n){function r(t){var e=t._cipher.encryptBlockRaw(t._prev);return a(t._prev),e}var i=n(65),o=n(1).Buffer,a=n(263);e.encrypt=function(t,e){var n=Math.ceil(e.length/16),a=t._cache.length;t._cache=o.concat([t._cache,o.allocUnsafe(16*n)]);for(var s=0;s<n;s++){var u=r(t),c=a+16*s;t._cache.writeUInt32BE(u[0],c+0),t._cache.writeUInt32BE(u[1],c+4),t._cache.writeUInt32BE(u[2],c+8),t._cache.writeUInt32BE(u[3],c+12)}var f=t._cache.slice(0,e.length);return t._cache=t._cache.slice(e.length),i(e,f)}},function(t,e){function n(t){for(var e,n=t.length;n--;){if(255!==(e=t.readUInt8(n))){e++,t.writeUInt8(e,n);break}t.writeUInt8(0,n)}}t.exports=n},function(t,e){t.exports={"aes-128-ecb":{cipher:"AES",key:128,iv:0,mode:"ECB",type:"block"},"aes-192-ecb":{cipher:"AES",key:192,iv:0,mode:"ECB",type:"block"},"aes-256-ecb":{cipher:"AES",key:256,iv:0,mode:"ECB",type:"block"},"aes-128-cbc":{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},"aes-192-cbc":{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},"aes-256-cbc":{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},aes128:{cipher:"AES",key:128,iv:16,mode:"CBC",type:"block"},aes192:{cipher:"AES",key:192,iv:16,mode:"CBC",type:"block"},aes256:{cipher:"AES",key:256,iv:16,mode:"CBC",type:"block"},"aes-128-cfb":{cipher:"AES",key:128,iv:16,mode:"CFB",type:"stream"},"aes-192-cfb":{cipher:"AES",key:192,iv:16,mode:"CFB",type:"stream"},"aes-256-cfb":{cipher:"AES",key:256,iv:16,mode:"CFB",type:"stream"},"aes-128-cfb8":{cipher:"AES",key:128,iv:16,mode:"CFB8",type:"stream"},"aes-192-cfb8":{cipher:"AES",key:192,iv:16,mode:"CFB8",type:"stream"},"aes-256-cfb8":{cipher:"AES",key:256,iv:16,mode:"CFB8",type:"stream"},"aes-128-cfb1":{cipher:"AES",key:128,iv:16,mode:"CFB1",type:"stream"},"aes-192-cfb1":{cipher:"AES",key:192,iv:16,mode:"CFB1",type:"stream"},"aes-256-cfb1":{cipher:"AES",key:256,iv:16,mode:"CFB1",type:"stream"},"aes-128-ofb":{cipher:"AES",key:128,iv:16,mode:"OFB",type:"stream"},"aes-192-ofb":{cipher:"AES",key:192,iv:16,mode:"OFB",type:"stream"},"aes-256-ofb":{cipher:"AES",key:256,iv:16,mode:"OFB",type:"stream"},"aes-128-ctr":{cipher:"AES",key:128,iv:16,mode:"CTR",type:"stream"},"aes-192-ctr":{cipher:"AES",key:192,iv:16,mode:"CTR",type:"stream"},"aes-256-ctr":{cipher:"AES",key:256,iv:16,mode:"CTR",type:"stream"},"aes-128-gcm":{cipher:"AES",key:128,iv:12,mode:"GCM",type:"auth"},"aes-192-gcm":{cipher:"AES",key:192,iv:12,mode:"GCM",type:"auth"},"aes-256-gcm":{cipher:"AES",key:256,iv:12,mode:"GCM",type:"auth"}}},function(t,e,n){function r(t,e){var n=0;t.length!==e.length&&n++;for(var r=Math.min(t.length,e.length),i=0;i<r;++i)n+=t[i]^e[i];return n}function i(t,e,n){if(12===e.length)return t._finID=s.concat([e,s.from([0,0,0,1])]),s.concat([e,s.from([0,0,0,2])]);var r=new f(n),i=e.length,o=i%16;r.update(e),o&&(o=16-o,r.update(s.alloc(o,0))),r.update(s.alloc(8,0));var a=8*i,u=s.alloc(8);u.writeUIntBE(a,0,8),r.update(u),t._finID=r.state;var c=s.from(t._finID);return h(c),c}function o(t,e,n,r){u.call(this);var o=s.alloc(4,0);this._cipher=new a.AES(e);var c=this._cipher.encryptBlock(o);this._ghash=new f(c),n=i(this,n,c),this._prev=s.from(n),this._cache=s.allocUnsafe(0),this._secCache=s.allocUnsafe(0),this._decrypt=r,this._alen=0,this._len=0,this._mode=t,this._authTag=null,this._called=!1}var a=n(93),s=n(1).Buffer,u=n(28),c=n(0),f=n(550),l=n(65),h=n(263);c(o,u),o.prototype._update=function(t){if(!this._called&&this._alen){var e=16-this._alen%16;e<16&&(e=s.alloc(e,0),this._ghash.update(e))}this._called=!0;var n=this._mode.encrypt(this,t);return this._decrypt?this._ghash.update(t):this._ghash.update(n),this._len+=t.length,n},o.prototype._final=function(){if(this._decrypt&&!this._authTag)throw new Error("Unsupported state or unable to authenticate data");var t=l(this._ghash.final(8*this._alen,8*this._len),this._cipher.encryptBlock(this._finID));if(this._decrypt&&r(t,this._authTag))throw new Error("Unsupported state or unable to authenticate data");this._authTag=t,this._cipher.scrub()},o.prototype.getAuthTag=function(){if(this._decrypt||!s.isBuffer(this._authTag))throw new Error("Attempting to get auth tag in unsupported state");return this._authTag},o.prototype.setAuthTag=function(t){if(!this._decrypt)throw new Error("Attempting to set auth tag in unsupported state");this._authTag=t},o.prototype.setAAD=function(t){if(this._called)throw new Error("Attempting to set AAD in unsupported state");this._ghash.update(t),this._alen+=t.length},t.exports=o},function(t,e,n){function r(t,e,n,r){a.call(this),this._cipher=new i.AES(e),this._prev=o.from(n),this._cache=o.allocUnsafe(0),this._secCache=o.allocUnsafe(0),this._decrypt=r,this._mode=t}var i=n(93),o=n(1).Buffer,a=n(28);n(0)(r,a),r.prototype._update=function(t){return this._mode.encrypt(this,t,this._decrypt)},r.prototype._final=function(){this._cipher.scrub()},t.exports=r},function(t,e,n){function r(){if(null!==b)return b;var t=[];t[0]=2;for(var e=1,n=3;n<1048576;n+=2){for(var r=Math.ceil(Math.sqrt(n)),i=0;i<e&&t[i]<=r&&n%t[i]!==0;i++);e!==i&&t[i]<=r||(t[e++]=n)}return b=t,t}function i(t){for(var e=r(),n=0;n<e.length;n++)if(0===t.modn(e[n]))return 0===t.cmpn(e[n]);return!0}function o(t){var e=u.mont(t);return 0===d.toRed(e).redPow(t.subn(1)).fromRed().cmpn(1)}function a(t,e){if(t<16)return new u(2===e||5===e?[140,123]:[140,39]);e=new u(e);for(var n,r;;){for(n=new u(s(Math.ceil(t/8)));n.bitLength()>t;)n.ishrn(1);if(n.isEven()&&n.iadd(h),n.testn(1)||n.iadd(d),e.cmp(d)){if(!e.cmp(p))for(;n.mod(y).cmp(m);)n.iadd(g)}else for(;n.mod(c).cmp(v);)n.iadd(g);if(r=n.shrn(1),i(r)&&i(n)&&o(r)&&o(n)&&l.test(r)&&l.test(n))return n}}var s=n(44);t.exports=a,a.simpleSieve=i,a.fermatTest=o;var u=n(5),c=new u(24),f=n(268),l=new f,h=new u(1),d=new u(2),p=new u(5),y=(new u(16),new u(8),new u(10)),m=new u(3),v=(new u(7),new u(11)),g=new u(4),b=(new u(12),null)},function(t,e,n){function r(t){this.rand=t||new o.Rand}var i=n(5),o=n(269);t.exports=r,r.create=function(t){return new r(t)},r.prototype._randbelow=function(t){var e=t.bitLength(),n=Math.ceil(e/8);do{var r=new i(this.rand.generate(n))}while(r.cmp(t)>=0);return r},r.prototype._randrange=function(t,e){var n=e.sub(t);return t.add(this._randbelow(n))},r.prototype.test=function(t,e,n){var r=t.bitLength(),o=i.mont(t),a=new i(1).toRed(o);e||(e=Math.max(1,r/48|0));for(var s=t.subn(1),u=0;!s.testn(u);u++);for(var c=t.shrn(u),f=s.toRed(o);e>0;e--){var l=this._randrange(new i(2),s);n&&n(l);var h=l.toRed(o).redPow(c);if(0!==h.cmp(a)&&0!==h.cmp(f)){for(var d=1;d<u;d++){if(h=h.redSqr(),0===h.cmp(a))return!1;if(0===h.cmp(f))break}if(d===u)return!1}}return!0},r.prototype.getDivisor=function(t,e){var n=t.bitLength(),r=i.mont(t),o=new i(1).toRed(r);e||(e=Math.max(1,n/48|0));for(var a=t.subn(1),s=0;!a.testn(s);s++);for(var u=t.shrn(s),c=a.toRed(r);e>0;e--){var f=this._randrange(new i(2),a),l=t.gcd(f);if(0!==l.cmpn(1))return l;var h=f.toRed(r).redPow(u);if(0!==h.cmp(o)&&0!==h.cmp(c)){for(var d=1;d<s;d++){if(h=h.redSqr(),0===h.cmp(o))return h.fromRed().subn(1).gcd(t);if(0===h.cmp(c))break}if(d===s)return h=h.redSqr(),h.fromRed().subn(1).gcd(t)}}return!1}},function(t,e,n){function r(t){this.rand=t}var i;if(t.exports=function(t){return i||(i=new r(null)),i.generate(t)},t.exports.Rand=r,r.prototype.generate=function(t){return this._rand(t)},r.prototype._rand=function(t){if(this.rand.getBytes)return this.rand.getBytes(t);for(var e=new Uint8Array(t),n=0;n<e.length;n++)e[n]=this.rand.getByte();return e},"object"===typeof self)self.crypto&&self.crypto.getRandomValues?r.prototype._rand=function(t){var e=new Uint8Array(t);return self.crypto.getRandomValues(e),e}:self.msCrypto&&self.msCrypto.getRandomValues?r.prototype._rand=function(t){var e=new Uint8Array(t);return self.msCrypto.getRandomValues(e),e}:"object"===typeof window&&(r.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var o=n(555);if("function"!==typeof o.randomBytes)throw new Error("Not supported");r.prototype._rand=function(t){return o.randomBytes(t)}}catch(t){}},function(t,e,n){"use strict";function r(t,e){if(Array.isArray(t))return t.slice();if(!t)return[];var n=[];if("string"!==typeof t){for(var r=0;r<t.length;r++)n[r]=0|t[r];return n}if("hex"===e){t=t.replace(/[^a-z0-9]+/gi,""),t.length%2!==0&&(t="0"+t);for(var r=0;r<t.length;r+=2)n.push(parseInt(t[r]+t[r+1],16))}else for(var r=0;r<t.length;r++){var i=t.charCodeAt(r),o=i>>8,a=255&i;o?n.push(o,a):n.push(a)}return n}function i(t){return 1===t.length?"0"+t:t}function o(t){for(var e="",n=0;n<t.length;n++)e+=i(t[n].toString(16));return e}var a=e;a.toArray=r,a.zero2=i,a.toHex=o,a.encode=function(t,e){return"hex"===e?o(t):t}},function(t,e,n){"use strict";function r(t,e,n,r){return 0===t?i(e,n,r):1===t||3===t?a(e,n,r):2===t?o(e,n,r):void 0}function i(t,e,n){return t&e^~t&n}function o(t,e,n){return t&e^t&n^e&n}function a(t,e,n){return t^e^n}function s(t){return h(t,2)^h(t,13)^h(t,22)}function u(t){return h(t,6)^h(t,11)^h(t,25)}function c(t){return h(t,7)^h(t,18)^t>>>3}function f(t){return h(t,17)^h(t,19)^t>>>10}var l=n(20),h=l.rotr32;e.ft_1=r,e.ch32=i,e.maj32=o,e.p32=a,e.s0_256=s,e.s1_256=u,e.g0_256=c,e.g1_256=f},function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;v.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=g,this.W=new Array(64)}var i=n(20),o=n(66),a=n(271),s=n(13),u=i.sum32,c=i.sum32_4,f=i.sum32_5,l=a.ch32,h=a.maj32,d=a.s0_256,p=a.s1_256,y=a.g0_256,m=a.g1_256,v=o.BlockHash,g=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];i.inherits(r,v),t.exports=r,r.blockSize=512,r.outSize=256,r.hmacStrength=192,r.padLength=64,r.prototype._update=function(t,e){for(var n=this.W,r=0;r<16;r++)n[r]=t[e+r];for(;r<n.length;r++)n[r]=c(m(n[r-2]),n[r-7],y(n[r-15]),n[r-16]);var i=this.h[0],o=this.h[1],a=this.h[2],v=this.h[3],g=this.h[4],b=this.h[5],_=this.h[6],w=this.h[7];for(s(this.k.length===n.length),r=0;r<n.length;r++){var E=f(w,p(g),l(g,b,_),this.k[r],n[r]),S=u(d(i),h(i,o,a));w=_,_=b,b=g,g=u(v,E),v=a,a=o,o=i,i=u(E,S)}this.h[0]=u(this.h[0],i),this.h[1]=u(this.h[1],o),this.h[2]=u(this.h[2],a),this.h[3]=u(this.h[3],v),this.h[4]=u(this.h[4],g),this.h[5]=u(this.h[5],b),this.h[6]=u(this.h[6],_),this.h[7]=u(this.h[7],w)},r.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;R.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=P,this.W=new Array(160)}function i(t,e,n,r,i){var o=t&n^~t&i;return o<0&&(o+=4294967296),o}function o(t,e,n,r,i,o){var a=e&r^~e&o;return a<0&&(a+=4294967296),a}function a(t,e,n,r,i){var o=t&n^t&i^n&i;return o<0&&(o+=4294967296),o}function s(t,e,n,r,i,o){var a=e&r^e&o^r&o;return a<0&&(a+=4294967296),a}function u(t,e){var n=b(t,e,28),r=b(e,t,2),i=b(e,t,7),o=n^r^i;return o<0&&(o+=4294967296),o}function c(t,e){var n=_(t,e,28),r=_(e,t,2),i=_(e,t,7),o=n^r^i;return o<0&&(o+=4294967296),o}function f(t,e){var n=b(t,e,14),r=b(t,e,18),i=b(e,t,9),o=n^r^i;return o<0&&(o+=4294967296),o}function l(t,e){var n=_(t,e,14),r=_(t,e,18),i=_(e,t,9),o=n^r^i;return o<0&&(o+=4294967296),o}function h(t,e){var n=b(t,e,1),r=b(t,e,8),i=w(t,e,7),o=n^r^i;return o<0&&(o+=4294967296),o}function d(t,e){var n=_(t,e,1),r=_(t,e,8),i=E(t,e,7),o=n^r^i;return o<0&&(o+=4294967296),o}function p(t,e){var n=b(t,e,19),r=b(e,t,29),i=w(t,e,6),o=n^r^i;return o<0&&(o+=4294967296),o}function y(t,e){var n=_(t,e,19),r=_(e,t,29),i=E(t,e,6),o=n^r^i;return o<0&&(o+=4294967296),o}var m=n(20),v=n(66),g=n(13),b=m.rotr64_hi,_=m.rotr64_lo,w=m.shr64_hi,E=m.shr64_lo,S=m.sum64,T=m.sum64_hi,C=m.sum64_lo,I=m.sum64_4_hi,A=m.sum64_4_lo,O=m.sum64_5_hi,k=m.sum64_5_lo,R=v.BlockHash,P=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];m.inherits(r,R),t.exports=r,r.blockSize=1024,r.outSize=512,r.hmacStrength=192,r.padLength=128,r.prototype._prepareBlock=function(t,e){for(var n=this.W,r=0;r<32;r++)n[r]=t[e+r];for(;r<n.length;r+=2){var i=p(n[r-4],n[r-3]),o=y(n[r-4],n[r-3]),a=n[r-14],s=n[r-13],u=h(n[r-30],n[r-29]),c=d(n[r-30],n[r-29]),f=n[r-32],l=n[r-31];n[r]=I(i,o,a,s,u,c,f,l),n[r+1]=A(i,o,a,s,u,c,f,l)}},r.prototype._update=function(t,e){this._prepareBlock(t,e);var n=this.W,r=this.h[0],h=this.h[1],d=this.h[2],p=this.h[3],y=this.h[4],m=this.h[5],v=this.h[6],b=this.h[7],_=this.h[8],w=this.h[9],E=this.h[10],I=this.h[11],A=this.h[12],R=this.h[13],P=this.h[14],x=this.h[15];g(this.k.length===n.length);for(var D=0;D<n.length;D+=2){var N=P,M=x,L=f(_,w),j=l(_,w),U=i(_,w,E,I,A),F=o(_,w,E,I,A,R),B=this.k[D],q=this.k[D+1],W=n[D],V=n[D+1],H=O(N,M,L,j,U,F,B,q,W,V),z=k(N,M,L,j,U,F,B,q,W,V);N=u(r,h),M=c(r,h),L=a(r,h,d,p,y),j=s(r,h,d,p,y,m);var K=T(N,M,L,j),G=C(N,M,L,j);P=A,x=R,A=E,R=I,E=_,I=w,_=T(v,b,H,z),w=C(b,b,H,z),v=y,b=m,y=d,m=p,d=r,p=h,r=T(H,z,K,G),h=C(H,z,K,G)}S(this.h,0,r,h),S(this.h,2,d,p),S(this.h,4,y,m),S(this.h,6,v,b),S(this.h,8,_,w),S(this.h,10,E,I),S(this.h,12,A,R),S(this.h,14,P,x)},r.prototype._digest=function(t){return"hex"===t?m.toHex32(this.h,"big"):m.split32(this.h,"big")}},function(t,e,n){function r(t,e){if(a.call(this,e),!s.isBuffer(t))return void this.error("Input not Buffer");this.base=t,this.offset=0,this.length=t.length}function i(t,e){if(Array.isArray(t))this.length=0,this.value=t.map(function(t){return t instanceof i||(t=new i(t,e)),this.length+=t.length,t},this);else if("number"===typeof t){if(!(0<=t&&t<=255))return e.error("non-byte EncoderBuffer value");this.value=t,this.length=1}else if("string"===typeof t)this.value=t,this.length=s.byteLength(t);else{if(!s.isBuffer(t))return e.error("Unsupported type: "+typeof t);this.value=t,this.length=t.length}}var o=n(0),a=n(68).Reporter,s=n(7).Buffer;o(r,a),e.DecoderBuffer=r,r.prototype.save=function(){return{offset:this.offset,reporter:a.prototype.save.call(this)}},r.prototype.restore=function(t){var e=new r(this.base);return e.offset=t.offset,e.length=this.offset,this.offset=t.offset,a.prototype.restore.call(this,t.reporter),e},r.prototype.isEmpty=function(){return this.offset===this.length},r.prototype.readUInt8=function(t){return this.offset+1<=this.length?this.base.readUInt8(this.offset++,!0):this.error(t||"DecoderBuffer overrun")},r.prototype.skip=function(t,e){if(!(this.offset+t<=this.length))return this.error(e||"DecoderBuffer overrun");var n=new r(this.base);return n._reporterState=this._reporterState,n.offset=this.offset,n.length=this.offset+t,this.offset+=t,n},r.prototype.raw=function(t){return this.base.slice(t?t.offset:this.offset,this.length)},e.EncoderBuffer=i,i.prototype.join=function(t,e){return t||(t=new s(this.length)),e||(e=0),0===this.length?t:(Array.isArray(this.value)?this.value.forEach(function(n){n.join(t,e),e+=n.length}):("number"===typeof this.value?t[e]=this.value:"string"===typeof this.value?t.write(this.value,e):s.isBuffer(this.value)&&this.value.copy(t,e),e+=this.length),t)}},function(t,e,n){var r=e;r._reverse=function(t){var e={};return Object.keys(t).forEach(function(n){(0|n)==n&&(n|=0);var r=t[n];e[r]=n}),e},r.der=n(587)},function(t,e,n){function r(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new i,this.tree._init(t.body)}function i(t){c.Node.call(this,"der",t)}function o(t,e){var n=t.readUInt8(e);if(t.isError(n))return n;var r=l.tagClass[n>>6],i=0===(32&n);if(31===(31&n)){var o=n;for(n=0;128===(128&o);){if(o=t.readUInt8(e),t.isError(o))return o;n<<=7,n|=127&o}}else n&=31;return{cls:r,primitive:i,tag:n,tagStr:l.tag[n]}}function a(t,e,n){var r=t.readUInt8(n);if(t.isError(r))return r;if(!e&&128===r)return null;if(0===(128&r))return r;var i=127&r;if(i>4)return t.error("length octect is too long");r=0;for(var o=0;o<i;o++){r<<=8;var a=t.readUInt8(n);if(t.isError(a))return a;r|=a}return r}var s=n(0),u=n(67),c=u.base,f=u.bignum,l=u.constants.der;t.exports=r,r.prototype.decode=function(t,e){return t instanceof c.DecoderBuffer||(t=new c.DecoderBuffer(t,e)),this.tree._decode(t,e)},s(i,c.Node),i.prototype._peekTag=function(t,e,n){if(t.isEmpty())return!1;var r=t.save(),i=o(t,'Failed to peek tag: "'+e+'"');return t.isError(i)?i:(t.restore(r),i.tag===e||i.tagStr===e||i.tagStr+"of"===e||n)},i.prototype._decodeTag=function(t,e,n){var r=o(t,'Failed to decode tag of "'+e+'"');if(t.isError(r))return r;var i=a(t,r.primitive,'Failed to get length of "'+e+'"');if(t.isError(i))return i;if(!n&&r.tag!==e&&r.tagStr!==e&&r.tagStr+"of"!==e)return t.error('Failed to match tag: "'+e+'"');if(r.primitive||null!==i)return t.skip(i,'Failed to match body of: "'+e+'"');var s=t.save(),u=this._skipUntilEnd(t,'Failed to skip indefinite length body: "'+this.tag+'"');return t.isError(u)?u:(i=t.offset-s.offset,t.restore(s),t.skip(i,'Failed to match body of: "'+e+'"'))},i.prototype._skipUntilEnd=function(t,e){for(;;){var n=o(t,e);if(t.isError(n))return n;var r=a(t,n.primitive,e);if(t.isError(r))return r;var i;if(i=n.primitive||null!==r?t.skip(r):this._skipUntilEnd(t,e),t.isError(i))return i;if("end"===n.tagStr)break}},i.prototype._decodeList=function(t,e,n,r){for(var i=[];!t.isEmpty();){var o=this._peekTag(t,"end");if(t.isError(o))return o;var a=n.decode(t,"der",r);if(t.isError(a)&&o)break;i.push(a)}return i},i.prototype._decodeStr=function(t,e){if("bitstr"===e){var n=t.readUInt8();return t.isError(n)?n:{unused:n,data:t.raw()}}if("bmpstr"===e){var r=t.raw();if(r.length%2===1)return t.error("Decoding of string type: bmpstr length mismatch");for(var i="",o=0;o<r.length/2;o++)i+=String.fromCharCode(r.readUInt16BE(2*o));return i}if("numstr"===e){var a=t.raw().toString("ascii");return this._isNumstr(a)?a:t.error("Decoding of string type: numstr unsupported characters")}if("octstr"===e)return t.raw();if("objDesc"===e)return t.raw();if("printstr"===e){var s=t.raw().toString("ascii");return this._isPrintstr(s)?s:t.error("Decoding of string type: printstr unsupported characters")}return/str$/.test(e)?t.raw().toString():t.error("Decoding of string type: "+e+" unsupported")},i.prototype._decodeObjid=function(t,e,n){for(var r,i=[],o=0;!t.isEmpty();){var a=t.readUInt8();o<<=7,o|=127&a,0===(128&a)&&(i.push(o),o=0)}128&a&&i.push(o);var s=i[0]/40|0,u=i[0]%40;if(r=n?i:[s,u].concat(i.slice(1)),e){var c=e[r.join(" ")];void 0===c&&(c=e[r.join(".")]),void 0!==c&&(r=c)}return r},i.prototype._decodeTime=function(t,e){var n=t.raw().toString();if("gentime"===e)var r=0|n.slice(0,4),i=0|n.slice(4,6),o=0|n.slice(6,8),a=0|n.slice(8,10),s=0|n.slice(10,12),u=0|n.slice(12,14);else{if("utctime"!==e)return t.error("Decoding "+e+" time is not supported yet");var r=0|n.slice(0,2),i=0|n.slice(2,4),o=0|n.slice(4,6),a=0|n.slice(6,8),s=0|n.slice(8,10),u=0|n.slice(10,12);r=r<70?2e3+r:1900+r}return Date.UTC(r,i-1,o,a,s,u,0)},i.prototype._decodeNull=function(t){return null},i.prototype._decodeBool=function(t){var e=t.readUInt8();return t.isError(e)?e:0!==e},i.prototype._decodeInt=function(t,e){var n=t.raw(),r=new f(n);return e&&(r=e[r.toString(10)]||r),r},i.prototype._use=function(t,e){return"function"===typeof t&&(t=t(e)),t._getDecoder("der").tree}},function(t,e,n){function r(t){this.enc="der",this.name=t.name,this.entity=t,this.tree=new i,this.tree._init(t.body)}function i(t){f.Node.call(this,"der",t)}function o(t){return t<10?"0"+t:t}function a(t,e,n,r){var i;if("seqof"===t?t="seq":"setof"===t&&(t="set"),l.tagByName.hasOwnProperty(t))i=l.tagByName[t];else{if("number"!==typeof t||(0|t)!==t)return r.error("Unknown tag: "+t);i=t}return i>=31?r.error("Multi-octet tag encoding unsupported"):(e||(i|=32),i|=l.tagClassByName[n||"universal"]<<6)}var s=n(0),u=n(7).Buffer,c=n(67),f=c.base,l=c.constants.der;t.exports=r,r.prototype.encode=function(t,e){return this.tree._encode(t,e).join()},s(i,f.Node),i.prototype._encodeComposite=function(t,e,n,r){var i=a(t,e,n,this.reporter);if(r.length<128){var o=new u(2);return o[0]=i,o[1]=r.length,this._createEncoderBuffer([o,r])}for(var s=1,c=r.length;c>=256;c>>=8)s++;var o=new u(2+s);o[0]=i,o[1]=128|s;for(var c=1+s,f=r.length;f>0;c--,f>>=8)o[c]=255&f;return this._createEncoderBuffer([o,r])},i.prototype._encodeStr=function(t,e){if("bitstr"===e)return this._createEncoderBuffer([0|t.unused,t.data]);if("bmpstr"===e){for(var n=new u(2*t.length),r=0;r<t.length;r++)n.writeUInt16BE(t.charCodeAt(r),2*r);return this._createEncoderBuffer(n)}return"numstr"===e?this._isNumstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: numstr supports only digits and space"):"printstr"===e?this._isPrintstr(t)?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: printstr supports only latin upper and lower case letters, digits, space, apostrophe, left and rigth parenthesis, plus sign, comma, hyphen, dot, slash, colon, equal sign, question mark"):/str$/.test(e)?this._createEncoderBuffer(t):"objDesc"===e?this._createEncoderBuffer(t):this.reporter.error("Encoding of string type: "+e+" unsupported")},i.prototype._encodeObjid=function(t,e,n){if("string"===typeof t){if(!e)return this.reporter.error("string objid given, but no values map found");if(!e.hasOwnProperty(t))return this.reporter.error("objid not found in values map");t=e[t].split(/[\s\.]+/g);for(var r=0;r<t.length;r++)t[r]|=0}else if(Array.isArray(t)){t=t.slice();for(var r=0;r<t.length;r++)t[r]|=0}if(!Array.isArray(t))return this.reporter.error("objid() should be either array or string, got: "+JSON.stringify(t));if(!n){if(t[1]>=40)return this.reporter.error("Second objid identifier OOB");t.splice(0,2,40*t[0]+t[1])}for(var i=0,r=0;r<t.length;r++){var o=t[r];for(i++;o>=128;o>>=7)i++}for(var a=new u(i),s=a.length-1,r=t.length-1;r>=0;r--){var o=t[r];for(a[s--]=127&o;(o>>=7)>0;)a[s--]=128|127&o}return this._createEncoderBuffer(a)},i.prototype._encodeTime=function(t,e){var n,r=new Date(t);return"gentime"===e?n=[o(r.getFullYear()),o(r.getUTCMonth()+1),o(r.getUTCDate()),o(r.getUTCHours()),o(r.getUTCMinutes()),o(r.getUTCSeconds()),"Z"].join(""):"utctime"===e?n=[o(r.getFullYear()%100),o(r.getUTCMonth()+1),o(r.getUTCDate()),o(r.getUTCHours()),o(r.getUTCMinutes()),o(r.getUTCSeconds()),"Z"].join(""):this.reporter.error("Encoding "+e+" time is not supported yet"),this._encodeStr(n,"octstr")},i.prototype._encodeNull=function(){return this._createEncoderBuffer("")},i.prototype._encodeInt=function(t,e){if("string"===typeof t){if(!e)return this.reporter.error("String int or enum given, but no values map");if(!e.hasOwnProperty(t))return this.reporter.error("Values map doesn't contain: "+JSON.stringify(t));t=e[t]}if("number"!==typeof t&&!u.isBuffer(t)){var n=t.toArray();!t.sign&&128&n[0]&&n.unshift(0),t=new u(n)}if(u.isBuffer(t)){var r=t.length;0===t.length&&r++;var i=new u(r);return t.copy(i),0===t.length&&(i[0]=0),this._createEncoderBuffer(i)}if(t<128)return this._createEncoderBuffer(t);if(t<256)return this._createEncoderBuffer([0,t]);for(var r=1,o=t;o>=256;o>>=8)r++;for(var i=new Array(r),o=i.length-1;o>=0;o--)i[o]=255&t,t>>=8;return 128&i[0]&&i.unshift(0),this._createEncoderBuffer(new u(i))},i.prototype._encodeBool=function(t){return this._createEncoderBuffer(t?255:0)},i.prototype._use=function(t,e){return"function"===typeof t&&(t=t(e)),t._getEncoder("der").tree},i.prototype._skipDefault=function(t,e,n){var r,i=this._baseState;if(null===i.default)return!1;var o=t.join();if(void 0===i.defaultBuffer&&(i.defaultBuffer=this._encodeValue(i.default,e,n).join()),o.length!==i.defaultBuffer.length)return!1;for(r=0;r<o.length;r++)if(o[r]!==i.defaultBuffer[r])return!1;return!0}},function(t,e){t.exports={"1.3.132.0.10":"secp256k1","1.3.132.0.33":"p224","1.2.840.10045.3.1.1":"p192","1.2.840.10045.3.1.7":"p256","1.3.132.0.34":"p384","1.3.132.0.35":"p521"}},function(t,e,n){function r(t){var e=o.allocUnsafe(4);return e.writeUInt32BE(t,0),e}var i=n(63),o=n(1).Buffer;t.exports=function(t,e){for(var n,a=o.alloc(0),s=0;a.length<e;)n=r(s++),a=o.concat([a,i("sha1").update(t).update(n).digest()]);return a.slice(0,e)}},function(t,e){t.exports=function(t,e){for(var n=t.length,r=-1;++r<n;)t[r]^=e[r];return t}},function(t,e,n){function r(t,e){return o.from(t.toRed(i.mont(e.modulus)).redPow(new i(e.publicExponent)).fromRed().toArray())}var i=n(5),o=n(1).Buffer;t.exports=r},function(t,e,n){"use strict";n.d(e,"a",function(){return s});var r=n(106),i=(n.n(r),n(62)),o=n.n(i),a=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),s=function(t){return function(e,n,r){var i=r.getFirestore,s=r.getFirebase,u=i(),c=(s(),u.get({collection:"users",where:[["uid","==",t.idReceiver]]})),f=u.get({collection:"users",where:[["uid","==",t.idSender]]});Promise.all([f,c]).then(function(e){var n=a(e,2),r=n[0],i=n[1],s=r.docs,c=i.docs;if(s.length>0&&c.length>0){var f=s[0].data().priority;if(t.timeChat){var l={idUser:t.idReceiver,timeChat:t.timeChat};if(f){var h=o.a.findIndex(f,{idUser:l.idUser});-1!==h?f[h].timeChat=l.timeChat:f.push(l)}else f=[l];var d=c[0].data().priority,p={idUser:t.idSender,timeChat:t.timeChat};if(d){var y=o.a.findIndex(d,{idUser:p.idUser});-1!==y?d[y].timeChat=p.timeChat:d.push(p)}else d=[p];var m=s[0].id,v=c[0].id,g=u.update({collection:"users",doc:m},{priority:f}),b=u.update({collection:"users",doc:v},{priority:d});Promise.all([g,b]).then(function(){console.log("update user")})}if(t.updateStar){var _={idUser:t.idReceiver,star:t.star};if(f){var w=o.a.findIndex(f,{idUser:_.idUser});-1!==w?f[w].star=_.star:f.push(_)}else f=[_];var E=s[0].id;u.update({collection:"users",doc:E},{priority:f}).then(function(){console.log("update star user")})}}})}}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.CALL_FIRESTORE=e.middleware=e.actionTypes=e.constants=e.getFirestore=e.actions=e.createFirestoreInstance=e.reduxFirestore=e.enhancer=e.firestoreReducer=e.reducer=e.version=void 0;var i=n(613),o=r(i),a=n(620),s=r(a),u=n(286),c=n(284),f=r(c),l=n(15),h=r(l),d=n(637),p=r(d),y=e.version="0.5.8";e.reducer=s.default,e.firestoreReducer=s.default,e.enhancer=o.default,e.reduxFirestore=o.default,e.createFirestoreInstance=f.default,e.actions=u.firestoreActions,e.getFirestore=i.getFirestore,e.constants=h.default,e.actionTypes=l.actionTypes,e.middleware=p.default,e.CALL_FIRESTORE=d.CALL_FIRESTORE,e.default={version:y,reducer:s.default,firestoreReducer:s.default,enhancer:o.default,reduxFirestore:o.default,createFirestoreInstance:f.default,actions:u.firestoreActions,getFirestore:i.getFirestore,constants:h.default,actionTypes:l.actionTypes,middleware:p.default,CALL_FIRESTORE:d.CALL_FIRESTORE}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e,n){var r={listeners:{},config:f({defaultConfig:d.defaultConfig},e)};t._=(0,s.default)(r,t._);var o=[{action:l.firestoreActions.deleteRef,name:"delete"},{action:l.firestoreActions.setListener,name:"onSnapshot"}],a=(0,h.mapWithFirebaseAndDispatch)(t,n,l.firestoreActions,o),u=(0,c.default)(d.methodsToAddFromFirestore,function(e,n){return t.firestore&&"function"===typeof t.firestore()[n]?f({},e,i({},n,t.firestore()[n].bind(t.firestore()))):e},{});return f(u,t.firestore,{_:t._},e.helpersNamespace?i({},e.helpersNamespace,a):a)}Object.defineProperty(e,"__esModule",{value:!0});var a=n(285),s=r(a),u=n(224),c=r(u),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=o;var l=n(286),h=n(287),d=n(15)},function(t,e,n){var r=n(90),i=r("merge",n(614));i.placeholder=n(61),t.exports=i},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.firestoreActions=void 0;var r=n(615),i=function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}(r);e.firestoreActions=i,e.default={firestoreActions:i}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function a(t,e){var n=t.payload;return(0,d.default)(n)?n(e):n}function s(t,e){var n=e.ref,r=e.meta,i=void 0===r?{}:r,s=e.method,u=e.args,c=void 0===u?[]:u,f=e.types,l=v(f,3),h=l[0],d=l[1],p=l[2];return t({type:(0,y.default)(h)?h.type:h,meta:i,payload:(0,y.default)(h)?h.payload:{args:c}}),n[s].apply(n,o(c)).then(function(e){var n=(0,y.default)(d),r={type:n?d.type:d,meta:i,payload:n&&d.payload?a(d,e):{args:c}};return n&&d.preserve&&(r.preserve=d.preserve),n&&d.merge&&(r.merge=d.merge),t(r),e}).catch(function(e){return t({type:p,meta:i,payload:e}),Promise.reject(e)})}function u(t,e){return function(n){return function(){for(var r=arguments.length,i=Array(r),o=0;o<r;o++)i[o]=arguments[o];return n.apply(t,[t,e].concat(i))}}}function c(t,e,n,r){var o=u(t,e);return m({},(0,l.default)(n,o),r.reduce(function(t,e){var n=e.action,r=e.name;return m({},t,i({},r,o(n)))},{}))}Object.defineProperty(e,"__esModule",{value:!0});var f=n(128),l=r(f),h=n(9),d=r(h),p=n(4),y=r(p),m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.wrapInDispatch=s,e.mapWithFirebaseAndDispatch=c},function(t,e,n){function r(t,e){for(var n=-1,r=t.length;++n<r&&i(e,t[n],0)>-1;);return n}var i=n(143);t.exports=r},function(t,e,n){n(290),t.exports=n(295)},function(t,e,n){"use strict";"undefined"===typeof Promise&&(n(291).enable(),window.Promise=n(293)),n(294),Object.assign=n(97)},function(t,e,n){"use strict";function r(){c=!1,s._47=null,s._71=null}function i(t){function e(e){(t.allRejections||a(l[e].error,t.whitelist||u))&&(l[e].displayId=f++,t.onUnhandled?(l[e].logged=!0,t.onUnhandled(l[e].displayId,l[e].error)):(l[e].logged=!0,o(l[e].displayId,l[e].error)))}function n(e){l[e].logged&&(t.onHandled?t.onHandled(l[e].displayId,l[e].error):l[e].onUnhandled||(console.warn("Promise Rejection Handled (id: "+l[e].displayId+"):"),console.warn('  This means you can ignore any previous messages of the form "Possible Unhandled Promise Rejection" with id '+l[e].displayId+".")))}t=t||{},c&&r(),c=!0;var i=0,f=0,l={};s._47=function(t){2===t._83&&l[t._56]&&(l[t._56].logged?n(t._56):clearTimeout(l[t._56].timeout),delete l[t._56])},s._71=function(t,n){0===t._75&&(t._56=i++,l[t._56]={displayId:null,error:n,timeout:setTimeout(e.bind(null,t._56),a(n,u)?100:2e3),logged:!1})}}function o(t,e){console.warn("Possible Unhandled Promise Rejection (id: "+t+"):"),((e&&(e.stack||e))+"").split("\n").forEach(function(t){console.warn("  "+t)})}function a(t,e){return e.some(function(e){return t instanceof e})}var s=n(163),u=[ReferenceError,TypeError,RangeError],c=!1;e.disable=r,e.enable=i},function(t,e,n){"use strict";(function(e){function n(t){a.length||(o(),s=!0),a[a.length]=t}function r(){for(;u<a.length;){var t=u;if(u+=1,a[t].call(),u>c){for(var e=0,n=a.length-u;e<n;e++)a[e]=a[e+u];a.length-=u,u=0}}a.length=0,u=0,s=!1}function i(t){return function(){function e(){clearTimeout(n),clearInterval(r),t()}var n=setTimeout(e,0),r=setInterval(e,50)}}t.exports=n;var o,a=[],s=!1,u=0,c=1024,f="undefined"!==typeof e?e:self,l=f.MutationObserver||f.WebKitMutationObserver;o="function"===typeof l?function(t){var e=1,n=new l(t),r=document.createTextNode("");return n.observe(r,{characterData:!0}),function(){e=-e,r.data=e}}(r):i(r),n.requestFlush=o,n.makeRequestCallFromTimer=i}).call(e,n(8))},function(t,e,n){"use strict";function r(t){var e=new i(i._44);return e._83=1,e._18=t,e}var i=n(163);t.exports=i;var o=r(!0),a=r(!1),s=r(null),u=r(void 0),c=r(0),f=r("");i.resolve=function(t){if(t instanceof i)return t;if(null===t)return s;if(void 0===t)return u;if(!0===t)return o;if(!1===t)return a;if(0===t)return c;if(""===t)return f;if("object"===typeof t||"function"===typeof t)try{var e=t.then;if("function"===typeof e)return new i(e.bind(t))}catch(t){return new i(function(e,n){n(t)})}return r(t)},i.all=function(t){var e=Array.prototype.slice.call(t);return new i(function(t,n){function r(a,s){if(s&&("object"===typeof s||"function"===typeof s)){if(s instanceof i&&s.then===i.prototype.then){for(;3===s._83;)s=s._18;return 1===s._83?r(a,s._18):(2===s._83&&n(s._18),void s.then(function(t){r(a,t)},n))}var u=s.then;if("function"===typeof u){return void new i(u.bind(s)).then(function(t){r(a,t)},n)}}e[a]=s,0===--o&&t(e)}if(0===e.length)return t([]);for(var o=e.length,a=0;a<e.length;a++)r(a,e[a])})},i.reject=function(t){return new i(function(e,n){n(t)})},i.race=function(t){return new i(function(e,n){t.forEach(function(t){i.resolve(t).then(e,n)})})},i.prototype.catch=function(t){return this.then(null,t)}},function(t,e){!function(t){"use strict";function e(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!==typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return v.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function u(t){var e=new FileReader,n=a(e);return e.readAsText(t),n}function c(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function f(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"===typeof t)this._bodyText=t;else if(v.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(v.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(v.arrayBuffer&&v.blob&&b(t))this._bodyArrayBuffer=f(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!_(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=f(t)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(t){var e=t.toUpperCase();return w.indexOf(e)>-1?e:t}function d(t,e){e=e||{};var n=e.body;if(t instanceof d){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=h(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function y(t){var e=new i;return t.split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}function m(t,e){e||(e={}),this.type="default",this.status="status"in e?e.status:200,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var v={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(v.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(t){return t&&DataView.prototype.isPrototypeOf(t)},_=ArrayBuffer.isView||function(t){return t&&g.indexOf(Object.prototype.toString.call(t))>-1};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];this.map[t]=i?i+","+r:r},i.prototype.delete=function(t){delete this.map[e(t)]},i.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=n(r)},i.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},l.call(d.prototype),l.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},m.error=function(){var t=new m(null,{status:0,statusText:""});return t.type="error",t};var E=[301,302,303,307,308];m.redirect=function(t,e){if(-1===E.indexOf(e))throw new RangeError("Invalid status code");return new m(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=d,t.Response=m,t.fetch=function(t,e){return new Promise(function(n,r){var i=new d(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:y(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new m(e,t))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials&&(o.withCredentials=!0),"responseType"in o&&v.blob&&(o.responseType="blob"),i.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send("undefined"===typeof i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(3),i=n.n(r),o=n(297),a=n.n(o),s=n(301),u=(n.n(s),n(302)),c=n(610),f=n(29),l=n(611),h=n(17),d=n(640),p=n(283),y=(n.n(p),n(38)),m=(n.n(y),n(182)),v={userProfile:"profiles",presence:"presence",attachAuthIsReady:!0,useFirestoreForProfile:!0},g=Object(f.e)(l.a,Object(f.d)(Object(f.a)(d.a.withExtraArgument({getFirebase:y.getFirebase,getFirestore:p.getFirestore})),Object(y.reactReduxFirebase)(m.a,v),Object(p.reduxFirestore)(m.a)));g.firebaseAuthIsReady.then(function(){a.a.render(i.a.createElement(h.a,{store:g},i.a.createElement(u.a,null)),document.getElementById("root")),Object(c.a)()})},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;t=Error(e.replace(/%s/g,function(){return u[c++]})),t.name="Invariant Violation"}throw t.framesToPop=1,t}}function i(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=0;i<e;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);r(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function o(t,e,n){this.props=t,this.context=e,this.refs=L,this.updater=n||M}function a(){}function s(t,e,n){this.props=t,this.context=e,this.refs=L,this.updater=n||M}function u(t,e,n){var r=void 0,i={},o=null,a=null;if(null!=e)for(r in void 0!==e.ref&&(a=e.ref),void 0!==e.key&&(o=""+e.key),e)F.call(e,r)&&!B.hasOwnProperty(r)&&(i[r]=e[r]);var s=arguments.length-2;if(1===s)i.children=n;else if(1<s){for(var u=Array(s),c=0;c<s;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(r in s=t.defaultProps)void 0===i[r]&&(i[r]=s[r]);return{$$typeof:E,type:t,key:o,ref:a,props:i,_owner:U.current}}function c(t,e){return{$$typeof:E,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function f(t){return"object"===typeof t&&null!==t&&t.$$typeof===E}function l(t){var e={"=":"=0",":":"=2"};return"$"+(""+t).replace(/[=:]/g,function(t){return e[t]})}function h(t,e,n,r){if(W.length){var i=W.pop();return i.result=t,i.keyPrefix=e,i.func=n,i.context=r,i.count=0,i}return{result:t,keyPrefix:e,func:n,context:r,count:0}}function d(t){t.result=null,t.keyPrefix=null,t.func=null,t.context=null,t.count=0,10>W.length&&W.push(t)}function p(t,e,n,r){var o=typeof t;"undefined"!==o&&"boolean"!==o||(t=null);var a=!1;if(null===t)a=!0;else switch(o){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case E:case S:a=!0}}if(a)return n(r,t,""===e?"."+m(t,0):e),1;if(a=0,e=""===e?".":e+":",Array.isArray(t))for(var s=0;s<t.length;s++){o=t[s];var u=e+m(o,s);a+=p(o,u,n,r)}else if(null===t||"object"!==typeof t?u=null:(u=N&&t[N]||t["@@iterator"],u="function"===typeof u?u:null),"function"===typeof u)for(t=u.call(t),s=0;!(o=t.next()).done;)o=o.value,u=e+m(o,s++),a+=p(o,u,n,r);else"object"===o&&(n=""+t,i("31","[object Object]"===n?"object with keys {"+Object.keys(t).join(", ")+"}":n,""));return a}function y(t,e,n){return null==t?0:p(t,"",e,n)}function m(t,e){return"object"===typeof t&&null!==t&&null!=t.key?l(t.key):e.toString(36)}function v(t,e){t.func.call(t.context,e,t.count++)}function g(t,e,n){var r=t.result,i=t.keyPrefix;t=t.func.call(t.context,e,t.count++),Array.isArray(t)?b(t,r,n,function(t){return t}):null!=t&&(f(t)&&(t=c(t,i+(!t.key||e&&e.key===t.key?"":(""+t.key).replace(q,"$&/")+"/")+n)),r.push(t))}function b(t,e,n,r,i){var o="";null!=n&&(o=(""+n).replace(q,"$&/")+"/"),e=h(e,o,r,i),y(t,g,e),d(e)}var _=n(97),w="function"===typeof Symbol&&Symbol.for,E=w?Symbol.for("react.element"):60103,S=w?Symbol.for("react.portal"):60106,T=w?Symbol.for("react.fragment"):60107,C=w?Symbol.for("react.strict_mode"):60108,I=w?Symbol.for("react.profiler"):60114,A=w?Symbol.for("react.provider"):60109,O=w?Symbol.for("react.context"):60110,k=w?Symbol.for("react.concurrent_mode"):60111,R=w?Symbol.for("react.forward_ref"):60112,P=w?Symbol.for("react.suspense"):60113,x=w?Symbol.for("react.memo"):60115,D=w?Symbol.for("react.lazy"):60116,N="function"===typeof Symbol&&Symbol.iterator,M={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L={};o.prototype.isReactComponent={},o.prototype.setState=function(t,e){"object"!==typeof t&&"function"!==typeof t&&null!=t&&i("85"),this.updater.enqueueSetState(this,t,e,"setState")},o.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")},a.prototype=o.prototype;var j=s.prototype=new a;j.constructor=s,_(j,o.prototype),j.isPureReactComponent=!0;var U={current:null,currentDispatcher:null},F=Object.prototype.hasOwnProperty,B={key:!0,ref:!0,__self:!0,__source:!0},q=/\/+/g,W=[],V={Children:{map:function(t,e,n){if(null==t)return t;var r=[];return b(t,r,null,e,n),r},forEach:function(t,e,n){if(null==t)return t;e=h(null,null,e,n),y(t,v,e),d(e)},count:function(t){return y(t,function(){return null},null)},toArray:function(t){var e=[];return b(t,e,null,function(t){return t}),e},only:function(t){return f(t)||i("143"),t}},createRef:function(){return{current:null}},Component:o,PureComponent:s,createContext:function(t,e){return void 0===e&&(e=null),t={$$typeof:O,_calculateChangedBits:e,_currentValue:t,_currentValue2:t,Provider:null,Consumer:null},t.Provider={$$typeof:A,_context:t},t.Consumer=t},forwardRef:function(t){return{$$typeof:R,render:t}},lazy:function(t){return{$$typeof:D,_ctor:t,_status:-1,_result:null}},memo:function(t,e){return{$$typeof:x,type:t,compare:void 0===e?null:e}},Fragment:T,StrictMode:C,unstable_ConcurrentMode:k,Suspense:P,unstable_Profiler:I,createElement:u,cloneElement:function(t,e,n){(null===t||void 0===t)&&i("267",t);var r=void 0,o=_({},t.props),a=t.key,s=t.ref,u=t._owner;if(null!=e){void 0!==e.ref&&(s=e.ref,u=U.current),void 0!==e.key&&(a=""+e.key);var c=void 0;t.type&&t.type.defaultProps&&(c=t.type.defaultProps);for(r in e)F.call(e,r)&&!B.hasOwnProperty(r)&&(o[r]=void 0===e[r]&&void 0!==c?c[r]:e[r])}if(1===(r=arguments.length-2))o.children=n;else if(1<r){c=Array(r);for(var f=0;f<r;f++)c[f]=arguments[f+2];o.children=c}return{$$typeof:E,type:t.type,key:a,ref:s,props:o,_owner:u}},createFactory:function(t){var e=u.bind(null,t);return e.type=t,e},isValidElement:f,version:"16.6.0",__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{ReactCurrentOwner:U,assign:_}},H={default:V},z=H&&V||H;t.exports=z.default||z},function(t,e,n){"use strict";function r(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(r)}catch(t){console.error(t)}}r(),t.exports=n(298)},function(t,e,n){"use strict";function r(t,e,n,r,i,o,a,s){if(!t){if(t=void 0,void 0===e)t=Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var u=[n,r,i,o,a,s],c=0;t=Error(e.replace(/%s/g,function(){return u[c++]})),t.name="Invariant Violation"}throw t.framesToPop=1,t}}function i(t){for(var e=arguments.length-1,n="https://reactjs.org/docs/error-decoder.html?invariant="+t,i=0;i<e;i++)n+="&args[]="+encodeURIComponent(arguments[i+1]);r(!1,"Minified React error #"+t+"; visit %s for the full message or use the non-minified dev environment for full errors and additional helpful warnings. ",n)}function o(t,e,n,r,i,o,a,s,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(t){this.onError(t)}}function a(t,e,n,r,i,a,s,u,c){Mr=!1,Lr=null,o.apply(Fr,arguments)}function s(t,e,n,r,o,s,u,c,f){if(a.apply(this,arguments),Mr){if(Mr){var l=Lr;Mr=!1,Lr=null}else i("198"),l=void 0;jr||(jr=!0,Ur=l)}}function u(){if(Br)for(var t in qr){var e=qr[t],n=Br.indexOf(t);if(-1<n||i("96",t),!Wr[n]){e.extractEvents||i("97",t),Wr[n]=e,n=e.eventTypes;for(var r in n){var o=void 0,a=n[r],s=e,u=r;Vr.hasOwnProperty(u)&&i("99",u),Vr[u]=a;var f=a.phasedRegistrationNames;if(f){for(o in f)f.hasOwnProperty(o)&&c(f[o],s,u);o=!0}else a.registrationName?(c(a.registrationName,s,u),o=!0):o=!1;o||i("98",r,t)}}}}function c(t,e,n){Hr[t]&&i("100",t),Hr[t]=e,zr[t]=e.eventTypes[n].dependencies}function f(t,e,n,r){e=t.type||"unknown-event",t.currentTarget=Qr(r),s(e,n,void 0,t),t.currentTarget=null}function l(t,e){return null==e&&i("30"),null==t?e:Array.isArray(t)?Array.isArray(e)?(t.push.apply(t,e),t):(t.push(e),t):Array.isArray(e)?[t].concat(e):[t,e]}function h(t,e,n){Array.isArray(t)?t.forEach(e,n):t&&e.call(n,t)}function d(t,e){if(t){var n=t._dispatchListeners,r=t._dispatchInstances;if(Array.isArray(n))for(var i=0;i<n.length&&!t.isPropagationStopped();i++)f(t,e,n[i],r[i]);else n&&f(t,e,n,r);t._dispatchListeners=null,t._dispatchInstances=null,t.isPersistent()||t.constructor.release(t)}}function p(t){return d(t,!0)}function y(t){return d(t,!1)}function m(t,e){var n=t.stateNode;if(!n)return null;var r=Kr(n);if(!r)return null;n=r[e];t:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":(r=!r.disabled)||(t=t.type,r=!("button"===t||"input"===t||"select"===t||"textarea"===t)),t=!r;break t;default:t=!1}return t?null:(n&&"function"!==typeof n&&i("231",e,typeof n),n)}function v(t,e){if(null!==t&&(Yr=l(Yr,t)),t=Yr,Yr=null,t&&(e?h(t,p):h(t,y),Yr&&i("95"),jr))throw e=Ur,jr=!1,Ur=null,e}function g(t){if(t[Jr])return t[Jr];for(;!t[Jr];){if(!t.parentNode)return null;t=t.parentNode}return t=t[Jr],5===t.tag||6===t.tag?t:null}function b(t){return t=t[Jr],!t||5!==t.tag&&6!==t.tag?null:t}function _(t){if(5===t.tag||6===t.tag)return t.stateNode;i("33")}function w(t){return t[Zr]||null}function E(t){do{t=t.return}while(t&&5!==t.tag);return t||null}function S(t,e,n){(e=m(t,n.dispatchConfig.phasedRegistrationNames[e]))&&(n._dispatchListeners=l(n._dispatchListeners,e),n._dispatchInstances=l(n._dispatchInstances,t))}function T(t){if(t&&t.dispatchConfig.phasedRegistrationNames){for(var e=t._targetInst,n=[];e;)n.push(e),e=E(e);for(e=n.length;0<e--;)S(n[e],"captured",t);for(e=0;e<n.length;e++)S(n[e],"bubbled",t)}}function C(t,e,n){t&&n&&n.dispatchConfig.registrationName&&(e=m(t,n.dispatchConfig.registrationName))&&(n._dispatchListeners=l(n._dispatchListeners,e),n._dispatchInstances=l(n._dispatchInstances,t))}function I(t){t&&t.dispatchConfig.registrationName&&C(t._targetInst,null,t)}function A(t){h(t,T)}function O(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}function k(t){if(ni[t])return ni[t];if(!ei[t])return t;var e,n=ei[t];for(e in n)if(n.hasOwnProperty(e)&&e in ri)return ni[t]=n[e];return t}function R(){if(li)return li;var t,e,n=fi,r=n.length,i="value"in ci?ci.value:ci.textContent,o=i.length;for(t=0;t<r&&n[t]===i[t];t++);var a=r-t;for(e=1;e<=a&&n[r-e]===i[o-e];e++);return li=i.slice(t,1<e?1-e:void 0)}function P(){return!0}function x(){return!1}function D(t,e,n,r){this.dispatchConfig=t,this._targetInst=e,this.nativeEvent=n,t=this.constructor.Interface;for(var i in t)t.hasOwnProperty(i)&&((e=t[i])?this[i]=e(n):"target"===i?this.target=r:this[i]=n[i]);return this.isDefaultPrevented=(null!=n.defaultPrevented?n.defaultPrevented:!1===n.returnValue)?P:x,this.isPropagationStopped=x,this}function N(t,e,n,r){if(this.eventPool.length){var i=this.eventPool.pop();return this.call(i,t,e,n,r),i}return new this(t,e,n,r)}function M(t){t instanceof this||i("279"),t.destructor(),10>this.eventPool.length&&this.eventPool.push(t)}function L(t){t.eventPool=[],t.getPooled=N,t.release=M}function j(t,e){switch(t){case"keyup":return-1!==pi.indexOf(e.keyCode);case"keydown":return 229!==e.keyCode;case"keypress":case"mousedown":case"blur":return!0;default:return!1}}function U(t){return t=t.detail,"object"===typeof t&&"data"in t?t.data:null}function F(t,e){switch(t){case"compositionend":return U(e);case"keypress":return 32!==e.which?null:(wi=!0,bi);case"textInput":return t=e.data,t===bi&&wi?null:t;default:return null}}function B(t,e){if(Ei)return"compositionend"===t||!yi&&j(t,e)?(t=R(),li=fi=ci=null,Ei=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return gi&&"ko"!==e.locale?null:e.data;default:return null}}function q(t){if(t=Gr(t)){"function"!==typeof Ti&&i("280");var e=Kr(t.stateNode);Ti(t.stateNode,t.type,e)}}function W(t){Ci?Ii?Ii.push(t):Ii=[t]:Ci=t}function V(){if(Ci){var t=Ci,e=Ii;if(Ii=Ci=null,q(t),e)for(t=0;t<e.length;t++)q(e[t])}}function H(t,e){return t(e)}function z(t,e,n){return t(e,n)}function K(){}function G(t,e){if(Ai)return t(e);Ai=!0;try{return H(t,e)}finally{Ai=!1,(null!==Ci||null!==Ii)&&(K(),V())}}function Q(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return"input"===e?!!Oi[t.type]:"textarea"===e}function Y(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),3===t.nodeType?t.parentNode:t}function X(t){if(!ti)return!1;t="on"+t;var e=t in document;return e||(e=document.createElement("div"),e.setAttribute(t,"return;"),e="function"===typeof e[t]),e}function $(t){var e=t.type;return(t=t.nodeName)&&"input"===t.toLowerCase()&&("checkbox"===e||"radio"===e)}function J(t){var e=$(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,o=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(t){r=""+t,o.call(this,t)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(t){r=""+t},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Z(t){t._valueTracker||(t._valueTracker=J(t))}function tt(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=$(t)?t.checked?"true":"false":t.value),(t=r)!==n&&(e.setValue(t),!0)}function et(t){return null===t||"object"!==typeof t?null:(t=Hi&&t[Hi]||t["@@iterator"],"function"===typeof t?t:null)}function nt(t){if(null==t)return null;if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t;switch(t){case Fi:return"ConcurrentMode";case Ni:return"Fragment";case Di:return"Portal";case Li:return"Profiler";case Mi:return"StrictMode";case qi:return"Suspense"}if("object"===typeof t)switch(t.$$typeof){case Ui:return"Context.Consumer";case ji:return"Context.Provider";case Bi:var e=t.render;return e=e.displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case Wi:return nt(t.type);case Vi:if(t=1===t._status?t._result:null)return nt(t)}return null}function rt(t){var e="";do{t:switch(t.tag){case 2:case 16:case 0:case 1:case 5:case 8:var n=t._debugOwner,r=t._debugSource,i=nt(t.type),o=null;n&&(o=nt(n.type)),n=i,i="",r?i=" (at "+r.fileName.replace(Ri,"")+":"+r.lineNumber+")":o&&(i=" (created by "+o+")"),o="\n    in "+(n||"Unknown")+i;break t;default:o=""}e+=o,t=t.return}while(t);return e}function it(t){return!!Ki.call(Qi,t)||!Ki.call(Gi,t)&&(zi.test(t)?Qi[t]=!0:(Gi[t]=!0,!1))}function ot(t,e,n,r){if(null!==n&&0===n.type)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(t=t.toLowerCase().slice(0,5))&&"aria-"!==t);default:return!1}}function at(t,e,n,r){if(null===e||"undefined"===typeof e||ot(t,e,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!e;case 4:return!1===e;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function st(t,e,n,r,i){this.acceptsBooleans=2===e||3===e||4===e,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e}function ut(t){return t[1].toUpperCase()}function ct(t,e,n,r){var i=Yi.hasOwnProperty(e)?Yi[e]:null;(null!==i?0===i.type:!r&&(2<e.length&&("o"===e[0]||"O"===e[0])&&("n"===e[1]||"N"===e[1])))||(at(e,n,i,r)&&(n=null),r||null===i?it(e)&&(null===n?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=null===n?3!==i.type&&"":n:(e=i.attributeName,r=i.attributeNamespace,null===n?t.removeAttribute(e):(i=i.type,n=3===i||4===i&&!0===n?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}function ft(t){switch(typeof t){case"boolean":case"number":case"object":case"string":case"undefined":return t;default:return""}}function lt(t,e){var n=e.checked;return Dr({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:t._wrapperState.initialChecked})}function ht(t,e){var n=null==e.defaultValue?"":e.defaultValue,r=null!=e.checked?e.checked:e.defaultChecked;n=ft(null!=e.value?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===e.type||"radio"===e.type?null!=e.checked:null!=e.value}}function dt(t,e){null!=(e=e.checked)&&ct(t,"checked",e,!1)}function pt(t,e){dt(t,e);var n=ft(e.value),r=e.type;if(null!=n)"number"===r?(0===n&&""===t.value||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if("submit"===r||"reset"===r)return void t.removeAttribute("value");e.hasOwnProperty("value")?mt(t,e.type,n):e.hasOwnProperty("defaultValue")&&mt(t,e.type,ft(e.defaultValue)),null==e.checked&&null!=e.defaultChecked&&(t.defaultChecked=!!e.defaultChecked)}function yt(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!("submit"!==r&&"reset"!==r||void 0!==e.value&&null!==e.value))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,""!==n&&(t.name=""),t.defaultChecked=!t.defaultChecked,t.defaultChecked=!!t._wrapperState.initialChecked,""!==n&&(t.name=n)}function mt(t,e,n){"number"===e&&t.ownerDocument.activeElement===t||(null==n?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}function vt(t,e,n){return t=D.getPooled($i.change,t,e,n),t.type="change",W(n),A(t),t}function gt(t){v(t,!1)}function bt(t){if(tt(_(t)))return t}function _t(t,e){if("change"===t)return e}function wt(){Ji&&(Ji.detachEvent("onpropertychange",Et),Zi=Ji=null)}function Et(t){"value"===t.propertyName&&bt(Zi)&&(t=vt(Zi,t,Y(t)),G(gt,t))}function St(t,e,n){"focus"===t?(wt(),Ji=e,Zi=n,Ji.attachEvent("onpropertychange",Et)):"blur"===t&&wt()}function Tt(t){if("selectionchange"===t||"keyup"===t||"keydown"===t)return bt(Zi)}function Ct(t,e){if("click"===t)return bt(e)}function It(t,e){if("input"===t||"change"===t)return bt(e)}function At(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):!!(t=ro[t])&&!!e[t]}function Ot(){return At}function kt(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function Rt(t,e){if(kt(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++)if(!ho.call(e,n[r])||!kt(t[n[r]],e[n[r]]))return!1;return!0}function Pt(t){var e=t;if(t.alternate)for(;e.return;)e=e.return;else{if(0!==(2&e.effectTag))return 1;for(;e.return;)if(e=e.return,0!==(2&e.effectTag))return 1}return 3===e.tag?2:3}function xt(t){2!==Pt(t)&&i("188")}function Dt(t){var e=t.alternate;if(!e)return e=Pt(t),3===e&&i("188"),1===e?null:t;for(var n=t,r=e;;){var o=n.return,a=o?o.alternate:null;if(!o||!a)break;if(o.child===a.child){for(var s=o.child;s;){if(s===n)return xt(o),t;if(s===r)return xt(o),e;s=s.sibling}i("188")}if(n.return!==r.return)n=o,r=a;else{s=!1;for(var u=o.child;u;){if(u===n){s=!0,n=o,r=a;break}if(u===r){s=!0,r=o,n=a;break}u=u.sibling}if(!s){for(u=a.child;u;){if(u===n){s=!0,n=a,r=o;break}if(u===r){s=!0,r=a,n=o;break}u=u.sibling}s||i("189")}}n.alternate!==r&&i("190")}return 3!==n.tag&&i("188"),n.stateNode.current===n?t:e}function Nt(t){if(!(t=Dt(t)))return null;for(var e=t;;){if(5===e.tag||6===e.tag)return e;if(e.child)e.child.return=e,e=e.child;else{if(e===t)break;for(;!e.sibling;){if(!e.return||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}}return null}function Mt(t){var e=t.keyCode;return"charCode"in t?0===(t=t.charCode)&&13===e&&(t=13):t=e,10===t&&(t=13),32<=t||13===t?t:0}function Lt(t,e){var n=t[0];t=t[1];var r="on"+(t[0].toUpperCase()+t.slice(1));e={phasedRegistrationNames:{bubbled:r,captured:r+"Capture"},dependencies:[n],isInteractive:e},Co[t]=e,Io[n]=e}function jt(t){var e=t.targetInst,n=e;do{if(!n){t.ancestors.push(n);break}var r;for(r=n;r.return;)r=r.return;if(!(r=3!==r.tag?null:r.stateNode.containerInfo))break;t.ancestors.push(n),n=g(r)}while(n);for(n=0;n<t.ancestors.length;n++){e=t.ancestors[n];var i=Y(t.nativeEvent);r=t.topLevelType;for(var o=t.nativeEvent,a=null,s=0;s<Wr.length;s++){var u=Wr[s];u&&(u=u.extractEvents(r,e,o,i))&&(a=l(a,u))}v(a,!1)}}function Ut(t,e){if(!e)return null;var n=(Oo(t)?Bt:qt).bind(null,t);e.addEventListener(t,n,!1)}function Ft(t,e){if(!e)return null;var n=(Oo(t)?Bt:qt).bind(null,t);e.addEventListener(t,n,!0)}function Bt(t,e){z(qt,t,e)}function qt(t,e){if(Ro){var n=Y(e);if(n=g(n),null===n||"number"!==typeof n.tag||2===Pt(n)||(n=null),ko.length){var r=ko.pop();r.topLevelType=t,r.nativeEvent=e,r.targetInst=n,t=r}else t={topLevelType:t,nativeEvent:e,targetInst:n,ancestors:[]};try{G(jt,t)}finally{t.topLevelType=null,t.nativeEvent=null,t.targetInst=null,t.ancestors.length=0,10>ko.length&&ko.push(t)}}}function Wt(t){return Object.prototype.hasOwnProperty.call(t,Do)||(t[Do]=xo++,Po[t[Do]]={}),Po[t[Do]]}function Vt(t){if("undefined"===typeof(t=t||("undefined"!==typeof document?document:void 0)))return null;try{return t.activeElement||t.body}catch(e){return t.body}}function Ht(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function zt(t,e){var n=Ht(t);t=0;for(var r;n;){if(3===n.nodeType){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}t:{for(;n;){if(n.nextSibling){n=n.nextSibling;break t}n=n.parentNode}n=void 0}n=Ht(n)}}function Kt(t,e){return!(!t||!e)&&(t===e||(!t||3!==t.nodeType)&&(e&&3===e.nodeType?Kt(t,e.parentNode):"contains"in t?t.contains(e):!!t.compareDocumentPosition&&!!(16&t.compareDocumentPosition(e))))}function Gt(){for(var t=window,e=Vt();e instanceof t.HTMLIFrameElement;){try{t=e.contentDocument.defaultView}catch(t){break}e=Vt(t.document)}return e}function Qt(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&("input"===e&&("text"===t.type||"search"===t.type||"tel"===t.type||"url"===t.type||"password"===t.type)||"textarea"===e||"true"===t.contentEditable)}function Yt(t,e){var n=e.window===e?e.document:9===e.nodeType?e:e.ownerDocument;return Fo||null==Lo||Lo!==Vt(n)?null:(n=Lo,"selectionStart"in n&&Qt(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Uo&&Rt(Uo,n)?null:(Uo=n,t=D.getPooled(Mo.select,jo,t,e),t.type="select",t.target=Lo,A(t),t))}function Xt(t){var e="";return xr.Children.forEach(t,function(t){null!=t&&(e+=t)}),e}function $t(t,e){return t=Dr({children:void 0},e),(e=Xt(e.children))&&(t.children=e),t}function Jt(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+ft(n),e=null,i=0;i<t.length;i++){if(t[i].value===n)return t[i].selected=!0,void(r&&(t[i].defaultSelected=!0));null!==e||t[i].disabled||(e=t[i])}null!==e&&(e.selected=!0)}}function Zt(t,e){return null!=e.dangerouslySetInnerHTML&&i("91"),Dr({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function te(t,e){var n=e.value;null==n&&(n=e.defaultValue,e=e.children,null!=e&&(null!=n&&i("92"),Array.isArray(e)&&(1>=e.length||i("93"),e=e[0]),n=e),null==n&&(n="")),t._wrapperState={initialValue:ft(n)}}function ee(t,e){var n=ft(e.value),r=ft(e.defaultValue);null!=n&&(n=""+n,n!==t.value&&(t.value=n),null==e.defaultValue&&t.defaultValue!==n&&(t.defaultValue=n)),null!=r&&(t.defaultValue=""+r)}function ne(t){var e=t.textContent;e===t._wrapperState.initialValue&&(t.value=e)}function re(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ie(t,e){return null==t||"http://www.w3.org/1999/xhtml"===t?re(e):"http://www.w3.org/2000/svg"===t&&"foreignObject"===e?"http://www.w3.org/1999/xhtml":t}function oe(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&3===n.nodeType)return void(n.nodeValue=e)}t.textContent=e}function ae(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=n,o=e[n];i=null==o||"boolean"===typeof o||""===o?"":r||"number"!==typeof o||0===o||Ho.hasOwnProperty(i)&&Ho[i]?(""+o).trim():o+"px","float"===n&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}function se(t,e){e&&(Ko[t]&&(null!=e.children||null!=e.dangerouslySetInnerHTML)&&i("137",t,""),null!=e.dangerouslySetInnerHTML&&(null!=e.children&&i("60"),"object"===typeof e.dangerouslySetInnerHTML&&"__html"in e.dangerouslySetInnerHTML||i("61")),null!=e.style&&"object"!==typeof e.style&&i("62",""))}function ue(t,e){if(-1===t.indexOf("-"))return"string"===typeof e.is;switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}function ce(t,e){t=9===t.nodeType||11===t.nodeType?t:t.ownerDocument;var n=Wt(t);e=zr[e];for(var r=0;r<e.length;r++){var i=e[r];if(!n.hasOwnProperty(i)||!n[i]){switch(i){case"scroll":Ft("scroll",t);break;case"focus":case"blur":Ft("focus",t),Ft("blur",t),n.blur=!0,n.focus=!0;break;case"cancel":case"close":X(i)&&Ft(i,t);break;case"invalid":case"submit":case"reset":break;default:-1===ui.indexOf(i)&&Ut(i,t)}n[i]=!0}}}function fe(){}function le(t,e){switch(t){case"button":case"input":case"select":case"textarea":return!!e.autoFocus}return!1}function he(t,e){return"textarea"===t||"option"===t||"noscript"===t||"string"===typeof e.children||"number"===typeof e.children||"object"===typeof e.dangerouslySetInnerHTML&&null!==e.dangerouslySetInnerHTML&&null!=e.dangerouslySetInnerHTML.__html}function de(t){for(t=t.nextSibling;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}function pe(t){for(t=t.firstChild;t&&1!==t.nodeType&&3!==t.nodeType;)t=t.nextSibling;return t}function ye(t){0>Jo||(t.current=$o[Jo],$o[Jo]=null,Jo--)}function me(t,e){Jo++,$o[Jo]=t.current,t.current=e}function ve(t,e){var n=t.type.contextTypes;if(!n)return Zo;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i,o={};for(i in n)o[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=o),o}function ge(t){return null!==(t=t.childContextTypes)&&void 0!==t}function be(t){ye(ea,t),ye(ta,t)}function _e(t){ye(ea,t),ye(ta,t)}function we(t,e,n){ta.current!==Zo&&i("168"),me(ta,e,t),me(ea,n,t)}function Ee(t,e,n){var r=t.stateNode;if(t=e.childContextTypes,"function"!==typeof r.getChildContext)return n;r=r.getChildContext();for(var o in r)o in t||i("108",nt(e)||"Unknown",o);return Dr({},n,r)}function Se(t){var e=t.stateNode;return e=e&&e.__reactInternalMemoizedMergedChildContext||Zo,na=ta.current,me(ta,e,t),me(ea,ea.current,t),!0}function Te(t,e,n){var r=t.stateNode;r||i("169"),n?(e=Ee(t,e,na),r.__reactInternalMemoizedMergedChildContext=e,ye(ea,t),ye(ta,t),me(ta,e,t)):ye(ea,t),me(ea,n,t)}function Ce(t){return function(e){try{return t(e)}catch(t){}}}function Ie(t){if("undefined"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__)return!1;var e=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(e.isDisabled||!e.supportsFiber)return!0;try{var n=e.inject(t);ra=Ce(function(t){return e.onCommitFiberRoot(n,t)}),ia=Ce(function(t){return e.onCommitFiberUnmount(n,t)})}catch(t){}return!0}function Ae(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.firstContextDependency=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.effectTag=0,this.lastEffect=this.firstEffect=this.nextEffect=null,this.childExpirationTime=this.expirationTime=0,this.alternate=null}function Oe(t,e,n,r){return new Ae(t,e,n,r)}function ke(t){return!(!(t=t.prototype)||!t.isReactComponent)}function Re(t){if("function"===typeof t)return ke(t)?1:0;if(void 0!==t&&null!==t){if((t=t.$$typeof)===Bi)return 11;if(t===Wi)return 14}return 2}function Pe(t,e){var n=t.alternate;return null===n?(n=Oe(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.effectTag=0,n.nextEffect=null,n.firstEffect=null,n.lastEffect=null),n.childExpirationTime=t.childExpirationTime,n.expirationTime=t.expirationTime,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,n.firstContextDependency=t.firstContextDependency,n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function xe(t,e,n,r,o,a){var s=2;if(r=t,"function"===typeof t)ke(t)&&(s=1);else if("string"===typeof t)s=5;else t:switch(t){case Ni:return De(n.children,o,a,e);case Fi:return Ne(n,3|o,a,e);case Mi:return Ne(n,2|o,a,e);case Li:return t=Oe(12,n,e,4|o),t.elementType=Li,t.type=Li,t.expirationTime=a,t;case qi:return t=Oe(13,n,e,o),t.elementType=qi,t.type=qi,t.expirationTime=a,t;default:if("object"===typeof t&&null!==t)switch(t.$$typeof){case ji:s=10;break t;case Ui:s=9;break t;case Bi:s=11;break t;case Wi:s=14;break t;case Vi:s=16,r=null;break t}i("130",null==t?t:typeof t,"")}return e=Oe(s,n,e,o),e.elementType=t,e.type=r,e.expirationTime=a,e}function De(t,e,n,r){return t=Oe(7,t,r,e),t.expirationTime=n,t}function Ne(t,e,n,r){return t=Oe(8,t,r,e),e=0===(1&e)?Mi:Fi,t.elementType=e,t.type=e,t.expirationTime=n,t}function Me(t,e,n){return t=Oe(6,t,null,e),t.expirationTime=n,t}function Le(t,e,n){return e=Oe(4,null!==t.children?t.children:[],t.key,e),e.expirationTime=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function je(t,e){t.didError=!1;var n=t.earliestPendingTime;0===n?t.earliestPendingTime=t.latestPendingTime=e:n>e?t.earliestPendingTime=e:t.latestPendingTime<e&&(t.latestPendingTime=e),Be(e,t)}function Ue(t,e){t.didError=!1;var n=t.latestPingedTime;0!==n&&n<=e&&(t.latestPingedTime=0),n=t.earliestPendingTime;var r=t.latestPendingTime;n===e?t.earliestPendingTime=r===e?t.latestPendingTime=0:r:r===e&&(t.latestPendingTime=n),n=t.earliestSuspendedTime,r=t.latestSuspendedTime,0===n?t.earliestSuspendedTime=t.latestSuspendedTime=e:n>e?t.earliestSuspendedTime=e:r<e&&(t.latestSuspendedTime=e),Be(e,t)}function Fe(t,e){var n=t.earliestPendingTime;return t=t.earliestSuspendedTime,(0===e||0!==n&&n<e)&&(e=n),(0===e||0!==t&&t<e)&&(e=t),e}function Be(t,e){var n=e.earliestSuspendedTime,r=e.latestSuspendedTime,i=e.earliestPendingTime,o=e.latestPingedTime;i=0!==i?i:o,0===i&&(0===t||r>t)&&(i=r),t=i,0!==t&&0!==n&&n<t&&(t=n),e.nextExpirationTimeToWorkOn=i,e.expirationTime=t}function qe(t){return{baseState:t,firstUpdate:null,lastUpdate:null,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function We(t){return{baseState:t.baseState,firstUpdate:t.firstUpdate,lastUpdate:t.lastUpdate,firstCapturedUpdate:null,lastCapturedUpdate:null,firstEffect:null,lastEffect:null,firstCapturedEffect:null,lastCapturedEffect:null}}function Ve(t){return{expirationTime:t,tag:0,payload:null,callback:null,next:null,nextEffect:null}}function He(t,e){null===t.lastUpdate?t.firstUpdate=t.lastUpdate=e:(t.lastUpdate.next=e,t.lastUpdate=e)}function ze(t,e){var n=t.alternate;if(null===n){var r=t.updateQueue,i=null;null===r&&(r=t.updateQueue=qe(t.memoizedState))}else r=t.updateQueue,i=n.updateQueue,null===r?null===i?(r=t.updateQueue=qe(t.memoizedState),i=n.updateQueue=qe(n.memoizedState)):r=t.updateQueue=We(i):null===i&&(i=n.updateQueue=We(r));null===i||r===i?He(r,e):null===r.lastUpdate||null===i.lastUpdate?(He(r,e),He(i,e)):(He(r,e),i.lastUpdate=e)}function Ke(t,e){var n=t.updateQueue;n=null===n?t.updateQueue=qe(t.memoizedState):Ge(t,n),null===n.lastCapturedUpdate?n.firstCapturedUpdate=n.lastCapturedUpdate=e:(n.lastCapturedUpdate.next=e,n.lastCapturedUpdate=e)}function Ge(t,e){var n=t.alternate;return null!==n&&e===n.updateQueue&&(e=t.updateQueue=We(e)),e}function Qe(t,e,n,r,i,o){switch(n.tag){case 1:return t=n.payload,"function"===typeof t?t.call(o,r,i):t;case 3:t.effectTag=-1025&t.effectTag|64;case 0:if(t=n.payload,null===(i="function"===typeof t?t.call(o,r,i):t)||void 0===i)break;return Dr({},r,i);case 2:oa=!0}return r}function Ye(t,e,n,r,i){oa=!1,e=Ge(t,e);for(var o=e.baseState,a=null,s=0,u=e.firstUpdate,c=o;null!==u;){var f=u.expirationTime;f>i?(null===a&&(a=u,o=c),(0===s||s>f)&&(s=f)):(c=Qe(t,e,u,c,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastEffect?e.firstEffect=e.lastEffect=u:(e.lastEffect.nextEffect=u,e.lastEffect=u))),u=u.next}for(f=null,u=e.firstCapturedUpdate;null!==u;){var l=u.expirationTime;l>i?(null===f&&(f=u,null===a&&(o=c)),(0===s||s>l)&&(s=l)):(c=Qe(t,e,u,c,n,r),null!==u.callback&&(t.effectTag|=32,u.nextEffect=null,null===e.lastCapturedEffect?e.firstCapturedEffect=e.lastCapturedEffect=u:(e.lastCapturedEffect.nextEffect=u,e.lastCapturedEffect=u))),u=u.next}null===a&&(e.lastUpdate=null),null===f?e.lastCapturedUpdate=null:t.effectTag|=32,null===a&&null===f&&(o=c),e.baseState=o,e.firstUpdate=a,e.firstCapturedUpdate=f,t.expirationTime=s,t.memoizedState=c}function Xe(t,e,n){null!==e.firstCapturedUpdate&&(null!==e.lastUpdate&&(e.lastUpdate.next=e.firstCapturedUpdate,e.lastUpdate=e.lastCapturedUpdate),e.firstCapturedUpdate=e.lastCapturedUpdate=null),$e(e.firstEffect,n),e.firstEffect=e.lastEffect=null,$e(e.firstCapturedEffect,n),e.firstCapturedEffect=e.lastCapturedEffect=null}function $e(t,e){for(;null!==t;){var n=t.callback;if(null!==n){t.callback=null;var r=e;"function"!==typeof n&&i("191",n),n.call(r)}t=t.nextEffect}}function Je(t,e){return{value:t,source:e,stack:rt(e)}}function Ze(t,e){var n=t.type._context;me(aa,n._currentValue,t),n._currentValue=e}function tn(t){var e=aa.current;ye(aa,t),t.type._context._currentValue=e}function en(t){sa=t,ca=ua=null,t.firstContextDependency=null}function nn(t,e){return ca!==t&&!1!==e&&0!==e&&("number"===typeof e&&1073741823!==e||(ca=t,e=1073741823),e={context:t,observedBits:e,next:null},null===ua?(null===sa&&i("293"),sa.firstContextDependency=ua=e):ua=ua.next=e),t._currentValue}function rn(t){return t===fa&&i("174"),t}function on(t,e){me(da,e,t),me(ha,t,t),me(la,fa,t);var n=e.nodeType;switch(n){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ie(null,"");break;default:n=8===n?e.parentNode:e,e=n.namespaceURI||null,n=n.tagName,e=ie(e,n)}ye(la,t),me(la,e,t)}function an(t){ye(la,t),ye(ha,t),ye(da,t)}function sn(t){rn(da.current);var e=rn(la.current),n=ie(e,t.type);e!==n&&(me(ha,t,t),me(la,n,t))}function un(t){ha.current===t&&(ye(la,t),ye(ha,t))}function cn(t,e,n,r){e=t.memoizedState,n=n(r,e),n=null===n||void 0===n?e:Dr({},e,n),t.memoizedState=n,null!==(r=t.updateQueue)&&0===t.expirationTime&&(r.baseState=n)}function fn(t,e,n,r,i,o,a){return t=t.stateNode,"function"===typeof t.shouldComponentUpdate?t.shouldComponentUpdate(r,o,a):!e.prototype||!e.prototype.isPureReactComponent||(!Rt(n,r)||!Rt(i,o))}function ln(t,e,n){var r=!1,i=Zo,o=e.contextType;return"object"===typeof o&&null!==o?o=pa.currentDispatcher.readContext(o):(i=ge(e)?na:ta.current,r=e.contextTypes,o=(r=null!==r&&void 0!==r)?ve(t,i):Zo),e=new e(n,o),t.memoizedState=null!==e.state&&void 0!==e.state?e.state:null,e.updater=ma,t.stateNode=e,e._reactInternalFiber=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=o),e}function hn(t,e,n,r){t=e.state,"function"===typeof e.componentWillReceiveProps&&e.componentWillReceiveProps(n,r),"function"===typeof e.UNSAFE_componentWillReceiveProps&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ma.enqueueReplaceState(e,e.state,null)}function dn(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs=ya;var o=e.contextType;"object"===typeof o&&null!==o?i.context=pa.currentDispatcher.readContext(o):(o=ge(e)?na:ta.current,i.context=ve(t,o)),o=t.updateQueue,null!==o&&(Ye(t,o,n,i,r),i.state=t.memoizedState),o=e.getDerivedStateFromProps,"function"===typeof o&&(cn(t,e,o,n),i.state=t.memoizedState),"function"===typeof e.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(e=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),e!==i.state&&ma.enqueueReplaceState(i,i.state,null),null!==(o=t.updateQueue)&&(Ye(t,o,n,i,r),i.state=t.memoizedState)),"function"===typeof i.componentDidMount&&(t.effectTag|=4)}function pn(t,e,n){if(null!==(t=n.ref)&&"function"!==typeof t&&"object"!==typeof t){if(n._owner){n=n._owner;var r=void 0;n&&(1!==n.tag&&i("289"),r=n.stateNode),r||i("147",t);var o=""+t;return null!==e&&null!==e.ref&&"function"===typeof e.ref&&e.ref._stringRef===o?e.ref:(e=function(t){var e=r.refs;e===ya&&(e=r.refs={}),null===t?delete e[o]:e[o]=t},e._stringRef=o,e)}"string"!==typeof t&&i("284"),n._owner||i("290",t)}return t}function yn(t,e){"textarea"!==t.type&&i("31","[object Object]"===Object.prototype.toString.call(e)?"object with keys {"+Object.keys(e).join(", ")+"}":e,"")}function mn(t){function e(e,n){if(t){var r=e.lastEffect;null!==r?(r.nextEffect=n,e.lastEffect=n):e.firstEffect=e.lastEffect=n,n.nextEffect=null,n.effectTag=8}}function n(n,r){if(!t)return null;for(;null!==r;)e(n,r),r=r.sibling;return null}function r(t,e){for(t=new Map;null!==e;)null!==e.key?t.set(e.key,e):t.set(e.index,e),e=e.sibling;return t}function o(t,e,n){return t=Pe(t,e,n),t.index=0,t.sibling=null,t}function a(e,n,r){return e.index=r,t?null!==(r=e.alternate)?(r=r.index,r<n?(e.effectTag=2,n):r):(e.effectTag=2,n):n}function s(e){return t&&null===e.alternate&&(e.effectTag=2),e}function u(t,e,n,r){return null===e||6!==e.tag?(e=Me(n,t.mode,r),e.return=t,e):(e=o(e,n,r),e.return=t,e)}function c(t,e,n,r){return null!==e&&e.elementType===n.type?(r=o(e,n.props,r),r.ref=pn(t,e,n),r.return=t,r):(r=xe(n.type,n.key,n.props,null,t.mode,r),r.ref=pn(t,e,n),r.return=t,r)}function f(t,e,n,r){return null===e||4!==e.tag||e.stateNode.containerInfo!==n.containerInfo||e.stateNode.implementation!==n.implementation?(e=Le(n,t.mode,r),e.return=t,e):(e=o(e,n.children||[],r),e.return=t,e)}function l(t,e,n,r,i){return null===e||7!==e.tag?(e=De(n,t.mode,r,i),e.return=t,e):(e=o(e,n,r),e.return=t,e)}function h(t,e,n){if("string"===typeof e||"number"===typeof e)return e=Me(""+e,t.mode,n),e.return=t,e;if("object"===typeof e&&null!==e){switch(e.$$typeof){case xi:return n=xe(e.type,e.key,e.props,null,t.mode,n),n.ref=pn(t,null,e),n.return=t,n;case Di:return e=Le(e,t.mode,n),e.return=t,e}if(va(e)||et(e))return e=De(e,t.mode,n,null),e.return=t,e;yn(t,e)}return null}function d(t,e,n,r){var i=null!==e?e.key:null;if("string"===typeof n||"number"===typeof n)return null!==i?null:u(t,e,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case xi:return n.key===i?n.type===Ni?l(t,e,n.props.children,r,i):c(t,e,n,r):null;case Di:return n.key===i?f(t,e,n,r):null}if(va(n)||et(n))return null!==i?null:l(t,e,n,r,null);yn(t,n)}return null}function p(t,e,n,r,i){if("string"===typeof r||"number"===typeof r)return t=t.get(n)||null,u(e,t,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case xi:return t=t.get(null===r.key?n:r.key)||null,r.type===Ni?l(e,t,r.props.children,i,r.key):c(e,t,r,i);case Di:return t=t.get(null===r.key?n:r.key)||null,f(e,t,r,i)}if(va(r)||et(r))return t=t.get(n)||null,l(e,t,r,i,null);yn(e,r)}return null}function y(i,o,s,u){for(var c=null,f=null,l=o,y=o=0,m=null;null!==l&&y<s.length;y++){l.index>y?(m=l,l=null):m=l.sibling;var v=d(i,l,s[y],u);if(null===v){null===l&&(l=m);break}t&&l&&null===v.alternate&&e(i,l),o=a(v,o,y),null===f?c=v:f.sibling=v,f=v,l=m}if(y===s.length)return n(i,l),c;if(null===l){for(;y<s.length;y++)(l=h(i,s[y],u))&&(o=a(l,o,y),null===f?c=l:f.sibling=l,f=l);return c}for(l=r(i,l);y<s.length;y++)(m=p(l,i,y,s[y],u))&&(t&&null!==m.alternate&&l.delete(null===m.key?y:m.key),o=a(m,o,y),null===f?c=m:f.sibling=m,f=m);return t&&l.forEach(function(t){return e(i,t)}),c}function m(o,s,u,c){var f=et(u);"function"!==typeof f&&i("150"),null==(u=f.call(u))&&i("151");for(var l=f=null,y=s,m=s=0,v=null,g=u.next();null!==y&&!g.done;m++,g=u.next()){y.index>m?(v=y,y=null):v=y.sibling;var b=d(o,y,g.value,c);if(null===b){y||(y=v);break}t&&y&&null===b.alternate&&e(o,y),s=a(b,s,m),null===l?f=b:l.sibling=b,l=b,y=v}if(g.done)return n(o,y),f;if(null===y){for(;!g.done;m++,g=u.next())null!==(g=h(o,g.value,c))&&(s=a(g,s,m),null===l?f=g:l.sibling=g,l=g);return f}for(y=r(o,y);!g.done;m++,g=u.next())null!==(g=p(y,o,m,g.value,c))&&(t&&null!==g.alternate&&y.delete(null===g.key?m:g.key),s=a(g,s,m),null===l?f=g:l.sibling=g,l=g);return t&&y.forEach(function(t){return e(o,t)}),f}return function(t,r,a,u){var c="object"===typeof a&&null!==a&&a.type===Ni&&null===a.key;c&&(a=a.props.children);var f="object"===typeof a&&null!==a;if(f)switch(a.$$typeof){case xi:t:{for(f=a.key,c=r;null!==c;){if(c.key===f){if(7===c.tag?a.type===Ni:c.elementType===a.type){n(t,c.sibling),r=o(c,a.type===Ni?a.props.children:a.props,u),r.ref=pn(t,c,a),r.return=t,t=r;break t}n(t,c);break}e(t,c),c=c.sibling}a.type===Ni?(r=De(a.props.children,t.mode,u,a.key),r.return=t,t=r):(u=xe(a.type,a.key,a.props,null,t.mode,u),u.ref=pn(t,r,a),u.return=t,t=u)}return s(t);case Di:t:{for(c=a.key;null!==r;){if(r.key===c){if(4===r.tag&&r.stateNode.containerInfo===a.containerInfo&&r.stateNode.implementation===a.implementation){n(t,r.sibling),r=o(r,a.children||[],u),r.return=t,t=r;break t}n(t,r);break}e(t,r),r=r.sibling}r=Le(a,t.mode,u),r.return=t,t=r}return s(t)}if("string"===typeof a||"number"===typeof a)return a=""+a,null!==r&&6===r.tag?(n(t,r.sibling),r=o(r,a,u),r.return=t,t=r):(n(t,r),r=Me(a,t.mode,u),r.return=t,t=r),s(t);if(va(a))return y(t,r,a,u);if(et(a))return m(t,r,a,u);if(f&&yn(t,a),"undefined"===typeof a&&!c)switch(t.tag){case 1:case 0:u=t.type,i("152",u.displayName||u.name||"Component")}return n(t,r)}}function vn(t,e){var n=Oe(5,null,null,0);n.elementType="DELETED",n.type="DELETED",n.stateNode=e,n.return=t,n.effectTag=8,null!==t.lastEffect?(t.lastEffect.nextEffect=n,t.lastEffect=n):t.firstEffect=t.lastEffect=n}function gn(t,e){switch(t.tag){case 5:var n=t.type;return null!==(e=1!==e.nodeType||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e)&&(t.stateNode=e,!0);case 6:return null!==(e=""===t.pendingProps||3!==e.nodeType?null:e)&&(t.stateNode=e,!0);default:return!1}}function bn(t){if(Ea){var e=wa;if(e){var n=e;if(!gn(t,e)){if(!(e=de(n))||!gn(t,e))return t.effectTag|=2,Ea=!1,void(_a=t);vn(_a,n)}_a=t,wa=pe(e)}else t.effectTag|=2,Ea=!1,_a=t}}function _n(t){for(t=t.return;null!==t&&5!==t.tag&&3!==t.tag;)t=t.return;_a=t}function wn(t){if(t!==_a)return!1;if(!Ea)return _n(t),Ea=!0,!1;var e=t.type;if(5!==t.tag||"head"!==e&&"body"!==e&&!he(e,t.memoizedProps))for(e=wa;e;)vn(t,e),e=de(e);return _n(t),wa=_a?de(t.stateNode):null,!0}function En(){wa=_a=null,Ea=!1}function Sn(t){var e=t._result;switch(t._status){case 1:return e;case 2:case 0:throw e;default:throw t._status=0,e=t._ctor,e=e(),e.then(function(e){0===t._status&&(e=e.default,t._status=1,t._result=e)},function(e){0===t._status&&(t._status=2,t._result=e)}),t._result=e,e}}function Tn(t,e,n,r){e.child=null===t?ba(e,null,n,r):ga(e,t.child,n,r)}function Cn(t,e,n,r,i){n=n.render;var o=e.ref;return ea.current||e.memoizedProps!==r||o!==(null!==t?t.ref:null)?(r=n(r,o),Tn(t,e,r,i),e.child):Mn(t,e,i)}function In(t,e,n,r,i,o){if(null===t){var a=n.type;return"function"!==typeof a||ke(a)||void 0!==a.defaultProps||null!==n.compare?(t=xe(n.type,null,r,null,e.mode,o),t.ref=e.ref,t.return=e,e.child=t):(e.tag=15,e.type=a,An(t,e,a,r,i,o))}return a=t.child,(0===i||i>o)&&(i=a.memoizedProps,n=n.compare,(n=null!==n?n:Rt)(i,r)&&t.ref===e.ref)?Mn(t,e,o):(t=Pe(a,r,o),t.ref=e.ref,t.return=e,e.child=t)}function An(t,e,n,r,i,o){return null!==t&&(0===i||i>o)&&Rt(t.memoizedProps,r)&&t.ref===e.ref?Mn(t,e,o):kn(t,e,n,r,o)}function On(t,e){var n=e.ref;(null===t&&null!==n||null!==t&&t.ref!==n)&&(e.effectTag|=128)}function kn(t,e,n,r,i){var o=ge(n)?na:ta.current;return o=ve(e,o),en(e,i),n=n(r,o),e.effectTag|=1,Tn(t,e,n,i),e.child}function Rn(t,e,n,r,i){if(ge(n)){var o=!0;Se(e)}else o=!1;if(en(e,i),null===e.stateNode)null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),ln(e,n,r,i),dn(e,n,r,i),r=!0;else if(null===t){var a=e.stateNode,s=e.memoizedProps;a.props=s;var u=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=pa.currentDispatcher.readContext(c):(c=ge(n)?na:ta.current,c=ve(e,c));var f=n.getDerivedStateFromProps,l="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate;l||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&hn(e,a,r,c),oa=!1;var h=e.memoizedState;u=a.state=h;var d=e.updateQueue;null!==d&&(Ye(e,d,r,a,i),u=e.memoizedState),s!==r||h!==u||ea.current||oa?("function"===typeof f&&(cn(e,n,f,r),u=e.memoizedState),(s=oa||fn(e,n,s,r,h,u,c))?(l||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(e.effectTag|=4)):("function"===typeof a.componentDidMount&&(e.effectTag|=4),e.memoizedProps=r,e.memoizedState=u),a.props=r,a.state=u,a.context=c,r=s):("function"===typeof a.componentDidMount&&(e.effectTag|=4),r=!1)}else a=e.stateNode,s=e.memoizedProps,a.props=s,u=a.context,c=n.contextType,"object"===typeof c&&null!==c?c=pa.currentDispatcher.readContext(c):(c=ge(n)?na:ta.current,c=ve(e,c)),f=n.getDerivedStateFromProps,(l="function"===typeof f||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(s!==r||u!==c)&&hn(e,a,r,c),oa=!1,u=e.memoizedState,h=a.state=u,d=e.updateQueue,null!==d&&(Ye(e,d,r,a,i),h=e.memoizedState),s!==r||u!==h||ea.current||oa?("function"===typeof f&&(cn(e,n,f,r),h=e.memoizedState),(f=oa||fn(e,n,s,r,u,h,c))?(l||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,h,c),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,h,c)),"function"===typeof a.componentDidUpdate&&(e.effectTag|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(e.effectTag|=256)):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),e.memoizedProps=r,e.memoizedState=h),a.props=r,a.state=h,a.context=c,r=f):("function"!==typeof a.componentDidUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=4),"function"!==typeof a.getSnapshotBeforeUpdate||s===t.memoizedProps&&u===t.memoizedState||(e.effectTag|=256),r=!1);return Pn(t,e,n,r,o,i)}function Pn(t,e,n,r,i,o){On(t,e);var a=0!==(64&e.effectTag);if(!r&&!a)return i&&Te(e,n,!1),Mn(t,e,o);r=e.stateNode,Sa.current=e;var s=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return e.effectTag|=1,null!==t&&a?(e.child=ga(e,t.child,null,o),e.child=ga(e,null,s,o)):Tn(t,e,s,o),e.memoizedState=r.state,i&&Te(e,n,!0),e.child}function xn(t){var e=t.stateNode;e.pendingContext?we(t,e.pendingContext,e.pendingContext!==e.context):e.context&&we(t,e.context,!1),on(t,e.containerInfo)}function Dn(t,e){if(t&&t.defaultProps){e=Dr({},e),t=t.defaultProps;for(var n in t)void 0===e[n]&&(e[n]=t[n])}return e}function Nn(t,e,n){var r=e.mode,i=e.pendingProps,o=e.memoizedState;null!==o&&(o.alreadyCaptured?null!==t&&o===t.memoizedState?o={alreadyCaptured:!0,didTimeout:!0,timedOutAt:o.timedOutAt}:(o.alreadyCaptured=!0,o.didTimeout=!0):o=null);var a=null!==o&&o.didTimeout;if(null===t)a?(a=i.fallback,i=De(null,r,0,null),r=De(a,r,n,null),i.sibling=r,n=i,n.return=r.return=e):n=r=ba(e,null,i.children,n);else{var s=t.memoizedState;null!==s&&s.didTimeout?(r=t.child,t=r.sibling,a?(n=i.fallback,r=Pe(r,r.pendingProps,0),r.effectTag|=2,i=r.sibling=Pe(t,n,t.expirationTime),i.effectTag|=2,n=r,r.childExpirationTime=0,r=i,n.return=r.return=e):(a=t.child,r=ga(e,r.child,i.children,n),ga(e,a,null,n),n=r)):(t=t.child,a?(a=i.fallback,i=De(null,r,0,null),i.effectTag|=2,i.child=t,t.return=i,r=i.sibling=De(a,r,n,null),r.effectTag|=2,n=i,i.childExpirationTime=0,n.return=r.return=e):r=n=ga(e,t,i.children,n))}return e.memoizedState=o,e.child=n,r}function Mn(t,e,n){null!==t&&(e.firstContextDependency=t.firstContextDependency);var r=e.childExpirationTime;if(0===r||r>n)return null;if(null!==t&&e.child!==t.child&&i("153"),null!==e.child){for(t=e.child,n=Pe(t,t.pendingProps,t.expirationTime),e.child=n,n.return=e;null!==t.sibling;)t=t.sibling,n=n.sibling=Pe(t,t.pendingProps,t.expirationTime),n.return=e;n.sibling=null}return e.child}function Ln(t,e,n){var r=e.expirationTime;if(null!==t&&t.memoizedProps===e.pendingProps&&!ea.current&&(0===r||r>n)){switch(e.tag){case 3:xn(e),En();break;case 5:sn(e);break;case 1:ge(e.type)&&Se(e);break;case 4:on(e,e.stateNode.containerInfo);break;case 10:Ze(e,e.memoizedProps.value);break;case 13:if(null!==(r=e.memoizedState)&&r.didTimeout)return 0!==(r=e.child.childExpirationTime)&&r<=n?Nn(t,e,n):(e=Mn(t,e,n),null!==e?e.sibling:null)}return Mn(t,e,n)}switch(e.expirationTime=0,e.tag){case 2:r=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),t=e.pendingProps;var o=ve(e,ta.current);if(en(e,n),o=r(t,o),e.effectTag|=1,"object"===typeof o&&null!==o&&"function"===typeof o.render&&void 0===o.$$typeof){if(e.tag=1,ge(r)){var a=!0;Se(e)}else a=!1;e.memoizedState=null!==o.state&&void 0!==o.state?o.state:null;var s=r.getDerivedStateFromProps;"function"===typeof s&&cn(e,r,s,t),o.updater=ma,e.stateNode=o,o._reactInternalFiber=e,dn(e,r,t,n),e=Pn(null,e,r,!0,a,n)}else e.tag=0,Tn(null,e,o,n),e=e.child;return e;case 16:switch(o=e.elementType,null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),a=e.pendingProps,t=Sn(o),e.type=t,o=e.tag=Re(t),a=Dn(t,a),s=void 0,o){case 0:s=kn(null,e,t,a,n);break;case 1:s=Rn(null,e,t,a,n);break;case 11:s=Cn(null,e,t,a,n);break;case 14:s=In(null,e,t,Dn(t.type,a),r,n);break;default:i("283",t)}return s;case 0:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Dn(r,o),kn(t,e,r,o,n);case 1:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Dn(r,o),Rn(t,e,r,o,n);case 3:return xn(e),r=e.updateQueue,null===r&&i("282"),o=e.memoizedState,o=null!==o?o.element:null,Ye(e,r,e.pendingProps,null,n),r=e.memoizedState.element,r===o?(En(),e=Mn(t,e,n)):(o=e.stateNode,(o=(null===t||null===t.child)&&o.hydrate)&&(wa=pe(e.stateNode.containerInfo),_a=e,o=Ea=!0),o?(e.effectTag|=2,e.child=ba(e,null,r,n)):(Tn(t,e,r,n),En()),e=e.child),e;case 5:return sn(e),null===t&&bn(e),r=e.type,o=e.pendingProps,a=null!==t?t.memoizedProps:null,s=o.children,he(r,o)?s=null:null!==a&&he(r,a)&&(e.effectTag|=16),On(t,e),1073741823!==n&&1&e.mode&&o.hidden?(e.expirationTime=1073741823,e=null):(Tn(t,e,s,n),e=e.child),e;case 6:return null===t&&bn(e),null;case 13:return Nn(t,e,n);case 4:return on(e,e.stateNode.containerInfo),r=e.pendingProps,null===t?e.child=ga(e,null,r,n):Tn(t,e,r,n),e.child;case 11:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Dn(r,o),Cn(t,e,r,o,n);case 7:return Tn(t,e,e.pendingProps,n),e.child;case 8:case 12:return Tn(t,e,e.pendingProps.children,n),e.child;case 10:t:{if(r=e.type._context,o=e.pendingProps,s=e.memoizedProps,a=o.value,Ze(e,a),null!==s){var u=s.value;if(0===(a=u===a&&(0!==u||1/u===1/a)||u!==u&&a!==a?0:0|("function"===typeof r._calculateChangedBits?r._calculateChangedBits(u,a):1073741823))){if(s.children===o.children&&!ea.current){e=Mn(t,e,n);break t}}else for(null!==(s=e.child)&&(s.return=e);null!==s;){if(null!==(u=s.firstContextDependency))do{if(u.context===r&&0!==(u.observedBits&a)){if(1===s.tag){var c=Ve(n);c.tag=2,ze(s,c)}(0===s.expirationTime||s.expirationTime>n)&&(s.expirationTime=n),c=s.alternate,null!==c&&(0===c.expirationTime||c.expirationTime>n)&&(c.expirationTime=n);for(var f=s.return;null!==f;){if(c=f.alternate,0===f.childExpirationTime||f.childExpirationTime>n)f.childExpirationTime=n,null!==c&&(0===c.childExpirationTime||c.childExpirationTime>n)&&(c.childExpirationTime=n);else{if(null===c||!(0===c.childExpirationTime||c.childExpirationTime>n))break;c.childExpirationTime=n}f=f.return}}c=s.child,u=u.next}while(null!==u);else c=10===s.tag&&s.type===e.type?null:s.child;if(null!==c)c.return=s;else for(c=s;null!==c;){if(c===e){c=null;break}if(null!==(s=c.sibling)){s.return=c.return,c=s;break}c=c.return}s=c}}Tn(t,e,o.children,n),e=e.child}return e;case 9:return o=e.type,a=e.pendingProps,r=a.children,en(e,n),o=nn(o,a.unstable_observedBits),r=r(o),e.effectTag|=1,Tn(t,e,r,n),e.child;case 14:return o=e.type,a=Dn(o.type,e.pendingProps),In(t,e,o,a,r,n);case 15:return An(t,e,e.type,e.pendingProps,r,n);case 17:return r=e.type,o=e.pendingProps,o=e.elementType===r?o:Dn(r,o),null!==t&&(t.alternate=null,e.alternate=null,e.effectTag|=2),e.tag=1,ge(r)?(t=!0,Se(e)):t=!1,en(e,n),ln(e,r,o,n),dn(e,r,o,n),Pn(null,e,r,!0,t,n);default:i("156")}}function jn(t){t.effectTag|=4}function Un(t,e){var n=e.source,r=e.stack;null===r&&null!==n&&(r=rt(n)),null!==n&&nt(n.type),e=e.value,null!==t&&1===t.tag&&nt(t.type);try{console.error(e)}catch(t){setTimeout(function(){throw t})}}function Fn(t){var e=t.ref;if(null!==e)if("function"===typeof e)try{e(null)}catch(e){Jn(t,e)}else e.current=null}function Bn(t){switch("function"===typeof ia&&ia(t),t.tag){case 1:Fn(t);var e=t.stateNode;if("function"===typeof e.componentWillUnmount)try{e.props=t.memoizedProps,e.state=t.memoizedState,e.componentWillUnmount()}catch(e){Jn(t,e)}break;case 5:Fn(t);break;case 4:Vn(t)}}function qn(t){return 5===t.tag||3===t.tag||4===t.tag}function Wn(t){t:{for(var e=t.return;null!==e;){if(qn(e)){var n=e;break t}e=e.return}i("160"),n=void 0}var r=e=void 0;switch(n.tag){case 5:e=n.stateNode,r=!1;break;case 3:case 4:e=n.stateNode.containerInfo,r=!0;break;default:i("161")}16&n.effectTag&&(oe(e,""),n.effectTag&=-17);t:e:for(n=t;;){for(;null===n.sibling;){if(null===n.return||qn(n.return)){n=null;break t}n=n.return}for(n.sibling.return=n.return,n=n.sibling;5!==n.tag&&6!==n.tag;){if(2&n.effectTag)continue e;if(null===n.child||4===n.tag)continue e;n.child.return=n,n=n.child}if(!(2&n.effectTag)){n=n.stateNode;break t}}for(var o=t;;){if(5===o.tag||6===o.tag)if(n)if(r){var a=e,s=o.stateNode,u=n;8===a.nodeType?a.parentNode.insertBefore(s,u):a.insertBefore(s,u)}else e.insertBefore(o.stateNode,n);else r?(s=e,u=o.stateNode,8===s.nodeType?(a=s.parentNode,a.insertBefore(u,s)):(a=s,a.appendChild(u)),null!==(s=s._reactRootContainer)&&void 0!==s||null!==a.onclick||(a.onclick=fe)):e.appendChild(o.stateNode);else if(4!==o.tag&&null!==o.child){o.child.return=o,o=o.child;continue}if(o===t)break;for(;null===o.sibling;){if(null===o.return||o.return===t)return;o=o.return}o.sibling.return=o.return,o=o.sibling}}function Vn(t){for(var e=t,n=!1,r=void 0,o=void 0;;){if(!n){n=e.return;t:for(;;){switch(null===n&&i("160"),n.tag){case 5:r=n.stateNode,o=!1;break t;case 3:case 4:r=n.stateNode.containerInfo,o=!0;break t}n=n.return}n=!0}if(5===e.tag||6===e.tag){t:for(var a=e,s=a;;)if(Bn(s),null!==s.child&&4!==s.tag)s.child.return=s,s=s.child;else{if(s===a)break;for(;null===s.sibling;){if(null===s.return||s.return===a)break t;s=s.return}s.sibling.return=s.return,s=s.sibling}o?(a=r,s=e.stateNode,8===a.nodeType?a.parentNode.removeChild(s):a.removeChild(s)):r.removeChild(e.stateNode)}else if(4===e.tag?(r=e.stateNode.containerInfo,o=!0):Bn(e),null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break;for(;null===e.sibling;){if(null===e.return||e.return===t)return;e=e.return,4===e.tag&&(n=!1)}e.sibling.return=e.return,e=e.sibling}}function Hn(t,e){switch(e.tag){case 1:break;case 5:var n=e.stateNode;if(null!=n){var r=e.memoizedProps,o=null!==t?t.memoizedProps:r;t=e.type;var a=e.updateQueue;if(e.updateQueue=null,null!==a){for(n[Zr]=r,"input"===t&&"radio"===r.type&&null!=r.name&&dt(n,r),ue(t,o),e=ue(t,r),o=0;o<a.length;o+=2){var s=a[o],u=a[o+1];"style"===s?ae(n,u):"dangerouslySetInnerHTML"===s?Vo(n,u):"children"===s?oe(n,u):ct(n,s,u,e)}switch(t){case"input":pt(n,r);break;case"textarea":ee(n,r);break;case"select":t=n._wrapperState.wasMultiple,n._wrapperState.wasMultiple=!!r.multiple,a=r.value,null!=a?Jt(n,!!r.multiple,a,!1):t!==!!r.multiple&&(null!=r.defaultValue?Jt(n,!!r.multiple,r.defaultValue,!0):Jt(n,!!r.multiple,r.multiple?[]:"",!1))}}}break;case 6:null===e.stateNode&&i("162"),e.stateNode.nodeValue=e.memoizedProps;break;case 3:case 12:case 13:case 17:break;default:i("163")}}function zn(t,e,n){n=Ve(n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){vr(r),Un(t,e)},n}function Kn(t,e,n){n=Ve(n),n.tag=3;var r=t.type.getDerivedStateFromError;if("function"===typeof r){var i=e.value;n.payload=function(){return r(i)}}var o=t.stateNode;return null!==o&&"function"===typeof o.componentDidCatch&&(n.callback=function(){"function"!==typeof r&&(null===Ba?Ba=new Set([this]):Ba.add(this));var n=e.value,i=e.stack;Un(t,e),this.componentDidCatch(n,{componentStack:null!==i?i:""})}),n}function Gn(t){switch(t.tag){case 1:ge(t.type)&&be(t);var e=t.effectTag;return 1024&e?(t.effectTag=-1025&e|64,t):null;case 3:return an(t),_e(t),e=t.effectTag,0!==(64&e)&&i("285"),t.effectTag=-1025&e|64,t;case 5:return un(t),null;case 13:if(1024&(e=t.effectTag)){t.effectTag=-1025&e|64,e=t.alternate,e=null!==e?e.memoizedState:null;var n=t.memoizedState;return null===n?n={alreadyCaptured:!0,didTimeout:!1,timedOutAt:0}:e===n?n={alreadyCaptured:!0,didTimeout:n.didTimeout,timedOutAt:n.timedOutAt}:n.alreadyCaptured=!0,t.memoizedState=n,t}return null;case 4:return an(t),null;case 10:return tn(t),null;default:return null}}function Qn(){if(null!==Da)for(var t=Da.return;null!==t;){var e=t;switch(e.tag){case 1:var n=e.type.childContextTypes;null!==n&&void 0!==n&&be(e);break;case 3:an(e),_e(e);break;case 5:un(e);break;case 4:an(e);break;case 10:tn(e)}t=t.return}Na=null,Ma=0,La=-1,ja=!1,Da=null}function Yn(t){for(;;){var e=t.alternate,n=t.return,r=t.sibling;if(0===(512&t.effectTag)){var o=e;e=t;var a=e.pendingProps;switch(e.tag){case 2:case 16:break;case 15:case 0:break;case 1:ge(e.type)&&be(e);break;case 3:an(e),_e(e),a=e.stateNode,a.pendingContext&&(a.context=a.pendingContext,a.pendingContext=null),null!==o&&null!==o.child||(wn(e),e.effectTag&=-3),Ca(e);break;case 5:un(e);var s=rn(da.current),u=e.type;if(null!==o&&null!=e.stateNode)Ia(o,e,u,a,s),o.ref!==e.ref&&(e.effectTag|=128);else if(a){var c=rn(la.current);if(wn(e)){a=e,o=a.stateNode;var f=a.type,l=a.memoizedProps,h=s;switch(o[Jr]=a,o[Zr]=l,u=void 0,s=f){case"iframe":case"object":Ut("load",o);break;case"video":case"audio":for(f=0;f<ui.length;f++)Ut(ui[f],o);break;case"source":Ut("error",o);break;case"img":case"image":case"link":Ut("error",o),Ut("load",o);break;case"form":Ut("reset",o),Ut("submit",o);break;case"details":Ut("toggle",o);break;case"input":ht(o,l),Ut("invalid",o),ce(h,"onChange");break;case"select":o._wrapperState={wasMultiple:!!l.multiple},Ut("invalid",o),ce(h,"onChange");break;case"textarea":te(o,l),Ut("invalid",o),ce(h,"onChange")}se(s,l),f=null;for(u in l)l.hasOwnProperty(u)&&(c=l[u],"children"===u?"string"===typeof c?o.textContent!==c&&(f=["children",c]):"number"===typeof c&&o.textContent!==""+c&&(f=["children",""+c]):Hr.hasOwnProperty(u)&&null!=c&&ce(h,u));switch(s){case"input":Z(o),yt(o,l,!0);break;case"textarea":Z(o),ne(o,l);break;case"select":case"option":break;default:"function"===typeof l.onClick&&(o.onclick=fe)}u=f,a.updateQueue=u,a=null!==u,a&&jn(e)}else{l=e,o=u,h=a,f=9===s.nodeType?s:s.ownerDocument,c===qo.html&&(c=re(o)),c===qo.html?"script"===o?(o=f.createElement("div"),o.innerHTML="<script><\/script>",f=o.removeChild(o.firstChild)):"string"===typeof h.is?f=f.createElement(o,{is:h.is}):(f=f.createElement(o),"select"===o&&h.multiple&&(f.multiple=!0)):f=f.createElementNS(c,o),o=f,o[Jr]=l,o[Zr]=a,Ta(o,e,!1,!1),h=o,f=u,l=a;var d=s,p=ue(f,l);switch(f){case"iframe":case"object":Ut("load",h),s=l;break;case"video":case"audio":for(s=0;s<ui.length;s++)Ut(ui[s],h);s=l;break;case"source":Ut("error",h),s=l;break;case"img":case"image":case"link":Ut("error",h),Ut("load",h),s=l;break;case"form":Ut("reset",h),Ut("submit",h),s=l;break;case"details":Ut("toggle",h),s=l;break;case"input":ht(h,l),s=lt(h,l),Ut("invalid",h),ce(d,"onChange");break;case"option":s=$t(h,l);break;case"select":h._wrapperState={wasMultiple:!!l.multiple},s=Dr({},l,{value:void 0}),Ut("invalid",h),ce(d,"onChange");break;case"textarea":te(h,l),s=Zt(h,l),Ut("invalid",h),ce(d,"onChange");break;default:s=l}se(f,s),c=void 0;var y=f,m=h,v=s;for(c in v)if(v.hasOwnProperty(c)){var g=v[c];"style"===c?ae(m,g):"dangerouslySetInnerHTML"===c?null!=(g=g?g.__html:void 0)&&Vo(m,g):"children"===c?"string"===typeof g?("textarea"!==y||""!==g)&&oe(m,g):"number"===typeof g&&oe(m,""+g):"suppressContentEditableWarning"!==c&&"suppressHydrationWarning"!==c&&"autoFocus"!==c&&(Hr.hasOwnProperty(c)?null!=g&&ce(d,c):null!=g&&ct(m,c,g,p))}switch(f){case"input":Z(h),yt(h,l,!1);break;case"textarea":Z(h),ne(h,l);break;case"option":null!=l.value&&h.setAttribute("value",""+ft(l.value));break;case"select":s=h,s.multiple=!!l.multiple,h=l.value,null!=h?Jt(s,!!l.multiple,h,!1):null!=l.defaultValue&&Jt(s,!!l.multiple,l.defaultValue,!0);break;default:"function"===typeof s.onClick&&(h.onclick=fe)}(a=le(u,a))&&jn(e),e.stateNode=o}null!==e.ref&&(e.effectTag|=128)}else null===e.stateNode&&i("166");break;case 6:o&&null!=e.stateNode?Aa(o,e,o.memoizedProps,a):("string"!==typeof a&&(null===e.stateNode&&i("166")),o=rn(da.current),rn(la.current),wn(e)?(a=e,u=a.stateNode,o=a.memoizedProps,u[Jr]=a,(a=u.nodeValue!==o)&&jn(e)):(u=e,a=(9===o.nodeType?o:o.ownerDocument).createTextNode(a),a[Jr]=e,u.stateNode=a));break;case 11:break;case 13:a=e.memoizedState,u=null!==o?o.memoizedState:null,(null!==a&&a.didTimeout)!==(null!==u&&u.didTimeout)&&(e.effectTag|=4);break;case 7:case 8:case 12:break;case 4:an(e),Ca(e);break;case 10:tn(e);break;case 9:case 14:break;case 17:ge(e.type)&&be(e);break;default:i("156")}if(Da=null,e=t,1073741823===Ma||1073741823!==e.childExpirationTime){for(a=0,u=e.child;null!==u;)o=u.expirationTime,s=u.childExpirationTime,(0===a||0!==o&&o<a)&&(a=o),(0===a||0!==s&&s<a)&&(a=s),u=u.sibling;e.childExpirationTime=a}null!==n&&0===(512&n.effectTag)&&(null===n.firstEffect&&(n.firstEffect=t.firstEffect),null!==t.lastEffect&&(null!==n.lastEffect&&(n.lastEffect.nextEffect=t.firstEffect),n.lastEffect=t.lastEffect),1<t.effectTag&&(null!==n.lastEffect?n.lastEffect.nextEffect=t:n.firstEffect=t,n.lastEffect=t))}else{if(null!==(t=Gn(t,Ma)))return t.effectTag&=511,t;null!==n&&(n.firstEffect=n.lastEffect=null,n.effectTag|=512)}if(null!==r)return r;if(null===n)break;t=n}return null}function Xn(t){var e=Ln(t.alternate,t,Ma);return t.memoizedProps=t.pendingProps,null===e&&(e=Yn(t)),ka.current=null,e}function $n(t,e,n){xa&&i("243"),xa=!0,ka.currentDispatcher=Oa;var r=t.nextExpirationTimeToWorkOn;r===Ma&&t===Na&&null!==Da||(Qn(),Na=t,Ma=r,Da=Pe(Na.current,null,Ma),t.pendingCommitExpirationTime=0);for(var o=!1;;){try{if(e)for(;null!==Da&&!mr();)Da=Xn(Da);else for(;null!==Da;)Da=Xn(Da)}catch(e){if(null===Da)o=!0,vr(e);else{null===Da&&i("271");var a=Da,s=a.return;if(null!==s){t:{var u=t,c=s,f=a,l=e;if(s=Ma,f.effectTag|=512,f.firstEffect=f.lastEffect=null,null!==l&&"object"===typeof l&&"function"===typeof l.then){var h=l;l=c;var d=-1,p=-1;do{if(13===l.tag){var y=l.alternate;if(null!==y&&null!==(y=y.memoizedState)&&y.didTimeout){p=10*(y.timedOutAt-2);break}y=l.pendingProps.maxDuration,"number"===typeof y&&(0>=y?d=0:(-1===d||y<d)&&(d=y))}l=l.return}while(null!==l);l=c;do{if((y=13===l.tag)&&(void 0===l.memoizedProps.fallback?y=!1:(y=l.memoizedState,y=null===y||!y.didTimeout)),y){if(c=tr.bind(null,u,l,f,0===(1&l.mode)?1:s),h.then(c,c),0===(1&l.mode)){l.effectTag|=32,Tn(f.alternate,f,null,s),f.effectTag&=-513,1===f.tag&&(f.effectTag&=-421,null===f.alternate&&(f.tag=17));break t}-1===d?u=1073741823:(-1===p&&(p=10*(Fe(u,s)-2)-5e3),u=p+d),0<=u&&La<u&&(La=u),l.effectTag|=1024,l.expirationTime=s;break t}l=l.return}while(null!==l);l=Error("An update was suspended, but no placeholder UI was provided.")}ja=!0,l=Je(l,f),u=c;do{switch(u.tag){case 3:f=l,u.effectTag|=1024,u.expirationTime=s,s=zn(u,f,s),Ke(u,s);break t;case 1:if(f=l,c=u.type,h=u.stateNode,0===(64&u.effectTag)&&("function"===typeof c.getDerivedStateFromError||null!==h&&"function"===typeof h.componentDidCatch&&(null===Ba||!Ba.has(h)))){u.effectTag|=1024,u.expirationTime=s,s=Kn(u,f,s),Ke(u,s);break t}}u=u.return}while(null!==u)}Da=Yn(a);continue}o=!0,vr(e)}}break}if(xa=!1,ca=ua=sa=ka.currentDispatcher=null,o)Na=null,t.finishedWork=null;else if(null!==Da)t.finishedWork=null;else{if(e=t.current.alternate,null===e&&i("281"),Na=null,ja){if(o=t.latestPendingTime,a=t.latestSuspendedTime,s=t.latestPingedTime,0!==o&&o>r||0!==a&&a>r||0!==s&&s>r)return Ue(t,r),void ar(t,e,r,t.expirationTime,-1);if(!t.didError&&!n)return t.didError=!0,r=t.nextExpirationTimeToWorkOn=r,n=t.expirationTime=1,void ar(t,e,r,n,-1)}n||-1===La?(t.pendingCommitExpirationTime=r,t.finishedWork=e):(Ue(t,r),n=10*(Fe(t,r)-2),n<La&&(La=n),n=10*(ur()-2),n=La-n,ar(t,e,r,t.expirationTime,0>n?0:n))}}function Jn(t,e){var n;t:{for(xa&&!Fa&&i("263"),n=t.return;null!==n;){switch(n.tag){case 1:var r=n.stateNode;if("function"===typeof n.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Ba||!Ba.has(r))){t=Je(e,t),t=Kn(n,t,1),ze(n,t),nr(n,1),n=void 0;break t}break;case 3:t=Je(e,t),t=zn(n,t,1),ze(n,t),nr(n,1),n=void 0;break t}n=n.return}3===t.tag&&(n=Je(e,t),n=zn(t,n,1),ze(t,n),nr(t,1)),n=void 0}return n}function Zn(t,e){return 0!==Pa?t=Pa:xa?t=Fa?1:Ma:1&e.mode?(t=es?2+10*(1+((t-2+15)/10|0)):2+25*(1+((t-2+500)/25|0)),null!==Na&&t===Ma&&(t+=1)):t=1,es&&t>Qa&&(Qa=t),t}function tr(t,e,n,r){var i=t.earliestSuspendedTime,o=t.latestSuspendedTime;if(0!==i&&r>=i&&r<=o){o=i=r,t.didError=!1;var a=t.latestPingedTime;(0===a||a<o)&&(t.latestPingedTime=o),Be(o,t)}else i=ur(),i=Zn(i,e),je(t,i);0!==(1&e.mode)&&t===Na&&Ma===r&&(Na=null),er(e,i),0===(1&e.mode)&&(er(n,i),1===n.tag&&null!==n.stateNode&&(e=Ve(i),e.tag=2,ze(n,e))),0!==(n=t.expirationTime)&&cr(t,n)}function er(t,e){(0===t.expirationTime||t.expirationTime>e)&&(t.expirationTime=e);var n=t.alternate;null!==n&&(0===n.expirationTime||n.expirationTime>e)&&(n.expirationTime=e);var r=t.return,i=null;if(null===r&&3===t.tag)i=t.stateNode;else for(;null!==r;){if(n=r.alternate,(0===r.childExpirationTime||r.childExpirationTime>e)&&(r.childExpirationTime=e),null!==n&&(0===n.childExpirationTime||n.childExpirationTime>e)&&(n.childExpirationTime=e),null===r.return&&3===r.tag){i=r.stateNode;break}r=r.return}return null===i?null:i}function nr(t,e){null!==(t=er(t,e))&&(!xa&&0!==Ma&&e<Ma&&Qn(),je(t,e),xa&&!Fa&&Na===t||cr(t,t.expirationTime),ss>as&&(ss=0,i("185")))}function rr(t,e,n,r,i){var o=Pa;Pa=1;try{return t(e,n,r,i)}finally{Pa=o}}function ir(){is=2+((Nr.unstable_now()-rs)/10|0)}function or(t,e){if(0!==Va){if(e>Va)return;null!==Ha&&Nr.unstable_cancelCallback(Ha)}Va=e,t=Nr.unstable_now()-rs,Ha=Nr.unstable_scheduleCallback(lr,{timeout:10*(e-2)-t})}function ar(t,e,n,r,i){t.expirationTime=r,0!==i||mr()?0<i&&(t.timeoutHandle=Yo(sr.bind(null,t,e,n),i)):(t.pendingCommitExpirationTime=n,t.finishedWork=e)}function sr(t,e,n){t.pendingCommitExpirationTime=n,t.finishedWork=e,ir(),os=is,dr(t,n)}function ur(){return za?os:(fr(),0!==Ga&&1073741823!==Ga||(ir(),os=is),os)}function cr(t,e){if(null===t.nextScheduledRoot)t.expirationTime=e,null===Wa?(qa=Wa=t,t.nextScheduledRoot=t):(Wa=Wa.nextScheduledRoot=t,Wa.nextScheduledRoot=qa);else{var n=t.expirationTime;(0===n||e<n)&&(t.expirationTime=e)}za||(Za?ts&&(Ka=t,Ga=1,pr(t,1,!0)):1===e?hr(1,null):or(t,e))}function fr(){var t=0,e=null;if(null!==Wa)for(var n=Wa,r=qa;null!==r;){var o=r.expirationTime;if(0===o){if((null===n||null===Wa)&&i("244"),r===r.nextScheduledRoot){qa=Wa=r.nextScheduledRoot=null;break}if(r===qa)qa=o=r.nextScheduledRoot,Wa.nextScheduledRoot=o,r.nextScheduledRoot=null;else{if(r===Wa){Wa=n,Wa.nextScheduledRoot=qa,r.nextScheduledRoot=null;break}n.nextScheduledRoot=r.nextScheduledRoot,r.nextScheduledRoot=null}r=n.nextScheduledRoot}else{if((0===t||o<t)&&(t=o,e=r),r===Wa)break;if(1===t)break;n=r,r=r.nextScheduledRoot}}Ka=e,Ga=t}function lr(t){if(t.didTimeout&&null!==qa){ir();var e=qa;do{var n=e.expirationTime;0!==n&&is>=n&&(e.nextExpirationTimeToWorkOn=is),e=e.nextScheduledRoot}while(e!==qa)}hr(0,t)}function hr(t,e){if(Ja=e,fr(),null!==Ja)for(ir(),os=is;null!==Ka&&0!==Ga&&(0===t||t>=Ga)&&(!Ya||is>=Ga);)pr(Ka,Ga,is>=Ga),fr(),ir(),os=is;else for(;null!==Ka&&0!==Ga&&(0===t||t>=Ga);)pr(Ka,Ga,!0),fr();if(null!==Ja&&(Va=0,Ha=null),0!==Ga&&or(Ka,Ga),Ja=null,Ya=!1,ss=0,us=null,null!==ns)for(t=ns,ns=null,e=0;e<t.length;e++){var n=t[e];try{n._onComplete()}catch(t){Xa||(Xa=!0,$a=t)}}if(Xa)throw t=$a,$a=null,Xa=!1,t}function dr(t,e){za&&i("253"),Ka=t,Ga=e,pr(t,e,!0),hr(1,null)}function pr(t,e,n){if(za&&i("245"),za=!0,null===Ja||n){var r=t.finishedWork;null!==r?yr(t,r,e):(t.finishedWork=null,r=t.timeoutHandle,-1!==r&&(t.timeoutHandle=-1,Xo(r)),$n(t,!1,n),null!==(r=t.finishedWork)&&yr(t,r,e))}else r=t.finishedWork,null!==r?yr(t,r,e):(t.finishedWork=null,r=t.timeoutHandle,-1!==r&&(t.timeoutHandle=-1,Xo(r)),$n(t,!0,n),null!==(r=t.finishedWork)&&(mr()?t.finishedWork=r:yr(t,r,e)));za=!1}function yr(t,e,n){var r=t.firstBatch;if(null!==r&&r._expirationTime<=n&&(null===ns?ns=[r]:ns.push(r),r._defer))return t.finishedWork=e,void(t.expirationTime=0);t.finishedWork=null,t===us?ss++:(us=t,ss=0),Fa=xa=!0,t.current===e&&i("177");var o=t.pendingCommitExpirationTime;0===o&&i("261"),t.pendingCommitExpirationTime=0;var a=e.expirationTime,s=e.childExpirationTime,u=0===a||0!==s&&s<a?s:a;if(t.didError=!1,0===u)t.earliestPendingTime=0,t.latestPendingTime=0,t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0;else{var c=t.latestPendingTime;0!==c&&(c<u?t.earliestPendingTime=t.latestPendingTime=0:t.earliestPendingTime<u&&(t.earliestPendingTime=t.latestPendingTime));var f=t.earliestSuspendedTime;0===f?je(t,u):u>t.latestSuspendedTime?(t.earliestSuspendedTime=0,t.latestSuspendedTime=0,t.latestPingedTime=0,je(t,u)):u<f&&je(t,u)}if(Be(0,t),ka.current=null,1<e.effectTag)if(null!==e.lastEffect){e.lastEffect.nextEffect=e;var l=e.firstEffect}else l=e;else l=e.firstEffect;Go=Ro;var h=Gt();if(Qt(h)){if("selectionStart"in h)var d={start:h.selectionStart,end:h.selectionEnd};else t:{var p=h.ownerDocument,y=p&&p.defaultView||window,m=y.getSelection&&y.getSelection();if(m&&0!==m.rangeCount){var v=m.anchorNode,g=m.anchorOffset,b=m.focusNode,_=m.focusOffset;try{v.nodeType,b.nodeType}catch(t){d=null;break t}var w=0,E=-1,S=-1,T=0,C=0,I=h,A=null;e:for(;;){for(var O;I!==v||0!==g&&3!==I.nodeType||(E=w+g),I!==b||0!==_&&3!==I.nodeType||(S=w+_),3===I.nodeType&&(w+=I.nodeValue.length),null!==(O=I.firstChild);)A=I,I=O;for(;;){if(I===h)break e;if(A===v&&++T===g&&(E=w),A===b&&++C===_&&(S=w),null!==(O=I.nextSibling))break;I=A,A=I.parentNode}I=O}d=-1===E||-1===S?null:{start:E,end:S}}else d=null}var k=d||{start:0,end:0}}else k=null;for(Qo={focusedElem:h,selectionRange:k},Ro=!1,Ua=l;null!==Ua;){var R=!1,P=void 0;try{for(;null!==Ua;){if(256&Ua.effectTag){var x=Ua.alternate;t:{var D=Ua;switch(D.tag){case 1:if(256&D.effectTag&&null!==x){var N=x.memoizedProps,M=x.memoizedState,L=D.stateNode;L.props=D.memoizedProps,L.state=D.memoizedState;var j=L.getSnapshotBeforeUpdate(N,M);L.__reactInternalSnapshotBeforeUpdate=j}break t;case 3:case 5:case 6:case 4:case 17:break t;default:i("163")}}}Ua=Ua.nextEffect}}catch(t){R=!0,P=t}R&&(null===Ua&&i("178"),Jn(Ua,P),null!==Ua&&(Ua=Ua.nextEffect))}for(Ua=l;null!==Ua;){var U=!1,F=void 0;try{for(;null!==Ua;){var B=Ua.effectTag;if(16&B&&oe(Ua.stateNode,""),128&B){var q=Ua.alternate;if(null!==q){var W=q.ref;null!==W&&("function"===typeof W?W(null):W.current=null)}}switch(14&B){case 2:Wn(Ua),Ua.effectTag&=-3;break;case 6:Wn(Ua),Ua.effectTag&=-3,Hn(Ua.alternate,Ua);break;case 4:Hn(Ua.alternate,Ua);break;case 8:var V=Ua;Vn(V);var H=V;H.return=null,H.child=null,H.alternate&&(H.alternate.child=null,H.alternate.return=null)}Ua=Ua.nextEffect}}catch(t){U=!0,F=t}U&&(null===Ua&&i("178"),Jn(Ua,F),null!==Ua&&(Ua=Ua.nextEffect))}var z=Qo,K=Gt(),G=z.focusedElem,Q=z.selectionRange;if(K!==G&&G&&G.ownerDocument&&Kt(G.ownerDocument.documentElement,G)){if(null!==Q&&Qt(G)){var Y=Q.start,X=Q.end;if(void 0===X&&(X=Y),"selectionStart"in G)G.selectionStart=Y,G.selectionEnd=Math.min(X,G.value.length);else{var $=G.ownerDocument||document,J=($&&$.defaultView||window).getSelection(),Z=G.textContent.length,tt=Math.min(Q.start,Z),et=void 0===Q.end?tt:Math.min(Q.end,Z);if(!J.extend&&tt>et){var nt=et;et=tt,tt=nt}var rt=zt(G,tt),it=zt(G,et);if(rt&&it&&(1!==J.rangeCount||J.anchorNode!==rt.node||J.anchorOffset!==rt.offset||J.focusNode!==it.node||J.focusOffset!==it.offset)){var ot=$.createRange();ot.setStart(rt.node,rt.offset),J.removeAllRanges(),tt>et?(J.addRange(ot),J.extend(it.node,it.offset)):(ot.setEnd(it.node,it.offset),J.addRange(ot))}}}for(var at=[],st=G;st=st.parentNode;)1===st.nodeType&&at.push({element:st,left:st.scrollLeft,top:st.scrollTop});"function"===typeof G.focus&&G.focus();for(var ut=0;ut<at.length;ut++){var ct=at[ut];ct.element.scrollLeft=ct.left,ct.element.scrollTop=ct.top}}for(Qo=null,Ro=!!Go,Go=null,t.current=e,Ua=l;null!==Ua;){var ft=!1,lt=void 0;try{for(var ht=o;null!==Ua;){var dt=Ua.effectTag;if(36&dt){var pt=void 0,yt=Ua.alternate,mt=Ua,vt=ht;switch(mt.tag){case 1:var gt=mt.stateNode;if(4&mt.effectTag)if(null===yt)gt.props=mt.memoizedProps,gt.state=mt.memoizedState,gt.componentDidMount();else{var bt=yt.memoizedProps,_t=yt.memoizedState;gt.props=mt.memoizedProps,gt.state=mt.memoizedState,gt.componentDidUpdate(bt,_t,gt.__reactInternalSnapshotBeforeUpdate)}var wt=mt.updateQueue;null!==wt&&(gt.props=mt.memoizedProps,gt.state=mt.memoizedState,Xe(mt,wt,gt,vt));break;case 3:var Et=mt.updateQueue;if(null!==Et){var St=null;if(null!==mt.child)switch(mt.child.tag){case 5:St=mt.child.stateNode;break;case 1:St=mt.child.stateNode}Xe(mt,Et,St,vt)}break;case 5:var Tt=mt.stateNode;null===yt&&4&mt.effectTag&&le(mt.type,mt.memoizedProps)&&Tt.focus();break;case 6:case 4:case 12:break;case 13:if(32&mt.effectTag){mt.memoizedState={alreadyCaptured:!0,didTimeout:!1,timedOutAt:0},nr(mt,1);break}var Ct=null!==yt?yt.memoizedState:null,It=mt.memoizedState,At=null!==Ct&&Ct.didTimeout,Ot=mt;if(null===It?pt=!1:(pt=It.didTimeout)&&(Ot=mt.child,It.alreadyCaptured=!1,0===It.timedOutAt&&(It.timedOutAt=ur())),pt!==At&&null!==Ot)t:for(var kt=Ot,Rt=pt,Pt=kt;;){if(5===Pt.tag){var xt=Pt.stateNode;if(Rt)xt.style.display="none";else{var Dt=Pt.stateNode,Nt=Pt.memoizedProps.style,Mt=void 0!==Nt&&null!==Nt&&Nt.hasOwnProperty("display")?Nt.display:null;Dt.style.display=Mt}}else if(6===Pt.tag)Pt.stateNode.nodeValue=Rt?"":Pt.memoizedProps;else if(null!==Pt.child){Pt.child.return=Pt,Pt=Pt.child;continue}if(Pt===kt)break t;for(;null===Pt.sibling;){if(null===Pt.return||Pt.return===kt)break t;Pt=Pt.return}Pt.sibling.return=Pt.return,Pt=Pt.sibling}break;case 17:break;default:i("163")}}if(128&dt){var Lt=Ua.ref;if(null!==Lt){var jt=Ua.stateNode;switch(Ua.tag){case 5:var Ut=jt;break;default:Ut=jt}"function"===typeof Lt?Lt(Ut):Lt.current=Ut}}var Ft=Ua.nextEffect;Ua.nextEffect=null,Ua=Ft}}catch(t){ft=!0,lt=t}ft&&(null===Ua&&i("178"),Jn(Ua,lt),null!==Ua&&(Ua=Ua.nextEffect))}xa=Fa=!1,"function"===typeof ra&&ra(e.stateNode);var Bt=e.expirationTime,qt=e.childExpirationTime,Wt=0===Bt||0!==qt&&qt<Bt?qt:Bt;0===Wt&&(Ba=null),t.expirationTime=Wt,t.finishedWork=null}function mr(){return!!Ya||!(null===Ja||Ja.timeRemaining()>cs)&&(Ya=!0)}function vr(t){null===Ka&&i("246"),Ka.expirationTime=0,Xa||(Xa=!0,$a=t)}function gr(t,e){var n=Za;Za=!0;try{return t(e)}finally{(Za=n)||za||hr(1,null)}}function br(t,e){if(Za&&!ts){ts=!0;try{return t(e)}finally{ts=!1}}return t(e)}function _r(t,e,n){if(es)return t(e,n);Za||za||0===Qa||(hr(Qa,null),Qa=0);var r=es,i=Za;Za=es=!0;try{return t(e,n)}finally{es=r,(Za=i)||za||hr(1,null)}}function wr(t,e,n,r,o){var a=e.current;t:if(n){n=n._reactInternalFiber;e:{2===Pt(n)&&1===n.tag||i("170");var s=n;do{switch(s.tag){case 3:s=s.stateNode.context;break e;case 1:if(ge(s.type)){s=s.stateNode.__reactInternalMemoizedMergedChildContext;break e}}s=s.return}while(null!==s);i("171"),s=void 0}if(1===n.tag){var u=n.type;if(ge(u)){n=Ee(n,u,s);break t}}n=s}else n=Zo;return null===e.context?e.context=n:e.pendingContext=n,e=o,o=Ve(r),o.payload={element:t},e=void 0===e?null:e,null!==e&&(o.callback=e),ze(a,o),nr(a,r),r}function Er(t,e,n,r){var i=e.current;return i=Zn(ur(),i),wr(t,e,n,i,r)}function Sr(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:default:return t.child.stateNode}}function Tr(t,e,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:Di,key:null==r?null:""+r,children:t,containerInfo:e,implementation:n}}function Cr(t){var e=2+25*(1+((ur()-2+500)/25|0));e<=Ra&&(e=Ra+1),this._expirationTime=Ra=e,this._root=t,this._callbacks=this._next=null,this._hasChildren=this._didComplete=!1,this._children=null,this._defer=!0}function Ir(){this._callbacks=null,this._didCommit=!1,this._onCommit=this._onCommit.bind(this)}function Ar(t,e,n){e=Oe(3,null,null,e?3:0),t={current:e,containerInfo:t,pendingChildren:null,earliestPendingTime:0,latestPendingTime:0,earliestSuspendedTime:0,latestSuspendedTime:0,latestPingedTime:0,didError:!1,pendingCommitExpirationTime:0,finishedWork:null,timeoutHandle:-1,context:null,pendingContext:null,hydrate:n,nextExpirationTimeToWorkOn:0,expirationTime:0,firstBatch:null,nextScheduledRoot:null},this._internalRoot=e.stateNode=t}function Or(t){return!(!t||1!==t.nodeType&&9!==t.nodeType&&11!==t.nodeType&&(8!==t.nodeType||" react-mount-point-unstable "!==t.nodeValue))}function kr(t,e){if(e||(e=t?9===t.nodeType?t.documentElement:t.firstChild:null,e=!(!e||1!==e.nodeType||!e.hasAttribute("data-reactroot"))),!e)for(var n;n=t.lastChild;)t.removeChild(n);return new Ar(t,!1,e)}function Rr(t,e,n,r,o){Or(n)||i("200");var a=n._reactRootContainer;if(a){if("function"===typeof o){var s=o;o=function(){var t=Sr(a._internalRoot);s.call(t)}}null!=t?a.legacy_renderSubtreeIntoContainer(t,e,o):a.render(e,o)}else{if(a=n._reactRootContainer=kr(n,r),"function"===typeof o){var u=o;o=function(){var t=Sr(a._internalRoot);u.call(t)}}br(function(){null!=t?a.legacy_renderSubtreeIntoContainer(t,e,o):a.render(e,o)})}return Sr(a._internalRoot)}function Pr(t,e){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;return Or(e)||i("200"),Tr(t,e,null,n)}var xr=n(3),Dr=n(97),Nr=n(299);xr||i("227");var Mr=!1,Lr=null,jr=!1,Ur=null,Fr={onError:function(t){Mr=!0,Lr=t}},Br=null,qr={},Wr=[],Vr={},Hr={},zr={},Kr=null,Gr=null,Qr=null,Yr=null,Xr={injectEventPluginOrder:function(t){Br&&i("101"),Br=Array.prototype.slice.call(t),u()},injectEventPluginsByName:function(t){var e,n=!1;for(e in t)if(t.hasOwnProperty(e)){var r=t[e];qr.hasOwnProperty(e)&&qr[e]===r||(qr[e]&&i("102",e),qr[e]=r,n=!0)}n&&u()}},$r=Math.random().toString(36).slice(2),Jr="__reactInternalInstance$"+$r,Zr="__reactEventHandlers$"+$r,ti=!("undefined"===typeof window||!window.document||!window.document.createElement),ei={animationend:O("Animation","AnimationEnd"),animationiteration:O("Animation","AnimationIteration"),animationstart:O("Animation","AnimationStart"),transitionend:O("Transition","TransitionEnd")},ni={},ri={};ti&&(ri=document.createElement("div").style,"AnimationEvent"in window||(delete ei.animationend.animation,delete ei.animationiteration.animation,delete ei.animationstart.animation),"TransitionEvent"in window||delete ei.transitionend.transition);var ii=k("animationend"),oi=k("animationiteration"),ai=k("animationstart"),si=k("transitionend"),ui="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ci=null,fi=null,li=null;Dr(D.prototype,{preventDefault:function(){this.defaultPrevented=!0;var t=this.nativeEvent;t&&(t.preventDefault?t.preventDefault():"unknown"!==typeof t.returnValue&&(t.returnValue=!1),this.isDefaultPrevented=P)},stopPropagation:function(){var t=this.nativeEvent;t&&(t.stopPropagation?t.stopPropagation():"unknown"!==typeof t.cancelBubble&&(t.cancelBubble=!0),this.isPropagationStopped=P)},persist:function(){this.isPersistent=P},isPersistent:x,destructor:function(){var t,e=this.constructor.Interface;for(t in e)this[t]=null;this.nativeEvent=this._targetInst=this.dispatchConfig=null,this.isPropagationStopped=this.isDefaultPrevented=x,this._dispatchInstances=this._dispatchListeners=null}}),D.Interface={type:null,target:null,currentTarget:function(){return null},eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null},D.extend=function(t){function e(){}function n(){return r.apply(this,arguments)}var r=this;e.prototype=r.prototype;var i=new e;return Dr(i,n.prototype),n.prototype=i,n.prototype.constructor=n,n.Interface=Dr({},r.Interface,t),n.extend=r.extend,L(n),n},L(D);var hi=D.extend({data:null}),di=D.extend({data:null}),pi=[9,13,27,32],yi=ti&&"CompositionEvent"in window,mi=null;ti&&"documentMode"in document&&(mi=document.documentMode);var vi=ti&&"TextEvent"in window&&!mi,gi=ti&&(!yi||mi&&8<mi&&11>=mi),bi=String.fromCharCode(32),_i={beforeInput:{phasedRegistrationNames:{bubbled:"onBeforeInput",captured:"onBeforeInputCapture"},dependencies:["compositionend","keypress","textInput","paste"]},compositionEnd:{phasedRegistrationNames:{bubbled:"onCompositionEnd",captured:"onCompositionEndCapture"},dependencies:"blur compositionend keydown keypress keyup mousedown".split(" ")},compositionStart:{phasedRegistrationNames:{bubbled:"onCompositionStart",captured:"onCompositionStartCapture"},dependencies:"blur compositionstart keydown keypress keyup mousedown".split(" ")},compositionUpdate:{phasedRegistrationNames:{bubbled:"onCompositionUpdate",captured:"onCompositionUpdateCapture"},dependencies:"blur compositionupdate keydown keypress keyup mousedown".split(" ")}},wi=!1,Ei=!1,Si={eventTypes:_i,extractEvents:function(t,e,n,r){var i=void 0,o=void 0;if(yi)t:{switch(t){case"compositionstart":i=_i.compositionStart;break t;case"compositionend":i=_i.compositionEnd;break t;case"compositionupdate":i=_i.compositionUpdate;break t}i=void 0}else Ei?j(t,n)&&(i=_i.compositionEnd):"keydown"===t&&229===n.keyCode&&(i=_i.compositionStart);return i?(gi&&"ko"!==n.locale&&(Ei||i!==_i.compositionStart?i===_i.compositionEnd&&Ei&&(o=R()):(ci=r,fi="value"in ci?ci.value:ci.textContent,Ei=!0)),i=hi.getPooled(i,e,n,r),o?i.data=o:null!==(o=U(n))&&(i.data=o),A(i),o=i):o=null,(t=vi?F(t,n):B(t,n))?(e=di.getPooled(_i.beforeInput,e,n,r),e.data=t,A(e)):e=null,null===o?e:null===e?o:[o,e]}},Ti=null,Ci=null,Ii=null,Ai=!1,Oi={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0},ki=xr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ri=/^(.*)[\\\/]/,Pi="function"===typeof Symbol&&Symbol.for,xi=Pi?Symbol.for("react.element"):60103,Di=Pi?Symbol.for("react.portal"):60106,Ni=Pi?Symbol.for("react.fragment"):60107,Mi=Pi?Symbol.for("react.strict_mode"):60108,Li=Pi?Symbol.for("react.profiler"):60114,ji=Pi?Symbol.for("react.provider"):60109,Ui=Pi?Symbol.for("react.context"):60110,Fi=Pi?Symbol.for("react.concurrent_mode"):60111,Bi=Pi?Symbol.for("react.forward_ref"):60112,qi=Pi?Symbol.for("react.suspense"):60113,Wi=Pi?Symbol.for("react.memo"):60115,Vi=Pi?Symbol.for("react.lazy"):60116,Hi="function"===typeof Symbol&&Symbol.iterator,zi=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Ki=Object.prototype.hasOwnProperty,Gi={},Qi={},Yi={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Yi[t]=new st(t,0,!1,t,null)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Yi[e]=new st(e,1,!1,t[1],null)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){Yi[t]=new st(t,2,!1,t.toLowerCase(),null)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Yi[t]=new st(t,2,!1,t,null)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Yi[t]=new st(t,3,!1,t.toLowerCase(),null)}),["checked","multiple","muted","selected"].forEach(function(t){Yi[t]=new st(t,3,!0,t,null)}),["capture","download"].forEach(function(t){Yi[t]=new st(t,4,!1,t,null)}),["cols","rows","size","span"].forEach(function(t){Yi[t]=new st(t,6,!1,t,null)}),["rowSpan","start"].forEach(function(t){Yi[t]=new st(t,5,!1,t.toLowerCase(),null)});var Xi=/[\-:]([a-z])/g;"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Xi,ut);Yi[e]=new st(e,1,!1,t,null)}),"xlink:actuate xlink:arcrole xlink:href xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Xi,ut);Yi[e]=new st(e,1,!1,t,"http://www.w3.org/1999/xlink")}),["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Xi,ut);Yi[e]=new st(e,1,!1,t,"http://www.w3.org/XML/1998/namespace")}),Yi.tabIndex=new st("tabIndex",1,!1,"tabindex",null);var $i={change:{phasedRegistrationNames:{bubbled:"onChange",captured:"onChangeCapture"},dependencies:"blur change click focus input keydown keyup selectionchange".split(" ")}},Ji=null,Zi=null,to=!1;ti&&(to=X("input")&&(!document.documentMode||9<document.documentMode));var eo={eventTypes:$i,_isInputEventSupported:to,extractEvents:function(t,e,n,r){var i=e?_(e):window,o=void 0,a=void 0,s=i.nodeName&&i.nodeName.toLowerCase();if("select"===s||"input"===s&&"file"===i.type?o=_t:Q(i)?to?o=It:(o=Tt,a=St):(s=i.nodeName)&&"input"===s.toLowerCase()&&("checkbox"===i.type||"radio"===i.type)&&(o=Ct),o&&(o=o(t,e)))return vt(o,n,r);a&&a(t,i,e),"blur"===t&&(t=i._wrapperState)&&t.controlled&&"number"===i.type&&mt(i,"number",i.value)}},no=D.extend({view:null,detail:null}),ro={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"},io=0,oo=0,ao=!1,so=!1,uo=no.extend({screenX:null,screenY:null,clientX:null,clientY:null,pageX:null,pageY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:Ot,button:null,buttons:null,relatedTarget:function(t){return t.relatedTarget||(t.fromElement===t.srcElement?t.toElement:t.fromElement)},movementX:function(t){if("movementX"in t)return t.movementX;var e=io;return io=t.screenX,ao?"mousemove"===t.type?t.screenX-e:0:(ao=!0,0)},movementY:function(t){if("movementY"in t)return t.movementY;var e=oo;return oo=t.screenY,so?"mousemove"===t.type?t.screenY-e:0:(so=!0,0)}}),co=uo.extend({pointerId:null,width:null,height:null,pressure:null,tangentialPressure:null,tiltX:null,tiltY:null,twist:null,pointerType:null,isPrimary:null}),fo={mouseEnter:{registrationName:"onMouseEnter",dependencies:["mouseout","mouseover"]},mouseLeave:{registrationName:"onMouseLeave",dependencies:["mouseout","mouseover"]},pointerEnter:{registrationName:"onPointerEnter",dependencies:["pointerout","pointerover"]},pointerLeave:{registrationName:"onPointerLeave",dependencies:["pointerout","pointerover"]}},lo={eventTypes:fo,extractEvents:function(t,e,n,r){var i="mouseover"===t||"pointerover"===t,o="mouseout"===t||"pointerout"===t;if(i&&(n.relatedTarget||n.fromElement)||!o&&!i)return null;if(i=r.window===r?r:(i=r.ownerDocument)?i.defaultView||i.parentWindow:window,o?(o=e,e=(e=n.relatedTarget||n.toElement)?g(e):null):o=null,o===e)return null;var a=void 0,s=void 0,u=void 0,c=void 0;"mouseout"===t||"mouseover"===t?(a=uo,s=fo.mouseLeave,u=fo.mouseEnter,c="mouse"):"pointerout"!==t&&"pointerover"!==t||(a=co,s=fo.pointerLeave,u=fo.pointerEnter,c="pointer");var f=null==o?i:_(o);if(i=null==e?i:_(e),t=a.getPooled(s,o,n,r),t.type=c+"leave",t.target=f,t.relatedTarget=i,n=a.getPooled(u,e,n,r),n.type=c+"enter",n.target=i,n.relatedTarget=f,r=e,o&&r)t:{for(e=o,i=r,c=0,a=e;a;a=E(a))c++;for(a=0,u=i;u;u=E(u))a++;for(;0<c-a;)e=E(e),c--;for(;0<a-c;)i=E(i),a--;for(;c--;){if(e===i||e===i.alternate)break t;e=E(e),i=E(i)}e=null}else e=null;for(i=e,e=[];o&&o!==i&&(null===(c=o.alternate)||c!==i);)e.push(o),o=E(o);for(o=[];r&&r!==i&&(null===(c=r.alternate)||c!==i);)o.push(r),r=E(r);for(r=0;r<e.length;r++)C(e[r],"bubbled",t);for(r=o.length;0<r--;)C(o[r],"captured",n);return[t,n]}},ho=Object.prototype.hasOwnProperty,po=D.extend({animationName:null,elapsedTime:null,pseudoElement:null}),yo=D.extend({clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),mo=no.extend({relatedTarget:null}),vo={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},go={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},bo=no.extend({key:function(t){if(t.key){var e=vo[t.key]||t.key;if("Unidentified"!==e)return e}return"keypress"===t.type?(t=Mt(t),13===t?"Enter":String.fromCharCode(t)):"keydown"===t.type||"keyup"===t.type?go[t.keyCode]||"Unidentified":""},location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:Ot,charCode:function(t){return"keypress"===t.type?Mt(t):0},keyCode:function(t){return"keydown"===t.type||"keyup"===t.type?t.keyCode:0},which:function(t){return"keypress"===t.type?Mt(t):"keydown"===t.type||"keyup"===t.type?t.keyCode:0}}),_o=uo.extend({dataTransfer:null}),wo=no.extend({touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:Ot}),Eo=D.extend({propertyName:null,elapsedTime:null,pseudoElement:null}),So=uo.extend({deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:null,deltaMode:null}),To=[["abort","abort"],[ii,"animationEnd"],[oi,"animationIteration"],[ai,"animationStart"],["canplay","canPlay"],["canplaythrough","canPlayThrough"],["drag","drag"],["dragenter","dragEnter"],["dragexit","dragExit"],["dragleave","dragLeave"],["dragover","dragOver"],["durationchange","durationChange"],["emptied","emptied"],["encrypted","encrypted"],["ended","ended"],["error","error"],["gotpointercapture","gotPointerCapture"],["load","load"],["loadeddata","loadedData"],["loadedmetadata","loadedMetadata"],["loadstart","loadStart"],["lostpointercapture","lostPointerCapture"],["mousemove","mouseMove"],["mouseout","mouseOut"],["mouseover","mouseOver"],["playing","playing"],["pointermove","pointerMove"],["pointerout","pointerOut"],["pointerover","pointerOver"],["progress","progress"],["scroll","scroll"],["seeking","seeking"],["stalled","stalled"],["suspend","suspend"],["timeupdate","timeUpdate"],["toggle","toggle"],["touchmove","touchMove"],[si,"transitionEnd"],["waiting","waiting"],["wheel","wheel"]],Co={},Io={};[["blur","blur"],["cancel","cancel"],["click","click"],["close","close"],["contextmenu","contextMenu"],["copy","copy"],["cut","cut"],["auxclick","auxClick"],["dblclick","doubleClick"],["dragend","dragEnd"],["dragstart","dragStart"],["drop","drop"],["focus","focus"],["input","input"],["invalid","invalid"],["keydown","keyDown"],["keypress","keyPress"],["keyup","keyUp"],["mousedown","mouseDown"],["mouseup","mouseUp"],["paste","paste"],["pause","pause"],["play","play"],["pointercancel","pointerCancel"],["pointerdown","pointerDown"],["pointerup","pointerUp"],["ratechange","rateChange"],["reset","reset"],["seeked","seeked"],["submit","submit"],["touchcancel","touchCancel"],["touchend","touchEnd"],["touchstart","touchStart"],["volumechange","volumeChange"]].forEach(function(t){Lt(t,!0)}),To.forEach(function(t){Lt(t,!1)});var Ao={eventTypes:Co,isInteractiveTopLevelEventType:function(t){return void 0!==(t=Io[t])&&!0===t.isInteractive},extractEvents:function(t,e,n,r){var i=Io[t];if(!i)return null;switch(t){case"keypress":if(0===Mt(n))return null;case"keydown":case"keyup":t=bo;break;case"blur":case"focus":t=mo;break;case"click":if(2===n.button)return null;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":t=uo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":t=_o;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":t=wo;break;case ii:case oi:case ai:t=po;break;case si:t=Eo;break;case"scroll":t=no;break;case"wheel":t=So;break;case"copy":case"cut":case"paste":t=yo;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":t=co;break;default:t=D}return e=t.getPooled(i,e,n,r),A(e),e}},Oo=Ao.isInteractiveTopLevelEventType,ko=[],Ro=!0,Po={},xo=0,Do="_reactListenersID"+(""+Math.random()).slice(2),No=ti&&"documentMode"in document&&11>=document.documentMode,Mo={select:{phasedRegistrationNames:{bubbled:"onSelect",captured:"onSelectCapture"},dependencies:"blur contextmenu dragend focus keydown keyup mousedown mouseup selectionchange".split(" ")}},Lo=null,jo=null,Uo=null,Fo=!1,Bo={eventTypes:Mo,extractEvents:function(t,e,n,r){var i,o=r.window===r?r.document:9===r.nodeType?r:r.ownerDocument;if(!(i=!o)){t:{o=Wt(o),i=zr.onSelect;for(var a=0;a<i.length;a++){var s=i[a];if(!o.hasOwnProperty(s)||!o[s]){o=!1;break t}}o=!0}i=!o}if(i)return null;switch(o=e?_(e):window,t){case"focus":(Q(o)||"true"===o.contentEditable)&&(Lo=o,jo=e,Uo=null);break;case"blur":Uo=jo=Lo=null;break;case"mousedown":Fo=!0;break;case"contextmenu":case"mouseup":case"dragend":return Fo=!1,Yt(n,r);case"selectionchange":if(No)break;case"keydown":case"keyup":return Yt(n,r)}return null}};Xr.injectEventPluginOrder("ResponderEventPlugin SimpleEventPlugin EnterLeaveEventPlugin ChangeEventPlugin SelectEventPlugin BeforeInputEventPlugin".split(" ")),Kr=w,Gr=b,Qr=_,Xr.injectEventPluginsByName({SimpleEventPlugin:Ao,EnterLeaveEventPlugin:lo,ChangeEventPlugin:eo,SelectEventPlugin:Bo,BeforeInputEventPlugin:Si});var qo={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"},Wo=void 0,Vo=function(t){return"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n)})}:t}(function(t,e){if(t.namespaceURI!==qo.svg||"innerHTML"in t)t.innerHTML=e;else{for(Wo=Wo||document.createElement("div"),Wo.innerHTML="<svg>"+e+"</svg>",e=Wo.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}}),Ho={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zo=["Webkit","ms","Moz","O"];Object.keys(Ho).forEach(function(t){zo.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ho[e]=Ho[t]})});var Ko=Dr({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0}),Go=null,Qo=null,Yo=setTimeout,Xo=clearTimeout;new Set;var $o=[],Jo=-1,Zo={},ta={current:Zo},ea={current:!1},na=Zo,ra=null,ia=null,oa=!1,aa={current:null},sa=null,ua=null,ca=null,fa={},la={current:fa},ha={current:fa},da={current:fa},pa=ki.ReactCurrentOwner,ya=(new xr.Component).refs,ma={isMounted:function(t){return!!(t=t._reactInternalFiber)&&2===Pt(t)},enqueueSetState:function(t,e,n){t=t._reactInternalFiber;var r=ur();r=Zn(r,t);var i=Ve(r);i.payload=e,void 0!==n&&null!==n&&(i.callback=n),ze(t,i),nr(t,r)},enqueueReplaceState:function(t,e,n){t=t._reactInternalFiber;var r=ur();r=Zn(r,t);var i=Ve(r);i.tag=1,i.payload=e,void 0!==n&&null!==n&&(i.callback=n),ze(t,i),nr(t,r)},enqueueForceUpdate:function(t,e){t=t._reactInternalFiber;var n=ur();n=Zn(n,t);var r=Ve(n);r.tag=2,void 0!==e&&null!==e&&(r.callback=e),ze(t,r),nr(t,n)}},va=Array.isArray,ga=mn(!0),ba=mn(!1),_a=null,wa=null,Ea=!1,Sa=ki.ReactCurrentOwner,Ta=void 0,Ca=void 0,Ia=void 0,Aa=void 0;Ta=function(t,e){for(var n=e.child;null!==n;){if(5===n.tag||6===n.tag)t.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===e)break;for(;null===n.sibling;){if(null===n.return||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},Ca=function(){},Ia=function(t,e,n,r,i){var o=t.memoizedProps;if(o!==r){var a=e.stateNode;switch(rn(la.current),t=null,n){case"input":o=lt(a,o),r=lt(a,r),t=[];break;case"option":o=$t(a,o),r=$t(a,r),t=[];break;case"select":o=Dr({},o,{value:void 0}),r=Dr({},r,{value:void 0}),t=[];break;case"textarea":o=Zt(a,o),r=Zt(a,r),t=[];break;default:"function"!==typeof o.onClick&&"function"===typeof r.onClick&&(a.onclick=fe)}se(n,r),a=n=void 0;var s=null;for(n in o)if(!r.hasOwnProperty(n)&&o.hasOwnProperty(n)&&null!=o[n])if("style"===n){var u=o[n];for(a in u)u.hasOwnProperty(a)&&(s||(s={}),s[a]="")}else"dangerouslySetInnerHTML"!==n&&"children"!==n&&"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&"autoFocus"!==n&&(Hr.hasOwnProperty(n)?t||(t=[]):(t=t||[]).push(n,null));for(n in r){var c=r[n];if(u=null!=o?o[n]:void 0,r.hasOwnProperty(n)&&c!==u&&(null!=c||null!=u))if("style"===n)if(u){for(a in u)!u.hasOwnProperty(a)||c&&c.hasOwnProperty(a)||(s||(s={}),s[a]="");for(a in c)c.hasOwnProperty(a)&&u[a]!==c[a]&&(s||(s={}),s[a]=c[a])}else s||(t||(t=[]),t.push(n,s)),s=c;else"dangerouslySetInnerHTML"===n?(c=c?c.__html:void 0,u=u?u.__html:void 0,null!=c&&u!==c&&(t=t||[]).push(n,""+c)):"children"===n?u===c||"string"!==typeof c&&"number"!==typeof c||(t=t||[]).push(n,""+c):"suppressContentEditableWarning"!==n&&"suppressHydrationWarning"!==n&&(Hr.hasOwnProperty(n)?(null!=c&&ce(i,n),t||u===c||(t=[])):(t=t||[]).push(n,c))}s&&(t=t||[]).push("style",s),i=t,(e.updateQueue=i)&&jn(e)}},Aa=function(t,e,n,r){n!==r&&jn(e)};var Oa={readContext:nn},ka=ki.ReactCurrentOwner,Ra=0,Pa=0,xa=!1,Da=null,Na=null,Ma=0,La=-1,ja=!1,Ua=null,Fa=!1,Ba=null,qa=null,Wa=null,Va=0,Ha=void 0,za=!1,Ka=null,Ga=0,Qa=0,Ya=!1,Xa=!1,$a=null,Ja=null,Za=!1,ts=!1,es=!1,ns=null,rs=Nr.unstable_now(),is=2+(rs/10|0),os=is,as=50,ss=0,us=null,cs=1;Ti=function(t,e,n){switch(e){case"input":if(pt(t,n),e=n.name,"radio"===n.type&&null!=e){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var o=w(r);o||i("90"),tt(r),pt(r,o)}}}break;case"textarea":ee(t,n);break;case"select":null!=(e=n.value)&&Jt(t,!!n.multiple,e,!1)}},Cr.prototype.render=function(t){this._defer||i("250"),this._hasChildren=!0,this._children=t;var e=this._root._internalRoot,n=this._expirationTime,r=new Ir;return wr(t,e,null,n,r._onCommit),r},Cr.prototype.then=function(t){if(this._didComplete)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Cr.prototype.commit=function(){var t=this._root._internalRoot,e=t.firstBatch;if(this._defer&&null!==e||i("251"),this._hasChildren){var n=this._expirationTime;if(e!==this){this._hasChildren&&(n=this._expirationTime=e._expirationTime,this.render(this._children));for(var r=null,o=e;o!==this;)r=o,o=o._next;null===r&&i("251"),r._next=o._next,this._next=e,t.firstBatch=this}this._defer=!1,dr(t,n),e=this._next,this._next=null,e=t.firstBatch=e,null!==e&&e._hasChildren&&e.render(e._children)}else this._next=null,this._defer=!1},Cr.prototype._onComplete=function(){if(!this._didComplete){this._didComplete=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++)(0,t[e])()}},Ir.prototype.then=function(t){if(this._didCommit)t();else{var e=this._callbacks;null===e&&(e=this._callbacks=[]),e.push(t)}},Ir.prototype._onCommit=function(){if(!this._didCommit){this._didCommit=!0;var t=this._callbacks;if(null!==t)for(var e=0;e<t.length;e++){var n=t[e];"function"!==typeof n&&i("191",n),n()}}},Ar.prototype.render=function(t,e){var n=this._internalRoot,r=new Ir;return e=void 0===e?null:e,null!==e&&r.then(e),Er(t,n,null,r._onCommit),r},Ar.prototype.unmount=function(t){var e=this._internalRoot,n=new Ir;return t=void 0===t?null:t,null!==t&&n.then(t),Er(null,e,null,n._onCommit),n},Ar.prototype.legacy_renderSubtreeIntoContainer=function(t,e,n){var r=this._internalRoot,i=new Ir;return n=void 0===n?null:n,null!==n&&i.then(n),Er(e,r,t,i._onCommit),i},Ar.prototype.createBatch=function(){var t=new Cr(this),e=t._expirationTime,n=this._internalRoot,r=n.firstBatch;if(null===r)n.firstBatch=t,t._next=null;else{for(n=null;null!==r&&r._expirationTime<=e;)n=r,r=r._next;t._next=r,null!==n&&(n._next=t)}return t},H=gr,z=_r,K=function(){za||0===Qa||(hr(Qa,null),Qa=0)};var fs={createPortal:Pr,findDOMNode:function(t){if(null==t)return null;if(1===t.nodeType)return t;var e=t._reactInternalFiber;return void 0===e&&("function"===typeof t.render?i("188"):i("268",Object.keys(t))),t=Nt(e),t=null===t?null:t.stateNode},hydrate:function(t,e,n){return Rr(null,t,e,!0,n)},render:function(t,e,n){return Rr(null,t,e,!1,n)},unstable_renderSubtreeIntoContainer:function(t,e,n,r){return(null==t||void 0===t._reactInternalFiber)&&i("38"),Rr(t,e,n,!1,r)},unmountComponentAtNode:function(t){return Or(t)||i("40"),!!t._reactRootContainer&&(br(function(){Rr(null,null,t,!1,function(){t._reactRootContainer=null})}),!0)},unstable_createPortal:function(){return Pr.apply(void 0,arguments)},unstable_batchedUpdates:gr,unstable_interactiveUpdates:_r,flushSync:function(t,e){za&&i("187");var n=Za;Za=!0;try{return rr(t,e)}finally{Za=n,hr(1,null)}},unstable_flushControlled:function(t){var e=Za;Za=!0;try{rr(t)}finally{(Za=e)||za||hr(1,null)}},__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:{Events:[b,_,w,Xr.injectEventPluginsByName,Vr,A,function(t){h(t,I)},W,V,qt,v]},unstable_createRoot:function(t,e){return Or(t)||i("278"),new Ar(t,!0,null!=e&&!0===e.hydrate)}};!function(t){var e=t.findFiberByHostInstance;Ie(Dr({},t,{findHostInstanceByFiber:function(t){return t=Nt(t),null===t?null:t.stateNode},findFiberByHostInstance:function(t){return e?e(t):null}}))}({findFiberByHostInstance:g,bundleType:0,version:"16.6.0",rendererPackageName:"react-dom"});var ls={default:fs},hs=ls&&fs||ls;t.exports=hs.default||hs},function(t,e,n){"use strict";t.exports=n(300)},function(t,e,n){"use strict";function r(){if(!p){var t=f.expirationTime;y?C():y=!0,T(a,t)}}function i(){var t=f,e=f.next;if(f===e)f=null;else{var n=f.previous;f=n.next=e,e.previous=n}t.next=t.previous=null,n=t.callback,e=t.expirationTime,t=t.priorityLevel;var i=l,o=d;l=t,d=e;try{var a=n(v)}finally{l=i,d=o}if("function"===typeof a)if(a={callback:a,priorityLevel:t,expirationTime:e,next:null,previous:null},null===f)f=a.next=a.previous=a;else{n=null,t=f;do{if(t.expirationTime>=e){n=t;break}t=t.next}while(t!==f);null===n?n=f:n===f&&(f=a,r()),e=n.previous,e.next=n.previous=a,a.next=n,a.previous=e}}function o(){if(-1===h&&null!==f&&1===f.priorityLevel){p=!0,v.didTimeout=!0;try{do{i()}while(null!==f&&1===f.priorityLevel)}finally{p=!1,null!==f?r():y=!1}}}function a(t){p=!0,v.didTimeout=t;try{if(t)for(;null!==f;){var n=e.unstable_now();if(!(f.expirationTime<=n))break;do{i()}while(null!==f&&f.expirationTime<=n)}else if(null!==f)do{i()}while(null!==f&&0<I()-e.unstable_now())}finally{p=!1,null!==f?r():y=!1,o()}}function s(t){u=w(function(e){_(c),t(e)}),c=b(function(){E(u),t(e.unstable_now())},100)}Object.defineProperty(e,"__esModule",{value:!0});var u,c,f=null,l=3,h=-1,d=-1,p=!1,y=!1,m="object"===typeof performance&&"function"===typeof performance.now,v={timeRemaining:m?function(){if(null!==f&&f.expirationTime<d)return 0;var t=I()-performance.now();return 0<t?t:0}:function(){if(null!==f&&f.expirationTime<d)return 0;var t=I()-Date.now();return 0<t?t:0},didTimeout:!1},g=Date,b="function"===typeof setTimeout?setTimeout:void 0,_="function"===typeof clearTimeout?clearTimeout:void 0,w="function"===typeof requestAnimationFrame?requestAnimationFrame:void 0,E="function"===typeof cancelAnimationFrame?cancelAnimationFrame:void 0;if(m){var S=performance;e.unstable_now=function(){return S.now()}}else e.unstable_now=function(){return g.now()};var T,C,I;if("undefined"!==typeof window&&window._schedMock){var A=window._schedMock;T=A[0],C=A[1],I=A[2]}else if("undefined"===typeof window||"function"!==typeof window.addEventListener){var O=null,k=-1,R=function(t,e){if(null!==O){var n=O;O=null;try{k=e,n(t)}finally{k=-1}}};T=function(t,e){-1!==k?setTimeout(T,0,t,e):(O=t,setTimeout(R,e,!0,e),setTimeout(R,1073741823,!1,1073741823))},C=function(){O=null},I=function(){return 1/0},e.unstable_now=function(){return-1===k?0:k}}else{"undefined"!==typeof console&&("function"!==typeof w&&console.error("This browser doesn't support requestAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"),"function"!==typeof E&&console.error("This browser doesn't support cancelAnimationFrame. Make sure that you load a polyfill in older browsers. https://fb.me/react-polyfills"));var P=null,x=!1,D=-1,N=!1,M=!1,L=0,j=33,U=33;I=function(){return L};var F="__reactIdleCallback$"+Math.random().toString(36).slice(2);window.addEventListener("message",function(t){if(t.source===window&&t.data===F){x=!1,t=P;var n=D;P=null,D=-1;var r=e.unstable_now(),i=!1;if(0>=L-r){if(!(-1!==n&&n<=r))return N||(N=!0,s(B)),P=t,void(D=n);i=!0}if(null!==t){M=!0;try{t(i)}finally{M=!1}}}},!1);var B=function(t){if(null!==P){s(B);var e=t-L+U;e<U&&j<U?(8>e&&(e=8),U=e<j?j:e):j=e,L=t+U,x||(x=!0,window.postMessage(F,"*"))}else N=!1};T=function(t,e){P=t,D=e,M||0>e?window.postMessage(F,"*"):N||(N=!0,s(B))},C=function(){P=null,x=!1,D=-1}}e.unstable_ImmediatePriority=1,e.unstable_UserBlockingPriority=2,e.unstable_NormalPriority=3,e.unstable_IdlePriority=4,e.unstable_runWithPriority=function(t,n){switch(t){case 1:case 2:case 3:case 4:break;default:t=3}var r=l,i=h;l=t,h=e.unstable_now();try{return n()}finally{l=r,h=i,o()}},e.unstable_scheduleCallback=function(t,n){var i=-1!==h?h:e.unstable_now();if("object"===typeof n&&null!==n&&"number"===typeof n.timeout)n=i+n.timeout;else switch(l){case 1:n=i+-1;break;case 2:n=i+250;break;case 4:n=i+1073741823;break;default:n=i+5e3}if(t={callback:t,priorityLevel:l,expirationTime:n,next:null,previous:null},null===f)f=t.next=t.previous=t,r();else{i=null;var o=f;do{if(o.expirationTime>n){i=o;break}o=o.next}while(o!==f);null===i?i=f:i===f&&(f=t,r()),n=i.previous,n.next=i.previous=t,t.next=i,t.previous=n}return t},e.unstable_cancelCallback=function(t){var e=t.next;if(null!==e){if(e===t)f=null;else{t===f&&(f=e);var n=t.previous;n.next=e,e.previous=n}t.next=t.previous=null}},e.unstable_wrapCallback=function(t){var n=l;return function(){var r=l,i=h;l=n,h=e.unstable_now();try{return t.apply(this,arguments)}finally{l=r,h=i,o()}}},e.unstable_getCurrentPriorityLevel=function(){return l}},function(t,e){},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(3),s=n.n(a),u=n(21),c=n(328),f=n(360),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,[{key:"render",value:function(){return s.a.createElement(u.a,null,s.a.createElement("div",null,s.a.createElement(u.d,null,s.a.createElement(u.c,{exact:!0,path:"/",component:c.a}),s.a.createElement(u.c,{path:"/user/:id",component:f.a}))))}}]),e}(a.Component);e.a=h},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(23),s=n.n(a),u=n(3),c=n.n(u),f=n(6),l=n.n(f),h=n(37),d=n(99),p=function(t){function e(){var n,o,a;r(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,t.call.apply(t,[this].concat(u))),o.history=Object(h.a)(o.props),a=n,i(o,a)}return o(e,t),e.prototype.componentWillMount=function(){s()(!this.props.history,"<BrowserRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { BrowserRouter as Router }`.")},e.prototype.render=function(){return c.a.createElement(d.a,{history:this.history,children:this.props.children})},e}(c.a.Component);p.propTypes={basename:l.a.string,forceRefresh:l.a.bool,getUserConfirmation:l.a.func,keyLength:l.a.number,children:l.a.node},e.a=p},function(t,e,n){"use strict";function r(){}var i=n(305);t.exports=function(){function t(t,e,n,r,o,a){if(a!==i){var s=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw s.name="Invariant Violation",s}}function e(){return t}t.isRequired=t;var n={array:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e};return n.checkPropTypes=r,n.PropTypes=n,n}},function(t,e,n){"use strict";t.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(t,e,n){"use strict";var r=n(69),i=n.n(r),o=n(16),a=n.n(o),s=n(70),u=n(47),c=n(98),f=n(164),l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d=function(){try{return window.history.state||{}}catch(t){return{}}},p=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(f.b,"Browser history needs a DOM");var e=window.history,n=Object(f.g)(),r=!Object(f.h)(),o=t.forceRefresh,p=void 0!==o&&o,y=t.getUserConfirmation,m=void 0===y?f.c:y,v=t.keyLength,g=void 0===v?6:v,b=t.basename?Object(u.g)(Object(u.a)(t.basename)):"",_=function(t){var e=t||{},n=e.key,r=e.state,o=window.location,a=o.pathname,c=o.search,f=o.hash,l=a+c+f;return i()(!b||Object(u.c)(l,b),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+l+'" to begin with "'+b+'".'),b&&(l=Object(u.e)(l,b)),Object(s.a)(l,r,n)},w=function(){return Math.random().toString(36).substr(2,g)},E=Object(c.a)(),S=function(t){h(W,t),W.length=e.length,E.notifyListeners(W.location,W.action)},T=function(t){Object(f.d)(t)||A(_(t.state))},C=function(){A(_(d()))},I=!1,A=function(t){if(I)I=!1,S();else{E.confirmTransitionTo(t,"POP",m,function(e){e?S({action:"POP",location:t}):O(t)})}},O=function(t){var e=W.location,n=R.indexOf(e.key);-1===n&&(n=0);var r=R.indexOf(t.key);-1===r&&(r=0);var i=n-r;i&&(I=!0,N(i))},k=_(d()),R=[k.key],P=function(t){return b+Object(u.b)(t)},x=function(t,r){i()(!("object"===("undefined"===typeof t?"undefined":l(t))&&void 0!==t.state&&void 0!==r),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var o=Object(s.a)(t,r,w(),W.location);E.confirmTransitionTo(o,"PUSH",m,function(t){if(t){var r=P(o),a=o.key,s=o.state;if(n)if(e.pushState({key:a,state:s},null,r),p)window.location.href=r;else{var u=R.indexOf(W.location.key),c=R.slice(0,-1===u?0:u+1);c.push(o.key),R=c,S({action:"PUSH",location:o})}else i()(void 0===s,"Browser history cannot push state in browsers that do not support HTML5 history"),window.location.href=r}})},D=function(t,r){i()(!("object"===("undefined"===typeof t?"undefined":l(t))&&void 0!==t.state&&void 0!==r),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var o=Object(s.a)(t,r,w(),W.location);E.confirmTransitionTo(o,"REPLACE",m,function(t){if(t){var r=P(o),a=o.key,s=o.state;if(n)if(e.replaceState({key:a,state:s},null,r),p)window.location.replace(r);else{var u=R.indexOf(W.location.key);-1!==u&&(R[u]=o.key),S({action:"REPLACE",location:o})}else i()(void 0===s,"Browser history cannot replace state in browsers that do not support HTML5 history"),window.location.replace(r)}})},N=function(t){e.go(t)},M=function(){return N(-1)},L=function(){return N(1)},j=0,U=function(t){j+=t,1===j?(Object(f.a)(window,"popstate",T),r&&Object(f.a)(window,"hashchange",C)):0===j&&(Object(f.e)(window,"popstate",T),r&&Object(f.e)(window,"hashchange",C))},F=!1,B=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=E.setPrompt(t);return F||(U(1),F=!0),function(){return F&&(F=!1,U(-1)),e()}},q=function(t){var e=E.appendListener(t);return U(1),function(){U(-1),e()}},W={length:e.length,action:"POP",location:k,createHref:P,push:x,replace:D,go:N,goBack:M,goForward:L,block:B,listen:q};return W};e.a=p},function(t,e,n){"use strict";function r(t){return"/"===t.charAt(0)}function i(t,e){for(var n=e,r=n+1,i=t.length;r<i;n+=1,r+=1)t[n]=t[r];t.pop()}function o(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",n=t&&t.split("/")||[],o=e&&e.split("/")||[],a=t&&r(t),s=e&&r(e),u=a||s;if(t&&r(t)?o=n:n.length&&(o.pop(),o=o.concat(n)),!o.length)return"/";var c=void 0;if(o.length){var f=o[o.length-1];c="."===f||".."===f||""===f}else c=!1;for(var l=0,h=o.length;h>=0;h--){var d=o[h];"."===d?i(o,h):".."===d?(i(o,h),l++):l&&(i(o,h),l--)}if(!u)for(;l--;l)o.unshift("..");!u||""===o[0]||o[0]&&r(o[0])||o.unshift("");var p=o.join("/");return c&&"/"!==p.substr(-1)&&(p+="/"),p}e.a=o},function(t,e,n){"use strict";function r(t,e){if(t===e)return!0;if(null==t||null==e)return!1;if(Array.isArray(t))return Array.isArray(e)&&t.length===e.length&&t.every(function(t,n){return r(t,e[n])});var n="undefined"===typeof t?"undefined":i(t);if(n!==("undefined"===typeof e?"undefined":i(e)))return!1;if("object"===n){var o=t.valueOf(),a=e.valueOf();if(o!==t||a!==e)return r(o,a);var s=Object.keys(t),u=Object.keys(e);return s.length===u.length&&s.every(function(n){return r(t[n],e[n])})}return!1}var i="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};e.a=r},function(t,e,n){"use strict";var r=n(69),i=n.n(r),o=n(16),a=n.n(o),s=n(70),u=n(47),c=n(98),f=n(164),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h={hashbang:{encodePath:function(t){return"!"===t.charAt(0)?t:"!/"+Object(u.f)(t)},decodePath:function(t){return"!"===t.charAt(0)?t.substr(1):t}},noslash:{encodePath:u.f,decodePath:u.a},slash:{encodePath:u.a,decodePath:u.a}},d=function(){var t=window.location.href,e=t.indexOf("#");return-1===e?"":t.substring(e+1)},p=function(t){return window.location.hash=t},y=function(t){var e=window.location.href.indexOf("#");window.location.replace(window.location.href.slice(0,e>=0?e:0)+"#"+t)},m=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};a()(f.b,"Hash history needs a DOM");var e=window.history,n=Object(f.f)(),r=t.getUserConfirmation,o=void 0===r?f.c:r,m=t.hashType,v=void 0===m?"slash":m,g=t.basename?Object(u.g)(Object(u.a)(t.basename)):"",b=h[v],_=b.encodePath,w=b.decodePath,E=function(){var t=w(d());return i()(!g||Object(u.c)(t,g),'You are attempting to use a basename on a page whose URL path does not begin with the basename. Expected path "'+t+'" to begin with "'+g+'".'),g&&(t=Object(u.e)(t,g)),Object(s.a)(t)},S=Object(c.a)(),T=function(t){l(z,t),z.length=e.length,S.notifyListeners(z.location,z.action)},C=!1,I=null,A=function(){var t=d(),e=_(t);if(t!==e)y(e);else{var n=E(),r=z.location;if(!C&&Object(s.b)(r,n))return;if(I===Object(u.b)(n))return;I=null,O(n)}},O=function(t){if(C)C=!1,T();else{S.confirmTransitionTo(t,"POP",o,function(e){e?T({action:"POP",location:t}):k(t)})}},k=function(t){var e=z.location,n=D.lastIndexOf(Object(u.b)(e));-1===n&&(n=0);var r=D.lastIndexOf(Object(u.b)(t));-1===r&&(r=0);var i=n-r;i&&(C=!0,j(i))},R=d(),P=_(R);R!==P&&y(P);var x=E(),D=[Object(u.b)(x)],N=function(t){return"#"+_(g+Object(u.b)(t))},M=function(t,e){i()(void 0===e,"Hash history cannot push state; it is ignored");var n=Object(s.a)(t,void 0,void 0,z.location);S.confirmTransitionTo(n,"PUSH",o,function(t){if(t){var e=Object(u.b)(n),r=_(g+e);if(d()!==r){I=e,p(r);var o=D.lastIndexOf(Object(u.b)(z.location)),a=D.slice(0,-1===o?0:o+1);a.push(e),D=a,T({action:"PUSH",location:n})}else i()(!1,"Hash history cannot PUSH the same path; a new entry will not be added to the history stack"),T()}})},L=function(t,e){i()(void 0===e,"Hash history cannot replace state; it is ignored");var n=Object(s.a)(t,void 0,void 0,z.location);S.confirmTransitionTo(n,"REPLACE",o,function(t){if(t){var e=Object(u.b)(n),r=_(g+e);d()!==r&&(I=e,y(r));var i=D.indexOf(Object(u.b)(z.location));-1!==i&&(D[i]=e),T({action:"REPLACE",location:n})}})},j=function(t){i()(n,"Hash history go(n) causes a full page reload in this browser"),e.go(t)},U=function(){return j(-1)},F=function(){return j(1)},B=0,q=function(t){B+=t,1===B?Object(f.a)(window,"hashchange",A):0===B&&Object(f.e)(window,"hashchange",A)},W=!1,V=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=S.setPrompt(t);return W||(q(1),W=!0),function(){return W&&(W=!1,q(-1)),e()}},H=function(t){var e=S.appendListener(t);return q(1),function(){q(-1),e()}},z={length:e.length,action:"POP",location:x,createHref:N,push:M,replace:L,go:j,goBack:U,goForward:F,block:V,listen:H};return z};e.a=m},function(t,e,n){"use strict";var r=n(69),i=n.n(r),o=n(47),a=n(70),s=n(98),u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=function(t,e,n){return Math.min(Math.max(t,e),n)},l=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=t.getUserConfirmation,n=t.initialEntries,r=void 0===n?["/"]:n,l=t.initialIndex,h=void 0===l?0:l,d=t.keyLength,p=void 0===d?6:d,y=Object(s.a)(),m=function(t){c(k,t),k.length=k.entries.length,y.notifyListeners(k.location,k.action)},v=function(){return Math.random().toString(36).substr(2,p)},g=f(h,0,r.length-1),b=r.map(function(t){return"string"===typeof t?Object(a.a)(t,void 0,v()):Object(a.a)(t,void 0,t.key||v())}),_=o.b,w=function(t,n){i()(!("object"===("undefined"===typeof t?"undefined":u(t))&&void 0!==t.state&&void 0!==n),"You should avoid providing a 2nd state argument to push when the 1st argument is a location-like object that already has state; it is ignored");var r=Object(a.a)(t,n,v(),k.location);y.confirmTransitionTo(r,"PUSH",e,function(t){if(t){var e=k.index,n=e+1,i=k.entries.slice(0);i.length>n?i.splice(n,i.length-n,r):i.push(r),m({action:"PUSH",location:r,index:n,entries:i})}})},E=function(t,n){i()(!("object"===("undefined"===typeof t?"undefined":u(t))&&void 0!==t.state&&void 0!==n),"You should avoid providing a 2nd state argument to replace when the 1st argument is a location-like object that already has state; it is ignored");var r=Object(a.a)(t,n,v(),k.location);y.confirmTransitionTo(r,"REPLACE",e,function(t){t&&(k.entries[k.index]=r,m({action:"REPLACE",location:r}))})},S=function(t){var n=f(k.index+t,0,k.entries.length-1),r=k.entries[n];y.confirmTransitionTo(r,"POP",e,function(t){t?m({action:"POP",location:r,index:n}):m()})},T=function(){return S(-1)},C=function(){return S(1)},I=function(t){var e=k.index+t;return e>=0&&e<k.entries.length},A=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return y.setPrompt(t)},O=function(t){return y.appendListener(t)},k={length:b.length,action:"POP",location:b[g],index:g,entries:b,createHref:_,push:w,replace:E,go:S,goBack:T,goForward:C,canGo:I,block:A,listen:O};return k};e.a=l},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(23),s=n.n(a),u=n(3),c=n.n(u),f=n(6),l=n.n(f),h=n(37),d=n(99),p=function(t){function e(){var n,o,a;r(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,t.call.apply(t,[this].concat(u))),o.history=Object(h.b)(o.props),a=n,i(o,a)}return o(e,t),e.prototype.componentWillMount=function(){s()(!this.props.history,"<HashRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { HashRouter as Router }`.")},e.prototype.render=function(){return c.a.createElement(d.a,{history:this.history,children:this.props.children})},e}(c.a.Component);p.propTypes={basename:l.a.string,getUserConfirmation:l.a.func,hashType:l.a.oneOf(["hashbang","noslash","slash"]),children:l.a.node}},function(t,e,n){"use strict";var r=n(313);r.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(23),s=n.n(a),u=n(3),c=n.n(u),f=n(6),l=n.n(f),h=n(37),d=n(100),p=function(t){function e(){var n,o,a;r(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,t.call.apply(t,[this].concat(u))),o.history=Object(h.d)(o.props),a=n,i(o,a)}return o(e,t),e.prototype.componentWillMount=function(){s()(!this.props.history,"<MemoryRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { MemoryRouter as Router }`.")},e.prototype.render=function(){return c.a.createElement(d.a,{history:this.history,children:this.props.children})},e}(c.a.Component);p.propTypes={initialEntries:l.a.array,initialIndex:l.a.number,getUserConfirmation:l.a.func,keyLength:l.a.number,children:l.a.node},e.a=p},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var i=n(3),o=n.n(i),a=n(6),s=n.n(a),u=n(166),c=n(165),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},h=function(t){var e=t.to,n=t.exact,i=t.strict,a=t.location,s=t.activeClassName,h=t.className,d=t.activeStyle,p=t.style,y=t.isActive,m=t["aria-current"],v=r(t,["to","exact","strict","location","activeClassName","className","activeStyle","style","isActive","aria-current"]),g="object"===("undefined"===typeof e?"undefined":l(e))?e.pathname:e,b=g&&g.replace(/([.+*?=^!:${}()[\]|\/\\])/g,"\\$1");return o.a.createElement(u.a,{path:b,exact:n,strict:i,location:a,children:function(t){var n=t.location,r=t.match,i=!!(y?y(r,n):r);return o.a.createElement(c.a,f({to:e,className:i?[h,s].filter(function(t){return t}).join(" "):h,style:i?f({},p,d):p,"aria-current":i&&m||null},v))}})};h.propTypes={to:c.a.propTypes.to,exact:s.a.bool,strict:s.a.bool,location:s.a.object,activeClassName:s.a.string,className:s.a.string,activeStyle:s.a.object,style:s.a.object,isActive:s.a.func,"aria-current":s.a.oneOf(["page","step","location","date","time","true"])},h.defaultProps={activeClassName:"active","aria-current":"page"}},function(t,e){t.exports=Array.isArray||function(t){return"[object Array]"==Object.prototype.toString.call(t)}},function(t,e,n){"use strict";var r=n(317);r.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(3),s=n.n(a),u=n(6),c=n.n(u),f=n(16),l=n.n(f),h=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.enable=function(t){this.unblock&&this.unblock(),this.unblock=this.context.router.history.block(t)},e.prototype.disable=function(){this.unblock&&(this.unblock(),this.unblock=null)},e.prototype.componentWillMount=function(){l()(this.context.router,"You should not use <Prompt> outside a <Router>"),this.props.when&&this.enable(this.props.message)},e.prototype.componentWillReceiveProps=function(t){t.when?this.props.when&&this.props.message===t.message||this.enable(t.message):this.disable()},e.prototype.componentWillUnmount=function(){this.disable()},e.prototype.render=function(){return null},e}(s.a.Component);h.propTypes={when:c.a.bool,message:c.a.oneOfType([c.a.func,c.a.string]).isRequired},h.defaultProps={when:!0},h.contextTypes={router:c.a.shape({history:c.a.shape({block:c.a.func.isRequired}).isRequired}).isRequired},e.a=h},function(t,e,n){"use strict";var r=n(319);e.a=r.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(3),s=n.n(a),u=n(6),c=n.n(u),f=n(23),l=n.n(f),h=n(16),d=n.n(h),p=n(37),y=n(169),m=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},v=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.isStatic=function(){return this.context.router&&this.context.router.staticContext},e.prototype.componentWillMount=function(){d()(this.context.router,"You should not use <Redirect> outside a <Router>"),this.isStatic()&&this.perform()},e.prototype.componentDidMount=function(){this.isStatic()||this.perform()},e.prototype.componentDidUpdate=function(t){var e=Object(p.c)(t.to),n=Object(p.c)(this.props.to);if(Object(p.f)(e,n))return void l()(!1,"You tried to redirect to the same route you're currently on: \""+n.pathname+n.search+'"');this.perform()},e.prototype.computeTo=function(t){var e=t.computedMatch,n=t.to;return e?"string"===typeof n?Object(y.a)(n,e.params):m({},n,{pathname:Object(y.a)(n.pathname,e.params)}):n},e.prototype.perform=function(){var t=this.context.router.history,e=this.props.push,n=this.computeTo(this.props);e?t.push(n):t.replace(n)},e.prototype.render=function(){return null},e}(s.a.Component);v.propTypes={computedMatch:c.a.object,push:c.a.bool,from:c.a.string,to:c.a.oneOfType([c.a.string,c.a.object]).isRequired},v.defaultProps={push:!1},v.contextTypes={router:c.a.shape({history:c.a.shape({push:c.a.func.isRequired,replace:c.a.func.isRequired}).isRequired,staticContext:c.a.object}).isRequired},e.a=v},function(t,e,n){"use strict";var r=n(321);r.a},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(23),u=n.n(s),c=n(16),f=n.n(c),l=n(3),h=n.n(l),d=n(6),p=n.n(d),y=n(37),m=n(100),v=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},g=function(t){return"/"===t.charAt(0)?t:"/"+t},b=function(t,e){return t?v({},e,{pathname:g(t)+e.pathname}):e},_=function(t,e){if(!t)return e;var n=g(t);return 0!==e.pathname.indexOf(n)?e:v({},e,{pathname:e.pathname.substr(n.length)})},w=function(t){return"string"===typeof t?t:Object(y.e)(t)},E=function(t){return function(){f()(!1,"You cannot %s with <StaticRouter>",t)}},S=function(){},T=function(t){function e(){var n,r,a;i(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=r=o(this,t.call.apply(t,[this].concat(u))),r.createHref=function(t){return g(r.props.basename+w(t))},r.handlePush=function(t){var e=r.props,n=e.basename,i=e.context;i.action="PUSH",i.location=b(n,Object(y.c)(t)),i.url=w(i.location)},r.handleReplace=function(t){var e=r.props,n=e.basename,i=e.context;i.action="REPLACE",i.location=b(n,Object(y.c)(t)),i.url=w(i.location)},r.handleListen=function(){return S},r.handleBlock=function(){return S},a=n,o(r,a)}return a(e,t),e.prototype.getChildContext=function(){return{router:{staticContext:this.props.context}}},e.prototype.componentWillMount=function(){u()(!this.props.history,"<StaticRouter> ignores the history prop. To use a custom history, use `import { Router }` instead of `import { StaticRouter as Router }`.")},e.prototype.render=function(){var t=this.props,e=t.basename,n=(t.context,t.location),i=r(t,["basename","context","location"]),o={createHref:this.createHref,action:"POP",location:_(e,Object(y.c)(n)),push:this.handlePush,replace:this.handleReplace,go:E("go"),goBack:E("goBack"),goForward:E("goForward"),listen:this.handleListen,block:this.handleBlock};return h.a.createElement(m.a,v({},i,{history:o}))},e}(h.a.Component);T.propTypes={basename:p.a.string,context:p.a.object.isRequired,location:p.a.oneOfType([p.a.string,p.a.object])},T.defaultProps={basename:"",location:"/"},T.childContextTypes={router:p.a.object.isRequired},e.a=T},function(t,e,n){"use strict";var r=n(323);e.a=r.a},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(3),s=n.n(a),u=n(6),c=n.n(u),f=n(23),l=n.n(f),h=n(16),d=n.n(h),p=n(101),y=function(t){function e(){return r(this,e),i(this,t.apply(this,arguments))}return o(e,t),e.prototype.componentWillMount=function(){d()(this.context.router,"You should not use <Switch> outside a <Router>")},e.prototype.componentWillReceiveProps=function(t){l()(!(t.location&&!this.props.location),'<Switch> elements should not change from uncontrolled to controlled (or vice versa). You initially used no "location" prop and then provided one on a subsequent render.'),l()(!(!t.location&&this.props.location),'<Switch> elements should not change from controlled to uncontrolled (or vice versa). You provided a "location" prop initially but omitted it on a subsequent render.')},e.prototype.render=function(){var t=this.context.router.route,e=this.props.children,n=this.props.location||t.location,r=void 0,i=void 0;return s.a.Children.forEach(e,function(e){if(null==r&&s.a.isValidElement(e)){var o=e.props,a=o.path,u=o.exact,c=o.strict,f=o.sensitive,l=o.from,h=a||l;i=e,r=Object(p.a)(n.pathname,{path:h,exact:u,strict:c,sensitive:f},t.match)}}),r?s.a.cloneElement(i,{location:n,computedMatch:r}):null},e}(s.a.Component);y.contextTypes={router:c.a.shape({route:c.a.object.isRequired}).isRequired},y.propTypes={children:c.a.node,location:c.a.object},e.a=y},function(t,e,n){"use strict";var r=n(169);r.a},function(t,e,n){"use strict";var r=n(101);r.a},function(t,e,n){"use strict";var r=n(327);e.a=r.a},function(t,e,n){"use strict";function r(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}var i=n(3),o=n.n(i),a=n(6),s=n.n(a),u=n(48),c=n.n(u),f=n(167),l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},h=function(t){var e=function(e){var n=e.wrappedComponentRef,i=r(e,["wrappedComponentRef"]);return o.a.createElement(f.a,{children:function(e){return o.a.createElement(t,l({},i,e,{ref:n}))}})};return e.displayName="withRouter("+(t.displayName||t.name)+")",e.WrappedComponent=t,e.propTypes={wrappedComponentRef:s.a.func},c()(e,t)};e.a=h},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(3),s=n.n(a),u=n(17),c=n(21),f=n(105),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onSignIn=function(t){t.preventDefault(),n.props.signIn(function(t){n.props.history.push("/user/"+t)})},n.state={isLogged:!1},n}return o(e,t),l(e,[{key:"componentDidMount",value:function(){var t=this.props.auth.uid;"logged"===localStorage.getItem("login")&&this.props.history.push("/user/"+t)}},{key:"render",value:function(){var t=this.props.auth.uid;return"logged"===localStorage.getItem("login")?s.a.createElement(c.b,{to:"/user/"+t}):s.a.createElement(a.Fragment,null,s.a.createElement("div",{className:"welcome"},"Welcome to Chat App"),s.a.createElement("ul",null,s.a.createElement("li",null,s.a.createElement("a",{onClick:this.onSignIn,href:"#"},s.a.createElement("i",{className:"fa fa-google-plus","aria-hidden":"true"})))))}}]),e}(a.Component),d=function(t){return{auth:t.firebase.auth,chatingUser:t.chatingUser}},p=function(t){return{signIn:function(e){return t(Object(f.b)(e))}}};e.a=Object(c.e)(Object(u.b)(d,p)(h))},function(t,e,n){"use strict";var r=n(170),i=n(3),o=(n.n(i),n(6)),a=n.n(o),s=n(171);n(102);e.a=function(t){var e;void 0===t&&(t="store");var n=t+"Subscription",o=function(e){function o(n,r){var i;return i=e.call(this,n,r)||this,i[t]=n.store,i}Object(r.a)(o,e);var a=o.prototype;return a.getChildContext=function(){var e;return e={},e[t]=this[t],e[n]=null,e},a.render=function(){return i.Children.only(this.props.children)},o}(i.Component);return o.propTypes={store:s.a.isRequired,children:a.a.element.isRequired},o.childContextTypes=(e={},e[t]=s.a.isRequired,e[n]=s.b,e),o}()},function(t,e,n){"use strict";function r(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}e.a=r},function(t,e,n){"use strict";function r(t,e,n){if("string"!==typeof e){if(p){var i=d(e);i&&i!==p&&r(t,i,n)}var s=f(e);l&&(s=s.concat(l(e)));for(var y=u[t.$$typeof]||o,m=u[e.$$typeof]||o,v=0;v<s.length;++v){var g=s[v];if(!a[g]&&(!n||!n[g])&&(!m||!m[g])&&(!y||!y[g])){var b=h(e,g);try{c(t,g,b)}catch(t){}}}return t}return t}var i=n(173),o=(n(3),{childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0}),a={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},s={$$typeof:!0,render:!0},u={};u[i.ForwardRef]=s;var c=Object.defineProperty,f=Object.getOwnPropertyNames,l=Object.getOwnPropertySymbols,h=Object.getOwnPropertyDescriptor,d=Object.getPrototypeOf,p=Object.prototype;t.exports=r},function(t,e,n){"use strict";function r(t){if("object"===typeof t&&null!==t){var e=t.$$typeof;switch(e){case a:switch(t=t.type){case d:case u:case f:case c:return t;default:switch(t=t&&t.$$typeof){case h:case p:case l:return t;default:return e}}case s:return e}}}function i(t){return r(t)===d}Object.defineProperty(e,"__esModule",{value:!0});var o="function"===typeof Symbol&&Symbol.for,a=o?Symbol.for("react.element"):60103,s=o?Symbol.for("react.portal"):60106,u=o?Symbol.for("react.fragment"):60107,c=o?Symbol.for("react.strict_mode"):60108,f=o?Symbol.for("react.profiler"):60114,l=o?Symbol.for("react.provider"):60109,h=o?Symbol.for("react.context"):60110,d=o?Symbol.for("react.concurrent_mode"):60111,p=o?Symbol.for("react.forward_ref"):60112,y=o?Symbol.for("react.suspense"):60113,m=o?Symbol.for("react.memo"):60115,v=o?Symbol.for("react.lazy"):60116;e.typeOf=r,e.AsyncMode=d,e.ConcurrentMode=d,e.ContextConsumer=h,e.ContextProvider=l,e.Element=a,e.ForwardRef=p,e.Fragment=u,e.Profiler=f,e.Portal=s,e.StrictMode=c,e.isValidElementType=function(t){return"string"===typeof t||"function"===typeof t||t===u||t===d||t===f||t===c||t===y||"object"===typeof t&&null!==t&&(t.$$typeof===v||t.$$typeof===m||t.$$typeof===l||t.$$typeof===h||t.$$typeof===p)},e.isAsyncMode=function(t){return i(t)},e.isConcurrentMode=i,e.isContextConsumer=function(t){return r(t)===h},e.isContextProvider=function(t){return r(t)===l},e.isElement=function(t){return"object"===typeof t&&null!==t&&t.$$typeof===a},e.isForwardRef=function(t){return r(t)===p},e.isFragment=function(t){return r(t)===u},e.isProfiler=function(t){return r(t)===f},e.isPortal=function(t){return r(t)===s},e.isStrictMode=function(t){return r(t)===c}},function(t,e,n){"use strict";function r(){var t=[],e=[];return{clear:function(){e=i,t=i},notify:function(){for(var n=t=e,r=0;r<n.length;r++)n[r]()},get:function(){return e},subscribe:function(n){var r=!0;return e===t&&(e=t.slice()),e.push(n),function(){r&&t!==i&&(r=!1,e===t&&(e=t.slice()),e.splice(e.indexOf(n),1))}}}}n.d(e,"a",function(){return a});var i=null,o={notify:function(){}},a=function(){function t(t,e,n){this.store=t,this.parentSub=e,this.onStateChange=n,this.unsubscribe=null,this.listeners=o}var e=t.prototype;return e.addNestedSub=function(t){return this.trySubscribe(),this.listeners.subscribe(t)},e.notifyNestedSubs=function(){this.listeners.notify()},e.isSubscribed=function(){return Boolean(this.unsubscribe)},e.trySubscribe=function(){this.unsubscribe||(this.unsubscribe=this.parentSub?this.parentSub.addNestedSub(this.onStateChange):this.store.subscribe(this.onStateChange),this.listeners=r())},e.tryUnsubscribe=function(){this.unsubscribe&&(this.unsubscribe(),this.unsubscribe=null,this.listeners.clear(),this.listeners=o)},t}()},function(t,e,n){"use strict";function r(t,e,n){for(var r=e.length-1;r>=0;r--){var i=e[r](t);if(i)return i}return function(e,r){throw new Error("Invalid value of type "+typeof t+" for "+n+" argument when connecting component "+r.wrappedComponentName+".")}}function i(t,e){return t===e}var o=n(103),a=n(104),s=n(172),u=n(335),c=n(336),f=n(341),l=n(342),h=n(343);e.a=function(t){var e=void 0===t?{}:t,n=e.connectHOC,d=void 0===n?s.a:n,p=e.mapStateToPropsFactories,y=void 0===p?f.a:p,m=e.mapDispatchToPropsFactories,v=void 0===m?c.a:m,g=e.mergePropsFactories,b=void 0===g?l.a:g,_=e.selectorFactory,w=void 0===_?h.a:_;return function(t,e,n,s){void 0===s&&(s={});var c=s,f=c.pure,l=void 0===f||f,h=c.areStatesEqual,p=void 0===h?i:h,m=c.areOwnPropsEqual,g=void 0===m?u.a:m,_=c.areStatePropsEqual,E=void 0===_?u.a:_,S=c.areMergedPropsEqual,T=void 0===S?u.a:S,C=Object(a.a)(c,["pure","areStatesEqual","areOwnPropsEqual","areStatePropsEqual","areMergedPropsEqual"]),I=r(t,y,"mapStateToProps"),A=r(e,v,"mapDispatchToProps"),O=r(n,b,"mergeProps");return d(w,Object(o.a)({methodName:"connect",getDisplayName:function(t){return"Connect("+t+")"},shouldHandleStateChanges:Boolean(t),initMapStateToProps:I,initMapDispatchToProps:A,initMergeProps:O,pure:l,areStatesEqual:p,areOwnPropsEqual:g,areStatePropsEqual:E,areMergedPropsEqual:T},C))}}()},function(t,e,n){"use strict";function r(t,e){return t===e?0!==t||0!==e||1/t===1/e:t!==t&&e!==e}function i(t,e){if(r(t,e))return!0;if("object"!==typeof t||null===t||"object"!==typeof e||null===e)return!1;var n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;for(var a=0;a<n.length;a++)if(!o.call(e,n[a])||!r(t[n[a]],e[n[a]]))return!1;return!0}e.a=i;var o=Object.prototype.hasOwnProperty},function(t,e,n){"use strict";function r(t){return"function"===typeof t?Object(s.b)(t,"mapDispatchToProps"):void 0}function i(t){return t?void 0:Object(s.a)(function(t){return{dispatch:t}})}function o(t){return t&&"object"===typeof t?Object(s.a)(function(e){return Object(a.b)(t,e)}):void 0}var a=n(29),s=n(174);e.a=[r,i,o]},function(t,e,n){"use strict";(function(t,r){var i,o=n(339);i="undefined"!==typeof self?self:"undefined"!==typeof window?window:"undefined"!==typeof t?t:r;var a=Object(o.a)(i);e.a=a}).call(e,n(8),n(338)(t))},function(t,e){t.exports=function(t){if(!t.webpackPolyfill){var e=Object.create(t);e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),Object.defineProperty(e,"exports",{enumerable:!0}),e.webpackPolyfill=1}return e}},function(t,e,n){"use strict";function r(t){var e,n=t.Symbol;return"function"===typeof n?n.observable?e=n.observable:(e=n("observable"),n.observable=e):e="@@observable",e}e.a=r},function(t,e,n){"use strict";function r(t){if("object"!==typeof t||null===t)return!1;for(var e=t;null!==Object.getPrototypeOf(e);)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e}e.a=r},function(t,e,n){"use strict";function r(t){return"function"===typeof t?Object(o.b)(t,"mapStateToProps"):void 0}function i(t){return t?void 0:Object(o.a)(function(){return{}})}var o=n(174);e.a=[r,i]},function(t,e,n){"use strict";function r(t,e,n){return Object(s.a)({},n,t,e)}function i(t){return function(e,n){var r,i=(n.displayName,n.pure),o=n.areMergedPropsEqual,a=!1;return function(e,n,s){var u=t(e,n,s);return a?i&&o(u,r)||(r=u):(a=!0,r=u),r}}}function o(t){return"function"===typeof t?i(t):void 0}function a(t){return t?void 0:function(){return r}}var s=n(103);n(175);e.a=[o,a]},function(t,e,n){"use strict";function r(t,e,n,r){return function(i,o){return n(t(i,o),e(r,o),o)}}function i(t,e,n,r,i){function o(i,o){return f=i,l=o,h=t(f,l),d=e(r,l),p=n(h,d,l),g=!0,p}function a(){return h=t(f,l),e.dependsOnOwnProps&&(d=e(r,l)),p=n(h,d,l)}function s(){return t.dependsOnOwnProps&&(h=t(f,l)),e.dependsOnOwnProps&&(d=e(r,l)),p=n(h,d,l)}function u(){var e=t(f,l),r=!v(e,h);return h=e,r&&(p=n(h,d,l)),p}function c(t,e){var n=!m(e,l),r=!y(t,f);return f=t,l=e,n&&r?a():n?s():r?u():p}var f,l,h,d,p,y=i.areStatesEqual,m=i.areOwnPropsEqual,v=i.areStatePropsEqual,g=!1;return function(t,e){return g?c(t,e):o(t,e)}}function o(t,e){var n=e.initMapStateToProps,o=e.initMapDispatchToProps,s=e.initMergeProps,u=Object(a.a)(e,["initMapStateToProps","initMapDispatchToProps","initMergeProps"]),c=n(t,u),f=o(t,u),l=s(t,u);return(u.pure?i:r)(c,f,l,t,u)}e.a=o;var a=n(104);n(344)},function(t,e,n){"use strict";n(102)},function(t,e,n){(function(t,e){!function(t,n){"use strict";function r(t){"function"!==typeof t&&(t=new Function(""+t));for(var e=new Array(arguments.length-1),n=0;n<e.length;n++)e[n]=arguments[n+1];var r={callback:t,args:e};return c[u]=r,s(u),u++}function i(t){delete c[t]}function o(t){var e=t.callback,r=t.args;switch(r.length){case 0:e();break;case 1:e(r[0]);break;case 2:e(r[0],r[1]);break;case 3:e(r[0],r[1],r[2]);break;default:e.apply(n,r)}}function a(t){if(f)setTimeout(a,0,t);else{var e=c[t];if(e){f=!0;try{o(e)}finally{i(t),f=!1}}}}if(!t.setImmediate){var s,u=1,c={},f=!1,l=t.document,h=Object.getPrototypeOf&&Object.getPrototypeOf(t);h=h&&h.setTimeout?h:t,"[object process]"==={}.toString.call(t.process)?function(){s=function(t){e.nextTick(function(){a(t)})}}():function(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}()?function(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"===typeof n.data&&0===n.data.indexOf(e)&&a(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),s=function(n){t.postMessage(e+n,"*")}}():t.MessageChannel?function(){var t=new MessageChannel;t.port1.onmessage=function(t){a(t.data)},s=function(e){t.port2.postMessage(e)}}():l&&"onreadystatechange"in l.createElement("script")?function(){var t=l.documentElement;s=function(e){var n=l.createElement("script");n.onreadystatechange=function(){a(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n)}}():function(){s=function(t){setTimeout(a,0,t)}}(),h.setImmediate=r,h.clearImmediate=i}}("undefined"===typeof self?"undefined"===typeof t?this:t:self)}).call(e,n(8),n(22))},function(t,e){!function(t){"use strict";function e(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function n(t){return"string"!==typeof t&&(t=String(t)),t}function r(t){var e={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return v.iterable&&(e[Symbol.iterator]=function(){return e}),e}function i(t){this.map={},t instanceof i?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function o(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function a(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function s(t){var e=new FileReader,n=a(e);return e.readAsArrayBuffer(t),n}function u(t){var e=new FileReader,n=a(e);return e.readAsText(t),n}function c(t){for(var e=new Uint8Array(t),n=new Array(e.length),r=0;r<e.length;r++)n[r]=String.fromCharCode(e[r]);return n.join("")}function f(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function l(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"===typeof t)this._bodyText=t;else if(v.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(v.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(v.arrayBuffer&&v.blob&&b(t))this._bodyArrayBuffer=f(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!v.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!_(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=f(t)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):v.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},v.blob&&(this.blob=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?o(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(s)}),this.text=function(){var t=o(this);if(t)return t;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(c(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},v.formData&&(this.formData=function(){return this.text().then(p)}),this.json=function(){return this.text().then(JSON.parse)},this}function h(t){var e=t.toUpperCase();return w.indexOf(e)>-1?e:t}function d(t,e){e=e||{};var n=e.body;if(t instanceof d){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new i(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new i(e.headers)),this.method=h(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function p(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(r),decodeURIComponent(i))}}),e}function y(t){var e=new i;return t.replace(/\r?\n[\t ]+/g," ").split(/\r?\n/).forEach(function(t){var n=t.split(":"),r=n.shift().trim();if(r){var i=n.join(":").trim();e.append(r,i)}}),e}function m(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new i(e.headers),this.url=e.url||"",this._initBody(t)}if(!t.fetch){var v={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(v.arrayBuffer)var g=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],b=function(t){return t&&DataView.prototype.isPrototypeOf(t)},_=ArrayBuffer.isView||function(t){return t&&g.indexOf(Object.prototype.toString.call(t))>-1};i.prototype.append=function(t,r){t=e(t),r=n(r);var i=this.map[t];this.map[t]=i?i+","+r:r},i.prototype.delete=function(t){delete this.map[e(t)]},i.prototype.get=function(t){return t=e(t),this.has(t)?this.map[t]:null},i.prototype.has=function(t){return this.map.hasOwnProperty(e(t))},i.prototype.set=function(t,r){this.map[e(t)]=n(r)},i.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},i.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),r(t)},i.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),r(t)},i.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),r(t)},v.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var w=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];d.prototype.clone=function(){return new d(this,{body:this._bodyInit})},l.call(d.prototype),l.call(m.prototype),m.prototype.clone=function(){return new m(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},m.error=function(){var t=new m(null,{status:0,statusText:""});return t.type="error",t};var E=[301,302,303,307,308];m.redirect=function(t,e){if(-1===E.indexOf(e))throw new RangeError("Invalid status code");return new m(null,{status:e,headers:{location:t}})},t.Headers=i,t.Request=d,t.Response=m,t.fetch=function(t,e){return new Promise(function(n,r){var i=new d(t,e),o=new XMLHttpRequest;o.onload=function(){var t={status:o.status,statusText:o.statusText,headers:y(o.getAllResponseHeaders()||"")};t.url="responseURL"in o?o.responseURL:t.headers.get("X-Request-URL");var e="response"in o?o.response:o.responseText;n(new m(e,t))},o.onerror=function(){r(new TypeError("Network request failed"))},o.ontimeout=function(){r(new TypeError("Network request failed"))},o.open(i.method,i.url,!0),"include"===i.credentials?o.withCredentials=!0:"omit"===i.credentials&&(o.withCredentials=!1),"responseType"in o&&v.blob&&(o.responseType="blob"),i.headers.forEach(function(t,e){o.setRequestHeader(e,t)}),o.send("undefined"===typeof i._bodyInit?null:i._bodyInit)})},t.fetch.polyfill=!0}}("undefined"!==typeof self?self:this)},function(t,e,n){"use strict";function r(t,e){function n(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function i(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]]);return n}function o(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function a(t,e){return function(n,r){e(n,r,t)}}function s(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function c(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function l(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function h(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function d(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h(arguments[e]));return t}function p(t){return this instanceof p?(this.v=t,this):new p(t)}function y(t,e,n){function r(t){f[t]&&(c[t]=function(e){return new Promise(function(n,r){l.push([t,e,n,r])>1||i(t,e)})})}function i(t,e){try{o(f[t](e))}catch(t){u(l[0][3],t)}}function o(t){t.value instanceof p?Promise.resolve(t.value.v).then(a,s):u(l[0][2],t)}function a(t){i("next",t)}function s(t){i("throw",t)}function u(t,e){t(e),l.shift(),l.length&&i(l[0][0],l[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,f=n.apply(t,e||[]),l=[];return c={},r("next"),r("throw"),r("return"),c[Symbol.asyncIterator]=function(){return this},c}function m(t){function e(e,i){t[e]&&(n[e]=function(n){return(r=!r)?{value:p(t[e](n)),done:"return"===e}:i?i(n):n})}var n,r;return n={},e("next"),e("throw",function(t){throw t}),e("return"),n[Symbol.iterator]=function(){return this},n}function v(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):"function"===typeof l?l(t):t[Symbol.iterator]()}function g(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function b(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function _(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.__extends=r,n.d(e,"__assign",function(){return E}),e.__rest=i,e.__decorate=o,e.__param=a,e.__metadata=s,e.__awaiter=u,e.__generator=c,e.__exportStar=f,e.__values=l,e.__read=h,e.__spread=d,e.__await=p,e.__asyncGenerator=y,e.__asyncDelegator=m,e.__asyncValues=v,e.__makeTemplateObject=g,e.__importStar=b,e.__importDefault=_;var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},E=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}},function(t,e,n){"use strict";(function(r){function i(t){for(var e="",n=t.split("/"),r=0;r<n.length;r++)if(n[r].length>0){var i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch(t){}e+="/"+i}return e}function o(t){var e={};"?"===t.charAt(0)&&(t=t.substring(1));for(var n=0,r=t.split("&");n<r.length;n++){var i=r[n];if(0!==i.length){var o=i.split("=");2===o.length?e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):j("Invalid query segment '"+i+"' in query '"+t+"'")}}return e}function a(t,e){return V(t.name,e.name)}function s(t,e){return V(t,e)}function u(t,e){if(void 0===e&&(e=null),null===t)return Yt.EMPTY_NODE;if("object"===typeof t&&".priority"in t&&(e=t[".priority"]),v.assert(null===e||"string"===typeof e||"number"===typeof e||"object"===typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"===typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!==typeof t||".sv"in t){return new jt(t,u(e))}if(t instanceof Array||!Jt){var n=Yt.EMPTY_NODE,r=t;return v.forEach(r,function(t,e){if(v.contains(r,t)&&"."!==t.substring(0,1)){var i=u(e);!i.isLeafNode()&&i.isEmpty()||(n=n.updateImmediateChild(t,i))}}),n.updatePriority(u(e))}var i=[],o=!1,c=t;if(v.forEach(c,function(t,e){if("string"!==typeof t||"."!==t.substring(0,1)){var n=u(c[t]);n.isEmpty()||(o=o||!n.getPriority().isEmpty(),i.push(new Pt(t,n)))}}),0==i.length)return Yt.EMPTY_NODE;var f=Kt(i,a,function(t){return t.name},s);if(o){var l=Kt(i,Ft.getCompare());return new Yt(f,u(e),new Qt({".priority":l},{".priority":Ft}))}return new Yt(f,u(e),Qt.Default)}function c(e){var n=e.INTERNAL.registerService("database",function(t,e,n){return Cn.getInstance().databaseFromApp(t,n)},{Reference:_n,Query:ce,Database:In,enableLogging:x,INTERNAL:Ln,ServerValue:zn,TEST_ACCESS:Hn},null,!0);v.isNodeSdk()&&(t.exports=n)}Object.defineProperty(e,"__esModule",{value:!0});var f,l,h,d,p,y,m,v=n(107),g=n(179),b=n(349),_=function(t){return t&&"object"===typeof t&&"default"in t?t.default:t}(n(24)),w=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),v.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:v.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),E=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return v.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),S=function(t){try{if("undefined"!==typeof window&&"undefined"!==typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new w(e)}}catch(t){}return new E},T=S("localStorage"),C=S("sessionStorage"),I=new g.Logger("@firebase/database"),A=function(){var t=1;return function(){return t++}}(),O=function(t){var e=v.stringToByteArray(t),n=new v.Sha1;n.update(e);var r=n.digest();return v.base64.encodeByteArray(r)},k=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",r=0;r<t.length;r++)Array.isArray(t[r])||t[r]&&"object"===typeof t[r]&&"number"===typeof t[r].length?n+=k.apply(null,t[r]):"object"===typeof t[r]?n+=v.stringify(t[r]):n+=t[r],n+=" ";return n},R=null,P=!0,x=function(t,e){v.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(I.logLevel=g.LogLevel.VERBOSE,R=I.log.bind(I),e&&C.set("logging_enabled",!0)):"function"===typeof t?R=t:(R=null,C.remove("logging_enabled"))},D=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===P&&(P=!1,null===R&&!0===C.get("logging_enabled")&&x(!0)),R){var n=k.apply(null,t);R(n)}},N=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];D.apply(void 0,[t].concat(e))}},M=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+k.apply(void 0,t);I.error(n)},L=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+k.apply(void 0,t);throw I.error(n),new Error(n)},j=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+k.apply(void 0,t);I.warn(n)},U=function(){"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&j("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},F=function(t){return"number"===typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},B=function(t){if(v.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){if(!document.body)return void setTimeout(n,Math.floor(10));e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},q="[MIN_NAME]",W="[MAX_NAME]",V=function(t,e){if(t===e)return 0;if(t===q||e===W)return-1;if(e===q||t===W)return 1;var n=tt(t),r=tt(e);return null!==n?null!==r?n-r==0?t.length-e.length:n-r:-1:null!==r?1:t<e?-1:1},H=function(t,e){return t===e?0:t<e?-1:1},z=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+v.stringify(e))},K=function(t){if("object"!==typeof t||null===t)return v.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var r="{",i=0;i<e.length;i++)0!==i&&(r+=","),r+=v.stringify(e[i]),r+=":",r+=K(t[e[i]]);return r+="}"},G=function(t,e){var n=t.length;if(n<=e)return[t];for(var r=[],i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r},Q=function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;++n)e(n,t[n]);else v.forEach(t,function(t,n){return e(n,t)})},Y=function(t){v.assert(!F(t),"Invalid JSON number");var e,n,r,i,o,a,s;for(0===t?(n=0,r=0,e=1/t===-1/0?1:0):(e=t<0,t=Math.abs(t),t>=Math.pow(2,-1022)?(i=Math.min(Math.floor(Math.log(t)/Math.LN2),1023),n=i+1023,r=Math.round(t*Math.pow(2,52-i)-Math.pow(2,52))):(n=0,r=Math.round(t/Math.pow(2,-1074)))),a=[],o=52;o;o-=1)a.push(r%2?1:0),r=Math.floor(r/2);for(o=11;o;o-=1)a.push(n%2?1:0),n=Math.floor(n/2);a.push(e?1:0),a.reverse(),s=a.join("");var u="";for(o=0;o<64;o+=8){var c=parseInt(s.substr(o,8),2).toString(16);1===c.length&&(c="0"+c),u+=c}return u.toLowerCase()},X=function(){return!("object"!==typeof window||!window.chrome||!window.chrome.extension||/^chrome/.test(window.location.href))},$=function(){return"object"===typeof Windows&&"object"===typeof Windows.UI},J=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?n="Client doesn't have permission to access the desired data.":"unavailable"==t&&(n="The service is unavailable");var r=new Error(t+" at "+e.path.toString()+": "+n);return r.code=t.toUpperCase(),r},Z=new RegExp("^-?\\d{1,10}$"),tt=function(t){if(Z.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},et=function(t){try{t()}catch(t){setTimeout(function(){var e=t.stack||"";throw j("Exception was thrown by user callback.",e),t},Math.floor(0))}},nt=function(){return("object"===typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},rt=function(t,e){var n=setTimeout(t,e);return"object"===typeof n&&n.unref&&n.unref(),n},it=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,r=0;r<this.pieces_.length;r++)this.pieces_[r].length>0&&(this.pieces_[n]=this.pieces_[r],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],r=this.pieceNum_;r<this.pieces_.length;r++)n.push(this.pieces_[r]);if(e instanceof t)for(var r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else for(var i=e.split("/"),r=0;r<i.length;r++)i[r].length>0&&n.push(i[r]);return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var r=e.getFront(),i=n.getFront();if(null===r)return n;if(r===i)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),r=e.slice(),i=0;i<n.length&&i<r.length;i++){var o=V(n[i],r[i]);if(0!==o)return o}return n.length===r.length?0:n.length<r.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;for(;e<this.pieces_.length;){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),ot=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=v.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=v.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=v.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),at="long_polling",st=function(){function t(t,e,n,r,i){void 0===i&&(i=""),this.secure=e,this.namespace=n,this.webSocketOnly=r,this.persistenceKey=i,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=T.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&T.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){v.assert("string"===typeof t,"typeof type must == string"),v.assert("object"===typeof e,"typeof params must == object");var n;if("websocket"===t)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==at)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e.ns=this.namespace);var r=[];return v.forEach(e,function(t,e){r.push(t+"="+e)}),n+r.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}(),ut=function(t){var e=ct(t),n=e.subdomain;"firebase"===e.domain&&L(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===e.domain||L("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||U();var r="ws"===e.scheme||"wss"===e.scheme;return{repoInfo:new st(e.host,e.secure,n,r),path:new it(e.pathString)}},ct=function(t){var e="",n="",r="",a="",s=!0,u="https",c=443;if("string"===typeof t){var f=t.indexOf("//");f>=0&&(u=t.substring(0,f-1),t=t.substring(f+2));var l=t.indexOf("/");-1===l&&(l=t.length);var h=t.indexOf("?");-1===h&&(h=t.length),e=t.substring(0,Math.min(l,h)),l<h&&(a=i(t.substring(l,h)));var d=o(t.substring(Math.min(t.length,h)));f=e.indexOf(":"),f>=0?(s="https"===u||"wss"===u,c=parseInt(e.substring(f+1),10)):f=t.length;var p=e.split(".");3===p.length?(n=p[1],r=p[0].toLowerCase()):2===p.length?n=p[0]:"localhost"===p[0].slice(0,f).toLowerCase()&&(n="localhost"),""===r&&"ns"in d&&(r=d.ns)}return{host:e,port:c,domain:n,subdomain:r,secure:s,scheme:u,pathString:a}},ft=/[\[\].#$\/\u0000-\u001F\u007F]/,lt=/[\[\].#$\u0000-\u001F\u007F]/,ht=function(t){return"string"===typeof t&&0!==t.length&&!ft.test(t)},dt=function(t){return"string"===typeof t&&0!==t.length&&!lt.test(t)},pt=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),dt(t)},yt=function(t){return null===t||"string"===typeof t||"number"===typeof t&&!F(t)||t&&"object"===typeof t&&v.contains(t,".sv")},mt=function(t,e,n,r,i){i&&void 0===n||vt(v.errorPrefix(t,e,i),n,r)},vt=function(t,e,n){var r=n instanceof it?new ot(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+r.toErrorString());if("function"===typeof e)throw new Error(t+"contains a function "+r.toErrorString()+" with contents = "+e.toString());if(F(e))throw new Error(t+"contains "+e.toString()+" "+r.toErrorString());if("string"===typeof e&&e.length>10485760/3&&v.stringLength(e)>10485760)throw new Error(t+"contains a string greater than 10485760 utf8 bytes "+r.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"===typeof e){var i=!1,o=!1;if(v.forEach(e,function(e,n){if(".value"===e)i=!0;else if(".priority"!==e&&".sv"!==e&&(o=!0,!ht(e)))throw new Error(t+" contains an invalid key ("+e+") "+r.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');r.push(e),vt(t,n,r),r.pop()}),i&&o)throw new Error(t+' contains ".value" child '+r.toErrorString()+" in addition to actual children.")}},gt=function(t,e){var n,r;for(n=0;n<e.length;n++){r=e[n];for(var i=r.slice(),o=0;o<i.length;o++)if(".priority"===i[o]&&o===i.length-1);else if(!ht(i[o]))throw new Error(t+"contains an invalid key ("+i[o]+") in path "+r.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(it.comparePaths);var a=null;for(n=0;n<e.length;n++){if(r=e[n],null!==a&&a.contains(r))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+r.toString());a=r}},bt=function(t,e,n,r,i){if(!i||void 0!==n){var o=v.errorPrefix(t,e,i);if(!n||"object"!==typeof n||Array.isArray(n))throw new Error(o+" must be an object containing the children to replace.");var a=[];v.forEach(n,function(t,e){var n=new it(t);if(vt(o,e,r.child(n)),".priority"===n.getBack()&&!yt(e))throw new Error(o+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");a.push(n)}),gt(o,a)}},_t=function(t,e,n,r){if(!r||void 0!==n){if(F(n))throw new Error(v.errorPrefix(t,e,r)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!yt(n))throw new Error(v.errorPrefix(t,e,r)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},wt=function(t,e,n,r){if(!r||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(v.errorPrefix(t,e,r)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Et=function(t,e,n,r){if((!r||void 0!==n)&&!ht(n))throw new Error(v.errorPrefix(t,e,r)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},St=function(t,e,n,r){if((!r||void 0!==n)&&!dt(n))throw new Error(v.errorPrefix(t,e,r)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Tt=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),St(t,e,n,r)},Ct=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},It=function(t,e,n){var r=n.path.toString();if("string"!==typeof n.repoInfo.host||0===n.repoInfo.host.length||!ht(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==r.length&&!pt(r))throw new Error(v.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},At=function(t,e,n,r){if((!r||void 0!==n)&&"boolean"!==typeof n)throw new Error(v.errorPrefix(t,e,r)+"must be a boolean.")},Ot=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){v.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),v.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new v.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){v.validateArgCount("OnDisconnect.remove",0,1,arguments.length),Ct("OnDisconnect.remove",this.path_),v.validateCallback("OnDisconnect.remove",1,t,!0);var e=new v.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){v.validateArgCount("OnDisconnect.set",1,2,arguments.length),Ct("OnDisconnect.set",this.path_),mt("OnDisconnect.set",1,t,this.path_,!1),v.validateCallback("OnDisconnect.set",2,e,!0);var n=new v.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){v.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),Ct("OnDisconnect.setWithPriority",this.path_),mt("OnDisconnect.setWithPriority",1,t,this.path_,!1),_t("OnDisconnect.setWithPriority",2,e,!1),v.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var r=new v.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,r.wrapCallback(n)),r.promise},t.prototype.update=function(t,e){if(v.validateArgCount("OnDisconnect.update",1,2,arguments.length),Ct("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,j("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}bt("OnDisconnect.update",1,t,this.path_,!1),v.validateCallback("OnDisconnect.update",2,e,!0);var i=new v.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,i.wrapCallback(e)),i.promise},t}(),kt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return v.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),Rt=function(){var t="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",e=0,n=[];return function(r){var i=r===e;e=r;var o,a=new Array(8);for(o=7;o>=0;o--)a[o]=t.charAt(r%64),r=Math.floor(r/64);v.assert(0===r,"Cannot push at time == 0");var s=a.join("");if(i){for(o=11;o>=0&&63===n[o];o--)n[o]=0;n[o]++}else for(o=0;o<12;o++)n[o]=Math.floor(64*Math.random());for(o=0;o<12;o++)s+=t.charAt(n[o]);return v.assert(20===s.length,"nextPushId: Length should be 20."),s}}(),Pt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),xt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Pt(q,t),r=new Pt(q,e);return 0!==this.compare(n,r)},t.prototype.minPost=function(){return Pt.MIN},t}(),Dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return b.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return f},set:function(t){f=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return V(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw v.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Pt.MIN},e.prototype.maxPost=function(){return new Pt(W,f)},e.prototype.makePost=function(t,e){return v.assert("string"===typeof t,"KeyIndex indexValue must always be a string."),new Pt(t,f)},e.prototype.toString=function(){return".key"},e}(xt),Nt=new Dt,Mt=function(t){return"number"===typeof t?"number:"+Y(t):"string:"+t},Lt=function(t){if(t.isLeafNode()){var e=t.val();v.assert("string"===typeof e||"number"===typeof e||"object"===typeof e&&v.contains(e,".sv"),"Priority must be a string or number.")}else v.assert(t===l||t.isEmpty(),"priority of unexpected type.");v.assert(t===l||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},jt=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,v.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Lt(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return h},set:function(t){h=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var r=e.getFront();return null===r?n:n.isEmpty()&&".priority"!==r?this:(v.assert(".priority"!==r||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(r,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+Mt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?Y(this.value_):this.value_,this.lazyHash_=O(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(v.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,r=typeof this.value_,i=t.VALUE_TYPE_ORDER.indexOf(n),o=t.VALUE_TYPE_ORDER.indexOf(r);return v.assert(i>=0,"Unknown leaf type: "+n),v.assert(o>=0,"Unknown leaf type: "+r),i===o?"object"===r?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:o-i},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}(),Ut=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return b.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),r=e.node.getPriority(),i=n.compareTo(r);return 0===i?V(t.name,e.name):i},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Pt.MIN},e.prototype.maxPost=function(){return new Pt(W,new jt("[PRIORITY-POST]",p))},e.prototype.makePost=function(t,e){var n=d(t);return new Pt(e,new jt("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(xt),Ft=new Ut,Bt=function(){function t(t,e,n,r,i){void 0===i&&(i=null),this.isReverse_=r,this.resultGenerator_=i,this.nodeStack_=[];for(var o=1;!t.isEmpty();)if(t=t,o=e?n(t.key,e):1,r&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),qt=function(){function t(e,n,r,i,o){this.key=e,this.value=n,this.color=null!=r?r:t.RED,this.left=null!=i?i:Vt.EMPTY_NODE,this.right=null!=o?o:Vt.EMPTY_NODE}return t.prototype.copy=function(e,n,r,i,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=r?r:this.color,null!=i?i:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var r,i;return i=this,r=n(t,i.key),i=r<0?i.copy(null,null,null,i.left.insert(t,e,n),null):0===r?i.copy(null,e,null,null,null):i.copy(null,null,null,null,i.right.insert(t,e,n)),i.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Vt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},t.prototype.remove=function(t,e){var n,r;if(n=this,e(t,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Vt.EMPTY_NODE;r=n.right.min_(),n=n.copy(r.key,r.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if((t=this.left.check_())!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Wt=function(){function t(){}return t.prototype.copy=function(t,e,n,r,i){return this},t.prototype.insert=function(t,e,n){return new qt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Vt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,qt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,qt.BLACK,null,null))},t.prototype.get=function(t){for(var e,n=this.root_;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key)))return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){for(var e,n=this.root_,r=null;!n.isEmpty();){if(0===(e=this.comparator_(t,n.key))){if(n.left.isEmpty())return r?r.key:null;for(n=n.left;!n.right.isEmpty();)n=n.right;return n.key}e<0?n=n.left:e>0&&(r=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Bt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Bt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Bt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Bt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Wt,t}(),Ht=Math.log(2),zt=function(){function t(t){this.count=function(t){return parseInt(Math.log(t)/Ht,10)}(t+1),this.current_=this.count-1;var e=function(t){return parseInt(Array(t+1).join("1"),2)}(this.count);this.bits_=t+1&e}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),Kt=function(t,e,n,r){t.sort(e);var i=function(e,r){var o,a,s=r-e;if(0==s)return null;if(1==s)return o=t[e],a=n?n(o):o,new qt(a,o.node,qt.BLACK,null,null);var u=parseInt(s/2,10)+e,c=i(e,u),f=i(u+1,r);return o=t[u],a=n?n(o):o,new qt(a,o.node,qt.BLACK,c,f)},o=new zt(t.length),a=function(e){for(var r=null,o=null,a=t.length,s=function(e,r){var o=a-e,s=a;a-=e;var c=i(o+1,s),f=t[o],l=n?n(f):f;u(new qt(l,f.node,r,null,c))},u=function(t){r?(r.left=t,r=t):(o=t,r=t)},c=0;c<e.count;++c){var f=e.nextBitIsOne(),l=Math.pow(2,e.count-(c+1));f?s(l,qt.BLACK):(s(l,qt.BLACK),s(l,qt.RED))}return o}(o);return new Vt(r||e,a)},Gt={},Qt=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return v.assert(Gt&&Ft,"ChildrenNode.ts has not been loaded"),y=y||new t({".priority":Gt},{".priority":Ft})},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=v.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e===Gt?null:e},t.prototype.hasIndex=function(t){return v.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){v.assert(e!==Nt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");for(var r=[],i=!1,o=n.getIterator(Pt.Wrap),a=o.getNext();a;)i=i||e.isDefinedOn(a.node),r.push(a),a=o.getNext();var s;s=i?Kt(r,e.getCompare()):Gt;var u=e.toString(),c=v.clone(this.indexSet_);c[u]=e;var f=v.clone(this.indexes_);return f[u]=s,new t(f,c)},t.prototype.addToIndexes=function(e,n){var r=this;return new t(v.map(this.indexes_,function(t,i){var o=v.safeGet(r.indexSet_,i);if(v.assert(o,"Missing index implementation for "+i),t===Gt){if(o.isDefinedOn(e.node)){for(var a=[],s=n.getIterator(Pt.Wrap),u=s.getNext();u;)u.name!=e.name&&a.push(u),u=s.getNext();return a.push(e),Kt(a,o.getCompare())}return Gt}var c=n.get(e.name),f=t;return c&&(f=f.remove(new Pt(e.name,c))),f.insert(e,e.node)}),this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){return new t(v.map(this.indexes_,function(t){if(t===Gt)return t;var r=n.get(e.name);return r?t.remove(new Pt(e.name,r)):t}),this.indexSet_)},t}(),Yt=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Lt(this.priorityNode_),this.children_.isEmpty()&&v.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return m||(m=new t(new Vt(s),null,Qt.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||m},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?m:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(v.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var r=new Pt(e,n),i=void 0,o=void 0,a=void 0;return n.isEmpty()?(i=this.children_.remove(e),o=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),o=this.indexMap_.addToIndexes(r,this.children_)),a=i.isEmpty()?m:this.priorityNode_,new t(i,a,o)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;v.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var r=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,r)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},r=0,i=0,o=!0;if(this.forEachChild(Ft,function(a,s){n[a]=s.val(e),r++,o&&t.INTEGER_REGEXP_.test(a)?i=Math.max(i,Number(a)):o=!1}),!e&&o&&i<2*r){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+Mt(this.getPriority().val())+":"),this.forEachChild(Ft,function(e,n){var r=n.hash();""!==r&&(t+=":"+e+":"+r)}),this.lazyHash_=""===t?"":O(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var r=this.resolveIndex_(n);if(r){var i=r.getPredecessorKey(new Pt(t,e));return i?i.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Pt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Pt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});for(var r=this.children_.getIteratorFrom(t.name,Pt.Wrap),i=r.peek();null!=i&&e.compare(i,t)<0;)r.getNext(),i=r.peek();return r},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});for(var r=this.children_.getReverseIteratorFrom(t.name,Pt.Wrap),i=r.peek();null!=i&&e.compare(i,t)>0;)r.getNext(),i=r.peek();return r},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===$t?-1:0},t.prototype.withIndex=function(e){if(e===Nt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Nt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){for(var n=this.getIterator(Ft),r=e.getIterator(Ft),i=n.getNext(),o=r.getNext();i&&o;){if(i.name!==o.name||!i.node.equals(o.node))return!1;i=n.getNext(),o=r.getNext()}return null===i&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Nt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),Xt=function(t){function e(){return t.call(this,new Vt(s),Yt.EMPTY_NODE,Qt.Default)||this}return b.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return Yt.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(Yt),$t=new Xt;Object.defineProperties(Pt,{MIN:{value:new Pt(q,Yt.EMPTY_NODE)},MAX:{value:new Pt(W,$t)}}),Dt.__EMPTY_NODE=Yt.EMPTY_NODE,jt.__childrenNodeConstructor=Yt,function(t){l=t}($t),function(t){p=t}($t);var Jt=!0;!function(t){d=t}(u);var Zt,te,ee=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return b.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?V(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Pt.MIN},e.prototype.maxPost=function(){return Pt.MAX},e.prototype.makePost=function(t,e){var n=u(t);return new Pt(e,n)},e.prototype.toString=function(){return".value"},e}(xt),ne=new ee,re=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,v.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return b.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),r=this.extractChild(e.node),i=n.compareTo(r);return 0===i?V(t.name,e.name):i},e.prototype.makePost=function(t,e){var n=u(t),r=Yt.EMPTY_NODE.updateChild(this.indexPath_,n);return new Pt(e,r)},e.prototype.maxPost=function(){var t=Yt.EMPTY_NODE.updateChild(this.indexPath_,$t);return new Pt(W,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(xt),ie=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return v.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return v.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return v.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return v.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){v.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),St("DataSnapshot.child",1,e,!1);var n=new it(e),r=this.ref_.child(n);return new t(this.node_.getChild(n),r,Ft)},t.prototype.hasChild=function(t){v.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),St("DataSnapshot.hasChild",1,t,!1);var e=new it(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return v.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;return v.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),v.validateCallback("DataSnapshot.forEach",1,e,!1),!this.node_.isLeafNode()&&!!this.node_.forEachChild(this.index_,function(r,i){return e(new t(i,n.ref_.child(r),Ft))})},t.prototype.hasChildren=function(){return v.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return v.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return v.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),oe=function(){function t(t,e,n,r){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=r}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+v.stringify(this.snapshot.exportVal())},t}(),ae=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),se=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new oe("value",this,new ie(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){v.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callback_;return function(){r.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new ae(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),ue=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,v.contains(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new ae(this,t,e):null},t.prototype.createEvent=function(t,e){v.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),r=e.getQueryParams().getIndex();return new oe(t.type,this,new ie(t.snapshotNode,n,r),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){v.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var r=this.callbacks_[t.eventType];return function(){r.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var n=v.getCount(e.callbacks_);if(n===v.getCount(this.callbacks_)){if(1===n){var r=v.getAnyKey(e.callbacks_),i=v.getAnyKey(this.callbacks_);return i===r&&(!e.callbacks_[r]||!this.callbacks_[i]||e.callbacks_[r]===this.callbacks_[i])}return v.every(this.callbacks_,function(t,n){return e.callbacks_[t]===n})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),ce=function(){function t(t,e,n,r){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=r}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return v.assert(Zt,"Reference.ts has not been loaded"),Zt},set:function(t){Zt=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Nt){var r="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",i="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){if(t.getIndexStartName()!=q)throw new Error(r);if("string"!==typeof e)throw new Error(i)}if(t.hasEnd()){if(t.getIndexEndName()!=W)throw new Error(r);if("string"!==typeof n)throw new Error(i)}}else if(t.getIndex()===Ft){if(null!=e&&!yt(e)||null!=n&&!yt(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(v.assert(t.getIndex()instanceof re||t.getIndex()===ne,"unknown index type."),null!=e&&"object"===typeof e||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return v.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,r,i){v.validateArgCount("Query.on",2,4,arguments.length),wt("Query.on",1,e,!1),v.validateCallback("Query.on",2,n,!1);var o=t.getCancelAndContextArgs_("Query.on",r,i);if("value"===e)this.onValueEvent(n,o.cancel,o.context);else{var a={};a[e]=n,this.onChildEvent(a,o.cancel,o.context)}return n},t.prototype.onValueEvent=function(t,e,n){var r=new se(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,r)},t.prototype.onChildEvent=function(t,e,n){var r=new ue(t,e,n);this.repo.addEventCallbackForQuery(this,r)},t.prototype.off=function(t,e,n){v.validateArgCount("Query.off",0,3,arguments.length),wt("Query.off",1,t,!0),v.validateCallback("Query.off",2,e,!0),v.validateContextObject("Query.off",3,n,!0);var r=null,i=null;if("value"===t){r=new se(e||null,null,n||null)}else t&&(e&&(i={},i[t]=e),r=new ue(i,null,n||null));this.repo.removeEventCallbackForQuery(this,r)},t.prototype.once=function(e,n,r,i){var o=this;v.validateArgCount("Query.once",1,4,arguments.length),wt("Query.once",1,e,!1),v.validateCallback("Query.once",2,n,!0);var a=t.getCancelAndContextArgs_("Query.once",r,i),s=!0,u=new v.Deferred;u.promise.catch(function(){});var c=function(t){s&&(s=!1,o.off(e,c),n&&n.bind(a.context)(t),u.resolve(t))};return this.on(e,c,function(t){o.off(e,c),a.cancel&&a.cancel.bind(a.context)(t),u.reject(t)}),u.promise},t.prototype.limitToFirst=function(e){if(v.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(v.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(v.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');St("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new it(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var r=new re(n),i=this.queryParams_.orderBy(r);return t.validateQueryEndpoints_(i),new t(this.repo,this.path,i,!0)},t.prototype.orderByKey=function(){v.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Nt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){v.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Ft);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){v.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(ne);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),v.validateArgCount("Query.startAt",0,2,arguments.length),mt("Query.startAt",1,e,this.path,!0),Et("Query.startAt",2,n,!0);var r=this.queryParams_.startAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),v.validateArgCount("Query.endAt",0,2,arguments.length),mt("Query.endAt",1,e,this.path,!0),Et("Query.endAt",2,n,!0);var r=this.queryParams_.endAt(e,n);if(t.validateLimit_(r),t.validateQueryEndpoints_(r),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,r,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(v.validateArgCount("Query.equalTo",1,2,arguments.length),mt("Query.equalTo",1,t,this.path,!1),Et("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return v.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return v.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=K(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(v.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){throw new Error("Query.isEqual failed: First argument must be an instance of firebase.database.Query.")}var n=this.repo===e.repo,r=this.path.equals(e.path),i=this.queryIdentifier()===e.queryIdentifier();return n&&r&&i},t.getCancelAndContextArgs_=function(t,e,n){var r={cancel:null,context:null};if(e&&n)r.cancel=e,v.validateCallback(t,3,r.cancel,!0),r.context=n,v.validateContextObject(t,4,r.context,!0);else if(e)if("object"===typeof e&&null!==e)r.context=e;else{if("function"!==typeof e)throw new Error(v.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");r.cancel=e}return r},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),fe=function(){function t(){this.set={}}return t.prototype.add=function(t,e){this.set[t]=null===e||e},t.prototype.contains=function(t){return v.contains(this.set,t)},t.prototype.get=function(t){return this.contains(t)?this.set[t]:void 0},t.prototype.remove=function(t){delete this.set[t]},t.prototype.clear=function(){this.set={}},t.prototype.isEmpty=function(){return v.isEmpty(this.set)},t.prototype.count=function(){return v.getCount(this.set)},t.prototype.each=function(t){v.forEach(this.set,function(e,n){return t(e,n)})},t.prototype.keys=function(){var t=[];return v.forEach(this.set,function(e){t.push(e)}),t},t}(),le=function(){function t(){this.value_=null,this.children_=null}return t.prototype.find=function(t){if(null!=this.value_)return this.value_.getChild(t);if(t.isEmpty()||null==this.children_)return null;var e=t.getFront();if(t=t.popFront(),this.children_.contains(e)){return this.children_.get(e).find(t)}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(e,n);else{null==this.children_&&(this.children_=new fe);var r=e.getFront();this.children_.contains(r)||this.children_.add(r,new t);var i=this.children_.get(r);e=e.popFront(),i.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var e=this.value_;this.value_=null;var n=this;return e.forEachChild(Ft,function(t,e){n.remember(new it(t),e)}),this.forget(t)}if(null!==this.children_){var r=t.getFront();if(t=t.popFront(),this.children_.contains(r)){this.children_.get(r).forget(t)&&this.children_.remove(r)}return!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},t.prototype.forEachTree=function(t,e){null!==this.value_?e(t,this.value_):this.forEachChild(function(n,r){var i=new it(t.toString()+"/"+n);r.forEachTree(i,e)})},t.prototype.forEachChild=function(t){null!==this.children_&&this.children_.each(function(e,n){t(e,n)})},t}(),he=function(t){return t=t||{},t.timestamp=t.timestamp||(new Date).getTime(),t},de=function(t,e){return t&&"object"===typeof t?(v.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},pe=function(t,e){var n=new le;return t.forEachTree(new it(""),function(t,r){n.remember(t,ye(r,e))}),n},ye=function(t,e){var n,r=t.getPriority().val(),i=de(r,e);if(t.isLeafNode()){var o=t,a=de(o.getValue(),e);return a!==o.getValue()||i!==o.getPriority().val()?new jt(a,u(i)):t}var s=t;return n=s,i!==s.getPriority().val()&&(n=n.updatePriority(new jt(i))),s.forEachChild(Ft,function(t,r){var i=ye(r,e);i!==r&&(n=n.updateImmediateChild(t,i))}),n};!function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"}(te||(te={}));var me,ve,ge=function(){function t(t,e,n,r){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=r,v.assert(!r||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),be=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=te.ACK_USER_WRITE,this.source=ge.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return v.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new it(e));return new t(it.Empty,n,this.revert)}return v.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),_e=function(){return me||(me=new Vt(H)),me},we=function(){function t(t,e){void 0===e&&(e=_e()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return v.forEach(e,function(t,e){n=n.set(new it(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:it.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),r=this.children.get(n);if(null!==r){var i=r.findRootMostMatchingPathAndValue(t.popFront(),e);if(null!=i){return{path:new it(n).child(i.path),value:i.value}}return null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),r=this.children.get(n);return null!==r?r.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var r=e.getFront(),i=this.children.get(r)||t.Empty,o=i.set(e.popFront(),n),a=this.children.insert(r,o);return new t(this.value,a)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),r=this.children.get(n);if(r){var i=r.remove(e.popFront()),o=void 0;return o=i.isEmpty()?this.children.remove(n):this.children.insert(n,i),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var r=e.getFront(),i=this.children.get(r)||t.Empty,o=i.setTree(e.popFront(),n),a=void 0;return a=o.isEmpty()?this.children.remove(r):this.children.insert(r,o),new t(this.value,a)},t.prototype.fold=function(t){return this.fold_(it.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(r,i){n[r]=i.fold_(t.child(r),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,it.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var r=!!this.value&&n(e,this.value);if(r)return r;if(t.isEmpty())return null;var i=t.getFront(),o=this.children.get(i);return o?o.findOnPath_(t.popFront(),e.child(i),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,it.Empty,e)},t.prototype.foreachOnPath_=function(e,n,r){if(e.isEmpty())return this;this.value&&r(n,this.value);var i=e.getFront(),o=this.children.get(i);return o?o.foreachOnPath_(e.popFront(),n.child(i),r):t.Empty},t.prototype.foreach=function(t){this.foreach_(it.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,r){r.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}(),Ee=function(){function t(t,e){this.source=t,this.path=e,this.type=te.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,it.Empty):new t(this.source,this.path.popFront())},t}(),Se=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=te.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,it.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),Te=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=te.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new it(e));return n.isEmpty()?null:n.value?new Se(this.source,it.Empty,n.value):new t(this.source,it.Empty,n)}return v.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),Ce=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Ie=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,r){return new t(new Ce(e,n,r),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,r){return new t(this.eventCache_,new Ce(e,n,r))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new Ce(Yt.EMPTY_NODE,!1,!1),new Ce(Yt.EMPTY_NODE,!1,!1)),t}(),Ae=function(){function t(t,e,n,r,i){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=r,this.prevName=i}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,r){return new t(t.CHILD_CHANGED,n,e,r)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),Oe=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,r,i,o){v.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var a=t.getImmediateChild(e);return a.getChild(r).equals(n.getChild(r))&&a.isEmpty()==n.isEmpty()?t:(null!=o&&(n.isEmpty()?t.hasChild(e)?o.trackChildChange(Ae.childRemovedChange(e,a)):v.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(Ae.childAddedChange(e,n)):o.trackChildChange(Ae.childChangedChange(e,n,a))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Ft,function(t,r){e.hasChild(t)||n.trackChildChange(Ae.childRemovedChange(t,r))}),e.isLeafNode()||e.forEachChild(Ft,function(e,r){if(t.hasChild(e)){var i=t.getImmediateChild(e);i.equals(r)||n.trackChildChange(Ae.childChangedChange(e,r,i))}else n.trackChildChange(Ae.childAddedChange(e,r))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?Yt.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),ke=function(){function t(){this.changeMap_={}}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;v.assert(e==Ae.CHILD_ADDED||e==Ae.CHILD_CHANGED||e==Ae.CHILD_REMOVED,"Only child changes supported for tracking"),v.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var r=v.safeGet(this.changeMap_,n);if(r){var i=r.type;if(e==Ae.CHILD_ADDED&&i==Ae.CHILD_REMOVED)this.changeMap_[n]=Ae.childChangedChange(n,t.snapshotNode,r.snapshotNode);else if(e==Ae.CHILD_REMOVED&&i==Ae.CHILD_ADDED)delete this.changeMap_[n];else if(e==Ae.CHILD_REMOVED&&i==Ae.CHILD_CHANGED)this.changeMap_[n]=Ae.childRemovedChange(n,r.oldSnap);else if(e==Ae.CHILD_CHANGED&&i==Ae.CHILD_ADDED)this.changeMap_[n]=Ae.childAddedChange(n,t.snapshotNode);else{if(e!=Ae.CHILD_CHANGED||i!=Ae.CHILD_CHANGED)throw v.assertionError("Illegal combination of changes: "+t+" occurred after "+r);this.changeMap_[n]=Ae.childChangedChange(n,t.snapshotNode,r.oldSnap)}}else this.changeMap_[n]=t},t.prototype.getChanges=function(){return v.getValues(this.changeMap_)},t}(),Re=function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}(),Pe=new Re,xe=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new Ce(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var r=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),i=this.writes_.calcIndexedSlice(r,e,1,n,t);return 0===i.length?null:i[0]},t}(),De=function(){function t(t,e){this.viewCache=t,this.changes=e}return t}(),Ne=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){v.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),v.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,r,i){var o,a,s=new ke;if(n.type===te.OVERWRITE){var u=n;u.source.fromUser?o=this.applyUserOverwrite_(e,u.path,u.snap,r,i,s):(v.assert(u.source.fromServer,"Unknown source."),a=u.source.tagged||e.getServerCache().isFiltered()&&!u.path.isEmpty(),o=this.applyServerOverwrite_(e,u.path,u.snap,r,i,a,s))}else if(n.type===te.MERGE){var c=n;c.source.fromUser?o=this.applyUserMerge_(e,c.path,c.children,r,i,s):(v.assert(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.getServerCache().isFiltered(),o=this.applyServerMerge_(e,c.path,c.children,r,i,a,s))}else if(n.type===te.ACK_USER_WRITE){var f=n;o=f.revert?this.revertUserWrite_(e,f.path,r,i,s):this.ackUserWrite_(e,f.path,f.affectedTree,r,i,s)}else{if(n.type!==te.LISTEN_COMPLETE)throw v.assertionError("Unknown operation type: "+n.type);o=this.listenComplete_(e,n.path,r,s)}var l=s.getChanges();return t.maybeAddValueEvent_(e,o,l),new De(o,l)},t.maybeAddValueEvent_=function(t,e,n){var r=e.getEventCache();if(r.isFullyInitialized()){var i=r.getNode().isLeafNode()||r.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||i&&!r.getNode().equals(o)||!r.getNode().getPriority().equals(o.getPriority()))&&n.push(Ae.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,r,i){var o=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var a=void 0,s=void 0;if(e.isEmpty())if(v.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var u=t.getCompleteServerSnap(),c=u instanceof Yt?u:Yt.EMPTY_NODE,f=n.calcCompleteEventChildren(c);a=this.filter_.updateFullNode(t.getEventCache().getNode(),f,i)}else{var l=n.calcCompleteEventCache(t.getCompleteServerSnap());a=this.filter_.updateFullNode(t.getEventCache().getNode(),l,i)}else{var h=e.getFront();if(".priority"==h){v.assert(1==e.getLength(),"Can't have a priority with additional path components");var d=o.getNode();s=t.getServerCache().getNode();var p=n.calcEventCacheAfterServerOverwrite(e,d,s);a=null!=p?this.filter_.updatePriority(d,p):o.getNode()}else{var y=e.popFront(),m=void 0;if(o.isCompleteForChild(h)){s=t.getServerCache().getNode();var g=n.calcEventCacheAfterServerOverwrite(e,o.getNode(),s);m=null!=g?o.getNode().getImmediateChild(h).updateChild(y,g):o.getNode().getImmediateChild(h)}else m=n.calcCompleteChild(h,t.getServerCache());a=null!=m?this.filter_.updateChild(o.getNode(),h,m,y,r,i):o.getNode()}}return t.updateEventSnap(a,o.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,r,i,o,a){var s,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var f=u.getNode().updateChild(e,n);s=c.updateFullNode(u.getNode(),f,null)}else{var l=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var h=e.popFront(),d=u.getNode().getImmediateChild(l),p=d.updateChild(h,n);s=".priority"==l?c.updatePriority(u.getNode(),p):c.updateChild(u.getNode(),l,p,h,Pe,null)}var y=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),m=new xe(r,y,i);return this.generateEventCacheAfterServerEvent_(y,e,r,m,a)},t.prototype.applyUserOverwrite_=function(t,e,n,r,i,o){var a,s,u=t.getEventCache(),c=new xe(r,t,i);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var f=e.getFront();if(".priority"===f)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var l=e.popFront(),h=u.getNode().getImmediateChild(f),d=void 0;if(l.isEmpty())d=n;else{var p=c.getCompleteChild(f);d=null!=p?".priority"===l.getBack()&&p.getChild(l.parent()).isEmpty()?p:p.updateChild(l,n):Yt.EMPTY_NODE}if(h.equals(d))a=t;else{var y=this.filter_.updateChild(u.getNode(),f,d,l,c,o);a=t.updateEventSnap(y,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,r,i,o,a){var s=this,u=e;return r.foreach(function(r,c){var f=n.child(r);t.cacheHasChild_(e,f.getFront())&&(u=s.applyUserOverwrite_(u,f,c,i,o,a))}),r.foreach(function(r,c){var f=n.child(r);t.cacheHasChild_(e,f.getFront())||(u=s.applyUserOverwrite_(u,f,c,i,o,a))}),u},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,r,i,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=e.isEmpty()?n:we.Empty.setTree(e,n);var f=t.getServerCache().getNode();return u.children.inorderTraversal(function(e,n){if(f.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),l=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new it(e),l,r,i,o,a)}}),u.children.inorderTraversal(function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!f.hasChild(e)&&!u){var l=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(l,n);c=s.applyServerOverwrite_(c,new it(e),h,r,i,o,a)}}),c},t.prototype.ackUserWrite_=function(t,e,n,r,i,o){if(null!=r.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),r,i,a,o);if(e.isEmpty()){var u=we.Empty;return s.getNode().forEachChild(Nt,function(t,e){u=u.set(new it(t),e)}),this.applyServerMerge_(t,e,u,r,i,a,o)}return t}var c=we.Empty;return n.foreach(function(t,n){var r=e.child(t);s.isCompleteForPath(r)&&(c=c.set(t,s.getNode().getChild(r)))}),this.applyServerMerge_(t,e,c,r,i,a,o)},t.prototype.listenComplete_=function(t,e,n,r){var i=t.getServerCache(),o=t.updateServerSnap(i.getNode(),i.isFullyInitialized()||e.isEmpty(),i.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,Pe,r)},t.prototype.revertUserWrite_=function(t,e,n,r,i){var o;if(null!=n.shadowingWrite(e))return t;var a=new xe(n,t,r),s=t.getEventCache().getNode(),u=void 0;if(e.isEmpty()||".priority"===e.getFront()){var c=void 0;if(t.getServerCache().isFullyInitialized())c=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var f=t.getServerCache().getNode();v.assert(f instanceof Yt,"serverChildren would be complete if leaf node"),c=n.calcCompleteEventChildren(f)}c=c,u=this.filter_.updateFullNode(s,c,i)}else{var l=e.getFront(),h=n.calcCompleteChild(l,t.getServerCache());null==h&&t.getServerCache().isCompleteForChild(l)&&(h=s.getImmediateChild(l)),u=null!=h?this.filter_.updateChild(s,l,h,e.popFront(),a,i):t.getEventCache().getNode().hasChild(l)?this.filter_.updateChild(s,l,Yt.EMPTY_NODE,e.popFront(),a,i):s,u.isEmpty()&&t.getServerCache().isFullyInitialized()&&(o=n.calcCompleteEventCache(t.getCompleteServerSnap()),o.isLeafNode()&&(u=this.filter_.updateFullNode(u,o,i)))}return o=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(it.Empty),t.updateEventSnap(u,o,this.filter_.filtersNodes())},t}(),Me=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var r=this,i=[],o=[];return t.forEach(function(t){t.type===Ae.CHILD_CHANGED&&r.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(Ae.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(i,Ae.CHILD_REMOVED,t,n,e),this.generateEventsForType_(i,Ae.CHILD_ADDED,t,n,e),this.generateEventsForType_(i,Ae.CHILD_MOVED,o,n,e),this.generateEventsForType_(i,Ae.CHILD_CHANGED,t,n,e),this.generateEventsForType_(i,Ae.VALUE,t,n,e),i},t.prototype.generateEventsForType_=function(t,e,n,r,i){var o=this,a=n.filter(function(t){return t.type===e});a.sort(this.compareChanges_.bind(this)),a.forEach(function(e){var n=o.materializeSingleChange_(e,i);r.forEach(function(r){r.respondsTo(e.type)&&t.push(r.createEvent(n,o.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw v.assertionError("Should only compare child_ events.");var n=new Pt(t.childName,t.snapshotNode),r=new Pt(e.childName,e.snapshotNode);return this.index_.compare(n,r)},t}(),Le=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),r=new Oe(n.getIndex()),i=n.getNodeFilter();this.processor_=new Ne(i);var o=e.getServerCache(),a=e.getEventCache(),s=r.updateFullNode(Yt.EMPTY_NODE,o.getNode(),null),u=i.updateFullNode(Yt.EMPTY_NODE,a.getNode(),null),c=new Ce(s,o.isFullyInitialized(),r.filtersNodes()),f=new Ce(u,a.isFullyInitialized(),i.filtersNodes());this.viewCache_=new Ie(f,c),this.eventGenerator_=new Me(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){v.assert(null==t,"A cancel should cancel all event registrations.");var r=this.query_.path;this.eventRegistrations_.forEach(function(t){e=e;var i=t.createCancelEvent(e,r);i&&n.push(i)})}if(t){for(var i=[],o=0;o<this.eventRegistrations_.length;++o){var a=this.eventRegistrations_[o];if(a.matches(t)){if(t.hasAnyCallback()){i=i.concat(this.eventRegistrations_.slice(o+1));break}}else i.push(a)}this.eventRegistrations_=i}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===te.MERGE&&null!==t.source.queryId&&(v.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),v.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var r=this.viewCache_,i=this.processor_.applyOperation(r,t,e,n);return this.processor_.assertIndexed(i.viewCache),v.assert(i.viewCache.getServerCache().isFullyInitialized()||!r.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=i.viewCache,this.generateEventsForChanges_(i.changes,i.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];if(!e.getNode().isLeafNode()){e.getNode().forEachChild(Ft,function(t,e){n.push(Ae.childAddedChange(t,e))})}return e.isFullyInitialized()&&n.push(Ae.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var r=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,r)},t}(),je=function(){function t(){this.views_={}}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return v.assert(ve,"Reference.ts has not been loaded"),ve},set:function(t){v.assert(!ve,"__referenceConstructor has already been defined"),ve=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return v.isEmpty(this.views_)},t.prototype.applyOperation=function(t,e,n){var r=t.source.queryId;if(null!==r){var i=v.safeGet(this.views_,r);return v.assert(null!=i,"SyncTree gave us an op for an invalid query."),i.applyOperation(t,e,n)}var o=[];return v.forEach(this.views_,function(r,i){o=o.concat(i.applyOperation(t,e,n))}),o},t.prototype.addEventRegistration=function(t,e,n,r,i){var o=t.queryIdentifier(),a=v.safeGet(this.views_,o);if(!a){var s=n.calcCompleteEventCache(i?r:null),u=!1;s?u=!0:r instanceof Yt?(s=n.calcCompleteEventChildren(r),u=!1):(s=Yt.EMPTY_NODE,u=!1);var c=new Ie(new Ce(s,u,!1),new Ce(r,i,!1));a=new Le(t,c),this.views_[o]=a}return a.addEventRegistration(e),a.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,r){var i=e.queryIdentifier(),o=[],a=[],s=this.hasCompleteView();if("default"===i){var u=this;v.forEach(this.views_,function(t,e){a=a.concat(e.removeEventRegistration(n,r)),e.isEmpty()&&(delete u.views_[t],e.getQuery().getQueryParams().loadsAllData()||o.push(e.getQuery()))})}else{var c=v.safeGet(this.views_,i);c&&(a=a.concat(c.removeEventRegistration(n,r)),c.isEmpty()&&(delete this.views_[i],c.getQuery().getQueryParams().loadsAllData()||o.push(c.getQuery())))}return s&&!this.hasCompleteView()&&o.push(new t.__referenceConstructor(e.repo,e.path)),{removed:o,events:a}},t.prototype.getQueryViews=function(){var t=this;return Object.keys(this.views_).map(function(e){return t.views_[e]}).filter(function(t){return!t.getQuery().getQueryParams().loadsAllData()})},t.prototype.getCompleteServerCache=function(t){var e=null;return v.forEach(this.views_,function(n,r){e=e||r.getCompleteServerCache(t)}),e},t.prototype.viewForQuery=function(t){if(t.getQueryParams().loadsAllData())return this.getCompleteView();var e=t.queryIdentifier();return v.safeGet(this.views_,e)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){return v.findValue(this.views_,function(t){return t.getQuery().getQueryParams().loadsAllData()})||null},t}(),Ue=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new we(n));var r=this.writeTree_.findRootMostValueAndPath(e);if(null!=r){var i=r.path,o=r.value,a=it.relativePath(i,e);return o=o.updateChild(a,n),new t(this.writeTree_.set(i,o))}var s=new we(n);return new t(this.writeTree_.setTree(e,s))},t.prototype.addWrites=function(t,e){var n=this;return v.forEach(e,function(e,r){n=n.addWrite(t.child(e),r)}),n},t.prototype.removeWrite=function(e){return e.isEmpty()?t.Empty:new t(this.writeTree_.setTree(e,we.Empty))},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(it.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Ft,function(e,n){t.push(new Pt(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new Pt(e,n.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new we(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(e){return t.applySubtreeWrite_(it.Empty,this.writeTree_,e)},t.Empty=new t(new we(null)),t.applySubtreeWrite_=function(e,n,r){if(null!=n.value)return r.updateChild(e,n.value);var i=null;return n.children.inorderTraversal(function(n,o){".priority"===n?(v.assert(null!==o.value,"Priority writes must always be leaf nodes"),i=o.value):r=t.applySubtreeWrite_(e.child(n),o,r)}),r.getChild(e).isEmpty()||null===i||(r=r.updateChild(e.child(".priority"),i)),r},t}(),Fe=function(){function t(){this.visibleWrites_=Ue.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Be(t,this)},t.prototype.addOverwrite=function(t,e,n,r){v.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===r&&(r=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:r}),r&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){v.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});v.assert(n>=0,"removeWrite called with nonexistent writeId.");var r=this.allWrites_[n];this.allWrites_.splice(n,1);for(var i=r.visible,o=!1,a=this.allWrites_.length-1;i&&a>=0;){var s=this.allWrites_[a];s.visible&&(a>=n&&this.recordContainsPath_(s,r.path)?i=!1:r.path.contains(s.path)&&(o=!0)),a--}if(i){if(o)return this.resetTree_(),!0;if(r.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(r.path);else{var u=r.children;v.forEach(u,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(r.path.child(t))})}return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,r,i){if(r||i){var o=this.visibleWrites_.childCompoundWrite(e);if(!i&&o.isEmpty())return n;if(i||null!=n||o.hasCompleteWrite(it.Empty)){var a=function(t){return(t.visible||i)&&(!r||!~r.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},s=t.layerTree_(this.allWrites_,a,e),u=n||Yt.EMPTY_NODE;return s.apply(u)}return null}var c=this.visibleWrites_.getCompleteNode(e);if(null!=c)return c;var f=this.visibleWrites_.childCompoundWrite(e);if(f.isEmpty())return n;if(null!=n||f.hasCompleteWrite(it.Empty)){var u=n||Yt.EMPTY_NODE;return f.apply(u)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=Yt.EMPTY_NODE,r=this.visibleWrites_.getCompleteNode(t);if(r)return r.isLeafNode()||r.forEachChild(Ft,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var i=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Ft,function(t,e){var r=i.childCompoundWrite(new it(t)).apply(e);n=n.updateImmediateChild(t,r)}),i.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}return this.visibleWrites_.childCompoundWrite(t).getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,r){v.assert(n||r,"Either existingEventSnap or existingServerSnap must exist");var i=t.child(e);if(this.visibleWrites_.hasCompleteWrite(i))return null;var o=this.visibleWrites_.childCompoundWrite(i);return o.isEmpty()?r.getChild(e):o.apply(r.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var r=t.child(e),i=this.visibleWrites_.getCompleteNode(r);if(null!=i)return i;if(n.isCompleteForChild(e)){return this.visibleWrites_.childCompoundWrite(r).apply(n.getNode().getImmediateChild(e))}return null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,r,i,o){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(it.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];for(var c=[],f=o.getCompare(),l=i?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),h=l.getNext();h&&c.length<r;)0!==f(h,n)&&c.push(h),h=l.getNext();return c},t.prototype.recordContainsPath_=function(t,e){return t.snap?t.path.contains(e):!!v.findKey(t.children,function(n,r){return t.path.child(r).contains(e)})},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,it.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var r=Ue.Empty,i=0;i<t.length;++i){var o=t[i];if(e(o)){var a=o.path,s=void 0;if(o.snap)n.contains(a)?(s=it.relativePath(n,a),r=r.addWrite(s,o.snap)):a.contains(n)&&(s=it.relativePath(a,n),r=r.addWrite(it.Empty,o.snap.getChild(s)));else{if(!o.children)throw v.assertionError("WriteRecord should have .snap or .children");if(n.contains(a))s=it.relativePath(n,a),r=r.addWrites(s,o.children);else if(a.contains(n))if(s=it.relativePath(a,n),s.isEmpty())r=r.addWrites(it.Empty,o.children);else{var u=v.safeGet(o.children,s.getFront());if(u){var c=u.getChild(s.popFront());r=r.addWrite(it.Empty,c)}}}}}return r},t}(),Be=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,r,i){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,r,i)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),qe=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=we.Empty,this.pendingWriteTree_=new Fe,this.tagToQueryMap_={},this.queryToTagMap_={}}return t.prototype.applyUserOverwrite=function(t,e,n,r){return this.pendingWriteTree_.addOverwrite(t,e,n,r),r?this.applyOperationToSyncPoints_(new Se(ge.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var r=we.fromObject(e);return this.applyOperationToSyncPoints_(new Te(ge.User,t,r))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t);if(this.pendingWriteTree_.removeWrite(t)){var r=we.Empty;return null!=n.snap?r=r.set(it.Empty,!0):v.forEach(n.children,function(t,e){r=r.set(new it(t),e)}),this.applyOperationToSyncPoints_(new be(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new Se(ge.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=we.fromObject(e);return this.applyOperationToSyncPoints_(new Te(ge.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new Ee(ge.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,r){var i=this.queryKeyForTag_(r);if(null!=i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=it.relativePath(a,e),c=new Se(ge.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,r){var i=this.queryKeyForTag_(r);if(i){var o=t.parseQueryKey_(i),a=o.path,s=o.queryId,u=it.relativePath(a,e),c=we.fromObject(n),f=new Te(ge.forServerTaggedQuery(s),u,c);return this.applyTaggedOperation_(a,f)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var r=this.queryKeyForTag_(n);if(r){var i=t.parseQueryKey_(r),o=i.path,a=i.queryId,s=it.relativePath(o,e),u=new Ee(ge.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var r=e.path,i=null,o=!1;this.syncPointTree_.foreachOnPath(r,function(t,e){var n=it.relativePath(t,r);i=i||e.getCompleteServerCache(n),o=o||e.hasCompleteView()});var a=this.syncPointTree_.get(r);a?(o=o||a.hasCompleteView(),i=i||a.getCompleteServerCache(it.Empty)):(a=new je,this.syncPointTree_=this.syncPointTree_.set(r,a));var s;if(null!=i)s=!0;else{s=!1,i=Yt.EMPTY_NODE;this.syncPointTree_.subtree(r).foreachChild(function(t,e){var n=e.getCompleteServerCache(it.Empty);n&&(i=i.updateImmediateChild(t,n))})}var u=a.viewExistsForQuery(e);if(!u&&!e.getQueryParams().loadsAllData()){var c=t.makeQueryKey_(e);v.assert(!(c in this.queryToTagMap_),"View does not exist, but we have a tag");var f=t.getNextQueryTag_();this.queryToTagMap_[c]=f,this.tagToQueryMap_["_"+f]=c}var l=this.pendingWriteTree_.childWrites(r),h=a.addEventRegistration(e,n,l,i,s);if(!u&&!o){var d=a.viewForQuery(e);h=h.concat(this.setupListener_(e,d))}return h},t.prototype.removeEventRegistration=function(e,n,r){var i=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,r);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var f=-1!==c.findIndex(function(t){return t.getQueryParams().loadsAllData()}),l=this.syncPointTree_.findOnPath(o,function(t,e){return e.hasCompleteView()});if(f&&!l){var h=this.syncPointTree_.subtree(o);if(!h.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(h),p=0;p<d.length;++p){var y=d[p],m=y.getQuery(),v=this.createListenerForView_(y);this.listenProvider_.startListening(t.queryForListening_(m),this.tagForQuery_(m),v.hashFn,v.onComplete)}}if(!l&&c.length>0&&!r)if(f){this.listenProvider_.stopListening(t.queryForListening_(e),null)}else c.forEach(function(e){var n=i.queryToTagMap_[t.makeQueryKey_(e)];i.listenProvider_.stopListening(t.queryForListening_(e),n)});this.removeTags_(c)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,function(e,n){var r=it.relativePath(e,t),i=n.getCompleteServerCache(r);if(i)return i});return n.calcCompleteEventCache(t,r,e,!0)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView()){return[e.getCompleteView()]}var r=[];return e&&(r=e.getQueryViews()),v.forEach(n,function(t,e){r=r.concat(e)}),r})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var r=e[n];if(!r.getQueryParams().loadsAllData()){var i=t.makeQueryKey_(r),o=this.queryToTagMap_[i];delete this.queryToTagMap_[i],delete this.tagToQueryMap_["_"+o]}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var r=e.path,i=this.tagForQuery_(e),o=this.createListenerForView_(n),a=this.listenProvider_.startListening(t.queryForListening_(e),i,o.hashFn,o.onComplete),s=this.syncPointTree_.subtree(r);if(i)v.assert(!s.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var u=s.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var r=[];return e&&(r=r.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),v.forEach(n,function(t,e){r=r.concat(e)}),r}),c=0;c<u.length;++c){var f=u[c];this.listenProvider_.stopListening(t.queryForListening_(f),this.tagForQuery_(f))}return a},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),r=this.tagForQuery_(n);return{hashFn:function(){return(t.getServerCache()||Yt.EMPTY_NODE).hash()},onComplete:function(t){if("ok"===t)return r?e.applyTaggedListenComplete(n.path,r):e.applyListenComplete(n.path);var i=J(t,n);return e.removeEventRegistration(n,null,i)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return v.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new it(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap_["_"+t]},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return v.safeGet(this.queryToTagMap_,n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);v.assert(n,"Missing sync point for query tag that we're tracking");var r=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,r,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(it.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,r){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,r);var i=e.get(it.Empty);null==n&&null!=i&&(n=i.getCompleteServerCache(it.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,f=r.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,f))}return i&&(o=o.concat(i.applyOperation(t,r,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,r){var i=this,o=e.get(it.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(it.Empty));var a=[];return e.children.inorderTraversal(function(e,o){var s=n?n.getImmediateChild(e):null,u=r.child(e),c=t.operationForChild(e);c&&(a=a.concat(i.applyOperationDescendantsHelper_(c,o,s,u)))}),o&&(a=a.concat(o.applyOperation(t,r,n))),a},t.nextQueryTag_=1,t}(),We=function(){function t(){this.rootNode_=Yt.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),Ve=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_.INTERNAL.getToken(t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(D("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},t.prototype.addTokenChangeListener=function(t){this.app_.INTERNAL.addAuthTokenListener(t)},t.prototype.removeTokenChangeListener=function(t){this.app_.INTERNAL.removeAuthTokenListener(t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',j(t)},t}(),He=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),v.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return v.deepCopy(this.counters_)},t}(),ze=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new He),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),Ke=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=v.clone(t);return this.last_&&v.forEach(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),Ge=1e4,Qe=3e4,Ye=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new Ke(t);var n=Ge+(Qe-Ge)*Math.random();rt(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},r=!1;v.forEach(e,function(e,i){i>0&&v.contains(t.statsToReport_,e)&&(n[e]=i,r=!0)}),r&&this.server_.reportStats(n),rt(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))},t}(),Xe=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var r=t[n],i=r.getPath();null===e||i.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new $e(i)),e.add(r)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var r=this.eventLists_[n];if(r){t(r.getPath())?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),$e=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();R&&D("event: "+e.toString()),et(n)}}},t.prototype.getPath=function(){return this.path_},t}(),Je=function(){function t(t){this.allowedEvents_=t,this.listeners_={},v.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var r=this.listeners_[t].slice(),i=0;i<r.length;i++)r[i].callback.apply(r[i].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var r=this.getInitialEvent(t);r&&e.apply(n,r)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var r=this.listeners_[t]||[],i=0;i<r.length;i++)if(r[i].callback===e&&(!n||n===r[i].context))return void r.splice(i,1)},t.prototype.validateEventType_=function(t){v.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),Ze=function(t){function e(){var e,n,r=t.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document.hidden?(n="visibilitychange",e="hidden"):"undefined"!==typeof document.mozHidden?(n="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document.msHidden?(n="msvisibilitychange",e="msHidden"):"undefined"!==typeof document.webkitHidden&&(n="webkitvisibilitychange",e="webkitHidden")),r.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==r.visible_&&(r.visible_=t,r.trigger("visible",t))},!1),r}return b.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return v.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(Je),tn=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||v.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return b.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return v.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(Je),en=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;for(var r=this;this.pendingResponses[this.currentResponseNum];){if("break"===function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=0;e<t.length;++e)!function(e){t[e]&&et(function(){n.onMessage_(t[e])})}(e);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++}())break}},t}(),nn="pLPCommand",rn="pRTLPCB",on=function(){function t(t,e,n,r){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=r,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=N(t),this.stats_=ze.getCollection(e),this.urlFn=function(t){return e.connectionURL(at,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new en(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(3e4)),B(function(){if(!n.isClosed_){n.scriptTagHolder=new an(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],i=t[1],o=t[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,"start"==r)n.id=i,n.password=o;else{if("close"!==r)throw new Error("Unrecognized command received: "+r);i?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(i,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var r=t[0],i=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(r,i)},function(){n.onClosed_()},n.urlFn);var t={};t.start="t",t.ser=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t.cb=n.scriptTagHolder.uniqueCallbackIdentifier),t.v="5",n.transportSessionId&&(t.s=n.transportSessionId),n.lastSessionId&&(t.ls=n.lastSessionId),!v.isNodeSdk()&&"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(t.r="f");var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_||!t.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!X()&&!$()&&!v.isNodeSdk()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=v.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=v.base64Encode(e),r=G(n,1840),i=0;i<r.length;i++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,r.length,r[i]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!v.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={};n.dframe="t",n.id=t,n.pw=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=v.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),an=function(){function t(e,n,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new fe,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,v.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=A(),window[nn+this.uniqueCallbackIdentifier]=e,window[rn+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var o="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){o='<script>document.domain="'+document.domain+'";<\/script>'}var a="<html><body>"+o+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(a),this.myIFrame.doc.close()}catch(t){D("frame writing exception"),t.stack&&D(t.stack),D(t)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{t.contentWindow.document||D("No IE domain setting required")}catch(n){var e=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+e+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var e=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0))),v.isNodeSdk()&&this.myID){var n={};n.disconn="t",n.id=this.myID,n.pw=this.myPW;var r=this.urlFn(n);t.nodeRestRequest(r)}var i=this.onDisconnect;i&&(this.onDisconnect=null,i())},t.prototype.startLongPoll=function(t,e){for(this.myID=t,this.myPW=e,this.alive=!0;this.newRequest_(););},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t.id=this.myID,t.pw=this.myPW,t.ser=this.currentSerial;for(var e=this.urlFn(t),n="",r=0;this.pendingSegs.length>0;){if(!(this.pendingSegs[0].d.length+30+n.length<=1870))break;var i=this.pendingSegs.shift();n=n+"&seg"+r+"="+i.seg+"&ts"+r+"="+i.ts+"&d"+r+"="+i.d,r++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e,1);var r=function(){n.outstandingRequests.remove(e),n.newRequest_()},i=setTimeout(r,Math.floor(25e3)),o=function(){clearTimeout(i),r()};this.addTag(t,o)},t.prototype.addTag=function(t,e){var n=this;v.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var r=n.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){var t=r.readyState;t&&"loaded"!==t&&"complete"!==t||(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),e())},r.onerror=function(){D("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(r)}catch(t){}},Math.floor(1))},t}(),sn=null;"undefined"!==typeof MozWebSocket?sn=MozWebSocket:"undefined"!==typeof WebSocket&&(sn=WebSocket);var un=function(){function t(e,n,r,i){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=N(this.connId),this.stats_=ze.getCollection(n),this.connURL=t.connectionURL_(n,r,i)}return t.connectionURL_=function(t,e,n){var r={};return r.v="5",!v.isNodeSdk()&&"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf("firebaseio.com")&&(r.r="f"),e&&(r.s=e),n&&(r.ls=n),t.connectionURL("websocket",r)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,T.set("previous_websocket_failure",!0);try{if(v.isNodeSdk()){var i=v.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",o={headers:{"User-Agent":"Firebase/5/"+_.SDK_VERSION+"/"+r.platform+"/"+i}},a=Object({NODE_ENV:"production",PUBLIC_URL:""}),s=0==this.connURL.indexOf("wss://")?a.HTTPS_PROXY||a.https_proxy:a.HTTP_PROXY||a.http_proxy;s&&(o.proxy={origin:s}),this.mySock=new sn(this.connURL,[],o)}else this.mySock=new sn(this.connURL)}catch(t){this.log_("Error instantiating WebSocket.");var u=t.message||t.data;return u&&this.log_(u),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&null!==sn&&!t.forceDisallow_},t.previouslyFailed=function(){return T.isInMemoryStorage||!0===T.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){T.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var n=v.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(v.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t.data;if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=v.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=G(e,16384);n.length>1&&this.sendString_(String(n.length));for(var r=0;r<n.length;r++)this.sendString_(n[r])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(45e3))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(t){this.log_("Exception thrown from WebSocket.send():",t.message||t.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),cn=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[on,un]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n=un&&un.isAvailable(),r=n&&!un.previouslyFailed();if(e.webSocketOnly&&(n||j("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[un];else{var i=this.transports_=[];Q(t.ALL_TRANSPORTS,function(t,e){e&&e.isAvailable()&&i.push(e)})}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),fn=function(){function t(t,e,n,r,i,o,a){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=r,this.onDisconnect_=i,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=N("c:"+this.id+":"),this.transportManager_=new cn(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,r)},Math.floor(0));var i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=rt(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>102400?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>10240?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(i)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if("t"in t){var e=t.t;"a"===e?this.upgradeIfSecondaryHealthy_():"r"===e?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):"o"===e&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=z("t",t),n=z("d",t);if("c"==e)this.onSecondaryControl_(n);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=z("t",t),n=z("d",t);"c"==e?this.onControl_(n):"d"==e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||--this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy())},t.prototype.onControl_=function(t){var e=z("t",t);if("d"in t){var n=t.d;if("h"===e)this.onHandshake_(n);else if("n"===e){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var r=0;r<this.pendingDataMessages.length;++r)this.onDataMessage_(this.pendingDataMessages[r]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===e?this.onConnectionShutdown_(n):"r"===e?this.onReset_(n):"e"===e?M("Server Error: "+n):"o"===e?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):M("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,r=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(r),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),"5"!==n&&j("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;var n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),rt(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(6e4))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):rt(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(T.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),ln=function(){function t(){}return t.prototype.put=function(t,e,n,r){},t.prototype.merge=function(t,e,n,r){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),hn=1e3,dn=3e5,pn=function(t){function e(n,r,i,o,a,s){var u=t.call(this)||this;if(u.repoInfo_=n,u.onDataUpdate_=r,u.onConnectStatus_=i,u.onServerInfoUpdate_=o,u.authTokenProvider_=a,u.authOverride_=s,u.id=e.nextPersistentConnectionId_++,u.log_=N("p:"+u.id+":"),u.interruptReasons_={},u.listens_={},u.outstandingPuts_=[],u.outstandingPutCount_=0,u.onDisconnectRequestQueue_=[],u.connected_=!1,u.reconnectDelay_=hn,u.maxReconnectDelay_=dn,u.securityDebugCallback_=null,u.lastSessionId=null,u.establishConnectionTimer_=null,u.visible_=!1,u.requestCBHash_={},u.requestNumber_=0,u.realtime_=null,u.authToken_=null,u.forceTokenRefresh_=!1,u.invalidAuthTokenCount_=0,u.firstConnection_=!0,u.lastConnectionAttemptTime_=null,u.lastConnectionEstablishedTime_=null,s&&!v.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return u.scheduleConnect_(0),Ze.getInstance().on("visible",u.onVisible_,u),-1===n.host.indexOf("fblocal")&&tn.getInstance().on("online",u.onOnline_,u),u}return b.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var r=++this.requestNumber_,i={r:r,a:t,b:e};this.log_(v.stringify(i)),v.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(i),n&&(this.requestCBHash_[r]=n)},e.prototype.listen=function(t,e,n,r){var i=t.queryIdentifier(),o=t.path.toString();this.log_("Listen called for "+o+" "+i),this.listens_[o]=this.listens_[o]||{},v.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),v.assert(!this.listens_[o][i],"listen() called twice for same path/queryId.");var a={onComplete:r,hashFn:e,query:t,tag:n};this.listens_[o][i]=a,this.connected_&&this.sendListen_(a)},e.prototype.sendListen_=function(t){var n=this,r=t.query,i=r.path.toString(),o=r.queryIdentifier();this.log_("Listen on "+i+" for "+o);var a={p:i};t.tag&&(a.q=r.queryObject(),a.t=t.tag),a.h=t.hashFn(),this.sendRequest("q",a,function(a){var s=a.d,u=a.s;e.warnOnListenWarnings_(s,r),(n.listens_[i]&&n.listens_[i][o])===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(i,o),t.onComplete&&t.onComplete(u,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"===typeof t&&v.contains(t,"w")){var n=v.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var r='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',i=e.path.toString();j("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+r+" at "+i+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){(t&&40===t.length||v.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=v.isValidFormat(e)?"auth":"gauth",r={cred:e};null===this.authOverride_?r.noauth=!0:"object"===typeof this.authOverride_&&(r.authvar=this.authOverride_),this.sendRequest(n,r,function(n){var r=n.s,i=n.d||"error";t.authToken_===e&&("ok"===r?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(r,i))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),r=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+r),v.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(n,r)&&this.connected_&&this.sendUnlisten_(n,r,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,r){this.log_("Unlisten on "+t+" for "+e);var i={p:t};r&&(i.q=n,i.t=r),this.sendRequest("n",i)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,r){var i={p:e,d:n};this.log_("onDisconnect "+t,i),this.sendRequest(t,i,function(t){r&&setTimeout(function(){r(t.s,t.d)},Math.floor(0))})},e.prototype.put=function(t,e,n,r){this.putInternal("p",t,e,n,r)},e.prototype.merge=function(t,e,n,r){this.putInternal("m",t,e,n,r)},e.prototype.putInternal=function(t,e,n,r,i){var o={p:e,d:n};void 0!==i&&(o.h=i),this.outstandingPuts_.push({action:t,request:o,onComplete:r}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,function(r){e.log_(n+" response",r),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),i&&i(r.s,r.d)})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){if("ok"!==t.s){var n=t.d;e.log_("reportStats","Error sending stats: "+n)}})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+v.stringify(t));var e=t.r,n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e.p,e.d,!1,e.t):"m"===t?this.onDataUpdate_(e.p,e.d,!0,e.t):"c"===t?this.onListenRevoked_(e.p,e.q):"ac"===t?this.onAuthRevoked_(e.s,e.d):"sd"===t?this.onSecurityDebugPacket_(e):M("Unrecognized action received from server: "+v.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;v.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=hn,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=hn,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var t=(new Date).getTime()-this.lastConnectionEstablishedTime_;t>3e4&&(this.reconnectDelay_=hn),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+e.nextConnectionId_++,o=this,a=this.lastSessionId,s=!1,u=null,c=function(){u?u.close():(s=!0,r())},f=function(t){v.assert(u,"sendRequest call when we're not connected not allowed."),u.sendRequest(t)};this.realtime_={close:c,sendRequest:f};var l=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(l).then(function(e){s?D("getToken() completed but was canceled"):(D("getToken() completed. Creating connection."),o.authToken_=e&&e.accessToken,u=new fn(i,o.repoInfo_,t,n,r,function(t){j(t+" ("+o.repoInfo_.toString()+")"),o.interrupt("server_kill")},a))}).then(null,function(t){o.log_("Failed to get token: "+t),s||(v.CONSTANTS.NODE_ADMIN&&j(t),c())})}},e.prototype.interrupt=function(t){D("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){D("Resuming connection for reason: "+t),delete this.interruptReasons_[t],v.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=hn,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return K(t)}).join("$"):"default";var r=this.removeListen_(t,n);r&&r.onComplete&&r.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,r=new it(t).toString();return void 0!==this.listens_[r]?(n=this.listens_[r][e],delete this.listens_[r][e],0===v.getCount(this.listens_[r])&&delete this.listens_[r]):n=void 0,n},e.prototype.onAuthRevoked_=function(t,e){D("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||++this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken())},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t=this;this.tryAuth(),v.forEach(this.listens_,function(e,n){v.forEach(n,function(e,n){t.sendListen_(n)})});for(var e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";v.CONSTANTS.NODE_ADMIN?e="admin_node":v.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+_.SDK_VERSION.replace(/\./g,"-")]=1,v.isMobileCordova()?t["framework.cordova"]=1:v.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=tn.getInstance().currentlyOnline();return v.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(ln),yn=function(t){function e(e,n,r){var i=t.call(this)||this;return i.repoInfo_=e,i.onDataUpdate_=n,i.authTokenProvider_=r,i.log_=N("p:rest:"),i.listens_={},i}return b.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(v.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,r,i){var o=this,a=t.path.toString();this.log_("Listen called for "+a+" "+t.queryIdentifier());var s=e.getListenId_(t,r),u={};this.listens_[s]=u;var c=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(a+".json",c,function(t,e){var n=e;if(404===t&&(n=null,t=null),null===t&&o.onDataUpdate_(a,n,!1,r),v.safeGet(o.listens_,s)===u){var c;c=t?401==t?"permission_denied":"rest_error:"+t:"ok",i(c,null)}})},e.prototype.unlisten=function(t,n){var r=e.getListenId_(t,n);delete this.listens_[r]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var r=this;void 0===e&&(e={}),e.format="export",this.authTokenProvider_.getToken(!1).then(function(i){var o=i&&i.accessToken;o&&(e.auth=o);var a=(r.repoInfo_.secure?"https://":"http://")+r.repoInfo_.host+t+"?"+v.querystring(e);r.log_("Sending REST request for "+a);var s=new XMLHttpRequest;s.onreadystatechange=function(){if(n&&4===s.readyState){r.log_("REST Response for "+a+" received. status:",s.status,"response:",s.responseText);var t=null;if(s.status>=200&&s.status<300){try{t=v.jsonEval(s.responseText)}catch(t){j("Failed to parse JSON response for "+a+": "+s.responseText)}n(null,t)}else 401!==s.status&&404!==s.status&&j("Got unsuccessful REST response for "+a+" Status: "+s.status),n(s.status);n=null}},s.open("GET",a,!0),s.send()})},e}(ln),mn=function(){function t(t,e,n){var r=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new Xe,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new le,this.persistentConnection_=null;var i=new Ve(n);if(this.stats_=ze.getCollection(t),e||nt())this.server_=new yn(this.repoInfo_,this.onDataUpdate_.bind(this),i),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var o=n.options.databaseAuthVariableOverride;if("undefined"!==typeof o&&null!==o){if("object"!==typeof o)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{v.stringify(o)}catch(t){throw new Error("Invalid authOverride provided: "+t)}}this.persistentConnection_=new pn(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),i,o),this.server_=this.persistentConnection_}i.addTokenChangeListener(function(t){r.server_.refreshAuthToken(t)}),this.statsReporter_=ze.getOrCreateReporter(t,function(){return new Ye(r.stats_,r.server_)}),this.transactions_init_(),this.infoData_=new We,this.infoSyncTree_=new qe({startListening:function(t,e,n,i){var o=[],a=r.infoData_.getNode(t.path);return a.isEmpty()||(o=r.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout(function(){i("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new qe({startListening:function(t,e,n,i){return r.server_.listen(t,n,e,function(e,n){var o=i(e,n);r.eventQueue_.raiseEventsForChangedPath(t.path,o)}),[]},stopListening:function(t,e){r.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new it(".info/serverTimeOffset")),e=t.val()||0;return(new Date).getTime()+e},t.prototype.generateServerValues=function(){return he({timestamp:this.serverTime()})},t.prototype.onDataUpdate_=function(t,e,n,r){this.dataUpdateCount++;var i=new it(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var o=[];if(r)if(n){var a=v.map(e,function(t){return u(t)});o=this.serverSyncTree_.applyTaggedQueryMerge(i,a,r)}else{var s=u(e);o=this.serverSyncTree_.applyTaggedQueryOverwrite(i,s,r)}else if(n){var c=v.map(e,function(t){return u(t)});o=this.serverSyncTree_.applyServerMerge(i,c)}else{var f=u(e);o=this.serverSyncTree_.applyServerOverwrite(i,f)}var l=i;o.length>0&&(l=this.rerunTransactions_(i)),this.eventQueue_.raiseEventsForChangedPath(l,o)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;Q(t,function(t,n){e.updateInfo_(n,t)})},t.prototype.updateInfo_=function(t,e){var n=new it("/.info/"+t),r=u(e);this.infoData_.updateSnapshot(n,r);var i=this.infoSyncTree_.applyServerOverwrite(n,r);this.eventQueue_.raiseEventsForChangedPath(n,i)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,r){var i=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=u(e,n),s=ye(a,o),c=this.getNextWriteId_(),f=this.serverSyncTree_.applyUserOverwrite(t,s,c,!0);this.eventQueue_.queueEvents(f),this.server_.put(t.toString(),a.val(!0),function(e,n){var o="ok"===e;o||j("set at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(c,!o);i.eventQueue_.raiseEventsForChangedPath(t,a),i.callOnCompleteCallback(r,e,n)});var l=this.abortTransactions_(t);this.rerunTransactions_(l),this.eventQueue_.raiseEventsForChangedPath(l,[])},t.prototype.update=function(t,e,n){var r=this;this.log_("update",{path:t.toString(),value:e});var i=!0,o=this.generateServerValues(),a={};if(v.forEach(e,function(t,e){i=!1;var n=u(e);a[t]=ye(n,o)}),i)D("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var s=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserMerge(t,a,s);this.eventQueue_.queueEvents(c),this.server_.merge(t.toString(),e,function(e,i){var o="ok"===e;o||j("update at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(s,!o),u=a.length>0?r.rerunTransactions_(t):t;r.eventQueue_.raiseEventsForChangedPath(u,a),r.callOnCompleteCallback(n,e,i)}),v.forEach(e,function(e){var n=r.abortTransactions_(t.child(e));r.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=pe(this.onDisconnect_,e),r=[];n.forEachTree(it.Empty,function(e,n){r=r.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var i=t.abortTransactions_(e);t.rerunTransactions_(i)}),this.onDisconnect_=new le,this.eventQueue_.raiseEventsForChangedPath(it.Empty,r)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(r,i){"ok"===r&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,r,i)})},t.prototype.onDisconnectSet=function(t,e,n){var r=this,i=u(e);this.server_.onDisconnectPut(t.toString(),i.val(!0),function(e,o){"ok"===e&&r.onDisconnect_.remember(t,i),r.callOnCompleteCallback(n,e,o)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,r){var i=this,o=u(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(e,n){"ok"===e&&i.onDisconnect_.remember(t,o),i.callOnCompleteCallback(r,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,n){var r=this;if(v.isEmpty(e))return D("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(i,o){"ok"===i&&v.forEach(e,function(e,n){var i=u(n);r.onDisconnect_.remember(t.child(e),i)}),r.callOnCompleteCallback(n,i,o)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt("repo_interrupt")},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume("repo_interrupt")},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var e;t?(this.statsListener_||(this.statsListener_=new Ke(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);v.forEach(e,function(t,e){for(var r=t.length;r<n+2;r++)t+=" ";console.log(t+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),D.apply(void 0,[n].concat(t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&et(function(){if("ok"==e)t(null);else{var r=(e||"error").toUpperCase(),i=r;n&&(i+=": "+n);var o=new Error(i);o.code=r,t(o)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new In(this))},enumerable:!0,configurable:!0}),t}(),vn=function(){function t(e){this.indexedFilter_=new Oe(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,r,i,o){return this.matches(new Pt(e,n))||(n=Yt.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,r,i,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=Yt.EMPTY_NODE);var r=e.withIndex(this.index_);r=r.updatePriority(Yt.EMPTY_NODE);var i=this;return e.forEachChild(Ft,function(t,e){i.matches(new Pt(t,e))||(r=r.updateImmediateChild(t,Yt.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),gn=function(){function t(t){this.rangedFilter_=new vn(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,r,i,o){return this.rangedFilter_.matches(new Pt(e,n))||(n=Yt.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,r,i,o):this.fullLimitUpdateChild_(t,e,n,i,o)},t.prototype.updateFullNode=function(t,e,n){var r;if(e.isLeafNode()||e.isEmpty())r=Yt.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){r=Yt.EMPTY_NODE.withIndex(this.index_);var i=void 0;i=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);for(var o=0;i.hasNext()&&o<this.limit_;){var a=i.getNext(),s=void 0;if(!(s=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0))break;r=r.updateImmediateChild(a.name,a.node),o++}}else{r=e.withIndex(this.index_),r=r.updatePriority(Yt.EMPTY_NODE);var u=void 0,c=void 0,f=void 0,i=void 0;if(this.reverse_){i=r.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var l=this.index_.getCompare();f=function(t,e){return l(e,t)}}else i=r.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),f=this.index_.getCompare();for(var o=0,h=!1;i.hasNext();){var a=i.getNext();!h&&f(u,a)<=0&&(h=!0);var s=h&&o<this.limit_&&f(a,c)<=0;s?o++:r=r.updateImmediateChild(a.name,Yt.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,r,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,r,i){var o;if(this.reverse_){var a=this.index_.getCompare();o=function(t,e){return a(e,t)}}else o=this.index_.getCompare();var s=t;v.assert(s.numChildren()==this.limit_,"");var u=new Pt(e,n),c=this.reverse_?s.getFirstChild(this.index_):s.getLastChild(this.index_),f=this.rangedFilter_.matches(u);if(s.hasChild(e)){for(var l=s.getImmediateChild(e),h=r.getChildAfterChild(this.index_,c,this.reverse_);null!=h&&(h.name==e||s.hasChild(h.name));)h=r.getChildAfterChild(this.index_,h,this.reverse_);var d=null==h?1:o(h,u);if(f&&!n.isEmpty()&&d>=0)return null!=i&&i.trackChildChange(Ae.childChangedChange(e,n,l)),s.updateImmediateChild(e,n);null!=i&&i.trackChildChange(Ae.childRemovedChange(e,l));var p=s.updateImmediateChild(e,Yt.EMPTY_NODE);return null!=h&&this.rangedFilter_.matches(h)?(null!=i&&i.trackChildChange(Ae.childAddedChange(h.name,h.node)),p.updateImmediateChild(h.name,h.node)):p}return n.isEmpty()?t:f&&o(c,u)>=0?(null!=i&&(i.trackChildChange(Ae.childRemovedChange(c.name,c.node)),i.trackChildChange(Ae.childAddedChange(e,n))),s.updateImmediateChild(e,n).updateImmediateChild(c.name,Yt.EMPTY_NODE)):t},t}(),bn=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Ft}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return v.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return v.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:q},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return v.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return v.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:W},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return v.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var r=this.viewFrom_;""===r&&(r=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=r}return this.index_!==Ft&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Ft},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new Oe(this.getIndex()):this.hasLimit()?new gn(this):new vn(this)},t.prototype.toRestQueryStringParameters=function(){var e=t.REST_QUERY_CONSTANTS_,n={};if(this.isDefault())return n;var r;return this.index_===Ft?r=e.PRIORITY_INDEX:this.index_===ne?r=e.VALUE_INDEX:this.index_===Nt?r=e.KEY_INDEX:(v.assert(this.index_ instanceof re,"Unrecognized index type!"),r=this.index_.toString()),n[e.ORDER_BY]=v.stringify(r),this.startSet_&&(n[e.START_AT]=v.stringify(this.indexStartValue_),this.startNameSet_&&(n[e.START_AT]+=","+v.stringify(this.indexStartName_))),this.endSet_&&(n[e.END_AT]=v.stringify(this.indexEndValue_),this.endNameSet_&&(n[e.END_AT]+=","+v.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?n[e.LIMIT_TO_FIRST]=this.limit_:n[e.LIMIT_TO_LAST]=this.limit_),n},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),_n=function(t){function e(e,n){if(!(e instanceof mn))throw new Error("new Reference() no longer supported - use app.database().");return t.call(this,e,n,bn.DEFAULT,!1)||this}return b.__extends(e,t),e.prototype.getKey=function(){return v.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return v.validateArgCount("Reference.child",1,1,arguments.length),"number"===typeof t?t=String(t):t instanceof it||(null===this.path.getFront()?Tt("Reference.child",1,t,!1):St("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){v.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){v.validateArgCount("Reference.root",0,0,arguments.length);for(var t=this;null!==t.getParent();)t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){v.validateArgCount("Reference.set",1,2,arguments.length),Ct("Reference.set",this.path),mt("Reference.set",1,t,this.path,!1),v.validateCallback("Reference.set",2,e,!0);var n=new v.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(v.validateArgCount("Reference.update",1,2,arguments.length),Ct("Reference.update",this.path),Array.isArray(t)){for(var n={},r=0;r<t.length;++r)n[""+r]=t[r];t=n,j("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}bt("Reference.update",1,t,this.path,!1),v.validateCallback("Reference.update",2,e,!0);var i=new v.Deferred;return this.repo.update(this.path,t,i.wrapCallback(e)),i.promise},e.prototype.setWithPriority=function(t,e,n){if(v.validateArgCount("Reference.setWithPriority",2,3,arguments.length),Ct("Reference.setWithPriority",this.path),mt("Reference.setWithPriority",1,t,this.path,!1),_t("Reference.setWithPriority",2,e,!1),v.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var r=new v.Deferred;return this.repo.setWithPriority(this.path,t,e,r.wrapCallback(n)),r.promise},e.prototype.remove=function(t){return v.validateArgCount("Reference.remove",0,1,arguments.length),Ct("Reference.remove",this.path),v.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(v.validateArgCount("Reference.transaction",1,3,arguments.length),Ct("Reference.transaction",this.path),v.validateCallback("Reference.transaction",1,t,!1),v.validateCallback("Reference.transaction",2,e,!0),At("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var r=new v.Deferred;"function"===typeof e&&r.promise.catch(function(){});var i=function(t,n,i){t?r.reject(t):r.resolve(new kt(n,i)),"function"===typeof e&&e(t,n,i)};return this.repo.startTransaction(this.path,t,i,n),r.promise},e.prototype.setPriority=function(t,e){v.validateArgCount("Reference.setPriority",1,2,arguments.length),Ct("Reference.setPriority",this.path),_t("Reference.setPriority",1,t,!1),v.validateCallback("Reference.setPriority",2,e,!0);var n=new v.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){v.validateArgCount("Reference.push",0,2,arguments.length),Ct("Reference.push",this.path),mt("Reference.push",1,t,this.path,!0),v.validateCallback("Reference.push",2,e,!0);var n,r=this.repo.serverTime(),i=Rt(r),o=this.child(i),a=this.child(i);return n=null!=t?o.set(t,e).then(function(){return a}):Promise.resolve(a),o.then=n.then.bind(n),o.catch=n.then.bind(n,void 0),"function"===typeof e&&n.catch(function(){}),o},e.prototype.onDisconnect=function(){return Ct("Reference.onDisconnect",this.path),new Ot(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(ce);ce.__referenceConstructor=_n,je.__referenceConstructor=_n;var wn,En=function(){function t(){this.children={},this.childCount=0,this.value=null}return t}(),Sn=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new En),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){for(var n,r=e instanceof it?e:new it(e),i=this;null!==(n=r.getFront());){i=new t(n,i,v.safeGet(i.node_.children,n)||new En),r=r.popFront()}return i},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){v.assert("undefined"!==typeof t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;v.forEach(this.node_.children,function(r,i){e(new t(r,n,i))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){for(var n=e?this:this.parent();null!==n;){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new it(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),r=v.contains(this.node_.children,t);n&&r?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||r||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();!function(t){t[t.RUN=0]="RUN",t[t.SENT=1]="SENT",t[t.COMPLETED=2]="COMPLETED",t[t.SENT_NEEDS_ABORT=3]="SENT_NEEDS_ABORT",t[t.NEEDS_ABORT=4]="NEEDS_ABORT"}(wn||(wn={})),mn.MAX_TRANSACTION_RETRIES_=25,mn.prototype.transactions_init_=function(){this.transactionQueueTree_=new Sn},mn.prototype.startTransaction=function(t,e,n,r){this.log_("transaction on "+t);var i=function(){},o=new _n(this,t);o.on("value",i);var a=function(){o.off("value",i)},s={path:t,update:e,onComplete:n,status:null,order:A(),applyLocally:r,retryCount:0,unwatcher:a,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=this.getLatestState_(t);s.currentInputSnapshot=c;var f=s.update(c.val());if(void 0===f){if(s.unwatcher(),s.currentOutputSnapshotRaw=null,s.currentOutputSnapshotResolved=null,s.onComplete){var l=new ie(s.currentInputSnapshot,new _n(this,s.path),Ft);s.onComplete(null,!1,l)}}else{vt("transaction failed: Data returned ",f,s.path),s.status=wn.RUN;var h=this.transactionQueueTree_.subTree(t),d=h.getValue()||[];d.push(s),h.setValue(d);var p=void 0;if("object"===typeof f&&null!==f&&v.contains(f,".priority"))p=v.safeGet(f,".priority"),v.assert(yt(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{p=(this.serverSyncTree_.calcCompleteEventCache(t)||Yt.EMPTY_NODE).getPriority().val()}p=p;var y=this.generateServerValues(),m=u(f,p),g=ye(m,y);s.currentOutputSnapshotRaw=m,s.currentOutputSnapshotResolved=g,s.currentWriteId=this.getNextWriteId_();var b=this.serverSyncTree_.applyUserOverwrite(t,g,s.currentWriteId,s.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,b),this.sendReadyTransactions_()}},mn.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||Yt.EMPTY_NODE},mn.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);v.assert(n.length>0,"Sending zero length transaction queue");n.every(function(t){return t.status===wn.RUN})&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},mn.prototype.sendTransactionQueue_=function(t,e){for(var n=this,r=e.map(function(t){return t.currentWriteId}),i=this.getLatestState_(t,r),o=i,a=i.hash(),s=0;s<e.length;s++){var u=e[s];v.assert(u.status===wn.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),u.status=wn.SENT,u.retryCount++;var c=it.relativePath(t,u.path);o=o.updateChild(c,u.currentOutputSnapshotRaw)}var f=o.val(!0),l=t;this.server_.put(l.toString(),f,function(r){n.log_("transaction put response",{path:l.toString(),status:r});var i=[];if("ok"===r){for(var o=[],a=0;a<e.length;a++){if(e[a].status=wn.COMPLETED,i=i.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new _n(n,e[a].path),c=new ie(s,u,Ft);o.push(e[a].onComplete.bind(null,null,!0,c))}e[a].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,i);for(var a=0;a<o.length;a++)et(o[a])}else{if("datastale"===r)for(var a=0;a<e.length;a++)e[a].status===wn.SENT_NEEDS_ABORT?e[a].status=wn.NEEDS_ABORT:e[a].status=wn.RUN;else{j("transaction at "+l.toString()+" failed: "+r);for(var a=0;a<e.length;a++)e[a].status=wn.NEEDS_ABORT,e[a].abortReason=r}n.rerunTransactions_(t)}},a)},mn.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),r=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(r,n),n},mn.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],r=[],i=t.filter(function(t){return t.status===wn.RUN}),o=i.map(function(t){return t.currentWriteId}),a=0;a<t.length;a++){var s=t[a],c=it.relativePath(e,s.path),f=!1,l=void 0;if(v.assert(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),s.status===wn.NEEDS_ABORT)f=!0,l=s.abortReason,r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else if(s.status===wn.RUN)if(s.retryCount>=mn.MAX_TRANSACTION_RETRIES_)f=!0,l="maxretry",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0));else{var h=this.getLatestState_(s.path,o);s.currentInputSnapshot=h;var d=t[a].update(h.val());if(void 0!==d){vt("transaction failed: Data returned ",d,s.path);var p=u(d),y="object"===typeof d&&null!=d&&v.contains(d,".priority");y||(p=p.updatePriority(h.getPriority()));var m=s.currentWriteId,g=this.generateServerValues(),b=ye(p,g);s.currentOutputSnapshotRaw=p,s.currentOutputSnapshotResolved=b,s.currentWriteId=this.getNextWriteId_(),o.splice(o.indexOf(m),1),r=r.concat(this.serverSyncTree_.applyUserOverwrite(s.path,b,s.currentWriteId,s.applyLocally)),r=r.concat(this.serverSyncTree_.ackUserWrite(m,!0))}else f=!0,l="nodata",r=r.concat(this.serverSyncTree_.ackUserWrite(s.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,r),r=[],f&&(t[a].status=wn.COMPLETED,function(t){setTimeout(t,Math.floor(0))}(t[a].unwatcher),t[a].onComplete))if("nodata"===l){var _=new _n(this,t[a].path),w=t[a].currentInputSnapshot,E=new ie(w,_,Ft);n.push(t[a].onComplete.bind(null,null,!1,E))}else n.push(t[a].onComplete.bind(null,new Error(l),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(var a=0;a<n.length;a++)et(n[a]);this.sendReadyTransactions_()}},mn.prototype.getAncestorTransactionNode_=function(t){for(var e,n=this.transactionQueueTree_;null!==(e=t.getFront())&&null===n.getValue();)n=n.subTree(e),t=t.popFront();return n},mn.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},mn.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,r=t.getValue();if(null!==r)for(var i=0;i<r.length;i++)e.push(r[i]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},mn.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var r=0,i=0;i<n.length;i++)n[i].status!==wn.COMPLETED&&(n[r]=n[i],r++);n.length=r,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},mn.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),r=this.transactionQueueTree_.subTree(t);return r.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(r),r.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},mn.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],r=[],i=-1,o=0;o<e.length;o++)if(e[o].status===wn.SENT_NEEDS_ABORT);else if(e[o].status===wn.SENT)v.assert(i===o-1,"All SENT items should be at beginning of queue."),i=o,e[o].status=wn.SENT_NEEDS_ABORT,e[o].abortReason="set";else if(v.assert(e[o].status===wn.RUN,"Unexpected transaction status in abort"),e[o].unwatcher(),r=r.concat(this.serverSyncTree_.ackUserWrite(e[o].currentWriteId,!0)),e[o].onComplete){n.push(e[o].onComplete.bind(null,new Error("set"),!1,null))}-1===i?t.setValue(null):e.length=i+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),r);for(var o=0;o<n.length;o++)et(n[o])}};var Tn,Cn=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return Tn||(Tn=new t),Tn},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var n=e||t.options.databaseURL;void 0===n&&L("Can't determine Firebase Database URL.  Be sure to include databaseURL option when calling firebase.initializeApp().");var r=ut(n),i=r.repoInfo;return It("Invalid Firebase Database URL",1,r),r.path.isEmpty()||L("Database URL must point to the root of a Firebase Database (not including a child path)."),this.createRepo(i,t).database},t.prototype.deleteRepo=function(t){var e=v.safeGet(this.repos_,t.app.name);e&&v.safeGet(e,t.repoInfo_.toURLString())===t||L("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var n=v.safeGet(this.repos_,e.name);n||(n={},this.repos_[e.name]=n);var r=v.safeGet(n,t.toURLString());return r&&L("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),r=new mn(t,this.useRestClient_,e),n[t.toURLString()]=r,r},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),In=function(){function t(t){this.repo_=t,t instanceof mn||L("Don't call new Database() directly - please use firebase.database()."),this.root_=new _n(t,it.Empty),this.INTERNAL=new An(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),v.validateArgCount("database.ref",0,1,arguments.length),t instanceof _n?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),v.validateArgCount(e,1,1,arguments.length);var n=ut(t);It(e,1,n);var r=n.repoInfo;return r.host!==this.repo_.repoInfo_.host&&L(e+": Host name does not match the current database: (found "+r.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&L("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){v.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){v.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}(),An=function(){function t(t){this.database=t}return t.prototype.delete=function(){return b.__awaiter(this,void 0,void 0,function(){return b.__generator(this,function(t){return this.database.checkDeleted_("delete"),Cn.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},t}(),On=function(){un.forceDisallow(),on.forceAllow()},kn=function(){on.forceDisallow()},Rn=function(){return un.isAvailable()},Pn=function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},xn=function(t,e){t.repo.stats(e)},Dn=function(t,e){t.repo.statsIncrementCounter(e)},Nn=function(t){return t.repo.dataUpdateCount},Mn=function(t,e){return t.repo.interceptServerData_(e)},Ln=Object.freeze({forceLongPolling:On,forceWebSockets:kn,isWebSocketsAvailable:Rn,setSecurityDebugCallback:Pn,stats:xn,statsIncrementCounter:Dn,dataUpdateCount:Nn,interceptServerData:Mn}),jn=pn;pn.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},pn.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Un=fn,Fn=function(t){var e=pn.prototype.put;return pn.prototype.put=function(n,r,i,o){void 0!==o&&(o=t()),e.call(this,n,r,i,o)},function(){pn.prototype.put=e}},Bn=st,qn=function(t){return t.queryIdentifier()},Wn=function(t){return t.repo.persistentConnection_.listens_},Vn=function(t){Cn.getInstance().forceRestClient(t)},Hn=Object.freeze({DataConnection:jn,RealTimeConnection:Un,hijackHash:Fn,ConnectionTarget:Bn,queryIdentifier:qn,listens:Wn,forceRestClient:Vn}),zn=In.ServerValue;c(_),e.registerDatabase=c,e.Database=In,e.Query=ce,e.Reference=_n,e.enableLogging=x,e.ServerValue=zn,e.DataSnapshot=ie,e.OnDisconnect=Ot}).call(e,n(22))},function(t,e,n){"use strict";function r(t,e){function n(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function i(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]]);return n}function o(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function a(t,e){return function(n,r){e(n,r,t)}}function s(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function c(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function l(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function h(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function d(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h(arguments[e]));return t}function p(t){return this instanceof p?(this.v=t,this):new p(t)}function y(t,e,n){function r(t){f[t]&&(c[t]=function(e){return new Promise(function(n,r){l.push([t,e,n,r])>1||i(t,e)})})}function i(t,e){try{o(f[t](e))}catch(t){u(l[0][3],t)}}function o(t){t.value instanceof p?Promise.resolve(t.value.v).then(a,s):u(l[0][2],t)}function a(t){i("next",t)}function s(t){i("throw",t)}function u(t,e){t(e),l.shift(),l.length&&i(l[0][0],l[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,f=n.apply(t,e||[]),l=[];return c={},r("next"),r("throw"),r("return"),c[Symbol.asyncIterator]=function(){return this},c}function m(t){function e(e,i){t[e]&&(n[e]=function(n){return(r=!r)?{value:p(t[e](n)),done:"return"===e}:i?i(n):n})}var n,r;return n={},e("next"),e("throw",function(t){throw t}),e("return"),n[Symbol.iterator]=function(){return this},n}function v(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):"function"===typeof l?l(t):t[Symbol.iterator]()}function g(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function b(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function _(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.__extends=r,n.d(e,"__assign",function(){return E}),e.__rest=i,e.__decorate=o,e.__param=a,e.__metadata=s,e.__awaiter=u,e.__generator=c,e.__exportStar=f,e.__values=l,e.__read=h,e.__spread=d,e.__await=p,e.__asyncGenerator=y,e.__asyncDelegator=m,e.__asyncValues=v,e.__makeTemplateObject=g,e.__importStar=b,e.__importDefault=_;var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},E=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}},function(t,e,n){"use strict";function r(t,e){function n(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function i(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]]);return n}function o(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function a(t,e){return function(n,r){e(n,r,t)}}function s(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function c(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function l(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function h(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function d(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h(arguments[e]));return t}function p(t){return this instanceof p?(this.v=t,this):new p(t)}function y(t,e,n){function r(t){f[t]&&(c[t]=function(e){return new Promise(function(n,r){l.push([t,e,n,r])>1||i(t,e)})})}function i(t,e){try{o(f[t](e))}catch(t){u(l[0][3],t)}}function o(t){t.value instanceof p?Promise.resolve(t.value.v).then(a,s):u(l[0][2],t)}function a(t){i("next",t)}function s(t){i("throw",t)}function u(t,e){t(e),l.shift(),l.length&&i(l[0][0],l[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,f=n.apply(t,e||[]),l=[];return c={},r("next"),r("throw"),r("return"),c[Symbol.asyncIterator]=function(){return this},c}function m(t){function e(e,i){t[e]&&(n[e]=function(n){return(r=!r)?{value:p(t[e](n)),done:"return"===e}:i?i(n):n})}var n,r;return n={},e("next"),e("throw",function(t){throw t}),e("return"),n[Symbol.iterator]=function(){return this},n}function v(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):"function"===typeof l?l(t):t[Symbol.iterator]()}function g(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function b(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function _(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.__extends=r,n.d(e,"__assign",function(){return E}),e.__rest=i,e.__decorate=o,e.__param=a,e.__metadata=s,e.__awaiter=u,e.__generator=c,e.__exportStar=f,e.__values=l,e.__read=h,e.__spread=d,e.__await=p,e.__asyncGenerator=y,e.__asyncDelegator=m,e.__asyncValues=v,e.__makeTemplateObject=g,e.__importStar=b,e.__importDefault=_;var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},E=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),function(t){function r(t){return"string"==typeof t}function i(t,e){t=t.split("."),e=e||Oe;for(var n=0;n<t.length;n++)if(null==(e=e[t[n]]))return null;return e}function o(){}function a(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function s(t){return"array"==a(t)}function u(t){var e=a(t);return"array"==e||"object"==e&&"number"==typeof t.length}function c(t){return"function"==a(t)}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}function l(t,e,n){return t.call.apply(t.bind,arguments)}function h(t,e,n){if(!t)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function d(t,e,n){return d=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?l:h,d.apply(null,arguments)}function p(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}function y(t,e){function n(){}n.prototype=e.prototype,t.L=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.mh=function(t,n,r){for(var i=Array(arguments.length-2),o=2;o<arguments.length;o++)i[o-2]=arguments[o];return e.prototype[n].apply(t,i)}}function m(t){if(Error.captureStackTrace)Error.captureStackTrace(this,m);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function v(t,e){t=t.split("%s");for(var n="",r=t.length-1,i=0;i<r;i++)n+=t[i]+(i<e.length?e[i]:"%s");m.call(this,n+t[r])}function g(t,e){throw new v("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function b(){0!=xe&&(De[this[ke]||(this[ke]=++Re)]=this),this.Ka=this.Ka,this.Qa=this.Qa}function _(t){t:{for(var e=ae,n=t.length,i=r(t)?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t)){e=o;break t}e=-1}return 0>e?null:r(t)?t.charAt(e):t[e]}function w(t){if(!s(t))for(var e=t.length-1;0<=e;e--)delete t[e];t.length=0}function E(t,e){e=Me(t,e);var n;return(n=0<=e)&&Array.prototype.splice.call(t,e,1),n}function S(t){return Array.prototype.concat.apply([],arguments)}function T(t){var e=t.length;if(0<e){for(var n=Array(e),r=0;r<e;r++)n[r]=t[r];return n}return[]}function C(t){return/^[\s\xa0]*$/.test(t)}function I(t,e){return t<e?-1:t>e?1:0}function A(t){return-1!=Ne.indexOf(t)}function O(t,e,n){for(var r in t)e.call(n,t[r],r,t)}function k(t){var e,n=[],r=0;for(e in t)n[r++]=t[e];return n}function R(t){var e,n=[],r=0;for(e in t)n[r++]=e;return n}function P(t){var e,n={};for(e in t)n[e]=t[e];return n}function x(t,e){for(var n,r,i=1;i<arguments.length;i++){r=arguments[i];for(n in r)t[n]=r[n];for(var o=0;o<We.length;o++)n=We[o],Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}}function D(t){return D[" "](t),t}function N(t,e){var n=tn;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}function M(){var t=Oe.document;return t?t.documentMode:void 0}function L(t){return N(t,function(){for(var e=0,n=Fe(String(Ve)).split("."),r=Fe(String(t)).split("."),i=Math.max(n.length,r.length),o=0;0==e&&o<i;o++){var a=n[o]||"",s=r[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=I(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||I(0==a[2].length,0==s[2].length)||I(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}function j(t,e){this.type=t,this.currentTarget=this.target=e,this.defaultPrevented=this.Ea=!1,this.Be=!0}function U(t,e){j.call(this,t?t.type:""),this.relatedTarget=this.currentTarget=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=this.offsetY=this.offsetX=0,this.key="",this.charCode=this.keyCode=0,this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.fb=null,t&&this.Kf(t,e)}function F(t){return!(!t||!t[un])}function B(t,e,n,r,i){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!r,this.Ob=i,this.key=++cn,this.Sa=this.Eb=!1}function q(t){this.src=t,this.J={},this.xb=0}function W(t,e,n,r){for(var i=0;i<t.length;++i){var o=t[i];if(!o.Sa&&o.listener==e&&o.capture==!!n&&o.Ob==r)return i}return-1}function V(t,e,n,r,i){if(r&&r.once)return K(t,e,n,r,i);if(s(e)){for(var o=0;o<e.length;o++)V(t,e[o],n,r,i);return null}return n=tt(n),F(t)?t.nb(e,n,f(r)?!!r.capture:!!r,i):H(t,e,n,!1,r,i)}function H(t,e,n,r,i,o){if(!e)throw Error("Invalid event type");var a=f(i)?!!i.capture:!!i,s=Z(t);if(s||(t[fn]=s=new q(t)),n=s.add(e,n,r,a,o),n.proxy)return n;if(r=z(),n.proxy=r,r.src=t,r.listener=n,t.addEventListener)an||(i=a),void 0===i&&(i=!1),t.addEventListener(e.toString(),r,i);else if(t.attachEvent)t.attachEvent(Y(e.toString()),r);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(r)}return n}function z(){var t=J,e=rn?function(n){return t.call(e.src,e.listener,n)}:function(n){if(!(n=t.call(e.src,e.listener,n)))return n};return e}function K(t,e,n,r,i){if(s(e)){for(var o=0;o<e.length;o++)K(t,e[o],n,r,i);return null}return n=tt(n),F(t)?t.Oc(e,n,f(r)?!!r.capture:!!r,i):H(t,e,n,!0,r,i)}function G(t,e,n,r,i){if(s(e))for(var o=0;o<e.length;o++)G(t,e[o],n,r,i);else r=f(r)?!!r.capture:!!r,n=tt(n),F(t)?t.ed(e,n,r,i):t&&(t=Z(t))&&(e=t.jb(e,n,r,i))&&Q(e)}function Q(t){if("number"!=typeof t&&t&&!t.Sa){var e=t.src;if(F(e))e.Le(t);else{var n=t.type,r=t.proxy;e.removeEventListener?e.removeEventListener(n,r,t.capture):e.detachEvent?e.detachEvent(Y(n),r):e.addListener&&e.removeListener&&e.removeListener(r),(n=Z(e))?(n.ye(t),0==n.xb&&(n.src=null,e[fn]=null)):t.Vb()}}}function Y(t){return t in ln?ln[t]:ln[t]="on"+t}function X(t,e,n,r){var i=!0;if((t=Z(t))&&(e=t.J[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.Sa&&(o=$(o,r),i=i&&!1!==o)}return i}function $(t,e){var n=t.listener,r=t.Ob||t.src;return t.Eb&&Q(t),n.call(r,e)}function J(t,e){if(t.Sa)return!0;if(!rn){var n=e||i("window.event");e=new U(n,this);var r=!0;if(!(0>n.keyCode||void 0!=n.returnValue)){t:{var o=!1;if(0==n.keyCode)try{n.keyCode=-1;break t}catch(t){o=!0}(o||void 0==n.returnValue)&&(n.returnValue=!0)}for(n=[],o=e.currentTarget;o;o=o.parentNode)n.push(o);for(t=t.type,o=n.length-1;!e.Ea&&0<=o;o--){e.currentTarget=n[o];var a=X(n[o],t,!0,e);r=r&&a}for(o=0;!e.Ea&&o<n.length;o++)e.currentTarget=n[o],a=X(n[o],t,!1,e),r=r&&a}return r}return $(t,new U(e,this))}function Z(t){return t=t[fn],t instanceof q?t:null}function tt(t){return c(t)?t:(t[hn]||(t[hn]=function(e){return t.handleEvent(e)}),t[hn])}function et(){b.call(this),this.ka=new q(this),this.Pe=this,this.Uc=null}function nt(t,e){this.Sf=100,this.ef=t,this.ug=e,this.Zb=0,this.Pb=null}function rt(){this.lc=this.Va=null}function it(){this.next=this.scope=this.Gc=null}function ot(t){Oe.setTimeout(function(){throw t},0)}function at(){var t=Oe.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!A("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;t=e.document,t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),r="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=d(function(t){"*"!=r&&t.origin!=r||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,r)}}}),"undefined"!==typeof t&&!A("Trident")&&!A("MSIE")){var e=new t,n={},r=n;return e.port1.onmessage=function(){if(void 0!==n.next){n=n.next;var t=n.rd;n.rd=null,t()}},function(t){r.next={rd:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){Oe.setTimeout(t,0)}}function st(){if(Oe.Promise&&Oe.Promise.resolve){var t=Oe.Promise.resolve(void 0);mn=function(){t.then(ut)}}else mn=function(){var t=ut;!c(Oe.setImmediate)||Oe.Window&&Oe.Window.prototype&&!A("Edge")&&Oe.Window.prototype.setImmediate==Oe.setImmediate?(yn||(yn=at()),yn(t)):Oe.setImmediate(t)}}function ut(){for(var t;t=gn.remove();){try{t.Gc.call(t.scope)}catch(t){ot(t)}gn.wg(t)}vn=!1}function ct(t,e){et.call(this),this.Na=t||1,this.wb=e||Oe,this.nd=d(this.Rg,this),this.ie=Pe()}function ft(t,e,n){if(c(t))n&&(t=d(t,n));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=d(t.handleEvent,t)}return 2147483647<Number(e)?-1:Oe.setTimeout(t,e||0)}function lt(t,e,n){b.call(this),this.Uf=null!=n?d(t,n):t,this.Na=e,this.Xe=d(this.fg,this),this.qc=[]}function ht(t){b.call(this),this.i=t,this.o={}}function dt(t,e,n){this.reset(t,e,n,void 0,void 0)}function pt(t){this.pe=t,this.Zd=this.uc=this.mb=this.$b=null}function yt(t,e){this.name=t,this.value=e}function mt(t){In||(In=new pt(""),Cn[""]=In,In.Ge(Sn));var e;if(!(e=Cn[t])){e=new pt(t);var n=t.lastIndexOf("."),r=t.substr(n+1);n=mt(t.substr(0,n)),n.Qe(r,e),e.Fg(n),Cn[t]=e}return e}function vt(t,e){t&&t.info(e,void 0)}function gt(t,e){t&&t.lf(e)}function bt(){this.s=mt("goog.labs.net.webChannel.WebChannelDebug"),this.Wc=!0}function _t(t){j.call(this,"serverreachability",t)}function wt(t){An.dispatchEvent(new _t(An,t))}function Et(t,e){j.call(this,"statevent",t),this.stat=e}function St(t){An.dispatchEvent(new Et(An,t))}function Tt(t,e,n){j.call(this,"timingevent",t),this.size=e,this.rtt=n}function Ct(t,e,n){An.dispatchEvent(new Tt(An,t,e,n))}function It(t,e){if(!c(t))throw Error("Fn must not be null and must be a function");return Oe.setTimeout(function(){t()},e)}function At(){}function Ot(){}function kt(){j.call(this,"d")}function Rt(){j.call(this,"c")}function Pt(){}function xt(t,e,n,r,i){this.b=t,this.a=e,this.ra=n,this.R=r,this.Xc=i||1,this.Fc=new ht(this),this.Ua=xn,t=Ge?125:void 0,this.Vc=new ct(t),this.A=null,this.S=!1,this.Da=this.pa=this.ua=this.ic=this.qb=this.hd=this.Ga=null,this.ba=[],this.h=null,this.Bb=0,this.I=this.Fa=null,this.w=-1,this.Za=!1,this.Ra=0,this.ac=null,this.lb=this.Ed=this.yc=!1}function Dt(t,e){switch(t){case 0:return"Non-200 return code ("+e+")";case 1:return"XMLHTTP failure (no data)";case 2:return"HttpConnection timeout";default:return"Unknown error"}}function Nt(t){if(t.H&&"function"==typeof t.H)return t.H();if(r(t))return t.split("");if(u(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}return k(t)}function Mt(t,e,n){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,n);else if(u(t)||r(t))je(t,e,n);else{if(t.W&&"function"==typeof t.W)var i=t.W();else if(t.H&&"function"==typeof t.H)i=void 0;else if(u(t)||r(t)){i=[];for(var o=t.length,a=0;a<o;a++)i.push(a)}else i=R(t);o=Nt(t),a=o.length;for(var s=0;s<a;s++)e.call(n,o[s],i&&i[s],t)}}function Lt(t,e){this.D={},this.o=[],this.j=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var r=0;r<n;r+=2)this.set(arguments[r],arguments[r+1])}else t&&this.addAll(t)}function jt(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ut(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].indexOf("="),i=null;if(0<=r){var o=t[n].substring(0,r);i=t[n].substring(r+1)}else o=t[n];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Ft(t,e){this.xa=this.zb=this.qa="",this.Ca=null,this.ib=this.K="",this.O=this.Qf=!1;var n;t instanceof Ft?(this.O=void 0!==e?e:t.O,this.tb(t.qa),this.cd(t.zb),this.rb(t.xa),this.sb(t.Ca),this.ec(t.K),this.bd(t.P.clone()),this.$c(t.ib)):t&&(n=String(t).match(Mn))?(this.O=!!e,this.tb(n[1]||"",!0),this.cd(n[2]||"",!0),this.rb(n[3]||"",!0),this.sb(n[4]),this.ec(n[5]||"",!0),this.bd(n[6]||"",!0),this.$c(n[7]||"",!0)):(this.O=!!e,this.P=new zt(null,this.O))}function Bt(t){return t instanceof Ft?t.clone():new Ft(t,void 0)}function qt(t,e,n,r){var i=new Ft(null,void 0);return t&&i.tb(t),e&&i.rb(e),n&&i.sb(n),r&&i.ec(r),i}function Wt(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Vt(t,e,n){return r(t)?(t=encodeURI(t).replace(e,Ht),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function Ht(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}function zt(t,e){this.j=this.m=null,this.ja=t||null,this.O=!!e}function Kt(){}function Gt(){}function Qt(t,e){this.b=t,this.a=e,this.f=this.A=null,this.bc=!1,this.K=null,this.w=-1,this.Ad=this.na=null}function Yt(){this.od=this.$d=null}function Xt(t){this.D=new Lt,t&&this.addAll(t)}function $t(t){var e=typeof t;return"object"==e&&t||"function"==e?"o"+(t[ke]||(t[ke]=++Re)):e.substr(0,1)+t}function Jt(t,e){this.Pc=t,this.map=e,this.context=null}function Zt(t){this.me=t||qn,Oe.PerformanceNavigationTiming?(t=Oe.performance.getEntriesByType("navigation"),t=0<t.length&&("hq"==t[0].nextHopProtocol||"h2"==t[0].nextHopProtocol)):t=!!(Oe.vc&&Oe.vc.ke&&Oe.vc.ke()&&Oe.vc.ke().nh),this.Xb=t?this.me:1,this.v=null,1<this.Xb&&(this.v=new Xt),this.f=null,this.ba=[]}function te(){this.xg=this.rg=void 0}function ee(){this.jg=new te}function ne(t,e){var n=new bt;n.debug("TestLoadImage: loading "+t);var r=new Image;r.onload=p(re,n,r,"TestLoadImage: loaded",!0,e),r.onerror=p(re,n,r,"TestLoadImage: error",!1,e),r.onabort=p(re,n,r,"TestLoadImage: abort",!1,e),r.ontimeout=p(re,n,r,"TestLoadImage: timeout",!1,e),Oe.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=t}function re(t,e,n,r,i){try{t.debug(n),e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch(e){t.cb(e)}}function ie(t){et.call(this),this.headers=new Lt,this.Xa=t||null,this.ha=!1,this.mc=this.c=null,this.ge=this.Tb="",this.Pa=0,this.I="",this.Aa=this.Lc=this.Qb=this.Ec=!1,this.vb=0,this.hc=null,this.Ae=Vn,this.jc=this.lg=this.Ab=!1}function oe(t){return ze&&L(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function ae(t){return"content-type"==t.toLowerCase()}function se(t,e){return{type:e,lengthComputable:t.lengthComputable,loaded:t.loaded,total:t.total}}function ue(t){var e="";return O(t,function(t,n){e+=n,e+=":",e+=t,e+="\r\n"}),e}function ce(t,e,n){t:{for(i in n){var i=!1;break t}i=!0}if(i)return t;if(n=ue(n),r(t)){if(e=encodeURIComponent(String(e)),n=null!=n?"="+encodeURIComponent(String(n)):"",e+=n){if(n=t.indexOf("#"),0>n&&(n=t.length),0>(i=t.indexOf("?"))||i>n){i=n;var o=""}else o=t.substring(i+1,n);t=[t.substr(0,i),o,t.substr(n)],n=t[1],t[1]=e?n?n+"&"+e:e:n,t=t[0]+(t[1]?"?"+t[1]:"")+t[2]}return t}return t.l(e,n),t}function fe(t){this.Bd=22,this.De=0,this.M=[],this.a=new bt,this.Ib=new Yt,this.na=this.md=this.hb=this.K=this.u=this.Kc=this.aa=this.gb=this.N=this.Rb=this.A=null,this.Te=!0,this.ag=this.Yb=0,this.kf=!!i("internalChannelParams.failFast",t),this.fd=this.Ja=this.wa=this.ia=this.ea=this.i=null,this.Se=!0,this.w=this.he=this.Sb=-1,this.rc=this.Ha=this.La=0,this.Ve=i("internalChannelParams.baseRetryDelayMs",t)||5e3,this.vg=i("internalChannelParams.retryDelaySeedMs",t)||1e4,this.nf=i("internalChannelParams.forwardChannelMaxRetries",t)||2,this.Od=i("internalChannelParams.forwardChannelRequestTimeoutMs",t)||2e4,this.Xa=t&&t.oh||void 0,this.Db=void 0,this.Ra=0,this.gc=t&&t.supportsCrossDomainXhr||!1,this.ra="",this.G=new Zt(t&&t.concurrentRequestLimit),this.kc=new ee,this.ta=!t||void 0===t.backgroundChannelTest||t.backgroundChannelTest,(this.Nd=t&&t.fastHandshake||!1)&&!this.ta&&(this.a.T("Force backgroundChannelTest when fastHandshake is enabled."),this.ta=!0),t&&t.Id&&this.a.Id()}function le(){}function he(t){for(var e=arguments[0],n=1;n<arguments.length;n++){var r=arguments[n];if(0==r.lastIndexOf("/",0))e=r;else{var i;(i=""==e)||(i=e.length-1,i=0<=i&&e.indexOf("/",i)==i),e=i?e+r:e+"/"+r}}return e}function de(){if(ze&&!(10<=Number(Ze)))throw Error("Environmental error: no available transport.")}function pe(t,e){et.call(this),this.b=new fe(e),this.yb=t,this.Qg=e&&e.testUrl?e.testUrl:he(this.yb,"test"),this.s=mt("goog.labs.net.webChannel.WebChannelBaseTransport"),this.Rc=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.b.ga(t),t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.zd&&(t?t["X-WebChannel-Client-Profile"]=e.zd:t={"X-WebChannel-Client-Profile":e.zd}),this.b.Eg(t),(t=e&&e.httpHeadersOverwriteParam)&&!C(t)&&this.b.Cg(t),this.Og=e&&e.supportsCrossDomainXhr||!1,this.zg=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!C(e)&&(this.b.Dg(e),null!==(t=this.Rc)&&e in t&&(t=this.Rc,e in t&&delete t[e],(t=this.s)&&t.T("Ignore httpSessionIdParam also specified with messageUrlParams: "+e,void 0))),this.vd=new ve(this)}function ye(t){kt.call(this);var e=t.__sm__;if(e){t:{for(var n in e){t=n;break t}t=void 0}(this.ne=t)&&(t=this.ne,e=null!==e&&t in e?e[t]:void 0),this.data=e}else this.data=t}function me(t){Rt.call(this),this.status=1,this.errorCode=t}function ve(t){this.b=t}function ge(){this.V=[],this.Z=[]}function be(t,e){if(b.call(this),this.oe=t||0,this.Wb=e||10,this.oe>this.Wb)throw Error(Gn);this.fa=new ge,this.oa=new Xt,this.Ac=0,this.Nc=null,this.Cb()}function _e(t,e){this.fe=t,this.gd=e}function we(t){this.Y=[],t&&this.Lf(t)}function Ee(){we.call(this)}function Se(t,e){this.Gd=void 0,this.cc=new Ee,be.call(this,t,e)}function Te(t,e,n,r){this.Jf=t,this.Ab=!!r,Se.call(this,e,n)}n.d(e,"createWebChannelTransport",function(){return Yn}),n.d(e,"ErrorCode",function(){return Xn}),n.d(e,"EventType",function(){return $n}),n.d(e,"WebChannel",function(){return Jn}),n.d(e,"XhrIoPool",function(){return Zn});var Ce,Ie="undefined"!==typeof window?window:"undefined"!==typeof t?t:"undefined"!==typeof self?self:{},Ae=Ae||{},Oe=Ie,ke="closure_uid_"+(1e9*Math.random()>>>0),Re=0,Pe=Date.now||function(){return+new Date};y(m,Error),m.prototype.name="CustomError",y(v,m),v.prototype.name="AssertionError";var xe=0,De={};b.prototype.Ka=!1,b.prototype.bb=function(){if(!this.Ka&&(this.Ka=!0,this.F(),0!=xe)){var t=this[ke]||(this[ke]=++Re);if(0!=xe&&this.Qa&&0<this.Qa.length)throw Error(this+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete De[t]}},b.prototype.F=function(){if(this.Qa)for(;this.Qa.length;)this.Qa.shift()()};var Ne,Me=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(r(t))return r(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},Le=Array.prototype.lastIndexOf?function(t,e){return Array.prototype.lastIndexOf.call(t,e,t.length-1)}:function(t,e){var n=t.length-1;if(0>n&&(n=Math.max(0,t.length+n)),r(t))return r(e)&&1==e.length?t.lastIndexOf(e,n):-1;for(;0<=n;n--)if(n in t&&t[n]===e)return n;return-1},je=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=r(t)?t.split(""):t,a=0;a<i;a++)a in o&&e.call(n,o[a],a,t)},Ue=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=r(t)?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t))return!0;return!1},Fe=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};t:{var Be=Oe.navigator;if(Be){var qe=Be.userAgent;if(qe){Ne=qe;break t}}Ne=""}var We="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");D[" "]=o;var Ve,He=A("Opera"),ze=A("Trident")||A("MSIE"),Ke=A("Edge"),Ge=Ke||ze,Qe=A("Gecko")&&!(-1!=Ne.toLowerCase().indexOf("webkit")&&!A("Edge"))&&!(A("Trident")||A("MSIE"))&&!A("Edge"),Ye=-1!=Ne.toLowerCase().indexOf("webkit")&&!A("Edge");t:{var Xe="",$e=function(){var t=Ne;return Qe?/rv:([^\);]+)(\)|;)/.exec(t):Ke?/Edge\/([\d\.]+)/.exec(t):ze?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):Ye?/WebKit\/(\S+)/.exec(t):He?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if($e&&(Xe=$e?$e[1]:""),ze){var Je=M();if(null!=Je&&Je>parseFloat(Xe)){Ve=String(Je);break t}}Ve=Xe}var Ze,tn={},en=Oe.document;Ze=en&&ze?M()||("CSS1Compat"==en.compatMode?parseInt(Ve,10):5):void 0;var nn=Object.freeze||function(t){return t},rn=!ze||9<=Number(Ze),on=ze&&!L("9"),an=function(){if(!Oe.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{Oe.addEventListener("test",o,e),Oe.removeEventListener("test",o,e)}catch(t){}return t}();j.prototype.stopPropagation=function(){this.Ea=!0},j.prototype.preventDefault=function(){this.defaultPrevented=!0,this.Be=!1},y(U,j);var sn=nn({2:"touch",3:"pen",4:"mouse"});U.prototype.Kf=function(t,e){var n=this.type=t.type,i=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.currentTarget=e,e=t.relatedTarget){if(Qe){t:{try{D(e.nodeName);var o=!0;break t}catch(t){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===i?(this.offsetX=Ye||void 0!==t.offsetX?t.offsetX:t.layerX,this.offsetY=Ye||void 0!==t.offsetY?t.offsetY:t.layerY,this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=t.button,this.keyCode=t.keyCode||0,this.key=t.key||"",this.charCode=t.charCode||("keypress"==n?t.keyCode:0),this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=r(t.pointerType)?t.pointerType:sn[t.pointerType]||"",this.state=t.state,this.fb=t,t.defaultPrevented&&this.preventDefault()},U.prototype.stopPropagation=function(){U.L.stopPropagation.call(this),this.fb.stopPropagation?this.fb.stopPropagation():this.fb.cancelBubble=!0},U.prototype.preventDefault=function(){U.L.preventDefault.call(this);var t=this.fb;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,on)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(t){}};var un="closure_listenable_"+(1e6*Math.random()|0),cn=0;B.prototype.Vb=function(){this.Sa=!0,this.Ob=this.src=this.proxy=this.listener=null},Ce=q.prototype,Ce.add=function(t,e,n,r,i){var o=t.toString();(t=this.J[o])||(t=this.J[o]=[],this.xb++);var a=W(t,e,r,i);return-1<a?(e=t[a],n||(e.Eb=!1)):(e=new B(e,this.src,o,!!r,i),e.Eb=n,t.push(e)),e},Ce.remove=function(t,e,n,r){if(!((t=t.toString())in this.J))return!1;var i=this.J[t];return-1<(e=W(i,e,n,r))&&(i[e].Vb(),Array.prototype.splice.call(i,e,1),0==i.length&&(delete this.J[t],this.xb--),!0)},Ce.ye=function(t){var e=t.type;e in this.J&&E(this.J[e],t)&&(t.Vb(),0==this.J[e].length&&(delete this.J[e],this.xb--))},Ce.pb=function(t){t=t&&t.toString();var e;for(e in this.J)if(!t||e==t){for(var n=this.J[e],r=0;r<n.length;r++)n[r].Vb();delete this.J[e],this.xb--}},Ce.jb=function(t,e,n,r){t=this.J[t.toString()];var i=-1;return t&&(i=W(t,e,n,r)),-1<i?t[i]:null};var fn="closure_lm_"+(1e6*Math.random()|0),ln={},hn="__closure_events_fn_"+(1e9*Math.random()>>>0);y(et,b),et.prototype[un]=!0,Ce=et.prototype,Ce.addEventListener=function(t,e,n,r){V(this,t,e,n,r)},Ce.removeEventListener=function(t,e,n,r){G(this,t,e,n,r)},Ce.dispatchEvent=function(t){var e,n=this.Uc;if(n)for(e=[];n;n=n.Uc)e.push(n);n=this.Pe;var i=t.type||t;if(r(t))t=new j(t,n);else if(t instanceof j)t.target=t.target||n;else{var o=t;t=new j(i,n),x(t,o)}if(o=!0,e)for(var a=e.length-1;!t.Ea&&0<=a;a--){var s=t.currentTarget=e[a];o=s.Lb(i,!0,t)&&o}if(t.Ea||(s=t.currentTarget=n,o=s.Lb(i,!0,t)&&o,t.Ea||(o=s.Lb(i,!1,t)&&o)),e)for(a=0;!t.Ea&&a<e.length;a++)s=t.currentTarget=e[a],o=s.Lb(i,!1,t)&&o;return o},Ce.F=function(){et.L.F.call(this),this.pg(),this.Uc=null},Ce.nb=function(t,e,n,r){return this.ka.add(String(t),e,!1,n,r)},Ce.Oc=function(t,e,n,r){return this.ka.add(String(t),e,!0,n,r)},Ce.ed=function(t,e,n,r){this.ka.remove(String(t),e,n,r)},Ce.Le=function(t){this.ka.ye(t)},Ce.pg=function(){this.ka&&this.ka.pb(void 0)},Ce.Lb=function(t,e,n){if(!(t=this.ka.J[String(t)]))return!0;t=t.concat();for(var r=!0,i=0;i<t.length;++i){var o=t[i];if(o&&!o.Sa&&o.capture==e){var a=o.listener,s=o.Ob||o.src;o.Eb&&this.Le(o),r=!1!==a.call(s,n)&&r}}return r&&0!=n.Be},Ce.jb=function(t,e,n,r){return this.ka.jb(String(t),e,n,r)};var dn=Oe.JSON.stringify;nt.prototype.get=function(){if(0<this.Zb){this.Zb--;var t=this.Pb;this.Pb=t.next,t.next=null}else t=this.ef();return t},nt.prototype.put=function(t){this.ug(t),this.Zb<this.Sf&&(this.Zb++,t.next=this.Pb,this.Pb=t)};var pn=new nt(function(){return new it},function(t){t.reset()});rt.prototype.add=function(t,e){var n=this.Af();n.set(t,e),this.lc?this.lc.next=n:this.Va=n,this.lc=n},rt.prototype.remove=function(){var t=null;return this.Va&&(t=this.Va,this.Va=this.Va.next,this.Va||(this.lc=null),t.next=null),t},rt.prototype.wg=function(t){pn.put(t)},rt.prototype.Af=function(){return pn.get()},it.prototype.set=function(t,e){this.Gc=t,this.scope=e,this.next=null},it.prototype.reset=function(){this.next=this.scope=this.Gc=null};var yn,mn,vn=!1,gn=new rt;y(ct,et),Ce=ct.prototype,Ce.enabled=!1,Ce.B=null,Ce.setInterval=function(t){this.Na=t,this.B&&this.enabled?(this.stop(),this.start()):this.B&&this.stop()},Ce.Rg=function(){if(this.enabled){var t=Pe()-this.ie;0<t&&t<.8*this.Na?this.B=this.wb.setTimeout(this.nd,this.Na-t):(this.B&&(this.wb.clearTimeout(this.B),this.B=null),this.ff(),this.enabled&&(this.stop(),this.start()))}},Ce.ff=function(){this.dispatchEvent("tick")},Ce.start=function(){this.enabled=!0,this.B||(this.B=this.wb.setTimeout(this.nd,this.Na),this.ie=Pe())},Ce.stop=function(){this.enabled=!1,this.B&&(this.wb.clearTimeout(this.B),this.B=null)},Ce.F=function(){ct.L.F.call(this),this.stop(),delete this.wb},y(lt,b),Ce=lt.prototype,Ce.Ta=!1,Ce.ob=0,Ce.B=null,Ce.mf=function(t){this.qc=arguments,this.B||this.ob?this.Ta=!0:this.Cc()},Ce.stop=function(){this.B&&(Oe.clearTimeout(this.B),this.B=null,this.Ta=!1,this.qc=[])},Ce.pause=function(){this.ob++},Ce.resume=function(){--this.ob||!this.Ta||this.B||(this.Ta=!1,this.Cc())},Ce.F=function(){lt.L.F.call(this),this.stop()},Ce.fg=function(){this.B=null,this.Ta&&!this.ob&&(this.Ta=!1,this.Cc())},Ce.Cc=function(){this.B=ft(this.Xe,this.Na),this.Uf.apply(null,this.qc)},y(ht,b);var bn=[];Ce=ht.prototype,Ce.nb=function(t,e,n,r){return this.Tf(t,e,n,r)},Ce.Tf=function(t,e,n,r){s(e)||(e&&(bn[0]=e.toString()),e=bn);for(var i=0;i<e.length;i++){var o=V(t,e[i],n||this.handleEvent,r||!1,this.i||this);if(!o)break;this.o[o.key]=o}return this},Ce.Oc=function(t,e,n,r){return this.je(t,e,n,r)},Ce.je=function(t,e,n,r,i){if(s(e))for(var o=0;o<e.length;o++)this.je(t,e[o],n,r,i);else{if(!(t=K(t,e,n||this.handleEvent,r,i||this.i||this)))return this;this.o[t.key]=t}return this},Ce.ed=function(t,e,n,r,i){if(s(e))for(var o=0;o<e.length;o++)this.ed(t,e[o],n,r,i);else n=n||this.handleEvent,r=f(r)?!!r.capture:!!r,i=i||this.i||this,n=tt(n),r=!!r,(e=F(t)?t.jb(e,n,r,i):t&&(t=Z(t))?t.jb(e,n,r,i):null)&&(Q(e),delete this.o[e.key])},Ce.pb=function(){O(this.o,function(t,e){this.o.hasOwnProperty(e)&&Q(t)},this),this.o={}},Ce.F=function(){ht.L.F.call(this),this.pb()},Ce.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},dt.prototype.Md=null,dt.prototype.reset=function(t,e,n,r,i){this.mb=t,delete this.Md},dt.prototype.Bg=function(t){this.Md=t},dt.prototype.Ge=function(t){this.mb=t},yt.prototype.toString=function(){return this.name};var _n=new yt("SEVERE",1e3),wn=new yt("WARNING",900),En=new yt("INFO",800),Sn=new yt("CONFIG",700),Tn=new yt("FINE",500);Ce=pt.prototype,Ce.getName=function(){return this.pe},Ce.getParent=function(){return this.$b},Ce.pf=function(){return this.uc||(this.uc={}),this.uc},Ce.Ge=function(t){this.mb=t},Ce.Qd=function(){return this.mb?this.mb:this.$b?this.$b.Qd():(g("Root logger has no level set."),null)},Ce.Pf=function(t){return t.value>=this.Qd().value},Ce.log=function(t,e,n){this.Pf(t)&&(c(e)&&(e=e()),this.gf(this.uf(t,e,n)))},Ce.uf=function(t,e,n){return t=new dt(t,String(e),this.pe),n&&t.Bg(n),t},Ce.ca=function(t,e){this.log(_n,t,e)},Ce.T=function(t,e){this.log(wn,t,e)},Ce.info=function(t,e){this.log(En,t,e)},Ce.lf=function(t){this.log(Tn,t,void 0)},Ce.gf=function(t){for(var e=this;e;)e.We(t),e=e.getParent()},Ce.We=function(t){if(this.Zd)for(var e,n=0;e=this.Zd[n];n++)e(t)},Ce.Fg=function(t){this.$b=t},Ce.Qe=function(t,e){this.pf()[t]=e};var Cn={},In=null;Ce=bt.prototype,Ce.Id=function(){this.Wc=!1},Ce.Tg=function(t,e,n,r,i){var o=this;this.info(function(){return"XMLHTTP REQ ("+n+") [attempt "+r+"]: "+t+"\n"+e+"\n"+o.Xf(i)})},Ce.Ug=function(t,e,n,r,i,o){this.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+r+"]: "+t+"\n"+e+"\n"+i+" "+o})},Ce.Wa=function(t,e,n){var r=this;this.info(function(){return"XMLHTTP TEXT ("+t+"): "+r.ng(e)+(n?" "+n:"")})},Ce.Sg=function(t){this.info(function(){return"TIMEOUT: "+t})},Ce.debug=function(t){gt(this.s,t)},Ce.cb=function(t,e){var n=this.s;n&&n.ca(e||"Exception",t)},Ce.info=function(t){vt(this.s,t)},Ce.T=function(t){var e=this.s;e&&e.T(t,void 0)},Ce.ca=function(t){var e=this.s;e&&e.ca(t,void 0)},Ce.ng=function(t){if(!this.Wc)return t;if(!t)return null;try{var e=JSON.parse(t);if(e)for(var n=0;n<e.length;n++)s(e[n])&&this.Wf(e[n]);return dn(e)}catch(e){return this.debug("Exception parsing expected JS array - probably was not JS"),t}},Ce.Wf=function(t){if(!(2>t.length||(t=t[1],!s(t)||1>t.length))){var e=t[0];if("noop"!=e&&"stop"!=e&&"close"!=e)for(e=1;e<t.length;e++)t[e]=""}},Ce.Xf=function(t){if(!this.Wc)return t;if(!t)return null;var e="";t=t.split("&");for(var n=0;n<t.length;n++){var r=t[n].split("=");if(1<r.length){var i=r[0];r=r[1];var o=i.split("_");e=2<=o.length&&"type"==o[1]?e+(i+"=")+r+"&":e+(i+"=redacted&")}}return e};var An=new et;y(_t,j),y(Et,j),y(Tt,j);var On={NO_ERROR:0,Vg:1,bh:2,ah:3,Yg:4,$g:5,dh:6,Ne:7,TIMEOUT:8,gh:9},kn={Xg:"complete",kh:"success",Oe:"error",Ne:"abort",ih:"ready",jh:"readystatechange",TIMEOUT:"timeout",eh:"incrementaldata",hh:"progress",Zg:"downloadprogress",lh:"uploadprogress"};At.prototype.pd=null,At.prototype.Vd=function(){return this.pd||(this.pd=this.Mf())};var Rn={OPEN:"a",Wg:"b",Oe:"c",fh:"d"};y(kt,j),y(Rt,j);var Pn;y(Pt,At),Pt.prototype.Dd=function(){var t=this.Wd();return t?new ActiveXObject(t):new XMLHttpRequest},Pt.prototype.Mf=function(){var t={};return this.Wd()&&(t[0]=!0,t[1]=!0),t},Pt.prototype.Wd=function(){if(!this.be&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var t=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],e=0;e<t.length;e++){var n=t[e];try{return new ActiveXObject(n),this.be=n}catch(t){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return this.be},Pn=new Pt;var xn=45e3,Dn={},Nn={};Ce=xt.prototype,Ce.ga=function(t){this.A=t},Ce.setTimeout=function(t){this.Ua=t},Ce.He=function(t){this.Ra=t},Ce.Gg=function(t){this.ba=t},Ce.la=function(){return this.ba},Ce.kd=function(t,e){this.ic=1,this.ua=t.clone().Ub(),this.Da=e,this.yc=!0,this.Ce(null)},Ce.jd=function(t,e,n){this.ic=1,this.ua=t.clone().Ub(),this.Da=null,this.yc=e,this.Ce(n)},Ce.Ce=function(t){this.qb=Pe(),this.eb(),this.pa=this.ua.clone(),this.pa.dc("t",this.Xc),this.Bb=0,this.h=this.b.Jb(this.b.fc()?t:null),0<this.Ra&&(this.ac=new lt(d(this.Me,this,this.h),this.Ra)),this.Fc.nb(this.h,"readystatechange",this.mg),t=this.A?P(this.A):{},this.Da?(this.Fa||(this.Fa="POST"),t["Content-Type"]="application/x-www-form-urlencoded",this.h.send(this.pa,this.Fa,this.Da,t)):(this.Fa="GET",this.h.send(this.pa,this.Fa,null,t)),wt(1),this.a.Tg(this.Fa,this.pa,this.R,this.Xc,this.Da)},Ce.mg=function(t){t=t.target;var e=this.ac;e&&3==t.ma()?(this.a.debug("Throttling readystatechange."),e.mf()):this.Me(t)},Ce.Me=function(t){try{t==this.h?this.hg():this.a.T("Called back with an unexpected xmlhttp")}catch(t){if(this.a.debug("Failed call to OnXmlHttpReadyStateChanged_"),this.h&&this.h.ya()){var e=this;this.a.cb(t,function(){return"ResponseText: "+e.h.ya()})}else this.a.cb(t,"No response text")}},Ce.hg=function(){var t=this.h.ma(),e=this.h.Ud(),n=this.h.za();if(!(3>t||3==t&&!Ge&&!this.h.ya())){this.Za||4!=t||7==e||wt(8==e||0>=n?3:2),this.Fb();var r=this.h.za();if(this.w=r,!(e=this.h.ya())){var i=this;this.a.debug(function(){return"No response text for uri "+i.pa+" status "+r})}if(this.S=200==r,this.a.Ug(this.Fa,this.pa,this.R,this.Xc,t,r),this.S){if(this.Ig()){if(!(n=this.sf()))return this.S=!1,this.I=3,St(12),this.a.T("XMLHTTP Missing X_HTTP_INITIAL_RESPONSE ("+this.R+")"),this.Ia(),void this.Kb();this.a.Wa(this.R,n,"Initial handshake response via X-HTTP-Initial-Response"),this.lb=!0,this.Yc(n)}this.yc?(this.Fd(t,e),Ge&&this.S&&3==t&&this.Ng()):(this.a.Wa(this.R,e,null),this.Yc(e)),4==t&&this.Ia(),this.S&&!this.Za&&(4==t?this.b.Tc(this):(this.S=!1,this.eb()))}else 400==r&&0<e.indexOf("Unknown SID")?(this.I=3,St(12),this.a.T("XMLHTTP Unknown SID ("+this.R+")")):(this.I=0,St(13),this.a.T("XMLHTTP Bad status "+r+" ("+this.R+")")),this.Ia(),this.Kb()}},Ce.Ig=function(){return this.Ed&&!this.lb},Ce.sf=function(){if(this.h){var t=this.h.kb("X-HTTP-Initial-Response");if(t&&!C(t))return t}return null},Ce.Ag=function(){this.Ed=!0},Ce.Fd=function(t,e){for(var n=!0;!this.Za&&this.Bb<e.length;){var r=this.vf(e);if(r==Nn){4==t&&(this.I=4,St(14),n=!1),this.a.Wa(this.R,null,"[Incomplete Response]");break}if(r==Dn){this.I=4,St(15),this.a.Wa(this.R,e,"[Invalid Chunk]"),n=!1;break}this.a.Wa(this.R,r,null),this.Yc(r)}4==t&&0==e.length&&(this.I=1,St(16),n=!1),this.S=this.S&&n,n||(this.a.Wa(this.R,e,"[Invalid Chunked Response]"),this.Ia(),this.Kb())},Ce.kg=function(){if(this.h){var t=this.h.ma(),e=this.h.ya();this.Bb<e.length&&(this.Fb(),this.Fd(t,e),this.S&&4!=t&&this.eb())}},Ce.Ng=function(){this.Fc.nb(this.Vc,"tick",this.kg),this.Vc.start()},Ce.vf=function(t){var e=this.Bb,n=t.indexOf("\n",e);return-1==n?Nn:(e=Number(t.substring(e,n)),isNaN(e)?Dn:(n+=1)+e>t.length?Nn:(t=t.substr(n,e),this.Bb=n+e,t))},Ce.yg=function(t){this.ic=2,this.ua=t.clone().Ub(),t=!1,Oe.navigator&&Oe.navigator.sendBeacon&&(t=Oe.navigator.sendBeacon(this.ua.toString(),"")),!t&&Oe.Image&&((new Image).src=this.ua,t=!0),t||(this.h=this.b.Jb(null),this.h.send(this.ua)),this.qb=Pe(),this.eb()},Ce.cancel=function(){this.Za=!0,this.Ia()},Ce.tg=function(t){t&&this.setTimeout(t),this.Ga&&(this.Fb(),this.eb())},Ce.eb=function(){this.hd=Pe()+this.Ua,this.Ke(this.Ua)},Ce.Ke=function(t){if(null!=this.Ga)throw Error("WatchDog timer not null");this.Ga=It(d(this.gg,this),t)},Ce.Fb=function(){this.Ga&&(Oe.clearTimeout(this.Ga),this.Ga=null)},Ce.gg=function(){this.Ga=null;var t=Pe();0<=t-this.hd?this.Df():(this.a.T("WatchDog timer called too early"),this.Ke(this.hd-t))},Ce.Df=function(){this.S&&this.a.ca("Received watchdog timeout even though request loaded successfully"),this.a.Sg(this.pa),2!=this.ic&&(wt(3),St(17)),this.Ia(),this.I=2,this.Kb()},Ce.Kb=function(){this.b.de()||this.Za||this.b.Tc(this)},Ce.Ia=function(){this.Fb();var t=this.ac;t&&"function"==typeof t.bb&&t.bb(),this.ac=null,this.Vc.stop(),this.Fc.pb(),this.h&&(t=this.h,this.h=null,t.abort(),t.bb())},Ce.Hc=function(){return this.I},Ce.Yc=function(t){try{this.b.ue(this,t),wt(4)}catch(t){this.a.cb(t,"Error in httprequest callback")}},Ce=Lt.prototype,Ce.C=function(){return this.j},Ce.H=function(){this.wc();for(var t=[],e=0;e<this.o.length;e++)t.push(this.D[this.o[e]]);return t},Ce.W=function(){return this.wc(),this.o.concat()},Ce.va=function(t){return jt(this.D,t)},Ce.X=function(){return 0==this.j},Ce.clear=function(){this.D={},this.j=this.o.length=0},Ce.remove=function(t){return!!jt(this.D,t)&&(delete this.D[t],this.j--,this.o.length>2*this.j&&this.wc(),!0)},Ce.wc=function(){if(this.j!=this.o.length){for(var t=0,e=0;t<this.o.length;){var n=this.o[t];jt(this.D,n)&&(this.o[e++]=n),t++}this.o.length=e}if(this.j!=this.o.length){var r={};for(e=t=0;t<this.o.length;)n=this.o[t],jt(r,n)||(this.o[e++]=n,r[n]=1),t++;this.o.length=e}},Ce.get=function(t,e){return jt(this.D,t)?this.D[t]:e},Ce.set=function(t,e){jt(this.D,t)||(this.j++,this.o.push(t)),this.D[t]=e},Ce.addAll=function(t){if(t instanceof Lt)for(var e=t.W(),n=0;n<e.length;n++)this.set(e[n],t.get(e[n]));else for(e in t)this.set(e,t[e])},Ce.forEach=function(t,e){for(var n=this.W(),r=0;r<n.length;r++){var i=n[r],o=this.get(i);t.call(e,o,i,this)}},Ce.clone=function(){return new Lt(this)};var Mn=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;Ce=Ft.prototype,Ce.toString=function(){var t=[],e=this.qa;e&&t.push(Vt(e,Ln,!0),":");var n=this.xa;return(n||"file"==e)&&(t.push("//"),(e=this.zb)&&t.push(Vt(e,Ln,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.Ca)&&t.push(":",String(n))),(n=this.K)&&(this.Ic()&&"/"!=n.charAt(0)&&t.push("/"),t.push(Vt(n,"/"==n.charAt(0)?Un:jn,!0))),(n=this.Rd())&&t.push("?",n),(n=this.ib)&&t.push("#",Vt(n,Bn)),t.join("")},Ce.resolve=function(t){var e=this.clone(),n=t.Hf();n?e.tb(t.qa):n=t.If(),n?e.cd(t.zb):n=t.Ic(),n?e.rb(t.xa):n=t.Ff();var r=t.K;if(n)e.sb(t.Ca);else if(n=t.ae()){if("/"!=r.charAt(0))if(this.Ic()&&!this.ae())r="/"+r;else{var i=e.K.lastIndexOf("/");-1!=i&&(r=e.K.substr(0,i+1)+r)}if(".."==(i=r)||"."==i)r="";else if(-1!=i.indexOf("./")||-1!=i.indexOf("/.")){r=0==i.lastIndexOf("/",0),i=i.split("/");for(var o=[],a=0;a<i.length;){var s=i[a++];"."==s?r&&a==i.length&&o.push(""):".."==s?((1<o.length||1==o.length&&""!=o[0])&&o.pop(),r&&a==i.length&&o.push("")):(o.push(s),r=!0)}r=o.join("/")}else r=i}return n?e.ec(r):n=t.Gf(),n?e.bd(t.P.clone()):n=t.Ef(),n&&e.$c(t.ib),e},Ce.clone=function(){return new Ft(this)},Ce.tb=function(t,e){this.U(),(this.qa=e?Wt(t,!0):t)&&(this.qa=this.qa.replace(/:$/,""))},Ce.Hf=function(){return!!this.qa},Ce.cd=function(t,e){this.U(),this.zb=e?Wt(t):t},Ce.If=function(){return!!this.zb},Ce.rb=function(t,e){this.U(),this.xa=e?Wt(t,!0):t},Ce.Ic=function(){return!!this.xa},Ce.sb=function(t){if(this.U(),t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);this.Ca=t}else this.Ca=null},Ce.Ff=function(){return null!=this.Ca},Ce.ec=function(t,e){this.U(),this.K=e?Wt(t,!0):t},Ce.ae=function(){return!!this.K},Ce.Gf=function(){return""!==this.P.toString()},Ce.bd=function(t,e){this.U(),t instanceof zt?(this.P=t,this.P.ad(this.O)):(e||(t=Vt(t,Fn)),this.P=new zt(t,this.O))},Ce.Rd=function(){return this.P.toString()},Ce.getQuery=function(){return this.Rd()},Ce.l=function(t,e){this.U(),this.P.set(t,e)},Ce.dc=function(t,e){this.U(),s(e)||(e=[String(e)]),this.P.Ie(t,e)},Ce.$c=function(t,e){this.U(),this.ib=e?Wt(t):t},Ce.Ef=function(){return!!this.ib},Ce.Ub=function(){return this.U(),this.l("zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Pe()).toString(36)),this},Ce.removeParameter=function(t){return this.U(),this.P.remove(t),this},Ce.U=function(){if(this.Qf)throw Error("Tried to modify a read-only Uri")},Ce.ad=function(t){this.O=t,this.P&&this.P.ad(t)};var Ln=/[#\/\?@]/g,jn=/[#\?:]/g,Un=/[#\?]/g,Fn=/[#\?@]/g,Bn=/#/g;Ce=zt.prototype,Ce.$=function(){if(!this.m&&(this.m=new Lt,this.j=0,this.ja)){var t=this;Ut(this.ja,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)})}},Ce.C=function(){return this.$(),this.j},Ce.add=function(t,e){this.$(),this.Oa(),t=this.Ma(t);var n=this.m.get(t);return n||this.m.set(t,n=[]),n.push(e),this.j+=1,this},Ce.remove=function(t){return this.$(),t=this.Ma(t),!!this.m.va(t)&&(this.Oa(),this.j-=this.m.get(t).length,this.m.remove(t))},Ce.clear=function(){this.Oa(),this.m=null,this.j=0},Ce.X=function(){return this.$(),0==this.j},Ce.va=function(t){return this.$(),t=this.Ma(t),this.m.va(t)},Ce.forEach=function(t,e){this.$(),this.m.forEach(function(n,r){je(n,function(n){t.call(e,n,r,this)},this)},this)},Ce.W=function(){this.$();for(var t=this.m.H(),e=this.m.W(),n=[],r=0;r<e.length;r++)for(var i=t[r],o=0;o<i.length;o++)n.push(e[r]);return n},Ce.H=function(t){this.$();var e=[];if(r(t))this.va(t)&&(e=S(e,this.m.get(this.Ma(t))));else{t=this.m.H();for(var n=0;n<t.length;n++)e=S(e,t[n])}return e},Ce.set=function(t,e){return this.$(),this.Oa(),t=this.Ma(t),this.va(t)&&(this.j-=this.m.get(t).length),this.m.set(t,[e]),this.j+=1,this},Ce.get=function(t,e){return t?(t=this.H(t),0<t.length?String(t[0]):e):e},Ce.Ie=function(t,e){this.remove(t),0<e.length&&(this.Oa(),this.m.set(this.Ma(t),T(e)),this.j+=e.length)},Ce.toString=function(){if(this.ja)return this.ja;if(!this.m)return"";for(var t=[],e=this.m.W(),n=0;n<e.length;n++){var r=e[n],i=encodeURIComponent(String(r));r=this.H(r);for(var o=0;o<r.length;o++){var a=i;""!==r[o]&&(a+="="+encodeURIComponent(String(r[o]))),t.push(a)}}return this.ja=t.join("&")},Ce.Oa=function(){this.ja=null},Ce.clone=function(){var t=new zt;return t.ja=this.ja,this.m&&(t.m=this.m.clone(),t.j=this.j),t},Ce.Ma=function(t){return t=String(t),this.O&&(t=t.toLowerCase()),t},Ce.ad=function(t){t&&!this.O&&(this.$(),this.Oa(),this.m.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(this.remove(e),this.Ie(n,t))},this)),this.O=t},Ce.extend=function(t){for(var e=0;e<arguments.length;e++)Mt(arguments[e],function(t,e){this.add(e,t)},this)},y(Gt,Kt),Ce=Qt.prototype,Ce.g=null,Ce.ga=function(t){this.A=t},Ce.connect=function(t){this.K=t,t=this.b.Sd(this.K),St(3);var e=this.b.Ib.$d;null!=e?(this.na=this.b.$a(e[0]),this.g=1,this.xd()):(t.dc("MODE","init"),!this.b.ta&&this.b.aa&&t.dc("X-HTTP-Session-Id",this.b.aa),this.f=new xt(this,this.a,void 0,void 0,void 0),this.f.ga(this.A),this.f.jd(t,!1,null),this.g=0)},Ce.xd=function(){this.a.debug("TestConnection: starting stage 2");var t=this.b.Ib.od;if(null!=t)this.a.debug(function(){return"Buffered"}),St(4),t?(St(10),this.b.ub(this,!1)):(St(11),this.b.ub(this,!0));else{this.f=new xt(this,this.a,void 0,void 0,void 0),this.f.ga(this.A);var e=this.b.Pd(this.na,this.K);St(4),e.dc("TYPE","xmlhttp");var n=this.b.aa,r=this.b.Kc;n&&r&&e.l(n,r),this.f.jd(e,!1,this.na)}},Ce.Jb=function(t){return this.b.Jb(t)},Ce.abort=function(){this.f&&(this.f.cancel(),this.f=null),this.w=-1},Ce.de=function(){return!1},Ce.ue=function(t,e){if(this.w=t.w,0==this.g)if(this.a.debug("TestConnection: Got data for stage 1"),this.pc(t),e){try{var n=this.b.kc.zc(e)}catch(t){return this.a.cb(t),void this.b.dd(this)}this.na=this.b.$a(n[0])}else this.a.debug("TestConnection: Null responseText"),this.b.dd(this);else 1==this.g&&(this.bc?St(6):"11111"==e?(St(5),this.bc=!0,this.Ze()&&(this.w=200,this.f.cancel(),this.a.debug("Test connection succeeded; using streaming connection"),St(11),this.b.ub(this,!0))):(St(7),this.bc=!1))},Ce.Tc=function(){this.w=this.f.w,this.f.S?0==this.g?(this.g=1,this.a.debug("TestConnection: request complete for initial check"),this.xd()):1==this.g&&(this.a.debug("TestConnection: request complete for stage 2"),this.bc?(this.a.debug("Test connection succeeded; using streaming connection"),St(11),this.b.ub(this,!0)):(this.a.debug("Test connection failed; not using streaming"),St(10),this.b.ub(this,!1))):(this.a.debug("TestConnection: request failed, in state "+this.g),0==this.g?St(8):1==this.g&&St(9),this.b.dd(this))},Ce.pc=function(t){if(!this.b.ta&&(t=t.h)){var e=t.kb("X-Client-Wire-Protocol");this.Ad=e||null,this.b.aa&&((t=t.kb("X-HTTP-Session-Id"))?this.b.Fe(t):this.a.T("Missing X_HTTP_SESSION_ID in the handshake response"))}},Ce.fc=function(){return this.b.fc()},Ce.Ba=function(){return this.b.Ba()},Ce.Ze=function(){return!ze||10<=Number(Ze)},Ce=Xt.prototype,Ce.C=function(){return this.D.C()},Ce.add=function(t){this.D.set($t(t),t)},Ce.addAll=function(t){t=Nt(t);for(var e=t.length,n=0;n<e;n++)this.add(t[n])},Ce.pb=function(t){t=Nt(t);for(var e=t.length,n=0;n<e;n++)this.remove(t[n])},Ce.remove=function(t){return this.D.remove($t(t))},Ce.clear=function(){this.D.clear()},Ce.X=function(){return this.D.X()},Ce.contains=function(t){return this.D.va($t(t))},Ce.H=function(){return this.D.H()},Ce.clone=function(){return new Xt(this)};var qn=10;Ce=Zt.prototype,Ce.ld=function(t){this.v||-1==t.indexOf("spdy")&&-1==t.indexOf("quic")&&-1==t.indexOf("h2")||(this.Xb=this.me,this.v=new Xt,this.f&&(this.oc(this.f),this.f=null))},Ce.ee=function(){return!!this.f||!!this.v&&this.v.C()>=this.Xb},Ce.xf=function(){return this.f?1:this.v?this.v.C():0},Ce.Jc=function(t){return this.f?this.f==t:!!this.v&&this.v.contains(t)},Ce.oc=function(t){this.v?this.v.add(t):this.f=t},Ce.ze=function(t){this.f&&this.f==t?this.f=null:this.v&&this.v.contains(t)&&this.v.remove(t)},Ce.cancel=function(){this.ba=this.la(),this.f?(this.f.cancel(),this.f=null):this.v&&!this.v.X()&&(je(this.v.H(),function(t){t.cancel()}),this.v.clear())},Ce.la=function(){if(null!=this.f)return this.ba.concat(this.f.la());if(null!=this.v&&!this.v.X()){var t=this.ba;return je(this.v.H(),function(e){t=t.concat(e.la())}),t}return T(this.ba)},Ce.Re=function(t){this.ba=this.ba.concat(t)},Ce.$e=function(){this.ba.length=0},te.prototype.stringify=function(t){return Oe.JSON.stringify(t,this.rg)},te.prototype.parse=function(t){return Oe.JSON.parse(t,this.xg)},ee.prototype.hf=function(t,e,n){var r=n||"";try{Mt(t,function(t,n){var i=t;f(t)&&(i=dn(t)),e.push(r+n+"="+encodeURIComponent(i))})}catch(t){throw e.push(r+"type="+encodeURIComponent("_badmap")),t}},ee.prototype.jf=function(t,e,n){for(var r=-1;;){var i=["count="+e];-1==r?0<e?(r=t[0].Pc,i.push("ofs="+r)):r=0:i.push("ofs="+r);for(var o=!0,a=0;a<e;a++){var s=t[a].Pc,u=t[a].map;if(0>(s-=r))r=Math.max(0,t[a].Pc-100),o=!1;else try{this.hf(u,i,"req"+s+"_")}catch(t){n&&n(u)}}if(o)return i.join("&")}},ee.prototype.zc=function(t){return this.jg.parse(t)};var Wn=Oe.JSON.parse;y(ie,et);var Vn="";ie.prototype.s=mt("goog.net.XhrIo");var Hn=/^https?$/i,zn=["POST","PUT"];Ce=ie.prototype,Ce.Je=function(t){this.Ab=t},Ce.send=function(t,e,n,r){if(this.c)throw Error("[goog.net.XhrIo] Object is active with another request="+this.Tb+"; newUri="+t);e=e?e.toUpperCase():"GET",this.Tb=t,this.I="",this.Pa=0,this.ge=e,this.Ec=!1,this.ha=!0,this.c=this.df(),this.mc=this.Xa?this.Xa.Vd():Pn.Vd(),this.c.onreadystatechange=d(this.te,this),this.lg&&"onprogress"in this.c&&(this.c.onprogress=d(function(t){this.re(t,!0)},this),this.c.upload&&(this.c.upload.onprogress=d(this.re,this)));try{gt(this.s,this.da("Opening Xhr")),this.Lc=!0,this.c.open(e,String(t),!0),this.Lc=!1}catch(t){return gt(this.s,this.da("Error opening Xhr: "+t.message)),void this.Ld(t)}t=n||"";var i=this.headers.clone();r&&Mt(r,function(t,e){i.set(e,t)}),r=_(i.W()),n=Oe.FormData&&t instanceof Oe.FormData,!(0<=Me(zn,e))||r||n||i.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),i.forEach(function(t,e){this.c.setRequestHeader(e,t)},this),this.Ae&&(this.c.responseType=this.Ae),"withCredentials"in this.c&&this.c.withCredentials!==this.Ab&&(this.c.withCredentials=this.Ab);try{this.yd(),0<this.vb&&(this.jc=oe(this.c),gt(this.s,this.da("Will abort after "+this.vb+"ms if incomplete, xhr2 "+this.jc)),this.jc?(this.c.timeout=this.vb,this.c.ontimeout=d(this.Ua,this)):this.hc=ft(this.Ua,this.vb,this)),gt(this.s,this.da("Sending request")),this.Qb=!0,this.c.send(t),this.Qb=!1}catch(t){gt(this.s,this.da("Send error: "+t.message)),this.Ld(t)}},Ce.df=function(){return this.Xa?this.Xa.Dd():Pn.Dd()},Ce.Ua=function(){"undefined"!=typeof Ae&&this.c&&(this.I="Timed out after "+this.vb+"ms, aborting",this.Pa=8,gt(this.s,this.da(this.I)),this.dispatchEvent("timeout"),this.abort(8))},Ce.Ld=function(t){this.ha=!1,this.c&&(this.Aa=!0,this.c.abort(),this.Aa=!1),this.I=t,this.Pa=5,this.Jd(),this.Gb()},Ce.Jd=function(){this.Ec||(this.Ec=!0,this.dispatchEvent("complete"),this.dispatchEvent("error"))},Ce.abort=function(t){this.c&&this.ha&&(gt(this.s,this.da("Aborting")),this.ha=!1,this.Aa=!0,this.c.abort(),this.Aa=!1,this.Pa=t||7,this.dispatchEvent("complete"),this.dispatchEvent("abort"),this.Gb())},Ce.F=function(){this.c&&(this.ha&&(this.ha=!1,this.Aa=!0,this.c.abort(),this.Aa=!1),this.Gb(!0)),ie.L.F.call(this)},Ce.te=function(){this.Ka||(this.Lc||this.Qb||this.Aa?this.se():this.eg())},Ce.eg=function(){this.se()},Ce.se=function(){if(this.ha&&"undefined"!=typeof Ae)if(this.mc[1]&&4==this.ma()&&2==this.za())gt(this.s,this.da("Local request error detected and ignored"));else if(this.Qb&&4==this.ma())ft(this.te,0,this);else if(this.dispatchEvent("readystatechange"),this.Mc()){gt(this.s,this.da("Request complete")),this.ha=!1;try{this.Rf()?(this.dispatchEvent("complete"),this.dispatchEvent("success")):(this.Pa=6,this.I=this.Yd()+" ["+this.za()+"]",this.Jd())}finally{this.Gb()}}},Ce.re=function(t,e){this.dispatchEvent(se(t,"progress")),this.dispatchEvent(se(t,e?"downloadprogress":"uploadprogress"))},Ce.Gb=function(t){if(this.c){this.yd();var e=this.c,n=this.mc[0]?o:null;this.mc=this.c=null,t||this.dispatchEvent("ready");try{e.onreadystatechange=n}catch(e){(t=this.s)&&t.ca("Problem encountered resetting onreadystatechange: "+e.message,void 0)}}},Ce.yd=function(){this.c&&this.jc&&(this.c.ontimeout=null),this.hc&&(Oe.clearTimeout(this.hc),this.hc=null)},Ce.Ba=function(){return!!this.c},Ce.Mc=function(){return 4==this.ma()},Ce.Rf=function(){var t=this.za();t:switch(t){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break t;default:e=!1}return e||0===t&&!this.Of()},Ce.Of=function(){var t=String(this.Tb).match(Mn)[1]||null;return!t&&Oe.self&&Oe.self.location&&(t=Oe.self.location.protocol,t=t.substr(0,t.length-1)),Hn.test(t?t.toLowerCase():"")},Ce.ma=function(){return this.c?this.c.readyState:0},Ce.za=function(){try{return 2<this.ma()?this.c.status:-1}catch(t){return-1}},Ce.Yd=function(){try{return 2<this.ma()?this.c.statusText:""}catch(t){return gt(this.s,"Can not get status: "+t.message),""}},Ce.ya=function(){try{return this.c?this.c.responseText:""}catch(t){return gt(this.s,"Can not get responseText: "+t.message),""}},Ce.yf=function(t){if(this.c){var e=this.c.responseText;return t&&0==e.indexOf(t)&&(e=e.substring(t.length)),Wn(e)}},Ce.getResponseHeader=function(t){if(this.c&&this.Mc())return t=this.c.getResponseHeader(t),null===t?void 0:t},Ce.getAllResponseHeaders=function(){return this.c&&this.Mc()?this.c.getAllResponseHeaders()||"":""},Ce.kb=function(t){return this.c?this.c.getResponseHeader(t):null},Ce.Ud=function(){return this.Pa},Ce.Hc=function(){return r(this.I)?this.I:String(this.I)},Ce.da=function(t){return t+" ["+this.ge+" "+this.Tb+" "+this.za()+"]"},Ce=fe.prototype,Ce.tc=8,Ce.g=1,Ce.connect=function(t,e,n,r,i){this.a.debug("connect()"),St(0),this.K=e,this.gb=n||{},r&&void 0!==i&&(this.gb.OSID=r,this.gb.OAID=i),this.ta&&(this.a.debug("connect() bypassed channel-test."),this.Ib.$d=[],this.Ib.od=!1),this.bf(t)},Ce.disconnect=function(){if(this.a.debug("disconnect()"),this.qd(),3==this.g){var t=this.Yb++,e=this.hb.clone();e.l("SID",this.ra),e.l("RID",t),e.l("TYPE","terminate"),this.Ya(e),new xt(this,this.a,this.ra,t,void 0).yg(e)}this.qe()},Ce.bf=function(t){this.a.debug("connectTest_()"),this.Ja=new Qt(this,this.a),null===this.N&&this.Ja.ga(this.A);var e=t;this.N&&this.A&&(e=ce(t,this.N,this.A)),this.Ja.connect(e)},Ce.af=function(){this.a.debug("connectChannel_()"),this.hb=this.Sd(this.K),this.Dc()},Ce.qd=function(){this.Ja&&(this.Ja.abort(),this.Ja=null),this.u&&(this.u.cancel(),this.u=null),this.ia&&(Oe.clearTimeout(this.ia),this.ia=null),this.Hb(),this.G.cancel(),this.ea&&(Oe.clearTimeout(this.ea),this.ea=null)},Ce.ga=function(t){this.A=t},Ce.Eg=function(t){this.Rb=t},Ce.Cg=function(t){this.N=t},Ce.Dg=function(t){this.aa=t},Ce.Fe=function(t){this.Kc=t},Ce.He=function(t){this.Ra=t},Ce.Hg=function(){this.gc=!0},Ce.Ee=function(t){this.i=t},Ce.Nf=function(){return!this.fd},Ce.Zc=function(t){1e3==this.M.length&&this.a.ca(function(){return"Already have 1000 queued maps upon queueing "+dn(t)}),this.M.push(new Jt(this.ag++,t)),3==this.g&&this.Dc()},Ce.qf=function(){return this.kf?0:this.nf},Ce.de=function(){return 0==this.g},Ce.getState=function(){return this.g},Ce.Dc=function(){this.G.ee()||this.ea||(this.ea=It(d(this.we,this),0),this.La=0)},Ce.Yf=function(t){return this.G.xf()>=this.G.Xb-(this.ea?1:0)?(this.a.ca("Unexpected retry request is scheduled."),!1):this.ea?(this.a.debug("Use the retry request that is already scheduled."),this.M=t.la().concat(this.M),!0):!(1==this.g||2==this.g||this.La>=this.qf())&&(this.a.debug("Going to retry POST"),this.ea=It(d(this.we,this,t),this.Xd(this.La)),this.La++,!0)},Ce.we=function(t){this.ea=null,this.Mg(t)},Ce.Mg=function(t){this.a.debug("startForwardChannel_"),1==this.g?t?this.a.ca("Not supposed to retry the open"):(this.ig(),this.g=2):3==this.g&&(t?this.le(t):0==this.M.length?this.a.debug("startForwardChannel_ returned: nothing to send"):this.G.ee()?this.a.ca("startForwardChannel_ returned: connection already in progress"):(this.le(),this.a.debug("startForwardChannel_ finished, sent request")))},Ce.ig=function(){this.a.debug("open_()"),this.Yb=Math.floor(1e5*Math.random());var t=this.Yb++,e=new xt(this,this.a,"",t,void 0),n=this.A;this.Rb&&(n?(n=P(n),x(n,this.Rb)):n=this.Rb),null===this.N&&e.ga(n);var r=this.Hd(e),i=this.hb.clone();i.l("RID",t),0<this.Bd&&i.l("CVER",this.Bd),this.ta&&this.aa&&i.l("X-HTTP-Session-Id",this.aa),this.Ya(i),this.N&&n&&ce(i,this.N,n),this.G.oc(e),this.Nd?(i.l("$req",r),i.l("SID","null"),e.Ag(),e.kd(i,null)):e.kd(i,r)},Ce.le=function(t){var e=t?t.R:this.Yb++,n=this.hb.clone();n.l("SID",this.ra),n.l("RID",e),n.l("AID",this.Sb),this.Ya(n),this.N&&this.A&&ce(n,this.N,this.A),e=new xt(this,this.a,this.ra,e,this.La+1),null===this.N&&e.ga(this.A),t&&this.sg(t),t=this.Hd(e),e.setTimeout(Math.round(.5*this.Od)+Math.round(.5*this.Od*Math.random())),this.G.oc(e),e.kd(n,t)},Ce.Ya=function(t){this.i&&Mt({},function(e,n){t.l(n,e)})},Ce.Hd=function(t){var e=Math.min(this.M.length,1e3),n=this.i?d(this.i.Ue,this.i,this):null;return n=this.kc.jf(this.M,e,n),t.Gg(this.M.splice(0,e)),n},Ce.sg=function(t){this.M=t.la().concat(this.M)},Ce.Kd=function(){if(!this.u&&!this.ia){this.rc=1;var t=this.ve;mn||st(),vn||(mn(),vn=!0),gn.add(t,this),this.Ha=0}},Ce.Qc=function(){return this.u||this.ia?(this.a.ca("Request already in progress"),!1):!(3<=this.Ha)&&(this.a.debug("Going to retry GET"),this.rc++,this.ia=It(d(this.ve,this),this.Xd(this.Ha)),this.Ha++,!0)},Ce.ve=function(){this.ia=null,this.Kg()},Ce.Kg=function(){this.a.debug("Creating new HttpRequest"),this.u=new xt(this,this.a,this.ra,"rpc",this.rc),null===this.N&&this.u.ga(this.A),this.u.He(this.Ra);var t=this.md.clone();t.l("RID","rpc"),t.l("SID",this.ra),t.l("CI",this.fd?"0":"1"),t.l("AID",this.Sb),this.Ya(t),t.l("TYPE","xmlhttp"),this.N&&this.A&&ce(t,this.N,this.A),this.Db&&this.u.setTimeout(this.Db),this.u.jd(t,!0,this.na),this.a.debug("New Request created")},Ce.ub=function(t,e){this.a.debug("Test Connection Finished");var n=t.Ad;n&&this.G.ld(n),this.fd=this.Se&&e,this.w=t.w,this.af()},Ce.dd=function(t){this.a.debug("Test Connection Failed"),this.w=t.w,this.sa(2)},Ce.ue=function(t,e){if(0!=this.g&&(this.u==t||this.G.Jc(t)))if(this.w=t.w,!t.lb&&this.G.Jc(t)&&3==this.g){try{var n=this.kc.zc(e)}catch(t){n=null}s(n)&&3==n.length?this.Cf(n,t):(this.a.debug("Bad POST response data returned"),this.sa(11))}else(t.lb||this.u==t)&&this.Hb(),C(e)||(n=this.kc.zc(e),this.dg(n,t))},Ce.Cf=function(t,e){0==t[0]?this.Bf(e):(this.he=t[1],0<(e=this.he-this.Sb)&&(t=t[2],this.a.debug(t+" bytes (in "+e+" arrays) are outstanding on the BackChannel"),this.Jg(t)&&!this.wa&&(this.wa=It(d(this.bg,this),6e3))))},Ce.Bf=function(t){if(this.a.debug("Server claims our backchannel is missing."),this.ia)this.a.debug("But we are currently starting the request.");else{if(this.u){if(!(this.u.qb+3e3<t.qb))return;this.Hb(),this.u.cancel(),this.u=null}else this.a.T("We do not have a BackChannel established");this.Qc(),St(18)}},Ce.Jg=function(t){return 37500>t&&!this.Nf()&&0==this.Ha},Ce.$a=function(t){return this.Te?this.i?this.i.$a(t):t:null},Ce.bg=function(){null!=this.wa&&(this.wa=null,this.u.cancel(),this.u=null,this.Qc(),St(19))},Ce.Hb=function(){null!=this.wa&&(Oe.clearTimeout(this.wa),this.wa=null)},Ce.Tc=function(t){this.a.debug("Request complete");var e=null;if(this.u==t){this.Hb(),this.u=null;var n=2}else{if(!this.G.Jc(t))return;e=t.la(),this.G.ze(t),n=1}if(this.w=t.w,0!=this.g)if(t.S)1==n?(Ct(t.Da?t.Da.length:0,Pe()-t.qb,this.La),this.Dc()):this.Kd();else{var r=t.Hc();if(3==r||0==r&&0<this.w)this.a.debug("Not retrying due to error type");else{var i=this;if(this.a.debug(function(){return"Maybe retrying, last error: "+Dt(r,i.w)}),1==n&&this.Yf(t)||2==n&&this.Qc())return;this.a.debug("Exceeded max number of retries")}switch(e&&0<e.length&&this.G.Re(e),this.a.debug("Error: HTTP request failed"),r){case 1:this.sa(5);break;case 4:this.sa(10);break;case 3:this.sa(6);break;default:this.sa(2)}}},Ce.Xd=function(t){var e=this.Ve+Math.floor(Math.random()*this.vg);return this.Ba()||(this.a.debug("Inactive channel"),e*=2),e*t},Ce.pc=function(t){if(this.ta&&(t=t.h)){var e=t.kb("X-Client-Wire-Protocol");e&&this.G.ld(e),this.aa&&((t=t.kb("X-HTTP-Session-Id"))?(this.Fe(t),this.hb.l(this.aa,t)):this.a.T("Missing X_HTTP_SESSION_ID in the handshake response"))}},Ce.dg=function(t,e){for(var n=this.i&&this.i.sc?[]:null,r=0;r<t.length;r++){var i=t[r];if(this.Sb=i[0],i=i[1],2==this.g)if("c"==i[0]){this.ra=i[1],this.na=this.$a(i[2]);var o=i[3];null!=o&&(this.tc=o,this.a.info("VER="+this.tc)),o=i[4],null!=o&&(this.De=o,this.a.info("SVER="+this.De)),i=i[5],null!=i&&"number"==typeof i&&0<i&&(this.Db=i*=1.5,this.a.info("backChannelRequestTimeoutMs_="+i)),this.pc(e),this.g=3,this.i&&this.i.wd(),this.Lg(e)}else"stop"!=i[0]&&"close"!=i[0]||this.sa(7);else 3==this.g&&("stop"==i[0]||"close"==i[0]?(n&&0!=n.length&&(this.i.sc(this,n),n.length=0),"stop"==i[0]?this.sa(7):this.disconnect()):"noop"!=i[0]&&(n?n.push(i):this.i&&this.i.ud(i)),this.Ha=0)}n&&0!=n.length&&this.i.sc(this,n)},Ce.Lg=function(t){this.md=this.Pd(this.na,this.K),t.lb?(this.a.debug("Upgrade the handshake request to a backchannel."),this.G.ze(t),t.tg(this.Db),this.u=t):this.Kd()},Ce.sa=function(t){if(this.a.info("Error code "+t),2==t){var e=null;this.i&&(e=null);var n=d(this.Pg,this);e||(e=new Ft("//www.google.com/images/cleardot.gif"),Oe.location&&"http"==Oe.location.protocol||e.tb("https"),e.Ub()),ne(e.toString(),n)}else St(2);this.cg(t)},Ce.Pg=function(t){t?(this.a.info("Successfully pinged google.com"),St(2)):(this.a.info("Failed to ping google.com"),St(1))},Ce.cg=function(t){this.a.debug("HttpChannel: error - "+t),this.g=0,this.i&&this.i.td(t),this.qe(),this.qd()},Ce.qe=function(){if(this.g=0,this.w=-1,this.i){var t=this.G.la();if(0!=t.length||0!=this.M.length){var e=this;this.a.debug(function(){return"Number of undelivered maps, pending: "+t.length+", outgoing: "+e.M.length}),this.G.$e(),T(this.M),this.M.length=0}this.i.sd()}},Ce.Sd=function(t){return t=this.Cd(null,t),this.a.debug("GetForwardChannelUri: "+t),t},Ce.Pd=function(t,e){return t=this.Cd(this.fc()?t:null,e),this.a.debug("GetBackChannelUri: "+t),t},Ce.Cd=function(t,e){var n=Bt(e);if(""!=n.xa)t&&n.rb(t+"."+n.xa),n.sb(n.Ca);else{var r=Oe.location;n=qt(r.protocol,t?t+"."+r.hostname:r.hostname,+r.port,e)}return this.gb&&O(this.gb,function(t,e){n.l(e,t)}),t=this.aa,e=this.Kc,t&&e&&n.l(t,e),n.l("VER",this.tc),this.Ya(n),n},Ce.Jb=function(t){if(t&&!this.gc)throw Error("Can't create secondary domain capable XhrIo object.");return t=new ie(this.Xa),t.Je(this.gc),t},Ce.Ba=function(){return!!this.i&&this.i.Ba()},Ce.fc=function(){return this.gc},Ce=le.prototype,Ce.sc=null,Ce.wd=function(){},Ce.ud=function(){},Ce.td=function(){},Ce.sd=function(){},Ce.Ba=function(){return!0},Ce.Ue=function(){},Ce.$a=function(t){return t},de.prototype.cf=function(t,e){return new pe(t,e)},y(pe,et),Ce=pe.prototype,Ce.addEventListener=function(t,e,n,r){pe.L.addEventListener.call(this,t,e,n,r)},Ce.removeEventListener=function(t,e,n,r){pe.L.removeEventListener.call(this,t,e,n,r)},Ce.open=function(){this.b.Ee(this.vd),this.Og&&this.b.Hg(),this.b.connect(this.Qg,this.yb,this.Rc||void 0)},Ce.close=function(){this.b.disconnect()},Ce.send=function(t){if(r(t)){var e={};e.__data__=t,this.b.Zc(e)}else this.zg?(e={},e.__data__=dn(t),this.b.Zc(e)):this.b.Zc(t)},Ce.F=function(){this.b.Ee(null),delete this.vd,this.b.disconnect(),delete this.b,pe.L.F.call(this)},y(ye,kt),y(me,Rt),y(ve,le),ve.prototype.wd=function(){vt(this.b.s,"WebChannel opened on "+this.b.yb),this.b.dispatchEvent("a")},ve.prototype.ud=function(t){this.b.dispatchEvent(new ye(t))},ve.prototype.td=function(t){vt(this.b.s,"WebChannel aborted on "+this.b.yb+" due to channel error: "+t),this.b.dispatchEvent(new me(t))},ve.prototype.sd=function(){vt(this.b.s,"WebChannel closed on "+this.b.yb),this.b.dispatchEvent("b")};var Kn=p(function(t,e){function n(){}n.prototype=t.prototype;var r=new n;return t.apply(r,Array.prototype.slice.call(arguments,1)),r},de);Ce=ge.prototype,Ce.Vf=function(){0==this.V.length&&(this.V=this.Z,this.V.reverse(),this.Z=[])},Ce.enqueue=function(t){this.Z.push(t)},Ce.ab=function(){return this.Vf(),this.V.pop()},Ce.C=function(){return this.V.length+this.Z.length},Ce.X=function(){return 0==this.V.length&&0==this.Z.length},Ce.clear=function(){this.V=[],this.Z=[]},Ce.contains=function(t){return 0<=Me(this.V,t)||0<=Me(this.Z,t)},Ce.remove=function(t){var e=this.V,n=Le(e,t);return 0<=n?(Array.prototype.splice.call(e,n,1),e=!0):e=!1,e||E(this.Z,t)},Ce.H=function(){for(var t=[],e=this.V.length-1;0<=e;--e)t.push(this.V[e]);var n=this.Z.length;for(e=0;e<n;++e)t.push(this.Z[e]);return t},y(be,b);var Gn="[goog.structs.Pool] Min can not be greater than max";Ce=be.prototype,Ce.Mb=function(){var t=Pe();if(!(null!=this.Nc&&t-this.Nc<this.Ac)){var e=this.qg();return e&&(this.Nc=t,this.oa.add(e)),e}},Ce.og=function(t){return!!this.oa.remove(t)&&(this.nc(t),!0)},Ce.qg=function(){for(var t;0<this.Td()&&(t=this.fa.ab(),!this.Sc(t));)this.Cb();return!t&&this.C()<this.Wb&&(t=this.xc()),t},Ce.nc=function(t){this.oa.remove(t),this.Sc(t)&&this.C()<this.Wb?this.fa.enqueue(t):this.Bc(t)},Ce.Cb=function(){for(var t=this.fa;this.C()<this.oe;)t.enqueue(this.xc());for(;this.C()>this.Wb&&0<this.Td();)this.Bc(t.ab())},Ce.xc=function(){return{}},Ce.Bc=function(t){if("function"==typeof t.bb)t.bb();else for(var e in t)t[e]=null},Ce.Sc=function(t){return"function"!=typeof t.Ye||t.Ye()},Ce.contains=function(t){return this.fa.contains(t)||this.oa.contains(t)},Ce.C=function(){return this.fa.C()+this.oa.C()},Ce.rf=function(){return this.oa.C()},Ce.Td=function(){return this.fa.C()},Ce.X=function(){return this.fa.X()&&this.oa.X()},Ce.F=function(){if(be.L.F.call(this),0<this.rf())throw Error("[goog.structs.Pool] Objects not released");delete this.oa;for(var t=this.fa;!t.X();)this.Bc(t.ab());delete this.fa},_e.prototype.getKey=function(){return this.fe},_e.prototype.clone=function(){return new _e(this.fe,this.gd)},Ce=we.prototype,Ce.ce=function(t,e){var n=this.Y;n.push(new _e(t,e)),this.$f(n.length-1)},Ce.Lf=function(t){if(t instanceof we){var e=t.W();if(t=t.H(),0>=this.C()){for(var n=this.Y,r=0;r<e.length;r++)n.push(new _e(e[r],t[r]));return}}else e=R(t),t=k(t);for(r=0;r<e.length;r++)this.ce(e[r],t[r])},Ce.remove=function(){var t=this.Y,e=t.length,n=t[0];if(!(0>=e))return 1==e?w(t):(t[0]=t.pop(),this.Zf()),n.gd},Ce.Zf=function(){for(var t=0,e=this.Y,n=e.length,r=e[t];t<n>>1;){var i=this.tf(t),o=this.zf(t);if(i=o<n&&e[o].getKey()<e[i].getKey()?o:i,e[i].getKey()>r.getKey())break;e[t]=e[i],t=i}e[t]=r},Ce.$f=function(t){for(var e=this.Y,n=e[t];0<t;){var r=this.wf(t);if(!(e[r].getKey()>n.getKey()))break;e[t]=e[r],t=r}e[t]=n},Ce.tf=function(t){return 2*t+1},Ce.zf=function(t){return 2*t+2},Ce.wf=function(t){return t-1>>1},Ce.H=function(){for(var t=this.Y,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].gd);return e},Ce.W=function(){for(var t=this.Y,e=[],n=t.length,r=0;r<n;r++)e.push(t[r].getKey());return e},Ce.va=function(t){return Ue(this.Y,function(e){return e.getKey()==t})},Ce.clone=function(){return new we(this)},Ce.C=function(){return this.Y.length},Ce.X=function(){return 0==this.Y.length},Ce.clear=function(){w(this.Y)},y(Ee,we),Ee.prototype.enqueue=function(t,e){this.ce(t,e)},Ee.prototype.ab=function(){return this.remove()},y(Se,be),Ce=Se.prototype,Ce.Mb=function(t,e){if(!t)return(t=Se.L.Mb.call(this))&&this.Ac&&(this.Gd=Oe.setTimeout(d(this.Nb,this),this.Ac)),t;this.cc.enqueue(void 0!==e?e:100,t),this.Nb()},Ce.Nb=function(){for(var t=this.cc;0<t.C();){var e=this.Mb();if(!e)break;t.ab().apply(this,[e])}},Ce.nc=function(t){Se.L.nc.call(this,t),this.Nb()},Ce.Cb=function(){Se.L.Cb.call(this),this.Nb()},Ce.F=function(){Se.L.F.call(this),Oe.clearTimeout(this.Gd),this.cc.clear(),this.cc=null},y(Te,Se),Te.prototype.xc=function(){var t=new ie,e=this.Jf;return e&&e.forEach(function(e,n){t.headers.set(n,e)}),this.Ab&&t.Je(!0),t},Te.prototype.Sc=function(t){return!t.Ka&&!t.Ba()},de.prototype.createWebChannel=de.prototype.cf,pe.prototype.send=pe.prototype.send,pe.prototype.open=pe.prototype.open,pe.prototype.close=pe.prototype.close,On.NO_ERROR=0,On.TIMEOUT=8,On.HTTP_ERROR=6,kn.COMPLETE="complete",Ot.EventType=Rn,Rn.OPEN="a",Rn.CLOSE="b",Rn.ERROR="c",Rn.MESSAGE="d",et.prototype.listen=et.prototype.nb,Te.prototype.getObject=Te.prototype.Mb,Te.prototype.releaseObject=Te.prototype.og,ie.prototype.listenOnce=ie.prototype.Oc,ie.prototype.getLastError=ie.prototype.Hc,ie.prototype.getLastErrorCode=ie.prototype.Ud,ie.prototype.getStatus=ie.prototype.za,ie.prototype.getStatusText=ie.prototype.Yd,ie.prototype.getResponseJson=ie.prototype.yf,ie.prototype.getResponseText=ie.prototype.ya,ie.prototype.getResponseText=ie.prototype.ya,ie.prototype.send=ie.prototype.send;var Qn={createWebChannelTransport:Kn,ErrorCode:On,EventType:kn,WebChannel:Ot,XhrIoPool:Te},Yn=Qn.createWebChannelTransport,Xn=Qn.ErrorCode,$n=Qn.EventType,Jn=Qn.WebChannel,Zn=Qn.XhrIoPool;e.default=Qn}.call(e,n(8))},function(t,e,n){"use strict";function r(t){if(t>=200&&t<300)return"ok";switch(t){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function i(t,e,n){var i=r(t),o=i,a=void 0;try{var s=e.error;if(s){var u=s.status;if("string"===typeof u){if(!f[u])return new l("internal","internal");i=f[u]}o=u;var c=s.message;"string"===typeof c&&(o=c),a=s.details,void 0!==a&&(a=n.decode(a))}}catch(t){}return"ok"===i?null:new l(i,o,a)}function o(t,e){var n={};for(var r in t)t.hasOwnProperty(r)&&(n[r]=e(t[r]));return n}function a(t,e,n){return new p(t,n)}function s(t){var e={Functions:p};t.INTERNAL.registerService(y,a,e,void 0,!0)}Object.defineProperty(e,"__esModule",{value:!0});var u=n(353),c=function(t){return t&&"object"===typeof t&&"default"in t?t.default:t}(n(24)),f={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},l=function(t){function e(n,r,i){var o=t.call(this,r)||this;return Object.setPrototypeOf(o,e.prototype),o.code=n,o.details=i,o}return u.__extends(e,t),e}(Error),h=function(){function t(t){this.app=t}return t.prototype.getAuthToken=function(){return u.__awaiter(this,void 0,void 0,function(){var t,e;return u.__generator(this,function(n){switch(n.label){case 0:return n.trys.push([0,2,,3]),[4,this.app.INTERNAL.getToken()];case 1:return t=n.sent(),t?[2,t.accessToken]:[2,void 0];case 2:return e=n.sent(),[2,void 0];case 3:return[2]}})})},t.prototype.getInstanceIdToken=function(){return u.__awaiter(this,void 0,void 0,function(){var t,e,n;return u.__generator(this,function(r){switch(r.label){case 0:return r.trys.push([0,2,,3]),this.app.messaging?(t=this.app.messaging(),[4,t.getToken()]):[2,void 0];case 1:return e=r.sent(),e?[2,e]:[2,void 0];case 2:return n=r.sent(),[2,void 0];case 3:return[2]}})})},t.prototype.getContext=function(){return u.__awaiter(this,void 0,void 0,function(){var t,e;return u.__generator(this,function(n){switch(n.label){case 0:return[4,this.getAuthToken()];case 1:return t=n.sent(),[4,this.getInstanceIdToken()];case 2:return e=n.sent(),[2,{authToken:t,instanceIdToken:e}]}})})},t}(),d=function(){function t(){}return t.prototype.encode=function(t){var e=this;if(null===t||void 0===t)return null;if(t instanceof Number&&(t=t.valueOf()),"number"===typeof t&&isFinite(t))return t;if(!0===t||!1===t)return t;if("[object String]"===Object.prototype.toString.call(t))return t;if(Array.isArray(t))return t.map(function(t){return e.encode(t)});if("function"===typeof t||"object"===typeof t)return o(t,function(t){return e.encode(t)});throw new Error("Data cannot be encoded in JSON: "+t)},t.prototype.decode=function(t){var e=this;if(null===t)return t;if(t["@type"])switch(t["@type"]){case"type.googleapis.com/google.protobuf.Int64Value":case"type.googleapis.com/google.protobuf.UInt64Value":var n=parseFloat(t.value);if(isNaN(n))throw new Error("Data cannot be decoded from JSON: "+t);return n;default:throw new Error("Data cannot be decoded from JSON: "+t)}return Array.isArray(t)?t.map(function(t){return e.decode(t)}):"function"===typeof t||"object"===typeof t?o(t,function(t){return e.decode(t)}):t},t}(),p=function(){function t(t,e){void 0===e&&(e="us-central1"),this.app_=t,this.region_=e,this.serializer=new d,this.emulatorOrigin=null,this.contextProvider=new h(t)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),t.prototype._url=function(t){var e=this.app_.options.projectId,n=this.region_;if(null!==this.emulatorOrigin){return this.emulatorOrigin+"/"+e+"/"+n+"/"+t}return"https://"+n+"-"+e+".cloudfunctions.net/"+t},t.prototype.useFunctionsEmulator=function(t){this.emulatorOrigin=t},t.prototype.httpsCallable=function(t){var e=this;return function(n){return e.call(t,n)}},t.prototype.postJSON=function(t,e,n){return u.__awaiter(this,void 0,void 0,function(){var r,i,o,a;return u.__generator(this,function(s){switch(s.label){case 0:n.append("Content-Type","application/json"),s.label=1;case 1:return s.trys.push([1,3,,4]),[4,fetch(t,{method:"POST",body:JSON.stringify(e),headers:n})];case 2:return r=s.sent(),[3,4];case 3:return i=s.sent(),[2,{status:0,json:null}];case 4:o=null,s.label=5;case 5:return s.trys.push([5,7,,8]),[4,r.json()];case 6:return o=s.sent(),[3,8];case 7:return a=s.sent(),[3,8];case 8:return[2,{status:r.status,json:o}]}})})},t.prototype.call=function(t,e){return u.__awaiter(this,void 0,void 0,function(){var n,r,o,a,s,c,f,h;return u.__generator(this,function(u){switch(u.label){case 0:return n=this._url(t),e=this.serializer.encode(e),r={data:e},o=new Headers,[4,this.contextProvider.getContext()];case 1:return a=u.sent(),a.authToken&&o.append("Authorization","Bearer "+a.authToken),a.instanceIdToken&&o.append("Firebase-Instance-ID-Token",a.instanceIdToken),[4,this.postJSON(n,r,o)];case 2:if(s=u.sent(),c=i(s.status,s.json,this.serializer))throw c;if(!s.json)throw new l("internal","Response is not valid JSON object.");if(f=s.json.data,"undefined"===typeof f&&(f=s.json.result),"undefined"===typeof f)throw new l("internal","Response is missing data field.");return h=this.serializer.decode(f),[2,{data:h}]}})})},t}(),y="functions";s(c),e.registerFunctions=s},function(t,e,n){"use strict";function r(t,e){function n(){this.constructor=t}w(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function i(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&(n[r[i]]=t[r[i]]);return n}function o(t,e,n,r){var i,o=arguments.length,a=o<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,n):r;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,r);else for(var s=t.length-1;s>=0;s--)(i=t[s])&&(a=(o<3?i(a):o>3?i(e,n,a):i(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function a(t,e){return function(n,r){e(n,r,t)}}function s(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function u(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function c(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function l(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function h(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var r,i,o=n.call(t),a=[];try{for(;(void 0===e||e-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(t){i={error:t}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function d(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(h(arguments[e]));return t}function p(t){return this instanceof p?(this.v=t,this):new p(t)}function y(t,e,n){function r(t){f[t]&&(c[t]=function(e){return new Promise(function(n,r){l.push([t,e,n,r])>1||i(t,e)})})}function i(t,e){try{o(f[t](e))}catch(t){u(l[0][3],t)}}function o(t){t.value instanceof p?Promise.resolve(t.value.v).then(a,s):u(l[0][2],t)}function a(t){i("next",t)}function s(t){i("throw",t)}function u(t,e){t(e),l.shift(),l.length&&i(l[0][0],l[0][1])}if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var c,f=n.apply(t,e||[]),l=[];return c={},r("next"),r("throw"),r("return"),c[Symbol.asyncIterator]=function(){return this},c}function m(t){function e(e,i){t[e]&&(n[e]=function(n){return(r=!r)?{value:p(t[e](n)),done:"return"===e}:i?i(n):n})}var n,r;return n={},e("next"),e("throw",function(t){throw t}),e("return"),n[Symbol.iterator]=function(){return this},n}function v(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):"function"===typeof l?l(t):t[Symbol.iterator]()}function g(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function b(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function _(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.__extends=r,n.d(e,"__assign",function(){return E}),e.__rest=i,e.__decorate=o,e.__param=a,e.__metadata=s,e.__awaiter=u,e.__generator=c,e.__exportStar=f,e.__values=l,e.__read=h,e.__spread=d,e.__await=p,e.__asyncGenerator=y,e.__asyncDelegator=m,e.__asyncValues=v,e.__makeTemplateObject=g,e.__importStar=b,e.__importDefault=_;var w=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},E=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}},function(t,e,n){"use strict";function r(t,e){if(null==t||null==e)return!1;if(t===e)return!0;if(t.byteLength!==e.byteLength)return!1;for(var n=new DataView(t),r=new DataView(e),i=0;i<t.byteLength;i++)if(n.getUint8(i)!==r.getUint8(i))return!1;return!0}function i(t){var e=new Uint8Array(t);return btoa(String.fromCharCode.apply(null,e))}function o(t){return i(t).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function a(t){for(var e="=".repeat((4-t.length%4)%4),n=(t+e).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(n),i=new Uint8Array(r.length),o=0;o<r.length;++o)i[o]=r.charCodeAt(o);return i}function s(t){if(t.objectStoreNames.contains(D)){var e=t.transaction(D),n=e.objectStore(D),r=new P,i=n.openCursor();i.onerror=function(t){console.warn("Unable to cleanup old IDB.",t)},i.onsuccess=function(){var e=i.result;if(e){var n=e.value;r.deleteToken(n.fcmSenderId,n.fcmToken,n.fcmPushSet),e.continue()}else t.close(),indexedDB.deleteDatabase(x)}}}function u(){var t=indexedDB.open(x);t.onerror=function(t){},t.onsuccess=function(e){s(t.result)}}function c(t){return new Promise(function(e,n){t.onsuccess=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function f(t){if(t.fcmToken&&("string"!==typeof t.fcmToken||0===t.fcmToken.length))throw A.create(C.BAD_TOKEN);if(t.swScope&&("string"!==typeof t.swScope||0===t.swScope.length))throw A.create(C.BAD_SCOPE);if(t.vapidKey&&(!(t.vapidKey instanceof Uint8Array)||65!==t.vapidKey.length))throw A.create(C.BAD_VAPID_KEY);if(t.endpoint&&("string"!==typeof t.endpoint||0===t.endpoint.length))throw A.create(C.BAD_SUBSCRIPTION);if(t.auth&&!(t.auth instanceof ArrayBuffer))throw A.create(C.BAD_SUBSCRIPTION);if(t.p256dh&&!(t.p256dh instanceof ArrayBuffer))throw A.create(C.BAD_SUBSCRIPTION);if(t.fcmSenderId&&("string"!==typeof t.fcmSenderId||0===t.fcmSenderId.length))throw A.create(C.BAD_SENDER_ID);if(t.fcmPushSet&&("string"!==typeof t.fcmPushSet||0===t.fcmPushSet.length))throw A.create(C.BAD_PUSH_SET)}function l(t,e,n){if(!n.vapidKey||!r(e.buffer,n.vapidKey.buffer))return!1;var i=t.endpoint===n.endpoint,o=r(t.getKey("auth"),n.auth),a=r(t.getKey("p256dh"),n.p256dh);return i&&o&&a}function h(){return self.clients.matchAll({type:"window",includeUncontrolled:!0})}function d(t,e){return n={},n[_.TYPE_OF_MSG]=t,n[_.DATA]=e,n;var n}function p(){return Object(E.b)(this,void 0,void 0,function(){var t,e,n,r;return Object(E.d)(this,function(i){switch(i.label){case 0:if(!(t=document.querySelector('link[rel="manifest"]')))return[2];i.label=1;case 1:return i.trys.push([1,4,,5]),[4,fetch(t.href)];case 2:return n=i.sent(),[4,n.json()];case 3:return e=i.sent(),[3,5];case 4:return r=i.sent(),[2];case 5:if(!e||!e.gcm_sender_id)return[2];if("103953800507"!==e.gcm_sender_id)throw A.create(C.INCORRECT_GCM_SENDER_ID);return[2]}})})}function y(t){var e=function(t){if(!m())throw A.create(C.UNSUPPORTED_BROWSER);return self&&"ServiceWorkerGlobalScope"in self?new F(t):new B(t)},n={isSupported:m};t.INTERNAL.registerService("messaging",e,n)}function m(){return self&&"ServiceWorkerGlobalScope"in self?g():v()}function v(){return navigator.cookieEnabled&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}function g(){return"PushManager"in self&&"Notification"in self&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")}Object.defineProperty(e,"__esModule",{value:!0}),n.d(e,"registerMessaging",function(){return y}),n.d(e,"isSupported",function(){return m});var b,_,w=n(107),E=(n.n(w),n(355)),S=n(24),T=n.n(S),C={AVAILABLE_IN_WINDOW:"only-available-in-window",AVAILABLE_IN_SW:"only-available-in-sw",SHOULD_BE_INHERITED:"should-be-overriden",BAD_SENDER_ID:"bad-sender-id",INCORRECT_GCM_SENDER_ID:"incorrect-gcm-sender-id",PERMISSION_DEFAULT:"permission-default",PERMISSION_BLOCKED:"permission-blocked",UNSUPPORTED_BROWSER:"unsupported-browser",NOTIFICATIONS_BLOCKED:"notifications-blocked",FAILED_DEFAULT_REGISTRATION:"failed-serviceworker-registration",SW_REGISTRATION_EXPECTED:"sw-registration-expected",GET_SUBSCRIPTION_FAILED:"get-subscription-failed",INVALID_SAVED_TOKEN:"invalid-saved-token",SW_REG_REDUNDANT:"sw-reg-redundant",TOKEN_SUBSCRIBE_FAILED:"token-subscribe-failed",TOKEN_SUBSCRIBE_NO_TOKEN:"token-subscribe-no-token",TOKEN_SUBSCRIBE_NO_PUSH_SET:"token-subscribe-no-push-set",TOKEN_UNSUBSCRIBE_FAILED:"token-unsubscribe-failed",TOKEN_UPDATE_FAILED:"token-update-failed",TOKEN_UPDATE_NO_TOKEN:"token-update-no-token",USE_SW_BEFORE_GET_TOKEN:"use-sw-before-get-token",INVALID_DELETE_TOKEN:"invalid-delete-token",DELETE_TOKEN_NOT_FOUND:"delete-token-not-found",DELETE_SCOPE_NOT_FOUND:"delete-scope-not-found",BG_HANDLER_FUNCTION_EXPECTED:"bg-handler-function-expected",NO_WINDOW_CLIENT_TO_MSG:"no-window-client-to-msg",UNABLE_TO_RESUBSCRIBE:"unable-to-resubscribe",NO_FCM_TOKEN_FOR_RESUBSCRIBE:"no-fcm-token-for-resubscribe",FAILED_TO_DELETE_TOKEN:"failed-to-delete-token",NO_SW_IN_REG:"no-sw-in-reg",BAD_SCOPE:"bad-scope",BAD_VAPID_KEY:"bad-vapid-key",BAD_SUBSCRIPTION:"bad-subscription",BAD_TOKEN:"bad-token",BAD_PUSH_SET:"bad-push-set",FAILED_DELETE_VAPID_KEY:"failed-delete-vapid-key",INVALID_PUBLIC_VAPID_KEY:"invalid-public-vapid-key",USE_PUBLIC_KEY_BEFORE_GET_TOKEN:"use-public-key-before-get-token",PUBLIC_KEY_DECRYPTION_FAILED:"public-vapid-key-decryption-failed"},I=(b={},b[C.AVAILABLE_IN_WINDOW]="This method is available in a Window context.",b[C.AVAILABLE_IN_SW]="This method is available in a service worker context.",b[C.SHOULD_BE_INHERITED]="This method should be overriden by extended classes.",b[C.BAD_SENDER_ID]="Please ensure that 'messagingSenderId' is set correctly in the options passed into firebase.initializeApp().",b[C.PERMISSION_DEFAULT]="The required permissions were not granted and dismissed instead.",b[C.PERMISSION_BLOCKED]="The required permissions were not granted and blocked instead.",b[C.UNSUPPORTED_BROWSER]="This browser doesn't support the API's required to use the firebase SDK.",b[C.NOTIFICATIONS_BLOCKED]="Notifications have been blocked.",b[C.FAILED_DEFAULT_REGISTRATION]="We are unable to register the default service worker. {$browserErrorMessage}",b[C.SW_REGISTRATION_EXPECTED]="A service worker registration was the expected input.",b[C.GET_SUBSCRIPTION_FAILED]="There was an error when trying to get any existing Push Subscriptions.",b[C.INVALID_SAVED_TOKEN]="Unable to access details of the saved token.",b[C.SW_REG_REDUNDANT]="The service worker being used for push was made redundant.",b[C.TOKEN_SUBSCRIBE_FAILED]="A problem occured while subscribing the user to FCM: {$message}",b[C.TOKEN_SUBSCRIBE_NO_TOKEN]="FCM returned no token when subscribing the user to push.",b[C.TOKEN_SUBSCRIBE_NO_PUSH_SET]="FCM returned an invalid response when getting an FCM token.",b[C.TOKEN_UNSUBSCRIBE_FAILED]="A problem occured while unsubscribing the user from FCM: {$message}",b[C.TOKEN_UPDATE_FAILED]="A problem occured while updating the user from FCM: {$message}",b[C.TOKEN_UPDATE_NO_TOKEN]="FCM returned no token when updating the user to push.",b[C.USE_SW_BEFORE_GET_TOKEN]="The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.",b[C.INVALID_DELETE_TOKEN]="You must pass a valid token into deleteToken(), i.e. the token from getToken().",b[C.DELETE_TOKEN_NOT_FOUND]="The deletion attempt for token could not be performed as the token was not found.",b[C.DELETE_SCOPE_NOT_FOUND]="The deletion attempt for service worker scope could not be performed as the scope was not found.",b[C.BG_HANDLER_FUNCTION_EXPECTED]="The input to setBackgroundMessageHandler() must be a function.",b[C.NO_WINDOW_CLIENT_TO_MSG]="An attempt was made to message a non-existant window client.",b[C.UNABLE_TO_RESUBSCRIBE]="There was an error while re-subscribing the FCM token for push messaging. Will have to resubscribe the user on next visit. {$message}",b[C.NO_FCM_TOKEN_FOR_RESUBSCRIBE]="Could not find an FCM token and as a result, unable to resubscribe. Will have to resubscribe the user on next visit.",b[C.FAILED_TO_DELETE_TOKEN]="Unable to delete the currently saved token.",b[C.NO_SW_IN_REG]="Even though the service worker registration was successful, there was a problem accessing the service worker itself.",b[C.INCORRECT_GCM_SENDER_ID]="Please change your web app manifest's 'gcm_sender_id' value to '103953800507' to use Firebase messaging.",b[C.BAD_SCOPE]="The service worker scope must be a string with at least one character.",b[C.BAD_VAPID_KEY]="The public VAPID key is not a Uint8Array with 65 bytes.",b[C.BAD_SUBSCRIPTION]="The subscription must be a valid PushSubscription.",b[C.BAD_TOKEN]="The FCM Token used for storage / lookup was not a valid token string.",b[C.BAD_PUSH_SET]="The FCM push set used for storage / lookup was not not a valid push set string.",b[C.FAILED_DELETE_VAPID_KEY]="The VAPID key could not be deleted.",b[C.INVALID_PUBLIC_VAPID_KEY]="The public VAPID key must be a string.",b[C.PUBLIC_KEY_DECRYPTION_FAILED]="The public VAPID key did not equal 65 bytes when decrypted.",b),A=new w.ErrorFactory("messaging","Messaging",I),O=new Uint8Array([4,51,148,247,223,161,235,177,220,3,162,94,21,113,219,72,211,46,237,237,178,52,219,183,71,58,12,143,196,204,225,111,60,140,132,223,171,182,102,62,242,12,212,139,254,227,249,118,47,20,28,99,8,106,111,45,177,26,149,176,206,55,192,156,110]),k="https://fcm.googleapis.com";!function(t){t.TYPE_OF_MSG="firebase-messaging-msg-type",t.DATA="firebase-messaging-msg-data"}(_||(_={}));var R;!function(t){t.PUSH_MSG_RECEIVED="push-msg-received",t.NOTIFICATION_CLICKED="notification-clicked"}(R||(R={}));var P=function(){function t(){}return t.prototype.getToken=function(t,e,n){return Object(E.b)(this,void 0,void 0,function(){var i,a,s,u,c,f,l,h,d,p;return Object(E.d)(this,function(y){switch(y.label){case 0:i=o(e.getKey("p256dh")),a=o(e.getKey("auth")),s="authorized_entity="+t+"&endpoint="+e.endpoint+"&encryption_key="+i+"&encryption_auth="+a,r(n.buffer,O.buffer)||(u=o(n),s+="&application_pub_key="+u),c=new Headers,c.append("Content-Type","application/x-www-form-urlencoded"),f={method:"POST",headers:c,body:s},y.label=1;case 1:return y.trys.push([1,4,,5]),[4,fetch(k+"/fcm/connect/subscribe",f)];case 2:return h=y.sent(),[4,h.json()];case 3:return l=y.sent(),[3,5];case 4:throw d=y.sent(),A.create(C.TOKEN_SUBSCRIBE_FAILED);case 5:if(l.error)throw p=l.error.message,A.create(C.TOKEN_SUBSCRIBE_FAILED,{message:p});if(!l.token)throw A.create(C.TOKEN_SUBSCRIBE_NO_TOKEN);if(!l.pushSet)throw A.create(C.TOKEN_SUBSCRIBE_NO_PUSH_SET);return[2,{token:l.token,pushSet:l.pushSet}]}})})},t.prototype.updateToken=function(t,e,n,i,a){return Object(E.b)(this,void 0,void 0,function(){var s,u,c,f,l,h,d,p,y,m;return Object(E.d)(this,function(v){switch(v.label){case 0:s=o(i.getKey("p256dh")),u=o(i.getKey("auth")),c="push_set="+n+"&token="+e+"&authorized_entity="+t+"&endpoint="+i.endpoint+"&encryption_key="+s+"&encryption_auth="+u,r(a.buffer,O.buffer)||(f=o(a),c+="&application_pub_key="+f),l=new Headers,l.append("Content-Type","application/x-www-form-urlencoded"),h={method:"POST",headers:l,body:c},v.label=1;case 1:return v.trys.push([1,4,,5]),[4,fetch(k+"/fcm/connect/subscribe",h)];case 2:return p=v.sent(),[4,p.json()];case 3:return d=v.sent(),[3,5];case 4:throw y=v.sent(),A.create(C.TOKEN_UPDATE_FAILED);case 5:if(d.error)throw m=d.error.message,A.create(C.TOKEN_UPDATE_FAILED,{message:m});if(!d.token)throw A.create(C.TOKEN_UPDATE_NO_TOKEN);return[2,d.token]}})})},t.prototype.deleteToken=function(t,e,n){return Object(E.b)(this,void 0,void 0,function(){var r,i,o,a,s,u,c;return Object(E.d)(this,function(f){switch(f.label){case 0:r="authorized_entity="+t+"&token="+e+"&pushSet="+n,i=new Headers,i.append("Content-Type","application/x-www-form-urlencoded"),o={method:"POST",headers:i,body:r},f.label=1;case 1:return f.trys.push([1,4,,5]),[4,fetch(k+"/fcm/connect/unsubscribe",o)];case 2:return a=f.sent(),[4,a.json()];case 3:if(s=f.sent(),s.error)throw u=s.error.message,A.create(C.TOKEN_UNSUBSCRIBE_FAILED,{message:u});return[3,5];case 4:throw c=f.sent(),A.create(C.TOKEN_UNSUBSCRIBE_FAILED);case 5:return[2]}})})},t}(),x="undefined",D="fcm_token_object_Store",N=function(){function t(){this.dbPromise=null}return t.prototype.get=function(t){return this.createTransaction(function(e){return e.get(t)})},t.prototype.getIndex=function(t,e){function n(n){return n.index(t).get(e)}return this.createTransaction(n)},t.prototype.put=function(t){return this.createTransaction(function(e){return e.put(t)},"readwrite")},t.prototype.delete=function(t){return this.createTransaction(function(e){return e.delete(t)},"readwrite")},t.prototype.closeDatabase=function(){return Object(E.b)(this,void 0,void 0,function(){var t;return Object(E.d)(this,function(e){switch(e.label){case 0:return this.dbPromise?[4,this.dbPromise]:[3,2];case 1:t=e.sent(),t.close(),this.dbPromise=null,e.label=2;case 2:return[2]}})})},t.prototype.createTransaction=function(t,e){return void 0===e&&(e="readonly"),Object(E.b)(this,void 0,void 0,function(){var n,r,i,o;return Object(E.d)(this,function(a){switch(a.label){case 0:return[4,this.getDb()];case 1:return n=a.sent(),r=n.transaction(this.objectStoreName,e),i=r.objectStore(this.objectStoreName),[4,c(t(i))];case 2:return o=a.sent(),[2,new Promise(function(t,e){r.oncomplete=function(){t(o)},r.onerror=function(){e(r.error)}})]}})})},t.prototype.getDb=function(){var t=this;return this.dbPromise||(this.dbPromise=new Promise(function(e,n){var r=indexedDB.open(t.dbName,t.dbVersion);r.onsuccess=function(){e(r.result)},r.onerror=function(){t.dbPromise=null,n(r.error)},r.onupgradeneeded=function(e){return t.onDbUpgrade(r,e)}})),this.dbPromise},t}(),M=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dbName="fcm_token_details_db",e.dbVersion=3,e.objectStoreName="fcm_token_object_Store",e}return Object(E.c)(e,t),e.prototype.onDbUpgrade=function(t,e){var n=t.result;switch(e.oldVersion){case 0:var r=n.createObjectStore(this.objectStoreName,{keyPath:"swScope"});r.createIndex("fcmSenderId","fcmSenderId",{unique:!1}),r.createIndex("fcmToken","fcmToken",{unique:!0});case 1:u();case 2:var r=t.transaction.objectStore(this.objectStoreName),i=r.openCursor();i.onsuccess=function(){var t=i.result;if(t){var e=t.value,n=Object(E.a)({},e);e.createTime||(n.createTime=Date.now()),"string"===typeof e.vapidKey&&(n.vapidKey=a(e.vapidKey)),"string"===typeof e.auth&&(n.auth=a(e.auth).buffer),"string"===typeof e.auth&&(n.p256dh=a(e.p256dh).buffer),t.update(n),t.continue()}}}},e.prototype.getTokenDetailsFromToken=function(t){return Object(E.b)(this,void 0,void 0,function(){return Object(E.d)(this,function(e){if(!t)throw A.create(C.BAD_TOKEN);return f({fcmToken:t}),[2,this.getIndex("fcmToken",t)]})})},e.prototype.getTokenDetailsFromSWScope=function(t){return Object(E.b)(this,void 0,void 0,function(){return Object(E.d)(this,function(e){if(!t)throw A.create(C.BAD_SCOPE);return f({swScope:t}),[2,this.get(t)]})})},e.prototype.saveTokenDetails=function(t){return Object(E.b)(this,void 0,void 0,function(){return Object(E.d)(this,function(e){if(!t.swScope)throw A.create(C.BAD_SCOPE);if(!t.vapidKey)throw A.create(C.BAD_VAPID_KEY);if(!t.endpoint||!t.auth||!t.p256dh)throw A.create(C.BAD_SUBSCRIPTION);if(!t.fcmSenderId)throw A.create(C.BAD_SENDER_ID);if(!t.fcmToken)throw A.create(C.BAD_TOKEN);if(!t.fcmPushSet)throw A.create(C.BAD_PUSH_SET);return f(t),[2,this.put(t)]})})},e.prototype.deleteToken=function(t){return Object(E.b)(this,void 0,void 0,function(){var e;return Object(E.d)(this,function(n){switch(n.label){case 0:return"string"!==typeof t||0===t.length?[2,Promise.reject(A.create(C.INVALID_DELETE_TOKEN))]:[4,this.getTokenDetailsFromToken(t)];case 1:if(!(e=n.sent()))throw A.create(C.DELETE_TOKEN_NOT_FOUND);return[4,this.delete(e.swScope)];case 2:return n.sent(),[2,e]}})})},e}(N),L=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.dbName="fcm_vapid_details_db",e.dbVersion=1,e.objectStoreName="fcm_vapid_object_Store",e}return Object(E.c)(e,t),e.prototype.onDbUpgrade=function(t){t.result.createObjectStore(this.objectStoreName,{keyPath:"swScope"})},e.prototype.getVapidFromSWScope=function(t){return Object(E.b)(this,void 0,void 0,function(){var e;return Object(E.d)(this,function(n){switch(n.label){case 0:if("string"!==typeof t||0===t.length)throw A.create(C.BAD_SCOPE);return[4,this.get(t)];case 1:return e=n.sent(),[2,e?e.vapidKey:void 0]}})})},e.prototype.saveVapidDetails=function(t,e){return Object(E.b)(this,void 0,void 0,function(){var n;return Object(E.d)(this,function(r){if("string"!==typeof t||0===t.length)throw A.create(C.BAD_SCOPE);if(null===e||65!==e.length)throw A.create(C.BAD_VAPID_KEY);return n={swScope:t,vapidKey:e},[2,this.put(n)]})})},e.prototype.deleteVapidDetails=function(t){return Object(E.b)(this,void 0,void 0,function(){var e;return Object(E.d)(this,function(n){switch(n.label){case 0:return[4,this.getVapidFromSWScope(t)];case 1:if(!(e=n.sent()))throw A.create(C.DELETE_SCOPE_NOT_FOUND);return[4,this.delete(t)];case 2:return n.sent(),[2,e]}})})},e}(N),j="messagingSenderId",U=function(){function t(t){var e=this;if(!t.options[j]||"string"!==typeof t.options[j])throw A.create(C.BAD_SENDER_ID);this.messagingSenderId=t.options[j],this.tokenDetailsModel=new M,this.vapidDetailsModel=new L,this.iidModel=new P,this.app=t,this.INTERNAL={delete:function(){return e.delete()}}}return t.prototype.getToken=function(){return Object(E.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(E.d)(this,function(o){switch(o.label){case 0:if("denied"===(t=this.getNotificationPermission_()))throw A.create(C.NOTIFICATIONS_BLOCKED);return"granted"!==t?[2,null]:[4,this.getSWRegistration_()];case 1:return e=o.sent(),[4,this.getPublicVapidKey_()];case 2:return n=o.sent(),[4,this.getPushSubscription(e,n)];case 3:return r=o.sent(),[4,this.tokenDetailsModel.getTokenDetailsFromSWScope(e.scope)];case 4:return i=o.sent(),i?[2,this.manageExistingToken(e,r,n,i)]:[2,this.getNewToken(e,r,n)]}})})},t.prototype.manageExistingToken=function(t,e,n,r){return Object(E.b)(this,void 0,void 0,function(){var i,o;return Object(E.d)(this,function(a){switch(a.label){case 0:return i=l(e,n,r),i?(o=Date.now(),o<r.createTime+6048e5?[2,r.fcmToken]:[2,this.updateToken(t,e,n,r)]):[4,this.deleteTokenFromDB(r.fcmToken)];case 1:return a.sent(),[2,this.getNewToken(t,e,n)]}})})},t.prototype.updateToken=function(t,e,n,r){return Object(E.b)(this,void 0,void 0,function(){var i,o,a;return Object(E.d)(this,function(s){switch(s.label){case 0:return s.trys.push([0,4,,6]),[4,this.iidModel.updateToken(this.messagingSenderId,r.fcmToken,r.fcmPushSet,e,n)];case 1:return i=s.sent(),o={swScope:t.scope,vapidKey:n,fcmSenderId:this.messagingSenderId,fcmToken:i,fcmPushSet:r.fcmPushSet,createTime:Date.now(),endpoint:e.endpoint,auth:e.getKey("auth"),p256dh:e.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(o)];case 2:return s.sent(),[4,this.vapidDetailsModel.saveVapidDetails(t.scope,n)];case 3:return s.sent(),[2,i];case 4:return a=s.sent(),[4,this.deleteToken(r.fcmToken)];case 5:throw s.sent(),a;case 6:return[2]}})})},t.prototype.getNewToken=function(t,e,n){return Object(E.b)(this,void 0,void 0,function(){var r,i;return Object(E.d)(this,function(o){switch(o.label){case 0:return[4,this.iidModel.getToken(this.messagingSenderId,e,n)];case 1:return r=o.sent(),i={swScope:t.scope,vapidKey:n,fcmSenderId:this.messagingSenderId,fcmToken:r.token,fcmPushSet:r.pushSet,createTime:Date.now(),endpoint:e.endpoint,auth:e.getKey("auth"),p256dh:e.getKey("p256dh")},[4,this.tokenDetailsModel.saveTokenDetails(i)];case 2:return o.sent(),[4,this.vapidDetailsModel.saveVapidDetails(t.scope,n)];case 3:return o.sent(),[2,r.token]}})})},t.prototype.deleteToken=function(t){return Object(E.b)(this,void 0,void 0,function(){var e,n;return Object(E.d)(this,function(r){switch(r.label){case 0:return[4,this.deleteTokenFromDB(t)];case 1:return r.sent(),[4,this.getSWRegistration_()];case 2:return e=r.sent(),e?[4,e.pushManager.getSubscription()]:[3,4];case 3:if(n=r.sent())return[2,n.unsubscribe()];r.label=4;case 4:return[2,!0]}})})},t.prototype.deleteTokenFromDB=function(t){return Object(E.b)(this,void 0,void 0,function(){var e;return Object(E.d)(this,function(n){switch(n.label){case 0:return[4,this.tokenDetailsModel.deleteToken(t)];case 1:return e=n.sent(),[4,this.iidModel.deleteToken(e.fcmSenderId,e.fcmToken,e.fcmPushSet)];case 2:return n.sent(),[2]}})})},t.prototype.getPushSubscription=function(t,e){return t.pushManager.getSubscription().then(function(n){return n||t.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:e})})},t.prototype.requestPermission=function(){throw A.create(C.AVAILABLE_IN_WINDOW)},t.prototype.useServiceWorker=function(t){throw A.create(C.AVAILABLE_IN_WINDOW)},t.prototype.usePublicVapidKey=function(t){throw A.create(C.AVAILABLE_IN_WINDOW)},t.prototype.onMessage=function(t,e,n){throw A.create(C.AVAILABLE_IN_WINDOW)},t.prototype.onTokenRefresh=function(t,e,n){throw A.create(C.AVAILABLE_IN_WINDOW)},t.prototype.setBackgroundMessageHandler=function(t){throw A.create(C.AVAILABLE_IN_SW)},t.prototype.delete=function(){return Object(E.b)(this,void 0,void 0,function(){return Object(E.d)(this,function(t){switch(t.label){case 0:return[4,Promise.all([this.tokenDetailsModel.closeDatabase(),this.vapidDetailsModel.closeDatabase()])];case 1:return t.sent(),[2]}})})},t.prototype.getNotificationPermission_=function(){return Notification.permission},t.prototype.getTokenDetailsModel=function(){return this.tokenDetailsModel},t.prototype.getVapidDetailsModel=function(){return this.vapidDetailsModel},t.prototype.getIidModel=function(){return this.iidModel},t}(),F=function(t){function e(e){var n=t.call(this,e)||this;return n.bgMessageHandler=null,self.addEventListener("push",function(t){n.onPush(t)}),self.addEventListener("pushsubscriptionchange",function(t){n.onSubChange(t)}),self.addEventListener("notificationclick",function(t){n.onNotificationClick(t)}),n}return Object(E.c)(e,t),e.prototype.onPush=function(t){t.waitUntil(this.onPush_(t))},e.prototype.onSubChange=function(t){t.waitUntil(this.onSubChange_(t))},e.prototype.onNotificationClick=function(t){t.waitUntil(this.onNotificationClick_(t))},e.prototype.onPush_=function(t){return Object(E.b)(this,void 0,void 0,function(){var e,n,r,i,o,a,s;return Object(E.d)(this,function(u){switch(u.label){case 0:if(!t.data)return[2];try{e=t.data.json()}catch(t){return[2]}return[4,this.hasVisibleClients_()];case 1:return(n=u.sent())?[2,this.sendMessageToWindowClients_(e)]:(r=this.getNotificationData_(e))?(i=r.title||"",[4,this.getSWRegistration_()]):[3,3];case 2:return o=u.sent(),a=r.actions,s=Notification.maxActions,a&&s&&a.length>s&&console.warn("This browser only supports "+s+" actions.The remaining actions will not be displayed."),[2,o.showNotification(i,r)];case 3:return this.bgMessageHandler?[4,this.bgMessageHandler(e)]:[3,5];case 4:return u.sent(),[2];case 5:return[2]}})})},e.prototype.onSubChange_=function(t){return Object(E.b)(this,void 0,void 0,function(){var t,e,n,r,i;return Object(E.d)(this,function(o){switch(o.label){case 0:return o.trys.push([0,2,,3]),[4,this.getSWRegistration_()];case 1:return t=o.sent(),[3,3];case 2:throw e=o.sent(),A.create(C.UNABLE_TO_RESUBSCRIBE,{message:e});case 3:return o.trys.push([3,5,,8]),[4,t.pushManager.getSubscription()];case 4:return o.sent(),[3,8];case 5:return n=o.sent(),r=this.getTokenDetailsModel(),[4,r.getTokenDetailsFromSWScope(t.scope)];case 6:if(!(i=o.sent()))throw n;return[4,this.deleteToken(i.fcmToken)];case 7:throw o.sent(),n;case 8:return[2]}})})},e.prototype.onNotificationClick_=function(t){return Object(E.b)(this,void 0,void 0,function(){var e,n,r,i;return Object(E.d)(this,function(o){switch(o.label){case 0:return t.notification&&t.notification.data&&t.notification.data.FCM_MSG?t.action?[2]:(t.stopImmediatePropagation(),t.notification.close(),e=t.notification.data.FCM_MSG,e.notification?(n=e.fcmOptions&&e.fcmOptions.link||e.notification.click_action,n?[4,this.getWindowClient_(n)]:[2]):[2]):[2];case 1:return r=o.sent(),r?[3,3]:[4,self.clients.openWindow(n)];case 2:return r=o.sent(),[3,5];case 3:return[4,r.focus()];case 4:r=o.sent(),o.label=5;case 5:return r?(delete e.notification,delete e.fcmOptions,i=d(R.NOTIFICATION_CLICKED,e),[2,this.attemptToMessageClient_(r,i)]):[2]}})})},e.prototype.getNotificationData_=function(t){if(t&&"object"===typeof t.notification){var e=Object(E.a)({},t.notification);return e.data=Object(E.a)({},t.notification.data,(n={},n.FCM_MSG=t,n)),e;var n}},e.prototype.setBackgroundMessageHandler=function(t){if(!t||"function"!==typeof t)throw A.create(C.BG_HANDLER_FUNCTION_EXPECTED);this.bgMessageHandler=t},e.prototype.getWindowClient_=function(t){return Object(E.b)(this,void 0,void 0,function(){var e,n,r,i,o;return Object(E.d)(this,function(a){switch(a.label){case 0:return e=new URL(t,self.location.href).href,[4,h()];case 1:for(n=a.sent(),r=null,i=0;i<n.length;i++)if((o=new URL(n[i].url,self.location.href).href)===e){r=n[i];break}return[2,r]}})})},e.prototype.attemptToMessageClient_=function(t,e){return Object(E.b)(this,void 0,void 0,function(){return Object(E.d)(this,function(n){if(!t)throw A.create(C.NO_WINDOW_CLIENT_TO_MSG);return t.postMessage(e),[2]})})},e.prototype.hasVisibleClients_=function(){return Object(E.b)(this,void 0,void 0,function(){var t;return Object(E.d)(this,function(e){switch(e.label){case 0:return[4,h()];case 1:return t=e.sent(),[2,t.some(function(t){return"visible"===t.visibilityState})]}})})},e.prototype.sendMessageToWindowClients_=function(t){return Object(E.b)(this,void 0,void 0,function(){var e,n,r=this;return Object(E.d)(this,function(i){switch(i.label){case 0:return[4,h()];case 1:return e=i.sent(),n=d(R.PUSH_MSG_RECEIVED,t),[4,Promise.all(e.map(function(t){return r.attemptToMessageClient_(t,n)}))];case 2:return i.sent(),[2]}})})},e.prototype.getSWRegistration_=function(){return Object(E.b)(this,void 0,void 0,function(){return Object(E.d)(this,function(t){return[2,self.registration]})})},e.prototype.getPublicVapidKey_=function(){return Object(E.b)(this,void 0,void 0,function(){var t,e;return Object(E.d)(this,function(n){switch(n.label){case 0:return[4,this.getSWRegistration_()];case 1:if(!(t=n.sent()))throw A.create(C.SW_REGISTRATION_EXPECTED);return[4,this.getVapidDetailsModel().getVapidFromSWScope(t.scope)];case 2:return e=n.sent(),null==e?[2,O]:[2,e]}})})},e}(U),B=function(t){function e(e){var n=t.call(this,e)||this;return n.registrationToUse=null,n.publicVapidKeyToUse=null,n.manifestCheckPromise=null,n.messageObserver=null,n.tokenRefreshObserver=null,n.onMessageInternal=Object(w.createSubscribe)(function(t){n.messageObserver=t}),n.onTokenRefreshInternal=Object(w.createSubscribe)(function(t){n.tokenRefreshObserver=t}),n.setupSWMessageListener_(),n}return Object(E.c)(e,t),e.prototype.getToken=function(){return Object(E.b)(this,void 0,void 0,function(){return Object(E.d)(this,function(e){switch(e.label){case 0:return this.manifestCheckPromise||(this.manifestCheckPromise=p()),[4,this.manifestCheckPromise];case 1:return e.sent(),[2,t.prototype.getToken.call(this)]}})})},e.prototype.requestPermission=function(){return Object(E.b)(this,void 0,void 0,function(){var t;return Object(E.d)(this,function(e){switch(e.label){case 0:return"granted"===this.getNotificationPermission_()?[2]:[4,Notification.requestPermission()];case 1:if("granted"===(t=e.sent()))return[2];throw"denied"===t?A.create(C.PERMISSION_BLOCKED):A.create(C.PERMISSION_DEFAULT)}})})},e.prototype.useServiceWorker=function(t){if(!(t instanceof ServiceWorkerRegistration))throw A.create(C.SW_REGISTRATION_EXPECTED);if(null!=this.registrationToUse)throw A.create(C.USE_SW_BEFORE_GET_TOKEN);this.registrationToUse=t},e.prototype.usePublicVapidKey=function(t){if("string"!==typeof t)throw A.create(C.INVALID_PUBLIC_VAPID_KEY);if(null!=this.publicVapidKeyToUse)throw A.create(C.USE_PUBLIC_KEY_BEFORE_GET_TOKEN);var e=a(t);if(65!==e.length)throw A.create(C.PUBLIC_KEY_DECRYPTION_FAILED);this.publicVapidKeyToUse=e},e.prototype.onMessage=function(t,e,n){return"function"===typeof t?this.onMessageInternal(t,e,n):this.onMessageInternal(t)},e.prototype.onTokenRefresh=function(t,e,n){return"function"===typeof t?this.onTokenRefreshInternal(t,e,n):this.onTokenRefreshInternal(t)},e.prototype.waitForRegistrationToActivate_=function(t){var e=t.installing||t.waiting||t.active;return new Promise(function(n,r){if(!e)return void r(A.create(C.NO_SW_IN_REG));if("activated"===e.state)return void n(t);if("redundant"===e.state)return void r(A.create(C.SW_REG_REDUNDANT));var i=function(){if("activated"===e.state)n(t);else{if("redundant"!==e.state)return;r(A.create(C.SW_REG_REDUNDANT))}e.removeEventListener("statechange",i)};e.addEventListener("statechange",i)})},e.prototype.getSWRegistration_=function(){var t=this;return this.registrationToUse?this.waitForRegistrationToActivate_(this.registrationToUse):(this.registrationToUse=null,navigator.serviceWorker.register("/firebase-messaging-sw.js",{scope:"/firebase-cloud-messaging-push-scope"}).catch(function(t){throw A.create(C.FAILED_DEFAULT_REGISTRATION,{browserErrorMessage:t.message})}).then(function(e){return t.waitForRegistrationToActivate_(e).then(function(){return t.registrationToUse=e,e.update(),e})}))},e.prototype.getPublicVapidKey_=function(){return Object(E.b)(this,void 0,void 0,function(){return Object(E.d)(this,function(t){return this.publicVapidKeyToUse?[2,this.publicVapidKeyToUse]:[2,O]})})},e.prototype.setupSWMessageListener_=function(){var t=this;navigator.serviceWorker.addEventListener("message",function(e){if(e.data&&e.data[_.TYPE_OF_MSG]){var n=e.data;switch(n[_.TYPE_OF_MSG]){case R.PUSH_MSG_RECEIVED:case R.NOTIFICATION_CLICKED:var r=n[_.DATA];t.messageObserver&&t.messageObserver.next(r)}}},!1)},e}(U);y(T.a)},function(t,e,n){"use strict";function r(t,e){function n(){this.constructor=t}a(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}function i(t,e,n,r){return new(n||(n=Promise))(function(i,o){function a(t){try{u(r.next(t))}catch(t){o(t)}}function s(t){try{u(r.throw(t))}catch(t){o(t)}}function u(t){t.done?i(t.value):new n(function(e){e(t.value)}).then(a,s)}u((r=r.apply(t,e||[])).next())})}function o(t,e){function n(t){return function(e){return r([t,e])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=o[2&n[0]?"return":n[0]?"throw":"next"])&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[0,a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=e.call(t,u)}catch(t){n=[6,t],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"===typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s}e.c=r,n.d(e,"a",function(){return s}),e.b=i,e.d=o;var a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])},s=Object.assign||function(t){for(var e,n=1,r=arguments.length;n<r;n++){e=arguments[n];for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&(t[i]=e[i])}return t}},function(t,e,n){"use strict";n(176);var r=function(t){return t&&"object"===typeof t&&"default"in t?t.default:t}(n(24));t.exports=r},function(t,e,n){"use strict";var r=n(180);n.n(r)},function(t,e,n){"use strict";n(178)},function(t,e,n){"use strict";n(181)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(3),s=n.n(a),u=n(361),c=n(17),f=n(21),l=n(512),h=n(608),d=n(609),p=n(105),y=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),m=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),y(e,[{key:"componentDidMount",value:function(){this.props.listenDisConnect(this.props.auth.uid),"unlogged"===localStorage.getItem("login")&&this.props.history.push("/");var t=this.props.match.params.id;this.props.getDataUser(t)}},{key:"componentWillReceiveProps",value:function(t){var e=t.match.params.id;this.props.getDataUser(e)}},{key:"render",value:function(){var t=this.props.auth,e=t.displayName,n=t.photoURL,r=t.phoneNumber,i=t.email;return s.a.createElement(a.Fragment,null,s.a.createElement("nav",{className:"navbar navbar-expand-sm bg-dark navbar-dark"},s.a.createElement("button",{type:"button",className:"btn btn-primary","data-toggle":"modal","data-target":"#myModal"},s.a.createElement("i",{className:"fa fa-user-circle-o","aria-hidden":"true"})," View Profile"),s.a.createElement(d.a,null)),s.a.createElement("div",{className:"modal",id:"myModal"},s.a.createElement("div",{className:"modal-dialog"},s.a.createElement("div",{className:"modal-content"},s.a.createElement("div",{className:"modal-header"},s.a.createElement("img",{className:"rounded-circle",src:n,alt:"Logo",style:{width:"40px",marginRight:"10px"}}),s.a.createElement("h4",{style:{fontFamily:"'Spectral', serif"},className:"modal-title"},e,"'s Profile"),s.a.createElement("button",{type:"button",className:"close","data-dismiss":"modal"},"\xd7")),s.a.createElement("div",{className:"modal-body"},s.a.createElement("p",null,s.a.createElement("span",{style:{fontFamily:"'Playfair Display', serif"}},"Name:")," ",e),s.a.createElement("p",null,s.a.createElement("span",{style:{fontFamily:"'Playfair Display', serif"}},"Email:")," ",i),s.a.createElement("p",null,s.a.createElement("span",{style:{fontFamily:"'Playfair Display', serif"}},"Phone number:")," ",r)),s.a.createElement("div",{className:"modal-footer"},s.a.createElement("button",{type:"button",className:"btn btn-danger","data-dismiss":"modal"},"Close"))))),s.a.createElement("div",{className:"container"},s.a.createElement("h2",{className:"text-center",style:{fontFamily:"'Rakkas', cursive"}},"Chat App"),s.a.createElement("div",{className:"messaging"},s.a.createElement("div",{className:"inbox_msg"},s.a.createElement(u.a,null),s.a.createElement(l.a,null)))),s.a.createElement("p",{className:"text-center top_spac"}," Made by ",s.a.createElement("span",{style:{fontFamily:"'Playfair Display', serif"}}," Ph\u1ea1m L\xea Thi\u1ec7n T\xe2m")))}}]),e}(a.Component),v=function(t){return{auth:t.firebase.auth}},g=function(t){return{getDataUser:function(e){return t(Object(h.a)(e))},listenDisConnect:function(e){return t(Object(p.a)(e))}}};e.a=Object(f.e)(Object(c.b)(v,g)(m))},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(3),u=n.n(s),c=n(38),f=(n.n(c),n(21)),l=n(29),h=n(17),d=n(62),p=n.n(d),y=n(510),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onHandleChange=function(t){var e=t.target,i=e.name,o=e.value;n.setState(r({},i,o))},n.state={reRender:!1,keyword:""},n}return a(e,t),m(e,[{key:"render",value:function(){var t,e=this.state.keyword,n=this.props.auth.uid,i=p.a.values(this.props.users),o=p.a.findIndex(i,{uid:n}),a=[];if(-1!==o&&(a=i[o].priority))for(var s=0;s<i.length;s++)for(var c=0;c<a.length;c++)i[s].uid==a[c].idUser&&(i[s].star=a[c].star,i[s].timeChat=a[c].timeChat);for(var f=[],l=[],h=0;h<i.length;h++)i[h].scoreStar=i[h].star?100*new Date:1,i[h].scoreTime=i[h].timeChat?i[h].timeChat.seconds:.9,i[h].online?f.push(i[h]):l.push(i[h]);f.sort(function(t,e){return e.scoreStar*e.scoreTime-t.scoreTime*t.scoreStar}),l.sort(function(t,e){return e.scoreStar*e.scoreTime-t.scoreTime*t.scoreStar}),i=f.concat(l),i=p.a.values(i).filter(function(t){return-1!==t.username.toLowerCase().indexOf(e.toLowerCase())});var d=null;return i.length>0&&(d=i.map(function(t,e){return u.a.createElement(y.a,{key:e,user:t})})),u.a.createElement("div",{className:"inbox_people"},u.a.createElement("div",{className:"headind_srch"},u.a.createElement("div",{className:"recent_heading"},u.a.createElement("h4",null,"Recent")),u.a.createElement("div",{className:"srch_bar"},u.a.createElement("div",{className:"stylish-input-group"},u.a.createElement("input",(t={type:"text",onChange:this.onHandleChange,name:"keyword"},r(t,"type","text"),r(t,"value",e),r(t,"className","search-bar"),r(t,"placeholder","Search"),t)),u.a.createElement("span",{className:"input-group-addon"},u.a.createElement("button",{type:"button"}," ",u.a.createElement("i",{className:"fa fa-search","aria-hidden":"true"})," "))))),u.a.createElement("div",{className:"inbox_chat"},d))}}]),e}(s.Component),g=function(t){return{users:t.firestore.data.users,auth:t.firebase.auth}},b=function(t){return{}};e.a=Object(f.e)(Object(l.d)(Object(h.b)(g,b),Object(c.firestoreConnect)([{collection:"users"}]))(v))},function(t,e,n){function r(t){var e=a.call(t,u),n=t[u];try{t[u]=void 0;var r=!0}catch(t){}var i=s.call(t);return r&&(e?t[u]=n:delete t[u]),i}var i=n(39),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i?i.toStringTag:void 0;t.exports=r},function(t,e){function n(t){return i.call(t)}var r=Object.prototype,i=r.toString;t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.getEventsFromInput=e.pathStrToObj=void 0;var i=n(365),o=r(i),a=n(27),s=r(a),u=n(4),c=r(u),f=n(2),l=r(f),h=n(415),d=r(h),p=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},y=n(82),m=n(210),v=e.pathStrToObj=function(t){var e={path:t,type:"value",isQuery:!1},n=(0,m.getQueryIdFromPath)(t);if(n){var r=t.split("#");e=p({},e,{queryId:n,isQuery:!0,path:r[0],queryParams:r[1].split("&")}),(0,y.getPopulates)(r[1].split("&"))&&(e.populates=(0,y.getPopulates)(r[1].split("&")),e.queryParams=(0,o.default)(r[1].split("&"),function(t){return-1===t.indexOf("populate")}))}return e},g=e.getEventsFromInput=function(t){return(0,d.default)(t,function(t){if((0,s.default)(t))return[v(t)];if((0,l.default)(t))return[{type:"first_child",path:t[0]},{type:"child_added",path:t[0]},{type:"child_removed",path:t[0]},{type:"child_moved",path:t[0]},{type:"child_changed",path:t[0]}];if((0,c.default)(t)){if(!t.path)throw new Error("Path is a required parameter within definition object");var e=t.path;return t.storeAs&&(e+="@"+t.storeAs),t.queryParams&&(e+="#"+t.queryParams.join("&")),t=p({},v(e),t),[t]}throw new Error("Invalid Path Definition: "+t+". Only strings, objects, and arrays accepted.")})};e.default={getEventsFromInput:g}},function(t,e,n){function r(t,e){var n=[];if(!t||!t.length)return n;var r=-1,a=[],s=t.length;for(e=i(e,3);++r<s;){var u=t[r];e(u,r,t)&&(n.push(u),a.push(r))}return o(t,a),n}var i=n(14),o=n(414);t.exports=r},function(t,e,n){function r(t){var e=o(t);return 1==e.length&&e[0][2]?a(e[0][0],e[0][1]):function(n){return n===t||i(n,t,e)}}var i=n(367),o=n(407),a=n(197);t.exports=r},function(t,e,n){function r(t,e,n,r){var u=n.length,c=u,f=!r;if(null==t)return!c;for(t=Object(t);u--;){var l=n[u];if(f&&l[2]?l[1]!==t[l[0]]:!(l[0]in t))return!1}for(;++u<c;){l=n[u];var h=l[0],d=t[h],p=l[1];if(f&&l[2]){if(void 0===d&&!(h in t))return!1}else{var y=new i;if(r)var m=r(d,p,h,t,e,y);if(!(void 0===m?o(p,d,a|s,r,y):m))return!1}}return!0}var i=n(71),o=n(110),a=1,s=2;t.exports=r},function(t,e){function n(){this.__data__=[],this.size=0}t.exports=n},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);return!(n<0)&&(n==e.length-1?e.pop():a.call(e,n,1),--this.size,!0)}var i=n(73),o=Array.prototype,a=o.splice;t.exports=r},function(t,e,n){function r(t){var e=this.__data__,n=i(e,t);return n<0?void 0:e[n][1]}var i=n(73);t.exports=r},function(t,e,n){function r(t){return i(this.__data__,t)>-1}var i=n(73);t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__,r=i(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var i=n(73);t.exports=r},function(t,e,n){function r(){this.__data__=new i,this.size=0}var i=n(72);t.exports=r},function(t,e){function n(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}t.exports=n},function(t,e){function n(t){return this.__data__.get(t)}t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){function r(t,e){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<s-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(t,e),this.size=n.size,this}var i=n(72),o=n(108),a=n(109),s=200;t.exports=r},function(t,e,n){function r(t){return!(!a(t)||o(t))&&(i(t)?p:c).test(s(t))}var i=n(9),o=n(379),a=n(4),s=n(185),u=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,f=Function.prototype,l=Object.prototype,h=f.toString,d=l.hasOwnProperty,p=RegExp("^"+h.call(d).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=r},function(t,e,n){function r(t){return!!o&&o in t}var i=n(380),o=function(){var t=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=r},function(t,e,n){var r=n(11),i=r["__core-js_shared__"];t.exports=i},function(t,e){function n(t,e){return null==t?void 0:t[e]}t.exports=n},function(t,e,n){function r(){this.size=0,this.__data__={hash:new i,map:new(a||o),string:new i}}var i=n(383),o=n(72),a=n(108);t.exports=r},function(t,e,n){function r(t){var e=-1,n=null==t?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}var i=n(384),o=n(385),a=n(386),s=n(387),u=n(388);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,t.exports=r},function(t,e,n){function r(){this.__data__=i?i(null):{},this.size=0}var i=n(74);t.exports=r},function(t,e){function n(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}t.exports=n},function(t,e,n){function r(t){var e=this.__data__;if(i){var n=e[t];return n===o?void 0:n}return s.call(e,t)?e[t]:void 0}var i=n(74),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e,n){function r(t){var e=this.__data__;return i?void 0!==e[t]:a.call(e,t)}var i=n(74),o=Object.prototype,a=o.hasOwnProperty;t.exports=r},function(t,e,n){function r(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=i&&void 0===e?o:e,this}var i=n(74),o="__lodash_hash_undefined__";t.exports=r},function(t,e,n){function r(t){var e=i(this,t).delete(t);return this.size-=e?1:0,e}var i=n(75);t.exports=r},function(t,e){function n(t){var e=typeof t;return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}t.exports=n},function(t,e,n){function r(t){return i(this,t).get(t)}var i=n(75);t.exports=r},function(t,e,n){function r(t){return i(this,t).has(t)}var i=n(75);t.exports=r},function(t,e,n){function r(t,e){var n=i(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var i=n(75);t.exports=r},function(t,e,n){function r(t,e,n,r,m,g){var b=c(t),_=c(e),w=b?p:u(t),E=_?p:u(e);w=w==d?y:w,E=E==d?y:E;var S=w==y,T=E==y,C=w==E;if(C&&f(t)){if(!f(e))return!1;b=!0,S=!1}if(C&&!S)return g||(g=new i),b||l(t)?o(t,e,n,r,m,g):a(t,e,w,n,r,m,g);if(!(n&h)){var I=S&&v.call(t,"__wrapped__"),A=T&&v.call(e,"__wrapped__");if(I||A){var O=I?t.value():t,k=A?e.value():e;return g||(g=new i),m(O,k,n,r,g)}}return!!C&&(g||(g=new i),s(t,e,n,r,m,g))}var i=n(71),o=n(186),a=n(397),s=n(399),u=n(43),c=n(2),f=n(77),l=n(117),h=1,d="[object Arguments]",p="[object Array]",y="[object Object]",m=Object.prototype,v=m.hasOwnProperty;t.exports=r},function(t,e){function n(t){return this.__data__.set(t,r),this}var r="__lodash_hash_undefined__";t.exports=n},function(t,e){function n(t){return this.__data__.has(t)}t.exports=n},function(t,e,n){function r(t,e,n,r,i,S,C){switch(n){case E:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case w:return!(t.byteLength!=e.byteLength||!S(new o(t),new o(e)));case h:case d:case m:return a(+t,+e);case p:return t.name==e.name&&t.message==e.message;case v:case b:return t==e+"";case y:var I=u;case g:var A=r&f;if(I||(I=c),t.size!=e.size&&!A)return!1;var O=C.get(t);if(O)return O==e;r|=l,C.set(t,e);var k=s(I(t),I(e),r,i,S,C);return C.delete(t),k;case _:if(T)return T.call(t)==T.call(e)}return!1}var i=n(39),o=n(188),a=n(50),s=n(186),u=n(398),c=n(113),f=1,l=2,h="[object Boolean]",d="[object Date]",p="[object Error]",y="[object Map]",m="[object Number]",v="[object RegExp]",g="[object Set]",b="[object String]",_="[object Symbol]",w="[object ArrayBuffer]",E="[object DataView]",S=i?i.prototype:void 0,T=S?S.valueOf:void 0;t.exports=r},function(t,e){function n(t){var e=-1,n=Array(t.size);return t.forEach(function(t,r){n[++e]=[r,t]}),n}t.exports=n},function(t,e,n){function r(t,e,n,r,a,u){var c=n&o,f=i(t),l=f.length;if(l!=i(e).length&&!c)return!1;for(var h=l;h--;){var d=f[h];if(!(c?d in e:s.call(e,d)))return!1}var p=u.get(t);if(p&&u.get(e))return p==e;var y=!0;u.set(t,e),u.set(e,t);for(var m=c;++h<l;){d=f[h];var v=t[d],g=e[d];if(r)var b=c?r(g,v,d,e,t,u):r(v,g,d,t,e,u);if(!(void 0===b?v===g||a(v,g,n,r,u):b)){y=!1;break}m||(m="constructor"==d)}if(y&&!m){var _=t.constructor,w=e.constructor;_!=w&&"constructor"in t&&"constructor"in e&&!("function"==typeof _&&_ instanceof _&&"function"==typeof w&&w instanceof w)&&(y=!1)}return u.delete(t),u.delete(e),y}var i=n(189),o=1,a=Object.prototype,s=a.hasOwnProperty;t.exports=r},function(t,e){function n(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}t.exports=n},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(18),o=n(10),a="[object Arguments]";t.exports=r},function(t,e){function n(){return!1}t.exports=n},function(t,e,n){function r(t){return a(t)&&o(t.length)&&!!s[i(t)]}var i=n(18),o=n(118),a=n(10),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,t.exports=r},function(t,e,n){var r=n(193),i=r(Object.keys,Object);t.exports=i},function(t,e,n){var r=n(30),i=n(11),o=r(i,"DataView");t.exports=o},function(t,e,n){var r=n(30),i=n(11),o=r(i,"Promise");t.exports=o},function(t,e,n){function r(t){for(var e=o(t),n=e.length;n--;){var r=e[n],a=t[r];e[n]=[r,a,i(a)]}return e}var i=n(196),o=n(40);t.exports=r},function(t,e,n){function r(t,e){return s(t)&&u(e)?c(f(t),e):function(n){var r=o(n,t);return void 0===r&&r===e?a(n,t):i(e,r,l|h)}}var i=n(110),o=n(31),a=n(199),s=n(121),u=n(196),c=n(197),f=n(26),l=1,h=2;t.exports=r},function(t,e,n){function r(t){var e=i(t,function(t){return n.size===o&&n.clear(),t}),n=e.cache;return e}var i=n(410),o=500;t.exports=r},function(t,e,n){function r(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(o);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=t.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(r.Cache||i),n}var i=n(109),o="Expected a function";r.Cache=i,t.exports=r},function(t,e){function n(t,e){return null!=t&&e in Object(t)}t.exports=n},function(t,e,n){function r(t){return a(t)?i(s(t)):o(t)}var i=n(201),o=n(413),a=n(121),s=n(26);t.exports=r},function(t,e,n){function r(t){return function(e){return i(e,t)}}var i=n(80);t.exports=r},function(t,e,n){function r(t,e){for(var n=t?e.length:0,r=n-1;n--;){var a=e[n];if(n==r||a!==u){var u=a;o(a)?s.call(t,a,1):i(t,a)}}return t}var i=n(123),o=n(42),a=Array.prototype,s=a.splice;t.exports=r},function(t,e,n){function r(t,e){return i(o(t,e),1)}var i=n(81),o=n(55);t.exports=r},function(t,e,n){function r(t){return a(t)||o(t)||!!(s&&t&&t[s])}var i=n(39),o=n(76),a=n(2),s=i?i.isConcatSpreadable:void 0;t.exports=r},function(t,e,n){function r(t,e){var n=-1,r=o(t)?Array(t.length):[];return i(t,function(t,i,o){r[++n]=e(t,i,o)}),r}var i=n(34),o=n(25);t.exports=r},function(t,e){function n(t){return function(e,n,r){for(var i=-1,o=Object(e),a=r(e),s=a.length;s--;){var u=a[t?s:++i];if(!1===n(o[u],u,o))break}return e}}t.exports=n},function(t,e,n){function r(t,e){return function(n,r){if(null==n)return n;if(!i(n))return t(n,r);for(var o=n.length,a=e?o:-1,s=Object(n);(e?a--:++a<o)&&!1!==r(s[a],a,s););return n}}var i=n(25);t.exports=r},function(t,e,n){function r(t,e){var n;return i(t,function(t,r,i){return!(n=e(t,r,i))}),!!n}var i=n(34);t.exports=r},function(t,e){function n(t,e){return null!=t&&i.call(t,e)}var r=Object.prototype,i=r.hasOwnProperty;t.exports=n},function(t,e,n){function r(t){return"function"==typeof t?t:i}var i=n(53);t.exports=r},function(t,e,n){function r(t,e){return(s(t)?i:o)(t,a(e,3))}var i=n(116),o=n(209),a=n(14),s=n(2);t.exports=r},function(t,e,n){function r(t){return o(t)?a(t):i(t)}var i=n(425),o=n(127),a=n(426);t.exports=r},function(t,e,n){var r=n(201),i=r("length");t.exports=i},function(t,e){function n(t){for(var e=l.lastIndex=0;l.test(t);)++e;return e}var r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",u="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",o,a].join("|")+")[\\ufe0e\\ufe0f]?"+s+")*",c="[\\ufe0e\\ufe0f]?"+s+u,f="(?:"+["[^\\ud800-\\udfff]"+r+"?",r,o,a,"[\\ud800-\\udfff]"].join("|")+")",l=RegExp(i+"(?="+i+")|"+f+c,"g");t.exports=n},function(t,e,n){function r(t){return i(t)&&t!=+t}var i=n(428);t.exports=r},function(t,e,n){function r(t){return"number"==typeof t||o(t)&&i(t)==a}var i=n(18),o=n(10),a="[object Number]";t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e){var n=e._.config,r=n.onProfileListenerError,i=n.logErrors;return function(t){if(i&&console.error("Error with profile listener: "+(t.message||""),t),(0,d.default)(r)){var n=r(t,e);if((0,d.default)(n.then))return n}return Promise.reject(t)}}Object.defineProperty(e,"__esModule",{value:!0}),e.signInWithPhoneNumber=e.linkWithCredential=e.reloadAuth=e.updateEmail=e.updateAuth=e.updateProfile=e.verifyPasswordResetCode=e.confirmPasswordReset=e.resetPassword=e.createUser=e.logout=e.login=e.init=e.handleRedirectResult=e.createUserProfile=e.watchUserProfile=e.handleProfileWatchResponse=e.unWatchUserProfile=void 0;var a=n(86),s=r(a),u=n(87),c=r(u),f=n(84),l=r(f),h=n(9),d=r(h),p=n(27),y=r(p),m=n(2),v=r(m),g=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},b=n(19),_=n(221),w=n(145),E=n(82),S=function(t,e){return t({type:b.actionTypes.LOGIN_ERROR,authError:e})},T=e.unWatchUserProfile=function(t){var e=t._,n=e.authUid,r=e.config,i=r.userProfile,o=r.useFirestoreForProfile;t._.profileWatch&&(o&&t.firestore?t._.profileWatch():t.database().ref().child(i+"/"+n).off("value",t._.profileWatch),t._.profileWatch=null)},C=function(t){return t&&t.val?t.val():t&&t.data&&t.exists?t.data():null},I=e.handleProfileWatchResponse=function(t,e,n){var r=e._.config,i=r.profileParamsToPopulate,o=r.autoPopulateProfile,a=r.useFirestoreForProfile,s=r.logErrors,u=C(n);!i||a||!(0,v.default)(i)&&!(0,y.default)(i)?(a&&i&&console.warn("Profile population is not yet supported for Firestore"),t({type:b.actionTypes.SET_PROFILE,profile:u})):(0,E.promisesForPopulate)(e,n.key,u,i).then(function(e){if((0,l.default)(e,function(e,n){t({type:b.actionTypes.SET,path:n,data:e,timestamp:Date.now(),requesting:!1,requested:!0})}),o){var r=(0,E.getPopulateObjs)(i),a=n.val();t({type:b.actionTypes.SET_PROFILE,profile:(0,_.populate)({profile:a,data:e},"profile",r)})}else t({type:b.actionTypes.SET_PROFILE,profile:u})}).catch(function(e){s&&console.error("RRF: Error retrieving data for profile population. Firebase:",e),t({type:b.actionTypes.UNAUTHORIZED_ERROR,authError:"Error during profile population: "+e.message}),t({type:b.actionTypes.SET_PROFILE,profile:u})})},A=e.watchUserProfile=function(t,e){var n=e._,r=n.authUid,i=n.config,a=i.userProfile,s=i.useFirestoreForProfile;if(T(e),a)if(s&&e.firestore)e._.profileWatch=e.firestore().collection(a).doc(r).onSnapshot(function(n){return I(t,e,n)},o(t,e));else{if(!e.database)throw new Error("Real Time Database or Firestore must be included to enable user profile");e._.profileWatch=e.database().ref().child(a+"/"+r).on("value",function(n){return I(t,e,n)},o(t,e))}},O=e.createUserProfile=function(t,e,n,r){var i=e._.config;if(!i.userProfile||!e.database&&!e.firestore)return Promise.resolve(n);if((0,d.default)(i.profileFactory))try{r=i.profileFactory(n,r)}catch(t){return console.error("Error occured within profileFactory function:",t.message||t),Promise.reject(t)}return i.useFirestoreForProfile?e.firestore().collection(i.userProfile).doc(n.uid||n.user.uid).get().then(function(t){if(!i.updateProfileOnLogin&&t.exists)return t.data();var e=r;if(!e){var o=n.uid?n.toJSON?n.toJSON():n:n.user.toJSON?n.user.toJSON():n.user;e=g({},(0,c.default)(o,i.keysToRemoveFromAuth),{avatarUrl:o.photoURL})}return(0,v.default)(e.providerData)&&(e.providerData=e.providerData.map(function(t){return(0,s.default)(t,i.keysToPreserveFromProviderData)})),t.ref.set(e,{merge:!0}).then(function(){return e})}).catch(function(e){return t({type:b.actionTypes.UNAUTHORIZED_ERROR,authError:e}),Promise.reject(e)}):e.database().ref().child(i.userProfile+"/"+(n.user?n.user.uid:n.uid)).once("value").then(function(t){return i.updateProfileOnLogin||null===t.val()?t.ref.update(r).then(function(){return r}):t.val()}).catch(function(n){return t({type:b.actionTypes.UNAUTHORIZED_ERROR,authError:n}),(0,d.default)(i.onProfileWriteError)&&i.onProfileWriteError(n,e),Promise.reject(n)})},k=function(t,e,n){var r=e._.config;n?(e._.authUid=n.uid,r.presence&&(0,w.setupPresence)(t,e),t({type:b.actionTypes.LOGIN,auth:n,preserve:r.preserveOnLogin}),A(t,e),(0,d.default)(r.onAuthStateChanged)&&r.onAuthStateChanged(n,e,t)):((0,d.default)(r.onAuthStateChanged)&&e._.config.onAuthStateChanged(n,e,t),t({type:b.actionTypes.AUTH_EMPTY_CHANGE,preserve:r.preserveOnEmptyAuthChange}))},R=e.handleRedirectResult=function(t,e,n){if("function"===typeof e._.config.onRedirectResult&&e._.config.onRedirectResult(n,e,t),n&&n.user){var r=n.user;return e._.authUid=r.uid,A(t,e),t({type:b.actionTypes.LOGIN,auth:r,preserve:e._.config.preserveOnLogin}),O(t,e,r,{email:r.email,displayName:r.providerData[0].displayName||r.email,avatarUrl:r.providerData[0].photoURL,providerData:r.providerData})}},P=e.init=function(t,e){e.auth&&(t({type:b.actionTypes.AUTHENTICATION_INIT_STARTED}),e.auth().onAuthStateChanged(function(n){return k(t,e,n)}),e._.config.enableRedirectHandling&&(0,d.default)(e.auth().getRedirectResult)&&"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("http")&&e.auth().getRedirectResult().then(function(n){return R(t,e,n)}).catch(function(e){return S(t,e),Promise.reject(e)}),e.auth().currentUser,t({type:b.actionTypes.AUTHENTICATION_INIT_FINISHED}))},x=e.login=function(t,e,n){var r;e._.config.resetBeforeLogin&&S(t,null);var o=(0,w.getLoginMethodAndParams)(e,n),a=o.method,s=o.params;return(r=e.auth())[a].apply(r,i(s)).then(function(r){if(!r)return Promise.resolve(null);if(["signInWithEmailAndPassword","signInAndRetrieveDataWithEmailAndPassword"].includes(a))return{user:r};if(["signInWithCustomToken","signInAndRetrieveDataWithCustomToken"].includes(a))return e._.config.updateProfileOnLogin?O(t,e,r,n.profile):{user:r};if("signInWithPhoneNumber"===a)return g({},r,{confirm:function(n){return r.confirm(n).then(function(n){var r=n.user,i=n.additionalUserInfo;return O(t,e,r,{phoneNumber:r.providerData[0].phoneNumber,providerData:r.providerData}).then(function(t){return{profile:t,user:r,additionalUserInfo:i}})})}});var i=r.user||r;return O(t,e,i,n.profile||{email:i.email,displayName:i.providerData[0].displayName||i.email,avatarUrl:i.providerData[0].photoURL,providerData:i.providerData}).then(function(t){return g({profile:t},r)})}).catch(function(e){return S(t,e),Promise.reject(e)})},D=e.logout=function(t,e){return e.auth().signOut().then(function(){return t({type:b.actionTypes.LOGOUT,preserve:e._.config.preserveOnLogout}),e._.authUid=null,T(e),e})},N=e.createUser=function(t,e,n,r){var i=n.email,o=n.password,a=n.signIn;if(S(t,null),!i||!o){var s=new Error("Email and Password are required to create user");return S(t,s),Promise.reject(s)}return e.auth().createUserWithEmailAndPassword(i,o).then(function(n){return e.auth().currentUser||a&&!1===a?O(t,e,n,r||{email:i}):x(t,e,{email:i,password:o}).then(function(){return O(t,e,n,r||{email:i})}).catch(function(e){if(e)switch(e.code){case"auth/user-not-found":S(t,new Error("The specified user account does not exist."));break;default:S(t,e)}return Promise.reject(e)})}).catch(function(e){return S(t,e),Promise.reject(e)})},M=e.resetPassword=function(t,e,n){return S(t,null),e.auth().sendPasswordResetEmail(n).catch(function(e){if(e){switch(e.code){case"auth/user-not-found":S(t,new Error("The specified user account does not exist."));break;default:S(t,e)}return Promise.reject(e)}})},L=e.confirmPasswordReset=function(t,e,n,r){return S(t,null),e.auth().confirmPasswordReset(n,r).catch(function(e){if(e){switch(e.code){case"auth/expired-action-code":S(t,new Error("The action code has expired."));break;case"auth/invalid-action-code":S(t,new Error("The action code is invalid."));break;case"auth/user-disabled":S(t,new Error("The user is disabled."));break;case"auth/user-not-found":S(t,new Error("The user is not found."));break;case"auth/weak-password":S(t,new Error("The password is not strong enough."));break;default:S(t,e)}return Promise.reject(e)}})},j=e.verifyPasswordResetCode=function(t,e,n){return S(t,null),e.auth().verifyPasswordResetCode(n).catch(function(e){return e&&S(t,e),Promise.reject(e)})},U=e.updateProfile=function(t,e,n){var r=e._.config;return t({type:b.actionTypes.PROFILE_UPDATE_START,payload:n}),(r.useFirestoreForProfile?w.updateProfileOnFirestore:w.updateProfileOnRTDB)(e,n).then(function(e){return t({type:b.actionTypes.PROFILE_UPDATE_SUCCESS,payload:r.useFirestoreForProfile?e.data():e.val()}),e}).catch(function(e){return t({type:b.actionTypes.PROFILE_UPDATE_ERROR,error:e}),Promise.reject(e)})},F=e.updateAuth=function(t,e,n,r){if(t({type:b.actionTypes.AUTH_UPDATE_START,payload:n}),!e.auth().currentUser){var i=new Error("User must be logged in to update auth.");return t({type:b.actionTypes.AUTH_UPDATE_ERROR,payload:i}),Promise.reject(i)}return e.auth().currentUser.updateProfile(n).then(function(i){return t({type:b.actionTypes.AUTH_UPDATE_SUCCESS,auth:e.auth().currentUser}),r?U(t,e,n):i}).catch(function(e){return t({type:b.actionTypes.AUTH_UPDATE_ERROR,error:e}),Promise.reject(e)})},B=e.updateEmail=function(t,e,n,r){if(t({type:b.actionTypes.EMAIL_UPDATE_START,payload:n}),!e.auth().currentUser){var i=new Error("User must be logged in to update email.");return t({type:b.actionTypes.EMAIL_UPDATE_ERROR,error:i}),Promise.reject(i)}return e.auth().currentUser.updateEmail(n).then(function(i){return t({type:b.actionTypes.EMAIL_UPDATE_SUCCESS,payload:n}),r?U(t,e,{email:n}):i}).catch(function(e){return t({type:b.actionTypes.EMAIL_UPDATE_ERROR,error:e}),Promise.reject(e)})},q=e.reloadAuth=function(t,e){if(t({type:b.actionTypes.AUTH_RELOAD_START}),!e.auth().currentUser){var n=new Error("User must be logged in to reload auth.");return t({type:b.actionTypes.AUTH_RELOAD_ERROR,error:n}),Promise.reject(n)}return e.auth().currentUser.reload().then(function(){var n=e.auth().currentUser;return t({type:b.actionTypes.AUTH_RELOAD_SUCCESS,payload:n}),n}).catch(function(e){return t({type:b.actionTypes.AUTH_RELOAD_ERROR,error:e}),Promise.reject(e)})},W=(e.linkWithCredential=function(t,e,n){if(t({type:b.actionTypes.AUTH_LINK_START}),!e.auth().currentUser){var r=new Error("User must be logged in to link with credential.");return t({type:b.actionTypes.AUTH_LINK_ERROR,error:r}),Promise.reject(r)}return e.auth().currentUser.linkWithCredential(n).then(function(e){return t({type:b.actionTypes.AUTH_LINK_SUCCESS,payload:e}),e}).catch(function(e){return t({type:b.actionTypes.AUTH_LINK_ERROR,error:e}),Promise.reject(e)})},e.signInWithPhoneNumber=function(t,e,n,r){var i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};return x(e,t,g({phoneNumber:n,applicationVerifier:r},i))});e.default={dispatchLoginError:S,unWatchUserProfile:T,watchUserProfile:A,init:P,createUserProfile:O,login:x,logout:D,createUser:N,resetPassword:M,confirmPasswordReset:L,verifyPasswordResetCode:j,updateAuth:F,updateProfile:U,updateEmail:B,reloadAuth:q,signInWithPhoneNumber:W}},function(t,e,n){function r(t,e){return i(t,e,function(e,n){return o(t,n)})}var i=n(431),o=n(199);t.exports=r},function(t,e,n){function r(t,e,n){for(var r=-1,s=e.length,u={};++r<s;){var c=e[r],f=i(t,c);n(f,c)&&o(u,a(c,t),f)}return u}var i=n(80),o=n(126),a=n(32);t.exports=r},function(t,e,n){function r(t){return(null==t?0:t.length)?i(t,1):[]}var i=n(81);t.exports=r},function(t,e,n){var r=n(434),i=n(208),o=n(53),a=i?function(t,e){return i(t,"toString",{configurable:!0,enumerable:!1,value:r(e),writable:!0})}:o;t.exports=a},function(t,e){function n(t){return function(){return t}}t.exports=n},function(t,e,n){function r(t,e){return t&&i(e,o(e),t)}var i=n(35),o=n(88);t.exports=r},function(t,e,n){function r(t){if(!i(t))return a(t);var e=o(t),n=[];for(var r in t)("constructor"!=r||!e&&u.call(t,r))&&n.push(r);return n}var i=n(4),o=n(79),a=n(437),s=Object.prototype,u=s.hasOwnProperty;t.exports=r},function(t,e){function n(t){var e=[];if(null!=t)for(var n in Object(t))e.push(n);return e}t.exports=n},function(t,e,n){function r(t,e){return i(t,o(t),e)}var i=n(35),o=n(115);t.exports=r},function(t,e,n){function r(t,e){return i(t,o(t),e)}var i=n(35),o=n(217);t.exports=r},function(t,e){function n(t){var e=t.length,n=new t.constructor(e);return e&&"string"==typeof t[0]&&i.call(t,"index")&&(n.index=t.index,n.input=t.input),n}var r=Object.prototype,i=r.hasOwnProperty;t.exports=n},function(t,e,n){function r(t,e,n){var r=t.constructor;switch(e){case v:return i(t);case c:case f:return new r(+t);case g:return o(t,n);case b:case _:case w:case E:case S:case T:case C:case I:case A:return u(t,n);case l:return new r;case h:case y:return new r(t);case d:return a(t);case p:return new r;case m:return s(t)}}var i=n(133),o=n(442),a=n(443),s=n(444),u=n(219),c="[object Boolean]",f="[object Date]",l="[object Map]",h="[object Number]",d="[object RegExp]",p="[object Set]",y="[object String]",m="[object Symbol]",v="[object ArrayBuffer]",g="[object DataView]",b="[object Float32Array]",_="[object Float64Array]",w="[object Int8Array]",E="[object Int16Array]",S="[object Int32Array]",T="[object Uint8Array]",C="[object Uint8ClampedArray]",I="[object Uint16Array]",A="[object Uint32Array]";t.exports=r},function(t,e,n){function r(t,e){var n=e?i(t.buffer):t.buffer;return new t.constructor(n,t.byteOffset,t.byteLength)}var i=n(133);t.exports=r},function(t,e){function n(t){var e=new t.constructor(t.source,r.exec(t));return e.lastIndex=t.lastIndex,e}var r=/\w*$/;t.exports=n},function(t,e,n){function r(t){return a?Object(a.call(t)):{}}var i=n(39),o=i?i.prototype:void 0,a=o?o.valueOf:void 0;t.exports=r},function(t,e,n){var r=n(446),i=n(78),o=n(119),a=o&&o.isMap,s=a?i(a):r;t.exports=s},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(43),o=n(10),a="[object Map]";t.exports=r},function(t,e,n){var r=n(448),i=n(78),o=n(119),a=o&&o.isSet,s=a?i(a):r;t.exports=s},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(43),o=n(10),a="[object Set]";t.exports=r},function(t,e,n){function r(t){return i(t)?void 0:t}var i=n(134);t.exports=r},function(t,e){function n(t){for(var e=-1,n=null==t?0:t.length,r=0,i=[];++e<n;){var o=t[e];o&&(i[r++]=o)}return i}t.exports=n},function(t,e,n){var r=n(58),i=n(60),o=n(452),a=n(455),s=i(function(t){return t.push(void 0,o),r(a,void 0,t)});t.exports=s},function(t,e,n){function r(t,e,n,a,s,u){return o(t)&&o(e)&&(u.set(e,t),i(t,e,void 0,r,u),u.delete(e)),t}var i=n(135),o=n(4);t.exports=r},function(t,e,n){function r(t,e,n,r,b,_,w){var E=v(t,n),S=v(e,n),T=w.get(S);if(T)return void i(t,n,T);var C=_?_(E,S,n+"",t,e,w):void 0,I=void 0===C;if(I){var A=f(S),O=!A&&h(S),k=!A&&!O&&m(S);C=S,A||O||k?f(E)?C=E:l(E)?C=s(E):O?(I=!1,C=o(S,!0)):k?(I=!1,C=a(S,!0)):C=[]:y(S)||c(S)?(C=E,c(E)?C=g(E):p(E)&&!d(E)||(C=u(S))):I=!1}I&&(w.set(S,C),b(C,S,r,_,w),w.delete(S)),i(t,n,C)}var i=n(222),o=n(216),a=n(219),s=n(59),u=n(220),c=n(76),f=n(2),l=n(136),h=n(77),d=n(9),p=n(4),y=n(134),m=n(117),v=n(223),g=n(454);t.exports=r},function(t,e,n){function r(t){return i(t,o(t))}var i=n(35),o=n(88);t.exports=r},function(t,e,n){var r=n(135),i=n(137),o=i(function(t,e,n,i){r(t,e,n,i)});t.exports=o},function(t,e){function n(t,e,n,r){var i=-1,o=null==t?0:t.length;for(r&&o&&(n=t[++i]);++i<o;)n=e(n,t[i],i,t);return n}t.exports=n},function(t,e){function n(t,e,n,r,i){return i(t,function(t,i,o){n=r?(r=!1,t):e(n,t,i,o)}),n}t.exports=n},function(t,e){function n(t,e){for(var n=-1,r=null==t?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}t.exports=n},function(t,e,n){function r(t,e){var n=!0;return i(t,function(t,r,i){return n=!!e(t,r,i)}),n}var i=n(34);t.exports=r},function(t,e,n){var r=n(90),i=r("unset",n(491));i.placeholder=n(61),t.exports=i},function(t,e,n){function r(t,e){return 2==e?function(e,n){return t.apply(void 0,arguments)}:function(e){return t.apply(void 0,arguments)}}function i(t,e){return 2==e?function(e,n){return t(e,n)}:function(e){return t(e)}}function o(t){for(var e=t?t.length:0,n=Array(e);e--;)n[e]=t[e];return n}function a(t){return function(e){return t({},e)}}function s(t,e){return function(){for(var n=arguments.length,r=n-1,i=Array(n);n--;)i[n]=arguments[n];var o=i[e],a=i.slice(0,e);return o&&h.apply(a,o),e!=r&&h.apply(a,i.slice(e+1)),t.apply(this,a)}}function u(t,e){return function(){var n=arguments.length;if(n){for(var r=Array(n);n--;)r[n]=arguments[n];var i=r[0]=e.apply(void 0,r);return t.apply(void 0,r),i}}}function c(t,e,n,h){function d(t,e){if(I.cap){var n=f.iterateeRearg[t];if(n)return w(e,n);var r=!T&&f.iterateeAry[t];if(r)return _(e,r)}return e}function p(t,e,n){return O||I.curry&&n>1?L(e,n):e}function y(t,e,n){if(I.fixed&&(k||!f.skipFixed[t])){var r=f.methodSpread[t],i=r&&r.start;return void 0===i?D(e,n):s(e,i)}return e}function m(t,e,n){return I.rearg&&n>1&&(R||!f.skipRearg[t])?V(e,f.methodRearg[t]||f.aryRearg[n]):e}function v(t,e){e=z(e);for(var n=-1,r=e.length,i=r-1,o=M(Object(t)),a=o;null!=a&&++n<r;){var s=e[n],u=a[s];null==u||B(u)||F(u)||q(u)||(a[s]=M(n==i?u:Object(u))),a=a[s]}return o}function g(t){return Q.runInContext.convert(t)(void 0)}function b(t,e){var n=f.aliasToReal[t]||t,r=f.remap[n]||n,i=h;return function(t){var o=T?P:x,a=T?P[r]:e,s=N(N({},i),t);return c(o,n,a,s)}}function _(t,e){return E(t,function(t){return"function"==typeof t?i(t,e):t})}function w(t,e){return E(t,function(t){var n=e.length;return r(V(i(t,n),e),n)})}function E(t,e){return function(){var n=arguments.length;if(!n)return t();for(var r=Array(n);n--;)r[n]=arguments[n];var i=I.rearg?0:n-1;return r[i]=e(r[i]),t.apply(void 0,r)}}function S(t,e,n){var r,i=f.aliasToReal[t]||t,s=e,c=G[i];return c?s=c(e):I.immutable&&(f.mutate.array[i]?s=u(e,o):f.mutate.object[i]?s=u(e,a(e)):f.mutate.set[i]&&(s=u(e,v))),j(K,function(t){return j(f.aryMethod[t],function(e){if(i==e){var n=f.methodSpread[i],o=n&&n.afterRearg;return r=o?y(i,m(i,s,t),t):m(i,y(i,s,t),t),r=d(i,r),r=p(i,r,t),!1}}),!r}),r||(r=s),r==e&&(r=O?L(r,1):function(){return e.apply(this,arguments)}),r.convert=b(i,e),r.placeholder=e.placeholder=n,r}var T="function"==typeof e,C=e===Object(e);if(C&&(h=n,n=e,e=void 0),null==n)throw new TypeError;h||(h={});var I={cap:!("cap"in h)||h.cap,curry:!("curry"in h)||h.curry,fixed:!("fixed"in h)||h.fixed,immutable:!("immutable"in h)||h.immutable,rearg:!("rearg"in h)||h.rearg},A=T?n:l,O="curry"in h&&h.curry,k="fixed"in h&&h.fixed,R="rearg"in h&&h.rearg,P=T?n.runInContext():void 0,x=T?n:{ary:t.ary,assign:t.assign,clone:t.clone,curry:t.curry,forEach:t.forEach,isArray:t.isArray,isError:t.isError,isFunction:t.isFunction,isWeakMap:t.isWeakMap,iteratee:t.iteratee,keys:t.keys,rearg:t.rearg,toInteger:t.toInteger,toPath:t.toPath},D=x.ary,N=x.assign,M=x.clone,L=x.curry,j=x.forEach,U=x.isArray,F=x.isError,B=x.isFunction,q=x.isWeakMap,W=x.keys,V=x.rearg,H=x.toInteger,z=x.toPath,K=W(f.aryMethod),G={castArray:function(t){return function(){var e=arguments[0];return U(e)?t(o(e)):t.apply(void 0,arguments)}},iteratee:function(t){return function(){var e=arguments[0],n=arguments[1],r=t(e,n),o=r.length;return I.cap&&"number"==typeof n?(n=n>2?n-2:1,o&&o<=n?r:i(r,n)):r}},mixin:function(t){return function(e){var n=this;if(!B(n))return t(n,Object(e));var r=[];return j(W(e),function(t){B(e[t])&&r.push([t,n.prototype[t]])}),t(n,Object(e)),j(r,function(t){var e=t[1];B(e)?n.prototype[t[0]]=e:delete n.prototype[t[0]]}),n}},nthArg:function(t){return function(e){var n=e<0?1:H(e)+1;return L(t(e),n)}},rearg:function(t){return function(e,n){var r=n?n.length:0;return L(t(e,n),r)}},runInContext:function(e){return function(n){return c(t,e(n),h)}}};if(!C)return S(e,n,A);var Q=n,Y=[];return j(K,function(t){j(f.aryMethod[t],function(t){var e=Q[f.remap[t]||t];e&&Y.push([t,S(t,e,Q)])})}),j(W(Q),function(t){var e=Q[t];if("function"==typeof e){for(var n=Y.length;n--;)if(Y[n][0]==t)return;e.convert=b(t,e),Y.push([t,e])}}),j(Y,function(t){Q[t[0]]=t[1]}),Q.convert=g,Q.placeholder=Q,j(W(Q),function(t){j(f.realToAlias[t]||[],function(e){Q[e]=Q[t]})}),Q}var f=n(462),l=n(61),h=Array.prototype.push;t.exports=c},function(t,e){e.aliasToReal={each:"forEach",eachRight:"forEachRight",entries:"toPairs",entriesIn:"toPairsIn",extend:"assignIn",extendAll:"assignInAll",extendAllWith:"assignInAllWith",extendWith:"assignInWith",first:"head",conforms:"conformsTo",matches:"isMatch",property:"get",__:"placeholder",F:"stubFalse",T:"stubTrue",all:"every",allPass:"overEvery",always:"constant",any:"some",anyPass:"overSome",apply:"spread",assoc:"set",assocPath:"set",complement:"negate",compose:"flowRight",contains:"includes",dissoc:"unset",dissocPath:"unset",dropLast:"dropRight",dropLastWhile:"dropRightWhile",equals:"isEqual",identical:"eq",indexBy:"keyBy",init:"initial",invertObj:"invert",juxt:"over",omitAll:"omit",nAry:"ary",path:"get",pathEq:"matchesProperty",pathOr:"getOr",paths:"at",pickAll:"pick",pipe:"flow",pluck:"map",prop:"get",propEq:"matchesProperty",propOr:"getOr",props:"at",symmetricDifference:"xor",symmetricDifferenceBy:"xorBy",symmetricDifferenceWith:"xorWith",takeLast:"takeRight",takeLastWhile:"takeRightWhile",unapply:"rest",unnest:"flatten",useWith:"overArgs",where:"conformsTo",whereEq:"isMatch",zipObj:"zipObject"},e.aryMethod={1:["assignAll","assignInAll","attempt","castArray","ceil","create","curry","curryRight","defaultsAll","defaultsDeepAll","floor","flow","flowRight","fromPairs","invert","iteratee","memoize","method","mergeAll","methodOf","mixin","nthArg","over","overEvery","overSome","rest","reverse","round","runInContext","spread","template","trim","trimEnd","trimStart","uniqueId","words","zipAll"],2:["add","after","ary","assign","assignAllWith","assignIn","assignInAllWith","at","before","bind","bindAll","bindKey","chunk","cloneDeepWith","cloneWith","concat","conformsTo","countBy","curryN","curryRightN","debounce","defaults","defaultsDeep","defaultTo","delay","difference","divide","drop","dropRight","dropRightWhile","dropWhile","endsWith","eq","every","filter","find","findIndex","findKey","findLast","findLastIndex","findLastKey","flatMap","flatMapDeep","flattenDepth","forEach","forEachRight","forIn","forInRight","forOwn","forOwnRight","get","groupBy","gt","gte","has","hasIn","includes","indexOf","intersection","invertBy","invoke","invokeMap","isEqual","isMatch","join","keyBy","lastIndexOf","lt","lte","map","mapKeys","mapValues","matchesProperty","maxBy","meanBy","merge","mergeAllWith","minBy","multiply","nth","omit","omitBy","overArgs","pad","padEnd","padStart","parseInt","partial","partialRight","partition","pick","pickBy","propertyOf","pull","pullAll","pullAt","random","range","rangeRight","rearg","reject","remove","repeat","restFrom","result","sampleSize","some","sortBy","sortedIndex","sortedIndexOf","sortedLastIndex","sortedLastIndexOf","sortedUniqBy","split","spreadFrom","startsWith","subtract","sumBy","take","takeRight","takeRightWhile","takeWhile","tap","throttle","thru","times","trimChars","trimCharsEnd","trimCharsStart","truncate","union","uniqBy","uniqWith","unset","unzipWith","without","wrap","xor","zip","zipObject","zipObjectDeep"],3:["assignInWith","assignWith","clamp","differenceBy","differenceWith","findFrom","findIndexFrom","findLastFrom","findLastIndexFrom","getOr","includesFrom","indexOfFrom","inRange","intersectionBy","intersectionWith","invokeArgs","invokeArgsMap","isEqualWith","isMatchWith","flatMapDepth","lastIndexOfFrom","mergeWith","orderBy","padChars","padCharsEnd","padCharsStart","pullAllBy","pullAllWith","rangeStep","rangeStepRight","reduce","reduceRight","replace","set","slice","sortedIndexBy","sortedLastIndexBy","transform","unionBy","unionWith","update","xorBy","xorWith","zipWith"],4:["fill","setWith","updateWith"]},e.aryRearg={2:[1,0],3:[2,0,1],4:[3,2,0,1]},e.iterateeAry={dropRightWhile:1,dropWhile:1,every:1,filter:1,find:1,findFrom:1,findIndex:1,findIndexFrom:1,findKey:1,findLast:1,findLastFrom:1,findLastIndex:1,findLastIndexFrom:1,findLastKey:1,flatMap:1,flatMapDeep:1,flatMapDepth:1,forEach:1,forEachRight:1,forIn:1,forInRight:1,forOwn:1,forOwnRight:1,map:1,mapKeys:1,mapValues:1,partition:1,reduce:2,reduceRight:2,reject:1,remove:1,some:1,takeRightWhile:1,takeWhile:1,times:1,transform:2},e.iterateeRearg={mapKeys:[1],reduceRight:[1,0]},e.methodRearg={assignInAllWith:[1,0],assignInWith:[1,2,0],assignAllWith:[1,0],assignWith:[1,2,0],differenceBy:[1,2,0],differenceWith:[1,2,0],getOr:[2,1,0],intersectionBy:[1,2,0],intersectionWith:[1,2,0],isEqualWith:[1,2,0],isMatchWith:[2,1,0],mergeAllWith:[1,0],mergeWith:[1,2,0],padChars:[2,1,0],padCharsEnd:[2,1,0],padCharsStart:[2,1,0],pullAllBy:[2,1,0],pullAllWith:[2,1,0],rangeStep:[1,2,0],rangeStepRight:[1,2,0],setWith:[3,1,2,0],sortedIndexBy:[2,1,0],sortedLastIndexBy:[2,1,0],unionBy:[1,2,0],unionWith:[1,2,0],updateWith:[3,1,2,0],xorBy:[1,2,0],xorWith:[1,2,0],zipWith:[1,2,0]},e.methodSpread={assignAll:{start:0},assignAllWith:{start:0},assignInAll:{start:0},assignInAllWith:{start:0},defaultsAll:{start:0},defaultsDeepAll:{start:0},invokeArgs:{start:2},invokeArgsMap:{start:2},mergeAll:{start:0},mergeAllWith:{start:0},partial:{start:1},partialRight:{start:1},without:{start:1},zipAll:{start:0}},e.mutate={array:{fill:!0,pull:!0,pullAll:!0,pullAllBy:!0,pullAllWith:!0,pullAt:!0,remove:!0,reverse:!0},object:{assign:!0,assignAll:!0,assignAllWith:!0,assignIn:!0,assignInAll:!0,assignInAllWith:!0,assignInWith:!0,assignWith:!0,defaults:!0,defaultsAll:!0,defaultsDeep:!0,defaultsDeepAll:!0,merge:!0,mergeAll:!0,mergeAllWith:!0,mergeWith:!0},set:{set:!0,setWith:!0,unset:!0,update:!0,updateWith:!0}},e.realToAlias=function(){var t=Object.prototype.hasOwnProperty,n=e.aliasToReal,r={};for(var i in n){var o=n[i];t.call(r,o)?r[o].push(i):r[o]=[i]}return r}(),e.remap={assignAll:"assign",assignAllWith:"assignWith",assignInAll:"assignIn",assignInAllWith:"assignInWith",curryN:"curry",curryRightN:"curryRight",defaultsAll:"defaults",defaultsDeepAll:"defaultsDeep",findFrom:"find",findIndexFrom:"findIndex",findLastFrom:"findLast",findLastIndexFrom:"findLastIndex",getOr:"get",includesFrom:"includes",indexOfFrom:"indexOf",invokeArgs:"invoke",invokeArgsMap:"invokeMap",lastIndexOfFrom:"lastIndexOf",mergeAll:"merge",mergeAllWith:"mergeWith",padChars:"pad",padCharsEnd:"padEnd",padCharsStart:"padStart",propertyOf:"get",rangeStep:"range",rangeStepRight:"rangeRight",restFrom:"rest",spreadFrom:"spread",trimChars:"trim",trimCharsEnd:"trimEnd",trimCharsStart:"trimStart",zipAll:"zip"},e.skipFixed={castArray:!0,flow:!0,flowRight:!0,iteratee:!0,mixin:!0,rearg:!0,runInContext:!0},e.skipRearg={add:!0,assign:!0,assignIn:!0,bind:!0,bindKey:!0,concat:!0,difference:!0,divide:!0,eq:!0,gt:!0,gte:!0,isEqual:!0,lt:!0,lte:!0,matchesProperty:!0,merge:!0,multiply:!0,overArgs:!0,partial:!0,partialRight:!0,propertyOf:!0,random:!0,range:!0,rangeRight:!0,subtract:!0,zip:!0,zipObject:!0,zipObjectDeep:!0}},function(t,e,n){t.exports={ary:n(464),assign:n(215),clone:n(484),curry:n(485),forEach:n(85),isArray:n(2),isError:n(486),isFunction:n(9),isWeakMap:n(487),iteratee:n(488),keys:n(120),rearg:n(489),toInteger:n(238),toPath:n(490)}},function(t,e,n){function r(t,e,n){return e=n?void 0:e,e=t&&null==e?t.length:e,i(t,o,void 0,void 0,void 0,void 0,e)}var i=n(139),o=128;t.exports=r},function(t,e,n){function r(t,e,n){function r(){return(this&&this!==o&&this instanceof r?u:t).apply(s?n:this,arguments)}var s=e&a,u=i(t);return r}var i=n(91),o=n(11),a=1;t.exports=r},function(t,e,n){function r(t,e,n){function r(){for(var o=arguments.length,h=Array(o),d=o,p=u(r);d--;)h[d]=arguments[d];var y=o<3&&h[0]!==p&&h[o-1]!==p?[]:c(h,p);return(o-=y.length)<n?s(t,e,a,r.placeholder,void 0,h,y,void 0,void 0,n-o):i(this&&this!==f&&this instanceof r?l:t,this,h)}var l=o(t);return r}var i=n(58),o=n(91),a=n(228),s=n(231),u=n(237),c=n(144),f=n(11);t.exports=r},function(t,e){function n(t,e){for(var n=t.length,r=0;n--;)t[n]===e&&++r;return r}t.exports=n},function(t,e,n){function r(t){var e=a(t),n=s[e];if("function"!=typeof n||!(e in i.prototype))return!1;if(t===n)return!0;var r=o(n);return!!r&&t===r[0]}var i=n(140),o=n(232),a=n(469),s=n(471);t.exports=r},function(t,e,n){function r(t){for(var e=t.name+"",n=i[e],r=a.call(i,e)?n.length:0;r--;){var o=n[r],s=o.func;if(null==s||s==t)return o.name}return e}var i=n(470),o=Object.prototype,a=o.hasOwnProperty;t.exports=r},function(t,e){var n={};t.exports=n},function(t,e,n){function r(t){if(u(t)&&!s(t)&&!(t instanceof i)){if(t instanceof o)return t;if(l.call(t,"__wrapped__"))return c(t)}return new o(t)}var i=n(140),o=n(234),a=n(141),s=n(2),u=n(10),c=n(472),f=Object.prototype,l=f.hasOwnProperty;r.prototype=a.prototype,r.prototype.constructor=r,t.exports=r},function(t,e,n){function r(t){if(t instanceof i)return t.clone();var e=new o(t.__wrapped__,t.__chain__);return e.__actions__=a(t.__actions__),e.__index__=t.__index__,e.__values__=t.__values__,e}var i=n(140),o=n(234),a=n(59);t.exports=r},function(t,e){function n(t){var e=t.match(r);return e?e[1].split(i):[]}var r=/\{\n\/\* \[wrapped with (.+)\] \*/,i=/,? & /;t.exports=n},function(t,e){function n(t,e){var n=e.length;if(!n)return t;var i=n-1;return e[i]=(n>1?"& ":"")+e[i],e=e.join(n>2?", ":" "),t.replace(r,"{\n/* [wrapped with "+e+"] */\n")}var r=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;t.exports=n},function(t,e,n){function r(t,e){return i(a,function(n){var r="_."+n[0];e&n[1]&&!o(t,r)&&t.push(r)}),t.sort()}var i=n(85),o=n(142),a=[["ary",128],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",32],["partialRight",64],["rearg",256]];t.exports=r},function(t,e){function n(t,e,n,r){for(var i=t.length,o=n+(r?1:-1);r?o--:++o<i;)if(e(t[o],o,t))return o;return-1}t.exports=n},function(t,e){function n(t){return t!==t}t.exports=n},function(t,e){function n(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}t.exports=n},function(t,e,n){function r(t,e){for(var n=t.length,r=a(e.length,n),s=i(t);r--;){var u=e[r];t[r]=o(u,n)?s[u]:void 0}return t}var i=n(59),o=n(42),a=Math.min;t.exports=r},function(t,e,n){function r(t,e,n,r){function u(){for(var e=-1,o=arguments.length,s=-1,l=r.length,h=Array(l+o),d=this&&this!==a&&this instanceof u?f:t;++s<l;)h[s]=r[s];for(;o--;)h[s++]=arguments[++e];return i(d,c?n:this,h)}var c=e&s,f=o(t);return u}var i=n(58),o=n(91),a=n(11),s=1;t.exports=r},function(t,e,n){function r(t,e){var n=t[1],r=e[1],y=n|r,m=y<(u|c|h),v=r==h&&n==l||r==h&&n==d&&t[7].length<=e[8]||r==(h|d)&&e[7].length<=e[8]&&n==l;if(!m&&!v)return t;r&u&&(t[2]=e[2],y|=n&u?0:f);var g=e[3];if(g){var b=t[3];t[3]=b?i(b,g,e[4]):g,t[4]=b?a(t[3],s):e[4]}return g=e[5],g&&(b=t[5],t[5]=b?o(b,g,e[6]):g,t[6]=b?a(t[5],s):e[6]),g=e[7],g&&(t[7]=g),r&h&&(t[8]=null==t[8]?e[8]:p(t[8],e[8])),null==t[9]&&(t[9]=e[9]),t[0]=e[0],t[1]=y,t}var i=n(229),o=n(230),a=n(144),s="__lodash_placeholder__",u=1,c=2,f=4,l=8,h=128,d=256,p=Math.min;t.exports=r},function(t,e,n){function r(t){if(!t)return 0===t?t:0;if((t=i(t))===o||t===-o){return(t<0?-1:1)*a}return t===t?t:0}var i=n(483),o=1/0,a=1.7976931348623157e308;t.exports=r},function(t,e,n){function r(t){if("number"==typeof t)return t;if(o(t))return a;if(i(t)){var e="function"==typeof t.valueOf?t.valueOf():t;t=i(e)?e+"":e}if("string"!=typeof t)return 0===t?t:+t;t=t.replace(s,"");var n=c.test(t);return n||f.test(t)?l(t.slice(2),n?2:8):u.test(t)?a:+t}var i=n(4),o=n(51),a=NaN,s=/^\s+|\s+$/g,u=/^[-+]0x[0-9a-f]+$/i,c=/^0b[01]+$/i,f=/^0o[0-7]+$/i,l=parseInt;t.exports=r},function(t,e,n){function r(t){return i(t,o)}var i=n(131),o=4;t.exports=r},function(t,e,n){function r(t,e,n){e=n?void 0:e;var a=i(t,o,void 0,void 0,void 0,void 0,void 0,e);return a.placeholder=r.placeholder,a}var i=n(139),o=8;r.placeholder={},t.exports=r},function(t,e,n){function r(t){if(!o(t))return!1;var e=i(t);return e==u||e==s||"string"==typeof t.message&&"string"==typeof t.name&&!a(t)}var i=n(18),o=n(10),a=n(134),s="[object DOMException]",u="[object Error]";t.exports=r},function(t,e,n){function r(t){return o(t)&&i(t)==a}var i=n(43),o=n(10),a="[object WeakMap]";t.exports=r},function(t,e,n){function r(t){return o("function"==typeof t?t:i(t,a))}var i=n(131),o=n(14),a=1;t.exports=r},function(t,e,n){var r=n(139),i=n(129),o=i(function(t,e){return r(t,256,void 0,void 0,void 0,e)});t.exports=o},function(t,e,n){function r(t){return a(t)?i(t,c):s(t)?[t]:o(u(f(t)))}var i=n(52),o=n(59),a=n(2),s=n(51),u=n(198),c=n(26),f=n(33);t.exports=r},function(t,e,n){function r(t,e){return null==t||i(t,e)}var i=n(123);t.exports=r},function(t,e,n){function r(t){return o(i(t).toLowerCase())}var i=n(33),o=n(493);t.exports=r},function(t,e,n){var r=n(494),i=r("toUpperCase");t.exports=i},function(t,e,n){function r(t){return function(e){e=s(e);var n=o(e)?a(e):void 0,r=n?n[0]:e.charAt(0),u=n?i(n,1).join(""):e.slice(1);return r[t]()+u}}var i=n(146),o=n(127),a=n(147),s=n(33);t.exports=r},function(t,e){function n(t){return t.split("")}t.exports=n},function(t,e){function n(t){return t.match(l)||[]}var r="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",i="\\ud83c[\\udffb-\\udfff]",o="(?:\\ud83c[\\udde6-\\uddff]){2}",a="[\\ud800-\\udbff][\\udc00-\\udfff]",s="(?:[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]|\\ud83c[\\udffb-\\udfff])?",u="(?:\\u200d(?:"+["[^\\ud800-\\udfff]",o,a].join("|")+")[\\ufe0e\\ufe0f]?"+s+")*",c="[\\ufe0e\\ufe0f]?"+s+u,f="(?:"+["[^\\ud800-\\udfff]"+r+"?",r,o,a,"[\\ud800-\\udfff]"].join("|")+")",l=RegExp(i+"(?="+i+")|"+f+c,"g");t.exports=n},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e){var n={};for(var r in t)e.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r]);return n}Object.defineProperty(e,"__esModule",{value:!0}),e.deleteFile=e.uploadFiles=e.uploadFile=void 0;var o=n(9),a=r(o),s=n(55),u=r(s),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=n(19),l=n(211),h=n(498),d=f.actionTypes.FILE_UPLOAD_START,p=f.actionTypes.FILE_UPLOAD_ERROR,y=f.actionTypes.FILE_UPLOAD_COMPLETE,m=f.actionTypes.FILE_DELETE_START,v=f.actionTypes.FILE_DELETE_ERROR,g=f.actionTypes.FILE_DELETE_COMPLETE,b=e.uploadFile=function(t,e,n){if(!e.storage)throw new Error("Firebase storage is required to upload files");var r=n||{},i=r.path,o=r.file,s=r.dbPath,u=r.options,f=void 0===u?{progress:!1}:u,l=e._.config.logErrors,m=(0,a.default)(f.name)?f.name(o,e,n):f.name,v=m||o.name,g=c({},n,{filename:v});t({type:d,payload:c({},n,{filename:v})});return function(){return f.progress?(0,h.uploadFileWithProgress)(t,e,{path:i,file:o,filename:v,meta:g}):e.storage().ref(i+"/"+v).put(o)}().then(function(r){return s&&e.database?(0,h.writeMetadataToDb)({firebase:e,uploadTaskSnapshot:r,dbPath:s,options:f}).then(function(e){return t({type:y,meta:c({},n,{filename:v}),payload:e}),e}):(t({type:y,meta:c({},n,{filename:v}),payload:{uploadTaskSnapshot:r,uploadTaskSnaphot:r}}),{uploadTaskSnapshot:r,uploadTaskSnaphot:r})}).catch(function(e){return l&&console.error&&console.error("RRF: Error uploading file: "+(e.message||e),e),t({type:p,path:i,payload:e}),Promise.reject(e)})},_=function(t,e,n){var r=n.files,o=i(n,["files"]);return Promise.all((0,u.default)(r,function(n){return b(t,e,c({file:n},o))}))};e.uploadFiles=_;e.deleteFile=function(t,e,n){var r=n.path,i=n.dbPath;return(0,l.wrapInDispatch)(t,{method:h.deleteFile,args:[e,{path:r,dbPath:i}],types:[m,g,v]})}},function(t,e,n){"use strict";function r(t,e){var n=e.path,r=e.dbPath;return t.storage().ref(n).delete().then(function(){if(!r||!t.database&&!t.firestore)return{path:n};return function(){return t._.config.useFirestoreForStorageMeta?t.firestore().doc(r).delete():t.database().ref(r).remove()}().then(function(){return{path:n,dbPath:r}})})}function i(t){var e=t.fileData,n=t.firebase,r=t.uploadTaskSnapshot;return function(t){var i=n._.config.useFirestoreForStorageMeta,o={snapshot:t,key:t.key||t.id,File:e,metaDataSnapshot:t,uploadTaskSnapshot:r,uploadTaskSnaphot:r,createdAt:i?n.firestore.FieldValue.serverTimestamp():n.database.ServerValue.TIMESTAMP};if(t.id&&(o.id=t.id),t.downloadURLs&&t.downloadURLs[0])o.downloadURL=t.downloadURLs[0];else if(r.ref&&"function"===typeof r.ref.getDownloadURL)return r.ref.getDownloadURL().then(function(t){return c({},o,{downloadURL:t})});return o}}function o(t){var e=t.firebase,n=t.uploadTaskSnapshot,r=t.dbPath,o=t.options,a=e._.config,s=a.fileMetadataFactory,c=a.useFirestoreForStorageMeta,f=o.metadataFactory,l=f||s,h=(0,u.default)(l)?l(n,e,n.metadata):n.metadata,d=i({fileData:h,firebase:e,uploadTaskSnapshot:n});return function(t){return c?e.firestore().collection(r).add(t):e.database().ref(r).push(t)}(h).then(d)}function a(t,e,n){var r=n.path,i=n.file,o=n.filename,a=n.meta,s=e.storage().ref(r+"/"+o).put(i),u=s.on(e.storage.TaskEvent.STATE_CHANGED,{next:function(e){t({type:h,meta:a,payload:{snapshot:e,percent:Math.floor(e.bytesTransferred/e.totalBytes*100)}})},error:function(e){t({type:l,meta:a,payload:e}),u()},complete:function(){u()}});return s}Object.defineProperty(e,"__esModule",{value:!0});var s=n(9),u=function(t){return t&&t.__esModule?t:{default:t}}(s),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.deleteFile=r,e.writeMetadataToDb=o,e.uploadFileWithProgress=a;var f=n(19),l=f.actionTypes.FILE_UPLOAD_ERROR,h=f.actionTypes.FILE_UPLOAD_PROGRESS},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.createFirebaseConnect=void 0;var u=n(500),c=r(u),f=n(148),l=r(f),h=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},d=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=n(3),y=r(p),m=n(6),v=r(m),g=n(48),b=r(g),_=n(241),w=n(49),E=e.createFirebaseConnect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store";return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(n){var r=function(r){function i(){var e,n,r,s;o(this,i);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return n=r=a(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(c))),r.firebaseEvents=[],r.firebase=null,r.prevData=null,r.store=r.context[t],s=n,a(r,s)}return s(i,r),d(i,[{key:"componentWillMount",value:function(){var t=this.store,n=t.firebase,r=t.dispatch,i=(0,w.createCallable)(e);this.prevData=i(this.props,this.store);var o=n.ref,a=n.helpers,s=n.storage,u=n.database,c=n.auth;this.firebase=h({ref:o,storage:s,database:u,auth:c},a),this._firebaseEvents=(0,w.getEventsFromInput)(this.prevData),(0,_.watchEvents)(n,r,this._firebaseEvents)}},{key:"componentWillUnmount",value:function(){var t=this.store,e=t.firebase,n=t.dispatch;(0,_.unWatchEvents)(e,n,this._firebaseEvents)}},{key:"componentWillReceiveProps",value:function(t){var n=this.store,r=n.firebase,i=n.dispatch,o=(0,w.createCallable)(e),a=o(t,this.store);if(!(0,l.default)(a,this.prevData)){var s=(0,c.default)(a,this.prevData,l.default),u=(0,c.default)(this.prevData,a,l.default);this.prevData=a,(0,_.unWatchEvents)(r,i,(0,w.getEventsFromInput)(u)),this._firebaseEvents=(0,w.getEventsFromInput)(a),(0,_.watchEvents)(r,i,(0,w.getEventsFromInput)(s))}}},{key:"render",value:function(){return y.default.createElement(n,h({},this.props,this.state,{firebase:this.firebase}))}}]),i}(p.Component);return r.displayName="FirebaseConnect("+(0,w.getDisplayName)(n)+")",r.wrappedComponent=n,r.contextTypes=i({},t,v.default.object.isRequired),(0,b.default)(r,n)}}};e.default=E()},function(t,e,n){var r=n(501),i=n(81),o=n(60),a=n(136),s=n(54),u=o(function(t,e){var n=s(e);return a(n)&&(n=void 0),a(t)?r(t,i(e,1,a,!0),void 0,n):[]});t.exports=u},function(t,e,n){function r(t,e,n,r){var l=-1,h=o,d=!0,p=t.length,y=[],m=e.length;if(!p)return y;n&&(e=s(e,u(n))),r?(h=a,d=!1):e.length>=f&&(h=c,d=!1,e=new i(e));t:for(;++l<p;){var v=t[l],g=null==n?v:n(v);if(v=r||0!==v?v:0,d&&g===g){for(var b=m;b--;)if(e[b]===g)continue t;y.push(v)}else h(e,g,r)||y.push(v)}return y}var i=n(111),o=n(142),a=n(242),s=n(52),u=n(78),c=n(112),f=200;t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.createFirestoreConnect=void 0;var u=n(148),c=r(u),f=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=n(3),d=r(h),p=n(6),y=r(p),m=n(48),v=r(m),g=n(49),b=e.createFirestoreConnect=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store";return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return function(n){var r=function(r){function i(){var e,n,r,s;o(this,i);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return n=r=a(this,(e=i.__proto__||Object.getPrototypeOf(i)).call.apply(e,[this].concat(c))),r.prevData=null,r.store=r.context[t],s=n,a(r,s)}return s(i,r),l(i,[{key:"componentWillMount",value:function(){var t=this.store,n=t.firebase,r=t.firestore;if(n.firestore&&r){var i=(0,g.createCallable)(e);this.prevData=i(this.props,this.store),r.setListeners(this.prevData)}}},{key:"componentWillUnmount",value:function(){var t=this.store,e=t.firebase,n=t.firestore;e.firestore&&this.prevData&&n.unsetListeners(this.prevData)}},{key:"componentWillReceiveProps",value:function(t){var n=this.store,r=n.firebase,i=n.firestore,o=(0,g.createCallable)(e),a=o(t,this.store);r.firestore&&!(0,c.default)(a,this.prevData)&&(i.unsetListeners(this.prevData),this.prevData=a,i.setListeners(a))}},{key:"render",value:function(){var t=this.store,e=t.firebase,r=t.firestore;return d.default.createElement(n,f({},this.props,this.state,{firebase:f({},e,e.helpers),firestore:r}))}}]),i}(h.Component);return r.wrappedComponent=n,r.displayName=(0,g.wrapDisplayName)(n,"FirestoreConnect"),r.contextTypes=i({},t,y.default.object.isRequired),(0,v.default)(r,n)}}};e.default=b()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.createWithFirebase=void 0;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(3),l=r(f),h=n(6),d=r(h),p=n(48),y=r(p),m=n(49),v=e.createWithFirebase=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store";return function(e){var n=function(n){function r(){var e,n,i,s;o(this,r);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return n=i=a(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(c))),i.store=i.context[t],s=n,a(i,s)}return s(r,n),c(r,[{key:"render",value:function(){return l.default.createElement(e,u({},this.props,this.state,{dispatch:this.store.dispatch,firebase:this.store.firebase}))}}]),r}(f.Component);return n.wrappedComponent=e,n.displayName=(0,m.wrapDisplayName)(e,"withFirebase"),n.contextTypes=i({},t,d.default.object.isRequired),(0,y.default)(n,e)}};e.default=v()},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function a(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function s(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}Object.defineProperty(e,"__esModule",{value:!0}),e.createWithFirestore=void 0;var u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},c=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),f=n(3),l=r(f),h=n(6),d=r(h),p=n(48),y=r(p),m=n(49),v=e.createWithFirestore=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"store";return function(e){var n=function(n){function r(){var e,n,i,s;o(this,r);for(var u=arguments.length,c=Array(u),f=0;f<u;f++)c[f]=arguments[f];return n=i=a(this,(e=r.__proto__||Object.getPrototypeOf(r)).call.apply(e,[this].concat(c))),i.store=i.context[t],s=n,a(i,s)}return s(r,n),c(r,[{key:"render",value:function(){return l.default.createElement(e,u({},this.props,{dispatch:this.store.dispatch,firestore:this.store.firestore,firebase:this.store.firebase}))}}]),r}(f.Component);return n.wrappedComponent=e,n.displayName=(0,m.wrapDisplayName)(e,"withFirestore"),n.contextTypes=i({},t,d.default.object.isRequired),(0,y.default)(n,e)}};e.default=v()},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.getFirebase=void 0;var r=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},i=n(183),o=n(145),a=n(19),s=n(212),u=void 0;e.default=function(t,e){return function(n){return function(c,f,l){var h=n(c,f,l);if(!t.SDK_VERSION&&!t.firebase_&&!t.database)throw new Error("v2.0.0-beta and higher require passing a firebase app instance or a firebase library instance. View the migration guide for details.");var d=r({},a.defaultConfig,e);return u=(0,i.createFirebaseInstance)(t.firebase_||t,d,h.dispatch),s.authActions.init(h.dispatch,u),h.firebase=u,d.attachAuthIsReady&&(h.firebaseAuthIsReady=(0,o.createAuthIsReady)(h,d)),h}}};e.getFirebase=function(){if(!u)throw new Error("Firebase instance does not yet exist. Check your compose function.");return u}},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(138),i=n(507);e.default=(0,r.combineReducers)({requesting:i.requestingReducer,requested:i.requestedReducer,timestamps:i.timestampsReducer,data:i.dataReducer,ordered:i.orderedReducer,auth:i.authReducer,authError:i.authErrorReducer,profile:i.profileReducer,listeners:i.listenersReducer,isInitializing:i.isInitializingReducer,errors:i.errorsReducer}),t.exports=e.default},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}Object.defineProperty(e,"__esModule",{value:!0}),e.orderedReducer=e.dataReducer=e.listenersReducer=e.errorsReducer=e.profileReducer=e.authErrorReducer=e.authReducer=e.timestampsReducer=e.requestedReducer=e.requestingReducer=e.isInitializingReducer=void 0;var a=n(243),s=r(a),u=n(244),c=r(u),f=n(4),l=r(f),h=n(2),d=r(h),p=n(31),y=r(p),m=n(87),v=r(m),g=n(86),b=r(g),_=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},w=n(19),E=n(138),S=w.actionTypes.START,T=w.actionTypes.SET,C=w.actionTypes.SET_PROFILE,I=w.actionTypes.MERGE,A=w.actionTypes.LOGIN,O=w.actionTypes.LOGOUT,k=w.actionTypes.LOGIN_ERROR,R=w.actionTypes.CLEAR_ERRORS,P=w.actionTypes.REMOVE,x=w.actionTypes.NO_VALUE,D=w.actionTypes.SET_LISTENER,N=w.actionTypes.UNSET_LISTENER,M=w.actionTypes.AUTHENTICATION_INIT_STARTED,L=w.actionTypes.AUTHENTICATION_INIT_FINISHED,j=w.actionTypes.AUTH_EMPTY_CHANGE,U=w.actionTypes.AUTH_LINK_SUCCESS,F=w.actionTypes.UNAUTHORIZED_ERROR,B=w.actionTypes.AUTH_UPDATE_SUCCESS,q=w.actionTypes.AUTH_RELOAD_SUCCESS,W=w.actionTypes.PROFILE_UPDATE_SUCCESS,V=(e.isInitializingReducer=function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];switch(arguments[1].type){case M:return!0;case L:return!1;default:return t}},e.requestingReducer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=e.type,r=e.path;switch(n){case S:return _({},t,o({},(0,E.getSlashStrPath)(r),!0));case x:case T:return _({},t,o({},(0,E.getSlashStrPath)(r),!1));default:return t}},e.requestedReducer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=e.type,r=e.path;switch(n){case S:return _({},t,o({},(0,E.getSlashStrPath)(r),!1));case x:case T:return _({},t,o({},(0,E.getSlashStrPath)(r),!0));default:return t}},e.timestampsReducer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=e.type,r=e.path;switch(n){case S:case x:case T:return _({},t,o({},(0,E.getSlashStrPath)(r),Date.now()));default:return t}},function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data";return function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1];switch(n.type){case T:return(0,c.default)(Object,(0,E.getDotStrPath)(n.path),n[t],e);case I:var r=(0,y.default)(e,(0,E.getDotStrPath)(n.path),{}),i=(0,s.default)(r,n[t]);return(0,c.default)(Object,(0,E.getDotStrPath)(n.path),i,e);case x:return(0,c.default)(Object,(0,E.getDotStrPath)(n.path),null,e);case P:return"data"===t?(0,E.recursiveUnset)((0,E.getDotStrPath)(n.path),e):e;case O:if(n.preserve){if((0,d.default)(n.preserve))return(0,b.default)(e,n.preserve);if((0,l.default)(n.preserve))return n.preserve[t]?(0,E.preserveValuesFromState)(e,n.preserve[t],{}):{};throw new Error("Invalid preserve parameter. It must be an Object or an Array")}return{};default:return e}}}),H=(e.authReducer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoaded:!1,isEmpty:!0},e=arguments[1];switch(e.type){case A:case B:if(!e.auth)return{isEmpty:!0,isLoaded:!0};var n=e.auth.toJSON?e.auth.toJSON():e.auth;return e.preserve&&e.preserve.auth?(0,E.preserveValuesFromState)(t,e.preserve.auth,_({},n,{isEmpty:!1,isLoaded:!0})):_({},n,{isEmpty:!1,isLoaded:!0});case U:case q:return e.payload?_({},e.payload.toJSON?e.payload.toJSON():e.payload,{isEmpty:!1,isLoaded:!0}):{isEmpty:!0,isLoaded:!0};case k:case j:case O:return e.preserve&&e.preserve.auth?(0,E.preserveValuesFromState)(t,e.preserve.auth,{isLoaded:!0,isEmpty:!0}):{isLoaded:!0,isEmpty:!0};default:return t}},e.authErrorReducer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments[1];switch(e.type){case A:case O:return null;case k:case F:return e.authError;default:return t}},e.profileReducer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoaded:!1,isEmpty:!0},e=arguments[1];switch(e.type){case C:return e.profile?_({},e.profile,{isEmpty:!1,isLoaded:!0}):_({},t,{isEmpty:!0,isLoaded:!0});case W:return _({},t,e.payload);case A:return e.preserve&&e.preserve.profile?(0,E.preserveValuesFromState)(t,e.preserve.profile,{isLoaded:!0,isEmpty:!0}):{isEmpty:!0,isLoaded:!1};case O:case j:return e.preserve&&e.preserve.profile?(0,E.preserveValuesFromState)(t,e.preserve.profile,{isLoaded:!0,isEmpty:!0}):{isLoaded:!0,isEmpty:!0};default:return t}},e.errorsReducer=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1];switch(e.type){case k:case F:if(!(0,d.default)(t))throw new Error("Errors state must be an array");return[].concat(i(t),[e.authError]);case O:case R:if(e.preserve&&e.preserve.errors){if("function"!==typeof e.preserve.errors)throw new Error("Preserve for the errors state currently only supports functions");return t.filter(e.preserve.errors)}return[];default:return t}},function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=e.type,r=e.path,i=e.payload;switch(n){case D:return _({},t,o({},i.id,{id:i.id,path:r}));case N:return(0,v.default)(t,[i.id]);default:return t}}),z=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n=e.type,r=(e.path,e.payload);switch(n){case D:return[].concat(i(t),[r.id]);case N:return t.filter(function(t){return t!==r.id});default:return t}};e.listenersReducer=(0,E.combineReducers)({byId:H,allIds:z}),e.dataReducer=V(),e.orderedReducer=V("ordered")},function(t,e,n){var r=n(83),i=n(35),o=n(137),a=n(25),s=n(79),u=n(40),c=Object.prototype,f=c.hasOwnProperty,l=o(function(t,e){if(s(e)||a(e))return void i(e,u(e),t);for(var n in e)f.call(e,n)&&r(t,n,e[n])});t.exports=l},function(t,e,n){function r(t,e,n,r){return r="function"==typeof r?r:void 0,null==t?t:i(t,e,n,r)}var i=n(126);t.exports=r},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(3),s=n.n(a),u=n(245),c=n.n(u),f=n(17),l=n(21),h=n(511),d=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),p=function(t){function e(){var t,n,o,a;r(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),o.onChat=function(t){o.props.chatWithUser(t),o.props.history.push("/user/"+t)},a=n,i(o,a)}return o(e,t),d(e,[{key:"render",value:function(){var t=this,e=this.props.user,n=e.username,r=e.online,i=e.lastSignInTime,o=e.photoURL,a="online";r||(a=""+c()(i.toDate()).fromNow());var u="chat_list";return this.props.match.params.id==e.uid&&(u="chat_list active_chat"),s.a.createElement("div",{className:u,onClick:function(){return t.onChat(e.uid)}},s.a.createElement("div",{className:"chat_people"},s.a.createElement("div",{className:"chat_img"},s.a.createElement("img",{className:"rounded-circle",src:o,alt:"sunil"})),s.a.createElement("div",{className:"chat_ib"},s.a.createElement("h5",{style:{fontFamily:"'Spectral', serif"}},n),s.a.createElement("p",null,s.a.createElement("i",{style:{fontSize:"10px"},className:r?"fa fa-circle online":"fa fa-circle offline"})," ",a))))}}]),e}(a.Component),y=function(t){return{users:t.firestore.ordered.users,auth:t.firebase.auth}},m=function(t){return{chatWithUser:function(e){return t(Object(h.a)(e))}}};e.a=Object(l.e)(Object(f.b)(y,m)(p))},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return{type:"CHAT_WITH_USER",id:t}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(3),s=n.n(a),u=n(513),c=n(17),f=n(604),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=function(t){function e(){return r(this,e),i(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return o(e,t),l(e,[{key:"render",value:function(){return null==this.props.chatingUser?"":s.a.createElement("div",{className:"content"},s.a.createElement(f.a,null),s.a.createElement(u.a,null))}}]),e}(a.Component),d=function(t){return{chatingUser:t.chatingUser}};e.a=Object(c.b)(d,null)(h)},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(3),s=n.n(a),u=n(514),c=n(21),f=n(38),l=(n.n(f),n(17)),h=n(29),d=n(62),p=n.n(d),y=n(246),m=n(603),v=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),g=function(t){function e(t){r(this,e);var n=i(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.state={idReceiver:""},n}return o(e,t),v(e,[{key:"componentDidMount",value:function(){this.setState({idReceiver:this.props.match.params.id})}},{key:"componentWillReceiveProps",value:function(t){this.setState({idReceiver:t.match.params.id})}},{key:"render",value:function(){var t=this.props.auth.uid,e=this.state.idReceiver,n=t>e?t+e:e+t,r=p.a.find(p.a.values(this.props.messages),{idSum:n}),i=null,o="";return r&&(i=r.messages,o=i.map(function(e,n){var r=e.idSender===t?"true":"";return s.a.createElement(u.a,{key:n,message:e,status:r})})),s.a.createElement("div",{className:"mesgs"},s.a.createElement("div",{className:"msg_history"},o),s.a.createElement(m.a,null))}}]),e}(a.Component),b=function(t){return{messages:t.firestore.data.messages,auth:t.firebase.auth}},_=function(t){return{sendMessage:function(e){return t(Object(y.a)(e))}}};e.a=Object(c.e)(Object(h.d)(Object(l.b)(b,_),Object(f.firestoreConnect)([{collection:"messages"}]))(g))},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(3),s=n.n(a),u=n(245),c=n.n(u),f=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),l=function(t){function e(){var t,n,o,u;r(this,e);for(var f=arguments.length,l=Array(f),h=0;h<f;h++)l[h]=arguments[h];return n=o=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(l))),o.renderMyMessage=function(t,e){return s.a.createElement(a.Fragment,null,s.a.createElement("div",{className:"outgoing_msg"},s.a.createElement("div",{className:"sent_msg"},e,s.a.createElement("p",{style:{fontFamily:"'Archivo', sans-serif"},id:"teamRoster"},t.text),s.a.createElement("span",{className:"time_date"}," ",c()(t.time.toDate()).calendar()," "))))},o.renderReceiveMessage=function(t,e){return s.a.createElement(a.Fragment,null,s.a.createElement("div",{className:"incoming_msg"},s.a.createElement("div",{className:"incoming_msg_img"},s.a.createElement("img",{src:t.photoURL,className:"rounded-circle",alt:"sunil"})),s.a.createElement("div",{className:"received_msg"},s.a.createElement("div",{className:"received_withd_msg"},e,s.a.createElement("p",{style:{fontFamily:"'Archivo', sans-serif"},id:"teamRoster"},t.text),s.a.createElement("span",{className:"time_date"},c()(t.time.toDate()).calendar())))))},u=n,i(o,u)}return o(e,t),f(e,[{key:"render",value:function(){var t=this.props,e=t.message,n=t.status,r=e.text.match(/(https?|ftp:)([^\s]+)/g),i=null;return r&&(e.text=r.map(function(t,e){return s.a.createElement("a",{key:e,style:{color:"black"},href:t},t)}),i=r.map(function(t,e){return s.a.createElement("img",{key:e,className:"img-thumbnail",src:t,alt:""})})),s.a.createElement(a.Fragment,null,n?this.renderMyMessage(e,i):this.renderReceiveMessage(e,i))}}]),e}(a.Component);e.a=l},function(t,e,n){t.exports=n(516)},function(t,e,n){"use strict";function r(t){for(;;)try{return i.randomBytes(t)}catch(t){continue}}var i=n(517),o=n(601);e.generate=function(t){var e,n=new o,i="";"object"===typeof t?(e=t.length||32,t.charset?n.setType(t.charset):n.setType("alphanumeric"),t.capitalization&&n.setcapitalization(t.capitalization),t.readable&&n.removeUnreadable(),n.removeDuplicates()):"number"===typeof t?(e=t,n.setType("alphanumeric")):(e=32,n.setType("alphanumeric"));for(var a=n.chars.length,s=256-256%a;e>0;)for(var u=r(Math.ceil(256*e/s)),c=0;c<u.length&&e>0;c++){var f=u.readUInt8(c);f<s&&(i+=n.chars.charAt(f%a),e--)}return i}},function(t,e,n){"use strict";e.randomBytes=e.rng=e.pseudoRandomBytes=e.prng=n(44),e.createHash=e.Hash=n(63),e.createHmac=e.Hmac=n(255);var r=n(534),i=Object.keys(r),o=["sha1","sha224","sha256","sha384","sha512","md5","rmd160"].concat(i);e.getHashes=function(){return o};var a=n(258);e.pbkdf2=a.pbkdf2,e.pbkdf2Sync=a.pbkdf2Sync;var s=n(536);e.Cipher=s.Cipher,e.createCipher=s.createCipher,e.Cipheriv=s.Cipheriv,e.createCipheriv=s.createCipheriv,e.Decipher=s.Decipher,e.createDecipher=s.createDecipher,e.Decipheriv=s.Decipheriv,e.createDecipheriv=s.createDecipheriv,e.getCiphers=s.getCiphers,e.listCiphers=s.listCiphers;var u=n(553);e.DiffieHellmanGroup=u.DiffieHellmanGroup,e.createDiffieHellmanGroup=u.createDiffieHellmanGroup,e.getDiffieHellman=u.getDiffieHellman,e.createDiffieHellman=u.createDiffieHellman,e.DiffieHellman=u.DiffieHellman;var c=n(558);e.createSign=c.createSign,e.Sign=c.Sign,e.createVerify=c.createVerify,e.Verify=c.Verify,e.createECDH=n(596);var f=n(597);e.publicEncrypt=f.publicEncrypt,e.privateEncrypt=f.privateEncrypt,e.publicDecrypt=f.publicDecrypt,e.privateDecrypt=f.privateDecrypt;var l=n(600);e.randomFill=l.randomFill,e.randomFillSync=l.randomFillSync,e.createCredentials=function(){throw new Error(["sorry, createCredentials is not implemented yet","we accept pull requests","https://github.com/crypto-browserify/crypto-browserify"].join("\n"))},e.constants={DH_CHECK_P_NOT_SAFE_PRIME:2,DH_CHECK_P_NOT_PRIME:1,DH_UNABLE_TO_CHECK_GENERATOR:4,DH_NOT_SUITABLE_GENERATOR:8,NPN_ENABLED:1,ALPN_ENABLED:1,RSA_PKCS1_PADDING:1,RSA_SSLV23_PADDING:2,RSA_NO_PADDING:3,RSA_PKCS1_OAEP_PADDING:4,RSA_X931_PADDING:5,RSA_PKCS1_PSS_PADDING:6,POINT_CONVERSION_COMPRESSED:2,POINT_CONVERSION_UNCOMPRESSED:4,POINT_CONVERSION_HYBRID:6}},function(t,e,n){"use strict";function r(t){var e=t.length;if(e%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=t.indexOf("=");return-1===n&&(n=e),[n,n===e?0:4-n%4]}function i(t){var e=r(t),n=e[0],i=e[1];return 3*(n+i)/4-i}function o(t,e,n){return 3*(e+n)/4-n}function a(t){for(var e,n=r(t),i=n[0],a=n[1],s=new h(o(t,i,a)),u=0,c=a>0?i-4:i,f=0;f<c;f+=4)e=l[t.charCodeAt(f)]<<18|l[t.charCodeAt(f+1)]<<12|l[t.charCodeAt(f+2)]<<6|l[t.charCodeAt(f+3)],s[u++]=e>>16&255,s[u++]=e>>8&255,s[u++]=255&e;return 2===a&&(e=l[t.charCodeAt(f)]<<2|l[t.charCodeAt(f+1)]>>4,s[u++]=255&e),1===a&&(e=l[t.charCodeAt(f)]<<10|l[t.charCodeAt(f+1)]<<4|l[t.charCodeAt(f+2)]>>2,s[u++]=e>>8&255,s[u++]=255&e),s}function s(t){return f[t>>18&63]+f[t>>12&63]+f[t>>6&63]+f[63&t]}function u(t,e,n){for(var r,i=[],o=e;o<n;o+=3)r=(t[o]<<16&16711680)+(t[o+1]<<8&65280)+(255&t[o+2]),i.push(s(r));return i.join("")}function c(t){for(var e,n=t.length,r=n%3,i=[],o=0,a=n-r;o<a;o+=16383)i.push(u(t,o,o+16383>a?a:o+16383));return 1===r?(e=t[n-1],i.push(f[e>>2]+f[e<<4&63]+"==")):2===r&&(e=(t[n-2]<<8)+t[n-1],i.push(f[e>>10]+f[e>>4&63]+f[e<<2&63]+"=")),i.join("")}e.byteLength=i,e.toByteArray=a,e.fromByteArray=c;for(var f=[],l=[],h="undefined"!==typeof Uint8Array?Uint8Array:Array,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",p=0,y=d.length;p<y;++p)f[p]=d[p],l[d.charCodeAt(p)]=p;l["-".charCodeAt(0)]=62,l["_".charCodeAt(0)]=63},function(t,e){e.read=function(t,e,n,r,i){var o,a,s=8*i-r-1,u=(1<<s)-1,c=u>>1,f=-7,l=n?i-1:0,h=n?-1:1,d=t[e+l];for(l+=h,o=d&(1<<-f)-1,d>>=-f,f+=s;f>0;o=256*o+t[e+l],l+=h,f-=8);for(a=o&(1<<-f)-1,o>>=-f,f+=r;f>0;a=256*a+t[e+l],l+=h,f-=8);if(0===o)o=1-c;else{if(o===u)return a?NaN:1/0*(d?-1:1);a+=Math.pow(2,r),o-=c}return(d?-1:1)*a*Math.pow(2,o-r)},e.write=function(t,e,n,r,i,o){var a,s,u,c=8*o-i-1,f=(1<<c)-1,l=f>>1,h=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=r?0:o-1,p=r?1:-1,y=e<0||0===e&&1/e<0?1:0;for(e=Math.abs(e),isNaN(e)||e===1/0?(s=isNaN(e)?1:0,a=f):(a=Math.floor(Math.log(e)/Math.LN2),e*(u=Math.pow(2,-a))<1&&(a--,u*=2),e+=a+l>=1?h/u:h*Math.pow(2,1-l),e*u>=2&&(a++,u/=2),a+l>=f?(s=0,a=f):a+l>=1?(s=(e*u-1)*Math.pow(2,i),a+=l):(s=e*Math.pow(2,l-1)*Math.pow(2,i),a=0));i>=8;t[n+d]=255&s,d+=p,s/=256,i-=8);for(a=a<<i|s,c+=i;c>0;t[n+d]=255&a,d+=p,a/=256,c-=8);t[n+d-p]|=128*y}},function(t,e){},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e,n){t.copy(e,n)}var o=n(1).Buffer,a=n(522);t.exports=function(){function t(){r(this,t),this.head=null,this.tail=null,this.length=0}return t.prototype.push=function(t){var e={data:t,next:null};this.length>0?this.tail.next=e:this.head=e,this.tail=e,++this.length},t.prototype.unshift=function(t){var e={data:t,next:this.head};0===this.length&&(this.tail=e),this.head=e,++this.length},t.prototype.shift=function(){if(0!==this.length){var t=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,t}},t.prototype.clear=function(){this.head=this.tail=null,this.length=0},t.prototype.join=function(t){if(0===this.length)return"";for(var e=this.head,n=""+e.data;e=e.next;)n+=t+e.data;return n},t.prototype.concat=function(t){if(0===this.length)return o.alloc(0);if(1===this.length)return this.head.data;for(var e=o.allocUnsafe(t>>>0),n=this.head,r=0;n;)i(n.data,e,r),r+=n.data.length,n=n.next;return e},t}(),a&&a.inspect&&a.inspect.custom&&(t.exports.prototype[a.inspect.custom]=function(){var t=a.inspect({length:this.length});return this.constructor.name+" "+t})},function(t,e){},function(t,e,n){(function(e){function n(t,e){function n(){if(!i){if(r("throwDeprecation"))throw new Error(e);r("traceDeprecation")?console.trace(e):console.warn(e),i=!0}return t.apply(this,arguments)}if(r("noDeprecation"))return t;var i=!1;return n}function r(t){try{if(!e.localStorage)return!1}catch(t){return!1}var n=e.localStorage[t];return null!=n&&"true"===String(n).toLowerCase()}t.exports=n}).call(e,n(8))},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);i.call(this,t)}t.exports=r;var i=n(252),o=n(64);o.inherits=n(0),o.inherits(r,i),r.prototype._transform=function(t,e,n){n(null,t)}},function(t,e,n){t.exports=n(153)},function(t,e,n){t.exports=n(36)},function(t,e,n){t.exports=n(152).Transform},function(t,e,n){t.exports=n(152).PassThrough},function(t,e,n){function r(){this.init(),this._w=l,u.call(this,64,56)}function i(t){return t<<5|t>>>27}function o(t){return t<<30|t>>>2}function a(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}var s=n(0),u=n(45),c=n(1).Buffer,f=[1518500249,1859775393,-1894007588,-899497514],l=new Array(80);s(r,u),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(t){for(var e=this._w,n=0|this._a,r=0|this._b,s=0|this._c,u=0|this._d,c=0|this._e,l=0;l<16;++l)e[l]=t.readInt32BE(4*l);for(;l<80;++l)e[l]=e[l-3]^e[l-8]^e[l-14]^e[l-16];for(var h=0;h<80;++h){var d=~~(h/20),p=i(n)+a(d,r,s,u)+c+e[h]+f[d]|0;c=u,u=s,s=o(r),r=n,n=p}this._a=n+this._a|0,this._b=r+this._b|0,this._c=s+this._c|0,this._d=u+this._d|0,this._e=c+this._e|0},r.prototype._hash=function(){var t=c.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=r},function(t,e,n){function r(){this.init(),this._w=h,c.call(this,64,56)}function i(t){return t<<1|t>>>31}function o(t){return t<<5|t>>>27}function a(t){return t<<30|t>>>2}function s(t,e,n,r){return 0===t?e&n|~e&r:2===t?e&n|e&r|n&r:e^n^r}var u=n(0),c=n(45),f=n(1).Buffer,l=[1518500249,1859775393,-1894007588,-899497514],h=new Array(80);u(r,c),r.prototype.init=function(){return this._a=1732584193,this._b=4023233417,this._c=2562383102,this._d=271733878,this._e=3285377520,this},r.prototype._update=function(t){for(var e=this._w,n=0|this._a,r=0|this._b,u=0|this._c,c=0|this._d,f=0|this._e,h=0;h<16;++h)e[h]=t.readInt32BE(4*h);for(;h<80;++h)e[h]=i(e[h-3]^e[h-8]^e[h-14]^e[h-16]);for(var d=0;d<80;++d){var p=~~(d/20),y=o(n)+s(p,r,u,c)+f+e[d]+l[p]|0;f=c,c=u,u=a(r),r=n,n=y}this._a=n+this._a|0,this._b=r+this._b|0,this._c=u+this._c|0,this._d=c+this._d|0,this._e=f+this._e|0},r.prototype._hash=function(){var t=f.allocUnsafe(20);return t.writeInt32BE(0|this._a,0),t.writeInt32BE(0|this._b,4),t.writeInt32BE(0|this._c,8),t.writeInt32BE(0|this._d,12),t.writeInt32BE(0|this._e,16),t},t.exports=r},function(t,e,n){function r(){this.init(),this._w=u,a.call(this,64,56)}var i=n(0),o=n(253),a=n(45),s=n(1).Buffer,u=new Array(64);i(r,o),r.prototype.init=function(){return this._a=3238371032,this._b=914150663,this._c=812702999,this._d=4144912697,this._e=4290775857,this._f=1750603025,this._g=1694076839,this._h=3204075428,this},r.prototype._hash=function(){var t=s.allocUnsafe(28);return t.writeInt32BE(this._a,0),t.writeInt32BE(this._b,4),t.writeInt32BE(this._c,8),t.writeInt32BE(this._d,12),t.writeInt32BE(this._e,16),t.writeInt32BE(this._f,20),t.writeInt32BE(this._g,24),t},t.exports=r},function(t,e,n){function r(){this.init(),this._w=u,a.call(this,128,112)}var i=n(0),o=n(254),a=n(45),s=n(1).Buffer,u=new Array(160);i(r,o),r.prototype.init=function(){return this._ah=3418070365,this._bh=1654270250,this._ch=2438529370,this._dh=355462360,this._eh=1731405415,this._fh=2394180231,this._gh=3675008525,this._hh=1203062813,this._al=3238371032,this._bl=914150663,this._cl=812702999,this._dl=4144912697,this._el=4290775857,this._fl=1750603025,this._gl=1694076839,this._hl=3204075428,this},r.prototype._hash=function(){function t(t,n,r){e.writeInt32BE(t,r),e.writeInt32BE(n,r+4)}var e=s.allocUnsafe(48);return t(this._ah,this._al,0),t(this._bh,this._bl,8),t(this._ch,this._cl,16),t(this._dh,this._dl,24),t(this._eh,this._el,32),t(this._fh,this._fl,40),e},t.exports=r},function(t,e,n){"use strict";function r(t,e){a.call(this,"digest"),"string"===typeof e&&(e=o.from(e)),this._alg=t,this._key=e,e.length>u?e=t(e):e.length<u&&(e=o.concat([e,s],u));for(var n=this._ipad=o.allocUnsafe(u),r=this._opad=o.allocUnsafe(u),i=0;i<u;i++)n[i]=54^e[i],r[i]=92^e[i];this._hash=[n]}var i=n(0),o=n(1).Buffer,a=n(28),s=o.alloc(128),u=64;i(r,a),r.prototype._update=function(t){this._hash.push(t)},r.prototype._final=function(){var t=this._alg(o.concat(this._hash));return this._alg(o.concat([this._opad,t]))},t.exports=r},function(t,e,n){t.exports=n(257)},function(t,e,n){(function(e,r){function i(t){if(e.process&&!e.process.browser)return Promise.resolve(!1);if(!h||!h.importKey||!h.deriveBits)return Promise.resolve(!1);if(void 0!==p[t])return p[t];s=s||l.alloc(8);var n=o(s,s,10,128,t).then(function(){return!0}).catch(function(){return!1});return p[t]=n,n}function o(t,e,n,r,i){return h.importKey("raw",t,{name:"PBKDF2"},!1,["deriveBits"]).then(function(t){return h.deriveBits({name:"PBKDF2",salt:e,iterations:n,hash:{name:i}},t,r<<3)}).then(function(t){return l.from(t)})}function a(t,e){t.then(function(t){r.nextTick(function(){e(null,t)})},function(t){r.nextTick(function(){e(t)})})}var s,u=n(259),c=n(260),f=n(261),l=n(1).Buffer,h=e.crypto&&e.crypto.subtle,d={sha:"SHA-1","sha-1":"SHA-1",sha1:"SHA-1",sha256:"SHA-256","sha-256":"SHA-256",sha384:"SHA-384","sha-384":"SHA-384","sha-512":"SHA-512",sha512:"SHA-512"},p=[];t.exports=function(t,n,s,h,p,y){"function"===typeof p&&(y=p,p=void 0),p=p||"sha1";var m=d[p.toLowerCase()];if(!m||"function"!==typeof e.Promise)return r.nextTick(function(){var e;try{e=f(t,n,s,h,p)}catch(t){return y(t)}y(null,e)});if(u(t,n,s,h),"function"!==typeof y)throw new Error("No callback provided to pbkdf2");l.isBuffer(t)||(t=l.from(t,c)),l.isBuffer(n)||(n=l.from(n,c)),a(i(m).then(function(e){return e?o(t,n,s,h,m):f(t,n,s,h,p)}),y)}}).call(e,n(8),n(22))},function(t,e,n){function r(t,e){t=t.toLowerCase();var n,r;if(f[t])n=f[t].key,r=f[t].iv;else{if(!l[t])throw new TypeError("invalid suite type");n=8*l[t].key,r=l[t].iv}var i=h(e,!1,n,r);return o(t,i.key,i.iv)}function i(t,e){t=t.toLowerCase();var n,r;if(f[t])n=f[t].key,r=f[t].iv;else{if(!l[t])throw new TypeError("invalid suite type");n=8*l[t].key,r=l[t].iv}var i=h(e,!1,n,r);return a(t,i.key,i.iv)}function o(t,e,n){if(t=t.toLowerCase(),f[t])return c.createCipheriv(t,e,n);if(l[t])return new u({key:e,iv:n,mode:t});throw new TypeError("invalid suite type")}function a(t,e,n){if(t=t.toLowerCase(),f[t])return c.createDecipheriv(t,e,n);if(l[t])return new u({key:e,iv:n,mode:t,decrypt:!0});throw new TypeError("invalid suite type")}function s(){return Object.keys(l).concat(c.getCiphers())}var u=n(537),c=n(158),f=n(159),l=n(552),h=n(94);e.createCipher=e.Cipher=r,e.createCipheriv=e.Cipheriv=o,e.createDecipher=e.Decipher=i,e.createDecipheriv=e.Decipheriv=a,e.listCiphers=e.getCiphers=s},function(t,e,n){function r(t){i.call(this);var e,n=t.mode.toLowerCase(),r=u[n];e=t.decrypt?"decrypt":"encrypt";var o=t.key;s.isBuffer(o)||(o=s.from(o)),"des-ede"!==n&&"des-ede-cbc"!==n||(o=s.concat([o,o.slice(0,8)]));var a=t.iv;s.isBuffer(a)||(a=s.from(a)),this._des=r.create({key:o,iv:a,type:e})}var i=n(28),o=n(157),a=n(0),s=n(1).Buffer,u={"des-ede3-cbc":o.CBC.instantiate(o.EDE),"des-ede3":o.EDE,"des-ede-cbc":o.CBC.instantiate(o.EDE),"des-ede":o.EDE,"des-cbc":o.CBC.instantiate(o.DES),"des-ecb":o.DES};u.des=u["des-cbc"],u.des3=u["des-ede3-cbc"],t.exports=r,a(r,i),r.prototype._update=function(t){return s.from(this._des.update(t))},r.prototype._final=function(){return s.from(this._des.final())}},function(t,e,n){"use strict";e.readUInt32BE=function(t,e){return(t[0+e]<<24|t[1+e]<<16|t[2+e]<<8|t[3+e])>>>0},e.writeUInt32BE=function(t,e,n){t[0+n]=e>>>24,t[1+n]=e>>>16&255,t[2+n]=e>>>8&255,t[3+n]=255&e},e.ip=function(t,e,n,r){for(var i=0,o=0,a=6;a>=0;a-=2){for(var s=0;s<=24;s+=8)i<<=1,i|=e>>>s+a&1;for(var s=0;s<=24;s+=8)i<<=1,i|=t>>>s+a&1}for(var a=6;a>=0;a-=2){for(var s=1;s<=25;s+=8)o<<=1,o|=e>>>s+a&1;for(var s=1;s<=25;s+=8)o<<=1,o|=t>>>s+a&1}n[r+0]=i>>>0,n[r+1]=o>>>0},e.rip=function(t,e,n,r){for(var i=0,o=0,a=0;a<4;a++)for(var s=24;s>=0;s-=8)i<<=1,i|=e>>>s+a&1,i<<=1,i|=t>>>s+a&1;for(var a=4;a<8;a++)for(var s=24;s>=0;s-=8)o<<=1,o|=e>>>s+a&1,o<<=1,o|=t>>>s+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},e.pc1=function(t,e,n,r){for(var i=0,o=0,a=7;a>=5;a--){for(var s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1;for(var s=0;s<=24;s+=8)i<<=1,i|=t>>s+a&1}for(var s=0;s<=24;s+=8)i<<=1,i|=e>>s+a&1;for(var a=1;a<=3;a++){for(var s=0;s<=24;s+=8)o<<=1,o|=e>>s+a&1;for(var s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1}for(var s=0;s<=24;s+=8)o<<=1,o|=t>>s+a&1;n[r+0]=i>>>0,n[r+1]=o>>>0},e.r28shl=function(t,e){return t<<e&268435455|t>>>28-e};var r=[14,11,17,4,27,23,25,0,13,22,7,18,5,9,16,24,2,20,12,21,1,8,15,26,15,4,25,19,9,1,26,16,5,11,23,8,12,7,17,0,22,3,10,14,6,20,27,24];e.pc2=function(t,e,n,i){for(var o=0,a=0,s=r.length>>>1,u=0;u<s;u++)o<<=1,o|=t>>>r[u]&1;for(var u=s;u<r.length;u++)a<<=1,a|=e>>>r[u]&1;n[i+0]=o>>>0,n[i+1]=a>>>0},e.expand=function(t,e,n){var r=0,i=0;r=(1&t)<<5|t>>>27;for(var o=23;o>=15;o-=4)r<<=6,r|=t>>>o&63;for(var o=11;o>=3;o-=4)i|=t>>>o&63,i<<=6;i|=(31&t)<<1|t>>>31,e[n+0]=r>>>0,e[n+1]=i>>>0};var i=[14,0,4,15,13,7,1,4,2,14,15,2,11,13,8,1,3,10,10,6,6,12,12,11,5,9,9,5,0,3,7,8,4,15,1,12,14,8,8,2,13,4,6,9,2,1,11,7,15,5,12,11,9,3,7,14,3,10,10,0,5,6,0,13,15,3,1,13,8,4,14,7,6,15,11,2,3,8,4,14,9,12,7,0,2,1,13,10,12,6,0,9,5,11,10,5,0,13,14,8,7,10,11,1,10,3,4,15,13,4,1,2,5,11,8,6,12,7,6,12,9,0,3,5,2,14,15,9,10,13,0,7,9,0,14,9,6,3,3,4,15,6,5,10,1,2,13,8,12,5,7,14,11,12,4,11,2,15,8,1,13,1,6,10,4,13,9,0,8,6,15,9,3,8,0,7,11,4,1,15,2,14,12,3,5,11,10,5,14,2,7,12,7,13,13,8,14,11,3,5,0,6,6,15,9,0,10,3,1,4,2,7,8,2,5,12,11,1,12,10,4,14,15,9,10,3,6,15,9,0,0,6,12,10,11,1,7,13,13,8,15,9,1,4,3,5,14,11,5,12,2,7,8,2,4,14,2,14,12,11,4,2,1,12,7,4,10,7,11,13,6,1,8,5,5,0,3,15,15,10,13,3,0,9,14,8,9,6,4,11,2,8,1,12,11,7,10,1,13,14,7,2,8,13,15,6,9,15,12,0,5,9,6,10,3,4,0,5,14,3,12,10,1,15,10,4,15,2,9,7,2,12,6,9,8,5,0,6,13,1,3,13,4,14,14,0,7,11,5,3,11,8,9,4,14,3,15,2,5,12,2,9,8,5,12,15,3,10,7,11,0,14,4,1,10,7,1,6,13,0,11,8,6,13,4,13,11,0,2,11,14,7,15,4,0,9,8,1,13,10,3,14,12,3,9,5,7,12,5,2,10,15,6,8,1,6,1,6,4,11,11,13,13,8,12,1,3,4,7,10,14,7,10,9,15,5,6,0,8,15,0,14,5,2,9,3,2,12,13,1,2,15,8,13,4,8,6,10,15,3,11,7,1,4,10,12,9,5,3,6,14,11,5,0,0,14,12,9,7,2,7,2,11,1,4,14,1,7,9,4,12,10,14,8,2,13,0,15,6,12,10,9,13,0,15,3,3,5,5,6,8,11];e.substitute=function(t,e){for(var n=0,r=0;r<4;r++){var o=t>>>18-6*r&63,a=i[64*r+o];n<<=4,n|=a}for(var r=0;r<4;r++){var o=e>>>18-6*r&63,a=i[256+64*r+o];n<<=4,n|=a}return n>>>0};var o=[16,25,12,11,3,20,4,15,31,17,9,6,27,14,1,22,30,24,8,18,0,5,29,23,13,19,2,26,10,21,28,7];e.permute=function(t){for(var e=0,n=0;n<o.length;n++)e<<=1,e|=t>>>o[n]&1;return e>>>0},e.padSplit=function(t,e,n){for(var r=t.toString(2);r.length<e;)r="0"+r;for(var i=[],o=0;o<e;o+=n)i.push(r.slice(o,o+n));return i.join(" ")}},function(t,e,n){"use strict";function r(t){this.options=t,this.type=this.options.type,this.blockSize=8,this._init(),this.buffer=new Array(this.blockSize),this.bufferOff=0}var i=n(13);t.exports=r,r.prototype._init=function(){},r.prototype.update=function(t){return 0===t.length?[]:"decrypt"===this.type?this._updateDecrypt(t):this._updateEncrypt(t)},r.prototype._buffer=function(t,e){for(var n=Math.min(this.buffer.length-this.bufferOff,t.length-e),r=0;r<n;r++)this.buffer[this.bufferOff+r]=t[e+r];return this.bufferOff+=n,n},r.prototype._flushBuffer=function(t,e){return this._update(this.buffer,0,t,e),this.bufferOff=0,this.blockSize},r.prototype._updateEncrypt=function(t){var e=0,n=0,r=(this.bufferOff+t.length)/this.blockSize|0,i=new Array(r*this.blockSize);0!==this.bufferOff&&(e+=this._buffer(t,e),this.bufferOff===this.buffer.length&&(n+=this._flushBuffer(i,n)));for(var o=t.length-(t.length-e)%this.blockSize;e<o;e+=this.blockSize)this._update(t,e,i,n),n+=this.blockSize;for(;e<t.length;e++,this.bufferOff++)this.buffer[this.bufferOff]=t[e];return i},r.prototype._updateDecrypt=function(t){for(var e=0,n=0,r=Math.ceil((this.bufferOff+t.length)/this.blockSize)-1,i=new Array(r*this.blockSize);r>0;r--)e+=this._buffer(t,e),n+=this._flushBuffer(i,n);return e+=this._buffer(t,e),i},r.prototype.final=function(t){var e;t&&(e=this.update(t));var n;return n="encrypt"===this.type?this._finalEncrypt():this._finalDecrypt(),e?e.concat(n):n},r.prototype._pad=function(t,e){if(0===e)return!1;for(;e<t.length;)t[e++]=0;return!0},r.prototype._finalEncrypt=function(){if(!this._pad(this.buffer,this.bufferOff))return[];var t=new Array(this.blockSize);return this._update(this.buffer,0,t,0),t},r.prototype._unpad=function(t){return t},r.prototype._finalDecrypt=function(){i.equal(this.bufferOff,this.blockSize,"Not enough data to decrypt");var t=new Array(this.blockSize);return this._flushBuffer(t,0),this._unpad(t)}},function(t,e,n){"use strict";function r(){this.tmp=new Array(2),this.keys=null}function i(t){c.call(this,t);var e=new r;this._desState=e,this.deriveKeys(e,t.key)}var o=n(13),a=n(0),s=n(157),u=s.utils,c=s.Cipher;a(i,c),t.exports=i,i.create=function(t){return new i(t)};var f=[1,1,2,2,2,2,2,2,1,2,2,2,2,2,2,1];i.prototype.deriveKeys=function(t,e){t.keys=new Array(32),o.equal(e.length,this.blockSize,"Invalid key length");var n=u.readUInt32BE(e,0),r=u.readUInt32BE(e,4);u.pc1(n,r,t.tmp,0),n=t.tmp[0],r=t.tmp[1];for(var i=0;i<t.keys.length;i+=2){var a=f[i>>>1];n=u.r28shl(n,a),r=u.r28shl(r,a),u.pc2(n,r,t.keys,i)}},i.prototype._update=function(t,e,n,r){var i=this._desState,o=u.readUInt32BE(t,e),a=u.readUInt32BE(t,e+4);u.ip(o,a,i.tmp,0),o=i.tmp[0],a=i.tmp[1],"encrypt"===this.type?this._encrypt(i,o,a,i.tmp,0):this._decrypt(i,o,a,i.tmp,0),o=i.tmp[0],a=i.tmp[1],u.writeUInt32BE(n,o,r),u.writeUInt32BE(n,a,r+4)},i.prototype._pad=function(t,e){for(var n=t.length-e,r=e;r<t.length;r++)t[r]=n;return!0},i.prototype._unpad=function(t){for(var e=t[t.length-1],n=t.length-e;n<t.length;n++)o.equal(t[n],e);return t.slice(0,t.length-e)},i.prototype._encrypt=function(t,e,n,r,i){for(var o=e,a=n,s=0;s<t.keys.length;s+=2){var c=t.keys[s],f=t.keys[s+1];u.expand(a,t.tmp,0),c^=t.tmp[0],f^=t.tmp[1];var l=u.substitute(c,f),h=u.permute(l),d=a;a=(o^h)>>>0,o=d}u.rip(a,o,r,i)},i.prototype._decrypt=function(t,e,n,r,i){for(var o=n,a=e,s=t.keys.length-2;s>=0;s-=2){var c=t.keys[s],f=t.keys[s+1];u.expand(o,t.tmp,0),c^=t.tmp[0],f^=t.tmp[1];var l=u.substitute(c,f),h=u.permute(l),d=o;o=(a^h)>>>0,a=d}u.rip(o,a,r,i)}},function(t,e,n){"use strict";function r(t){o.equal(t.length,8,"Invalid IV length"),this.iv=new Array(8);for(var e=0;e<this.iv.length;e++)this.iv[e]=t[e]}function i(t){function e(e){t.call(this,e),this._cbcInit()}a(e,t);for(var n=Object.keys(s),r=0;r<n.length;r++){var i=n[r];e.prototype[i]=s[i]}return e.create=function(t){return new e(t)},e}var o=n(13),a=n(0),s={};e.instantiate=i,s._cbcInit=function(){var t=new r(this.options.iv);this._cbcState=t},s._update=function(t,e,n,r){var i=this._cbcState,o=this.constructor.super_.prototype,a=i.iv;if("encrypt"===this.type){for(var s=0;s<this.blockSize;s++)a[s]^=t[e+s];o._update.call(this,a,0,n,r);for(var s=0;s<this.blockSize;s++)a[s]=n[r+s]}else{o._update.call(this,t,e,n,r);for(var s=0;s<this.blockSize;s++)n[r+s]^=a[s];for(var s=0;s<this.blockSize;s++)a[s]=t[e+s]}}},function(t,e,n){"use strict";function r(t,e){o.equal(e.length,24,"Invalid key length");var n=e.slice(0,8),r=e.slice(8,16),i=e.slice(16,24);this.ciphers="encrypt"===t?[c.create({type:"encrypt",key:n}),c.create({type:"decrypt",key:r}),c.create({type:"encrypt",key:i})]:[c.create({type:"decrypt",key:i}),c.create({type:"encrypt",key:r}),c.create({type:"decrypt",key:n})]}function i(t){u.call(this,t);var e=new r(this.type,this.options.key);this._edeState=e}var o=n(13),a=n(0),s=n(157),u=s.Cipher,c=s.DES;a(i,u),t.exports=i,i.create=function(t){return new i(t)},i.prototype._update=function(t,e,n,r){var i=this._edeState;i.ciphers[0]._update(t,e,n,r),i.ciphers[1]._update(n,r,n,r),i.ciphers[2]._update(n,r,n,r)},i.prototype._pad=c.prototype._pad,i.prototype._unpad=c.prototype._unpad},function(t,e,n){function r(t,e,n){l.call(this),this._cache=new i,this._cipher=new h.AES(e),this._prev=c.from(n),this._mode=t,this._autopadding=!0}function i(){this.cache=c.allocUnsafe(0)}function o(t,e,n){var i=s[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"===typeof e&&(e=c.from(e)),e.length!==i.key/8)throw new TypeError("invalid key length "+e.length);if("string"===typeof n&&(n=c.from(n)),"GCM"!==i.mode&&n.length!==i.iv)throw new TypeError("invalid iv length "+n.length);return"stream"===i.type?new f(i.module,e,n):"auth"===i.type?new u(i.module,e,n):new r(i.module,e,n)}function a(t,e){var n=s[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=d(e,!1,n.key,n.iv);return o(t,r.key,r.iv)}var s=n(159),u=n(265),c=n(1).Buffer,f=n(266),l=n(28),h=n(93),d=n(94);n(0)(r,l),r.prototype._update=function(t){this._cache.add(t);for(var e,n,r=[];e=this._cache.get();)n=this._mode.encrypt(this,e),r.push(n);return c.concat(r)};var p=c.alloc(16,16);r.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return t=this._mode.encrypt(this,t),this._cipher.scrub(),t;if(!t.equals(p))throw this._cipher.scrub(),new Error("data not multiple of block length")},r.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},i.prototype.add=function(t){this.cache=c.concat([this.cache,t])},i.prototype.get=function(){if(this.cache.length>15){var t=this.cache.slice(0,16);return this.cache=this.cache.slice(16),t}return null},i.prototype.flush=function(){for(var t=16-this.cache.length,e=c.allocUnsafe(t),n=-1;++n<t;)e.writeUInt8(t,n);return c.concat([this.cache,e])},e.createCipheriv=o,e.createCipher=a},function(t,e){e.encrypt=function(t,e){return t._cipher.encryptBlock(e)},e.decrypt=function(t,e){return t._cipher.decryptBlock(e)}},function(t,e,n){var r=n(65);e.encrypt=function(t,e){var n=r(e,t._prev);return t._prev=t._cipher.encryptBlock(n),t._prev},e.decrypt=function(t,e){var n=t._prev;t._prev=e;var i=t._cipher.decryptBlock(e);return r(i,n)}},function(t,e,n){function r(t,e,n){var r=e.length,a=o(e,t._cache);return t._cache=t._cache.slice(r),t._prev=i.concat([t._prev,n?e:a]),a}var i=n(1).Buffer,o=n(65);e.encrypt=function(t,e,n){for(var o,a=i.allocUnsafe(0);e.length;){if(0===t._cache.length&&(t._cache=t._cipher.encryptBlock(t._prev),t._prev=i.allocUnsafe(0)),!(t._cache.length<=e.length)){a=i.concat([a,r(t,e,n)]);break}o=t._cache.length,a=i.concat([a,r(t,e.slice(0,o),n)]),e=e.slice(o)}return a}},function(t,e,n){function r(t,e,n){var r=t._cipher.encryptBlock(t._prev),o=r[0]^e;return t._prev=i.concat([t._prev.slice(1),i.from([n?e:o])]),o}var i=n(1).Buffer;e.encrypt=function(t,e,n){for(var o=e.length,a=i.allocUnsafe(o),s=-1;++s<o;)a[s]=r(t,e[s],n);return a}},function(t,e,n){function r(t,e,n){for(var r,o,a,s=-1,u=0;++s<8;)r=t._cipher.encryptBlock(t._prev),o=e&1<<7-s?128:0,a=r[0]^o,u+=(128&a)>>s%8,t._prev=i(t._prev,n?o:a);return u}function i(t,e){var n=t.length,r=-1,i=o.allocUnsafe(t.length);for(t=o.concat([t,o.from([e])]);++r<n;)i[r]=t[r]<<1|t[r+1]>>7;return i}var o=n(1).Buffer;e.encrypt=function(t,e,n){for(var i=e.length,a=o.allocUnsafe(i),s=-1;++s<i;)a[s]=r(t,e[s],n);return a}},function(t,e,n){(function(t){function r(t){return t._prev=t._cipher.encryptBlock(t._prev),t._prev}var i=n(65);e.encrypt=function(e,n){for(;e._cache.length<n.length;)e._cache=t.concat([e._cache,r(e)]);var o=e._cache.slice(0,n.length);return e._cache=e._cache.slice(n.length),i(n,o)}}).call(e,n(7).Buffer)},function(t,e,n){function r(t){return[t.readUInt32BE(0),t.readUInt32BE(4),t.readUInt32BE(8),t.readUInt32BE(12)]}function i(t){var e=a.allocUnsafe(16);return e.writeUInt32BE(t[0]>>>0,0),e.writeUInt32BE(t[1]>>>0,4),e.writeUInt32BE(t[2]>>>0,8),e.writeUInt32BE(t[3]>>>0,12),e}function o(t){this.h=t,this.state=a.alloc(16,0),this.cache=a.allocUnsafe(0)}var a=n(1).Buffer,s=a.alloc(16,0);o.prototype.ghash=function(t){for(var e=-1;++e<t.length;)this.state[e]^=t[e];this._multiply()},o.prototype._multiply=function(){for(var t,e,n,o=r(this.h),a=[0,0,0,0],s=-1;++s<128;){for(e=0!==(this.state[~~(s/8)]&1<<7-s%8),e&&(a[0]^=o[0],a[1]^=o[1],a[2]^=o[2],a[3]^=o[3]),n=0!==(1&o[3]),t=3;t>0;t--)o[t]=o[t]>>>1|(1&o[t-1])<<31;o[0]=o[0]>>>1,n&&(o[0]=o[0]^225<<24)}this.state=i(a)},o.prototype.update=function(t){this.cache=a.concat([this.cache,t]);for(var e;this.cache.length>=16;)e=this.cache.slice(0,16),this.cache=this.cache.slice(16),this.ghash(e)},o.prototype.final=function(t,e){return this.cache.length&&this.ghash(a.concat([this.cache,s],16)),this.ghash(i([0,t,0,e])),this.state},t.exports=o},function(t,e,n){function r(t,e,n){h.call(this),this._cache=new i,this._last=void 0,this._cipher=new d.AES(e),this._prev=c.from(n),this._mode=t,this._autopadding=!0}function i(){this.cache=c.allocUnsafe(0)}function o(t){var e=t[15];if(e<1||e>16)throw new Error("unable to decrypt data");for(var n=-1;++n<e;)if(t[n+(16-e)]!==e)throw new Error("unable to decrypt data");if(16!==e)return t.slice(0,16-e)}function a(t,e,n){var i=f[t.toLowerCase()];if(!i)throw new TypeError("invalid suite type");if("string"===typeof n&&(n=c.from(n)),"GCM"!==i.mode&&n.length!==i.iv)throw new TypeError("invalid iv length "+n.length);if("string"===typeof e&&(e=c.from(e)),e.length!==i.key/8)throw new TypeError("invalid key length "+e.length);return"stream"===i.type?new l(i.module,e,n,!0):"auth"===i.type?new u(i.module,e,n,!0):new r(i.module,e,n)}function s(t,e){var n=f[t.toLowerCase()];if(!n)throw new TypeError("invalid suite type");var r=p(e,!1,n.key,n.iv);return a(t,r.key,r.iv)}var u=n(265),c=n(1).Buffer,f=n(159),l=n(266),h=n(28),d=n(93),p=n(94);n(0)(r,h),r.prototype._update=function(t){this._cache.add(t);for(var e,n,r=[];e=this._cache.get(this._autopadding);)n=this._mode.decrypt(this,e),r.push(n);return c.concat(r)},r.prototype._final=function(){var t=this._cache.flush();if(this._autopadding)return o(this._mode.decrypt(this,t));if(t)throw new Error("data not multiple of block length")},r.prototype.setAutoPadding=function(t){return this._autopadding=!!t,this},i.prototype.add=function(t){this.cache=c.concat([this.cache,t])},i.prototype.get=function(t){var e;if(t){if(this.cache.length>16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e}else if(this.cache.length>=16)return e=this.cache.slice(0,16),this.cache=this.cache.slice(16),e;return null},i.prototype.flush=function(){if(this.cache.length)return this.cache},e.createDecipher=s,e.createDecipheriv=a},function(t,e){e["des-ecb"]={key:8,iv:0},e["des-cbc"]=e.des={key:8,iv:8},e["des-ede3-cbc"]=e.des3={key:24,iv:8},e["des-ede3"]={key:24,iv:0},e["des-ede-cbc"]={key:16,iv:8},e["des-ede"]={key:16,iv:0}},function(t,e,n){(function(t){function r(e){var n=new t(a[e].prime,"hex"),r=new t(a[e].gen,"hex");return new s(n,r)}function i(e,n,r,a){return t.isBuffer(n)||void 0===u[n]?i(e,"binary",n,r):(n=n||"binary",a=a||"binary",r=r||new t([2]),t.isBuffer(r)||(r=new t(r,a)),"number"===typeof e?new s(o(e,r),r,!0):(t.isBuffer(e)||(e=new t(e,n)),new s(e,r,!0)))}var o=n(267),a=n(556),s=n(557),u={binary:!0,hex:!0,base64:!0};e.DiffieHellmanGroup=e.createDiffieHellmanGroup=e.getDiffieHellman=r,e.createDiffieHellman=e.DiffieHellman=i}).call(e,n(7).Buffer)},function(t,e){},function(t,e){},function(t,e){t.exports={modp1:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a63a3620ffffffffffffffff"},modp2:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece65381ffffffffffffffff"},modp5:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca237327ffffffffffffffff"},modp14:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aacaa68ffffffffffffffff"},modp15:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a93ad2caffffffffffffffff"},modp16:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c934063199ffffffffffffffff"},modp17:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dcc4024ffffffffffffffff"},modp18:{gen:"02",prime:"ffffffffffffffffc90fdaa22168c234c4c6628b80dc1cd129024e088a67cc74020bbea63b139b22514a08798e3404ddef9519b3cd3a431b302b0a6df25f14374fe1356d6d51c245e485b576625e7ec6f44c42e9a637ed6b0bff5cb6f406b7edee386bfb5a899fa5ae9f24117c4b1fe649286651ece45b3dc2007cb8a163bf0598da48361c55d39a69163fa8fd24cf5f83655d23dca3ad961c62f356208552bb9ed529077096966d670c354e4abc9804f1746c08ca18217c32905e462e36ce3be39e772c180e86039b2783a2ec07a28fb5c55df06f4c52c9de2bcbf6955817183995497cea956ae515d2261898fa051015728e5a8aaac42dad33170d04507a33a85521abdf1cba64ecfb850458dbef0a8aea71575d060c7db3970f85a6e1e4c7abf5ae8cdb0933d71e8c94e04a25619dcee3d2261ad2ee6bf12ffa06d98a0864d87602733ec86a64521f2b18177b200cbbe117577a615d6c770988c0bad946e208e24fa074e5ab3143db5bfce0fd108e4b82d120a92108011a723c12a787e6d788719a10bdba5b2699c327186af4e23c1a946834b6150bda2583e9ca2ad44ce8dbbbc2db04de8ef92e8efc141fbecaa6287c59474e6bc05d99b2964fa090c3a2233ba186515be7ed1f612970cee2d7afb81bdd762170481cd0069127d5b05aa993b4ea988d8fddc186ffb7dc90a6c08f4df435c93402849236c3fab4d27c7026c1d4dcb2602646dec9751e763dba37bdf8ff9406ad9e530ee5db382f413001aeb06a53ed9027d831179727b0865a8918da3edbebcf9b14ed44ce6cbaced4bb1bdb7f1447e6cc254b332051512bd7af426fb8f401378cd2bf5983ca01c64b92ecf032ea15d1721d03f482d7ce6e74fef6d55e702f46980c82b5a84031900b1c9e59e7c97fbec7e8f323a97a7e36cc88be0f1d45b7ff585ac54bd407b22b4154aacc8f6d7ebf48e1d814cc5ed20f8037e0a79715eef29be32806a1d58bb7c5da76f550aa3d8a1fbff0eb19ccb1a313d55cda56c9ec2ef29632387fe8d76e3c0468043e8f663f4860ee12bf2d5b0b7474d6e694f91e6dbe115974a3926f12fee5e438777cb6a932df8cd8bec4d073b931ba3bc832b68d9dd300741fa7bf8afc47ed2576f6936ba424663aab639c5ae4f5683423b4742bf1c978238f16cbe39d652de3fdb8befc848ad922222e04a4037c0713eb57a81a23f0c73473fc646cea306b4bcbc8862f8385ddfa9d4b7fa2c087e879683303ed5bdd3a062b3cf5b3a278a66d2a13f83f44f82ddf310ee074ab6a364597e899a0255dc164f31cc50846851df9ab48195ded7ea1b1d510bd7ee74d73faf36bc31ecfa268359046f4eb879f924009438b481c6cd7889a002ed5ee382bc9190da6fc026e479558e4475677e9aa9e3050e2765694dfc81f56e880b96e7160c980dd98edd3dfffffffffffffffff"}}},function(t,e,n){(function(e){function r(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this._pub=new u(t),this}function i(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this._priv=new u(t),this}function o(t,e){var n=e.toString("hex"),r=[n,t.toString(16)].join("_");if(r in g)return g[r];var i=0;if(t.isEven()||!m.simpleSieve||!m.fermatTest(t)||!f.test(t))return i+=1,i+="02"===n||"05"===n?8:4,g[r]=i,i;f.test(t.shrn(1))||(i+=2);var o;switch(n){case"02":t.mod(l).cmp(h)&&(i+=8);break;case"05":o=t.mod(d),o.cmp(p)&&o.cmp(y)&&(i+=8);break;default:i+=4}return g[r]=i,i}function a(t,e,n){this.setGenerator(e),this.__prime=new u(t),this._prime=u.mont(this.__prime),this._primeLen=t.length,this._pub=void 0,this._priv=void 0,this._primeCode=void 0,n?(this.setPublicKey=r,this.setPrivateKey=i):this._primeCode=8}function s(t,n){var r=new e(t.toArray());return n?r.toString(n):r}var u=n(5),c=n(268),f=new c,l=new u(24),h=new u(11),d=new u(10),p=new u(3),y=new u(7),m=n(267),v=n(44);t.exports=a;var g={};Object.defineProperty(a.prototype,"verifyError",{enumerable:!0,get:function(){return"number"!==typeof this._primeCode&&(this._primeCode=o(this.__prime,this.__gen)),this._primeCode}}),a.prototype.generateKeys=function(){return this._priv||(this._priv=new u(v(this._primeLen))),this._pub=this._gen.toRed(this._prime).redPow(this._priv).fromRed(),this.getPublicKey()},a.prototype.computeSecret=function(t){t=new u(t),t=t.toRed(this._prime);var n=t.redPow(this._priv).fromRed(),r=new e(n.toArray()),i=this.getPrime();if(r.length<i.length){var o=new e(i.length-r.length);o.fill(0),r=e.concat([o,r])}return r},a.prototype.getPublicKey=function(t){return s(this._pub,t)},a.prototype.getPrivateKey=function(t){return s(this._priv,t)},a.prototype.getPrime=function(t){return s(this.__prime,t)},a.prototype.getGenerator=function(t){return s(this._gen,t)},a.prototype.setGenerator=function(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this.__gen=t,this._gen=new u(t),this}}).call(e,n(7).Buffer)},function(t,e,n){(function(e){function r(t){u.Writable.call(this);var e=h[t];if(!e)throw new Error("Unknown message digest");this._hashType=e.hash,this._hash=s(e.hash),this._tag=e.id,this._signType=e.sign}function i(t){u.Writable.call(this);var e=h[t];if(!e)throw new Error("Unknown message digest");this._hash=s(e.hash),this._tag=e.id,this._signType=e.sign}function o(t){return new r(t)}function a(t){return new i(t)}var s=n(63),u=n(150),c=n(0),f=n(559),l=n(595),h=n(257);Object.keys(h).forEach(function(t){h[t].id=new e(h[t].id,"hex"),h[t.toLowerCase()]=h[t]}),c(r,u.Writable),r.prototype._write=function(t,e,n){this._hash.update(t),n()},r.prototype.update=function(t,n){return"string"===typeof t&&(t=new e(t,n)),this._hash.update(t),this},r.prototype.sign=function(t,e){this.end();var n=this._hash.digest(),r=f(n,t,this._hashType,this._signType,this._tag);return e?r.toString(e):r},c(i,u.Writable),i.prototype._write=function(t,e,n){this._hash.update(t),n()},i.prototype.update=function(t,n){return"string"===typeof t&&(t=new e(t,n)),this._hash.update(t),this},i.prototype.verify=function(t,n,r){"string"===typeof n&&(n=new e(n,r)),this.end();var i=this._hash.digest();return l(n,i,t,this._signType,this._tag)},t.exports={Sign:o,Verify:a,createSign:o,createVerify:a}}).call(e,n(7).Buffer)},function(t,e,n){(function(e){function r(t,n,r,a,s){var u=m(n);if(u.curve){if("ecdsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong private key type");return i(t,u)}if("dsa"===u.type){if("dsa"!==a)throw new Error("wrong private key type");return o(t,u,r)}if("rsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong private key type");t=e.concat([s,t]);for(var c=u.modulus.byteLength(),f=[0,1];t.length+f.length+1<c;)f.push(255);f.push(0);for(var l=-1;++l<t.length;)f.push(t[l]);return d(f,u)}function i(t,n){var r=v[n.curve.join(".")];if(!r)throw new Error("unknown curve "+n.curve.join("."));var i=new p(r),o=i.keyFromPrivate(n.privateKey),a=o.sign(t);return new e(a.toDER())}function o(t,e,n){for(var r,i=e.params.priv_key,o=e.params.p,c=e.params.q,h=e.params.g,d=new y(0),p=u(t,c).mod(c),m=!1,v=s(i,c,t,n);!1===m;)r=f(c,v,n),d=l(h,r,o,c),m=r.invm(c).imul(p.add(i.mul(d))).mod(c),0===m.cmpn(0)&&(m=!1,d=new y(0));return a(d,m)}function a(t,n){t=t.toArray(),n=n.toArray(),128&t[0]&&(t=[0].concat(t)),128&n[0]&&(n=[0].concat(n));var r=t.length+n.length+4,i=[48,r,2,t.length];return i=i.concat(t,[2,n.length],n),new e(i)}function s(t,n,r,i){if(t=new e(t.toArray()),t.length<n.byteLength()){var o=new e(n.byteLength()-t.length);o.fill(0),t=e.concat([o,t])}var a=r.length,s=c(r,n),u=new e(a);u.fill(1);var f=new e(a);return f.fill(0),f=h(i,f).update(u).update(new e([0])).update(t).update(s).digest(),u=h(i,f).update(u).digest(),f=h(i,f).update(u).update(new e([1])).update(t).update(s).digest(),u=h(i,f).update(u).digest(),{k:f,v:u}}function u(t,e){var n=new y(t),r=(t.length<<3)-e.bitLength();return r>0&&n.ishrn(r),n}function c(t,n){t=u(t,n),t=t.mod(n);var r=new e(t.toArray());if(r.length<n.byteLength()){var i=new e(n.byteLength()-r.length);i.fill(0),r=e.concat([i,r])}return r}function f(t,n,r){var i,o;do{for(i=new e(0);8*i.length<t.bitLength();)n.v=h(r,n.k).update(n.v).digest(),i=e.concat([i,n.v]);o=u(i,t),n.k=h(r,n.k).update(n.v).update(new e([0])).digest(),n.v=h(r,n.k).update(n.v).digest()}while(-1!==o.cmp(t));return o}function l(t,e,n,r){return t.toRed(y.mont(n)).redPow(e).fromRed().mod(r)}var h=n(255),d=n(160),p=n(12).ec,y=n(5),m=n(96),v=n(278);t.exports=r,t.exports.getKey=s,t.exports.makeKey=f}).call(e,n(7).Buffer)},function(t,e){t.exports={_from:"elliptic@^6.0.0",_id:"elliptic@6.4.1",_inBundle:!1,_integrity:"sha512-BsXLz5sqX8OHcsh7CqBMztyXARmGQ3LWPtGjJi6DiJHq5C/qvi9P3OqgswKSDftbu8+IoI/QDTAm2fFnQ9SZSQ==",_location:"/elliptic",_phantomChildren:{},_requested:{type:"range",registry:!0,raw:"elliptic@^6.0.0",name:"elliptic",escapedName:"elliptic",rawSpec:"^6.0.0",saveSpec:null,fetchSpec:"^6.0.0"},_requiredBy:["/browserify-sign","/create-ecdh"],_resolved:"https://registry.npmjs.org/elliptic/-/elliptic-6.4.1.tgz",_shasum:"c2d0b7776911b86722c632c3c06c60f2f819939a",_spec:"elliptic@^6.0.0",_where:"C:\\Users\\T\xe2m\\Desktop\\deadline CNM\\my-app\\node_modules\\browserify-sign",author:{name:"Fedor Indutny",email:"fedor@indutny.com"},bugs:{url:"https://github.com/indutny/elliptic/issues"},bundleDependencies:!1,dependencies:{"bn.js":"^4.4.0",brorand:"^1.0.1","hash.js":"^1.0.0","hmac-drbg":"^1.0.0",inherits:"^2.0.1","minimalistic-assert":"^1.0.0","minimalistic-crypto-utils":"^1.0.0"},deprecated:!1,description:"EC cryptography",devDependencies:{brfs:"^1.4.3",coveralls:"^2.11.3",grunt:"^0.4.5","grunt-browserify":"^5.0.0","grunt-cli":"^1.2.0","grunt-contrib-connect":"^1.0.0","grunt-contrib-copy":"^1.0.0","grunt-contrib-uglify":"^1.0.1","grunt-mocha-istanbul":"^3.0.1","grunt-saucelabs":"^8.6.2",istanbul:"^0.4.2",jscs:"^2.9.0",jshint:"^2.6.0",mocha:"^2.1.0"},files:["lib"],homepage:"https://github.com/indutny/elliptic",keywords:["EC","Elliptic","curve","Cryptography"],license:"MIT",main:"lib/elliptic.js",name:"elliptic",repository:{type:"git",url:"git+ssh://git@github.com/indutny/elliptic.git"},scripts:{jscs:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",jshint:"jscs benchmarks/*.js lib/*.js lib/**/*.js lib/**/**/*.js test/index.js",lint:"npm run jscs && npm run jshint",test:"npm run lint && npm run unit",unit:"istanbul test _mocha --reporter=spec test/index.js",version:"grunt dist && git add dist/"},version:"6.4.1"}},function(t,e,n){"use strict";function r(t,e){for(var n=[],r=1<<e+1,i=t.clone();i.cmpn(1)>=0;){var o;if(i.isOdd()){var a=i.andln(r-1);o=a>(r>>1)-1?(r>>1)-a:a,i.isubn(o)}else o=0;n.push(o);for(var s=0!==i.cmpn(0)&&0===i.andln(r-1)?e+1:1,u=1;u<s;u++)n.push(0);i.iushrn(s)}return n}function i(t,e){var n=[[],[]];t=t.clone(),e=e.clone();for(var r=0,i=0;t.cmpn(-r)>0||e.cmpn(-i)>0;){var o=t.andln(3)+r&3,a=e.andln(3)+i&3;3===o&&(o=-1),3===a&&(a=-1);var s;if(0===(1&o))s=0;else{var u=t.andln(7)+r&7;s=3!==u&&5!==u||2!==a?o:-o}n[0].push(s);var c;if(0===(1&a))c=0;else{var u=e.andln(7)+i&7;c=3!==u&&5!==u||2!==o?a:-a}n[1].push(c),2*r===s+1&&(r=1-r),2*i===c+1&&(i=1-i),t.iushrn(1),e.iushrn(1)}return n}function o(t,e,n){var r="_"+e;t.prototype[e]=function(){return void 0!==this[r]?this[r]:this[r]=n.call(this)}}function a(t){return"string"===typeof t?u.toArray(t,"hex"):t}function s(t){return new c(t,"hex","le")}var u=e,c=n(5),f=n(13),l=n(270);u.assert=f,u.toArray=l.toArray,u.zero2=l.zero2,u.toHex=l.toHex,u.encode=l.encode,u.getNAF=r,u.getJSF=i,u.cachedProperty=o,u.parseBytes=a,u.intFromLE=s},function(t,e,n){"use strict";function r(t,e){this.type=t,this.p=new o(e.p,16),this.red=e.prime?o.red(e.prime):o.mont(this.p),this.zero=new o(0).toRed(this.red),this.one=new o(1).toRed(this.red),this.two=new o(2).toRed(this.red),this.n=e.n&&new o(e.n,16),this.g=e.g&&this.pointFromJSON(e.g,e.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var n=this.n&&this.p.div(this.n);!n||n.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}function i(t,e){this.curve=t,this.type=e,this.precomputed=null}var o=n(5),a=n(12),s=a.utils,u=s.getNAF,c=s.getJSF,f=s.assert;t.exports=r,r.prototype.point=function(){throw new Error("Not implemented")},r.prototype.validate=function(){throw new Error("Not implemented")},r.prototype._fixedNafMul=function(t,e){f(t.precomputed);var n=t._getDoubles(),r=u(e,1),i=(1<<n.step+1)-(n.step%2===0?2:1);i/=3;for(var o=[],a=0;a<r.length;a+=n.step){for(var s=0,e=a+n.step-1;e>=a;e--)s=(s<<1)+r[e];o.push(s)}for(var c=this.jpoint(null,null,null),l=this.jpoint(null,null,null),h=i;h>0;h--){for(var a=0;a<o.length;a++){var s=o[a];s===h?l=l.mixedAdd(n.points[a]):s===-h&&(l=l.mixedAdd(n.points[a].neg()))}c=c.add(l)}return c.toP()},r.prototype._wnafMul=function(t,e){var n=4,r=t._getNAFPoints(n);n=r.wnd;for(var i=r.points,o=u(e,n),a=this.jpoint(null,null,null),s=o.length-1;s>=0;s--){for(var e=0;s>=0&&0===o[s];s--)e++;if(s>=0&&e++,a=a.dblp(e),s<0)break;var c=o[s];f(0!==c),a="affine"===t.type?c>0?a.mixedAdd(i[c-1>>1]):a.mixedAdd(i[-c-1>>1].neg()):c>0?a.add(i[c-1>>1]):a.add(i[-c-1>>1].neg())}return"affine"===t.type?a.toP():a},r.prototype._wnafMulAdd=function(t,e,n,r,i){for(var o=this._wnafT1,a=this._wnafT2,s=this._wnafT3,f=0,l=0;l<r;l++){var h=e[l],d=h._getNAFPoints(t);o[l]=d.wnd,a[l]=d.points}for(var l=r-1;l>=1;l-=2){var p=l-1,y=l;if(1===o[p]&&1===o[y]){var m=[e[p],null,null,e[y]];0===e[p].y.cmp(e[y].y)?(m[1]=e[p].add(e[y]),m[2]=e[p].toJ().mixedAdd(e[y].neg())):0===e[p].y.cmp(e[y].y.redNeg())?(m[1]=e[p].toJ().mixedAdd(e[y]),m[2]=e[p].add(e[y].neg())):(m[1]=e[p].toJ().mixedAdd(e[y]),m[2]=e[p].toJ().mixedAdd(e[y].neg()));var v=[-3,-1,-5,-7,0,7,5,1,3],g=c(n[p],n[y]);f=Math.max(g[0].length,f),s[p]=new Array(f),s[y]=new Array(f);for(var b=0;b<f;b++){var _=0|g[0][b],w=0|g[1][b];s[p][b]=v[3*(_+1)+(w+1)],s[y][b]=0,a[p]=m}}else s[p]=u(n[p],o[p]),s[y]=u(n[y],o[y]),f=Math.max(s[p].length,f),f=Math.max(s[y].length,f)}for(var E=this.jpoint(null,null,null),S=this._wnafT4,l=f;l>=0;l--){for(var T=0;l>=0;){for(var C=!0,b=0;b<r;b++)S[b]=0|s[b][l],0!==S[b]&&(C=!1);if(!C)break;T++,l--}if(l>=0&&T++,E=E.dblp(T),l<0)break;for(var b=0;b<r;b++){var h,I=S[b];0!==I&&(I>0?h=a[b][I-1>>1]:I<0&&(h=a[b][-I-1>>1].neg()),E="affine"===h.type?E.mixedAdd(h):E.add(h))}}for(var l=0;l<r;l++)a[l]=null;return i?E:E.toP()},r.BasePoint=i,i.prototype.eq=function(){throw new Error("Not implemented")},i.prototype.validate=function(){return this.curve.validate(this)},r.prototype.decodePoint=function(t,e){t=s.toArray(t,e);var n=this.p.byteLength();if((4===t[0]||6===t[0]||7===t[0])&&t.length-1===2*n){6===t[0]?f(t[t.length-1]%2===0):7===t[0]&&f(t[t.length-1]%2===1);return this.point(t.slice(1,1+n),t.slice(1+n,1+2*n))}if((2===t[0]||3===t[0])&&t.length-1===n)return this.pointFromX(t.slice(1,1+n),3===t[0]);throw new Error("Unknown point format")},i.prototype.encodeCompressed=function(t){return this.encode(t,!0)},i.prototype._encode=function(t){var e=this.curve.p.byteLength(),n=this.getX().toArray("be",e);return t?[this.getY().isEven()?2:3].concat(n):[4].concat(n,this.getY().toArray("be",e))},i.prototype.encode=function(t,e){return s.encode(this._encode(e),t)},i.prototype.precompute=function(t){if(this.precomputed)return this;var e={doubles:null,naf:null,beta:null};return e.naf=this._getNAFPoints(8),e.doubles=this._getDoubles(4,t),e.beta=this._getBeta(),this.precomputed=e,this},i.prototype._hasDoubles=function(t){if(!this.precomputed)return!1;var e=this.precomputed.doubles;return!!e&&e.points.length>=Math.ceil((t.bitLength()+1)/e.step)},i.prototype._getDoubles=function(t,e){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var n=[this],r=this,i=0;i<e;i+=t){for(var o=0;o<t;o++)r=r.dbl();n.push(r)}return{step:t,points:n}},i.prototype._getNAFPoints=function(t){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var e=[this],n=(1<<t)-1,r=1===n?null:this.dbl(),i=1;i<n;i++)e[i]=e[i-1].add(r);return{wnd:t,points:e}},i.prototype._getBeta=function(){return null},i.prototype.dblp=function(t){for(var e=this,n=0;n<t;n++)e=e.dbl();return e}},function(t,e,n){"use strict";function r(t){f.call(this,"short",t),this.a=new u(t.a,16).toRed(this.red),this.b=new u(t.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(t),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}function i(t,e,n,r){f.BasePoint.call(this,t,"affine"),null===e&&null===n?(this.x=null,this.y=null,this.inf=!0):(this.x=new u(e,16),this.y=new u(n,16),r&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function o(t,e,n,r){f.BasePoint.call(this,t,"jacobian"),null===e&&null===n&&null===r?(this.x=this.curve.one,this.y=this.curve.one,this.z=new u(0)):(this.x=new u(e,16),this.y=new u(n,16),this.z=new u(r,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}var a=n(95),s=n(12),u=n(5),c=n(0),f=a.base,l=s.utils.assert;c(r,f),t.exports=r,r.prototype._getEndomorphism=function(t){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var e,n;if(t.beta)e=new u(t.beta,16).toRed(this.red);else{var r=this._getEndoRoots(this.p);e=r[0].cmp(r[1])<0?r[0]:r[1],e=e.toRed(this.red)}if(t.lambda)n=new u(t.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(e))?n=i[0]:(n=i[1],l(0===this.g.mul(n).x.cmp(this.g.x.redMul(e))))}var o;return o=t.basis?t.basis.map(function(t){return{a:new u(t.a,16),b:new u(t.b,16)}}):this._getEndoBasis(n),{beta:e,lambda:n,basis:o}}},r.prototype._getEndoRoots=function(t){var e=t===this.p?this.red:u.mont(t),n=new u(2).toRed(e).redInvm(),r=n.redNeg(),i=new u(3).toRed(e).redNeg().redSqrt().redMul(n);return[r.redAdd(i).fromRed(),r.redSub(i).fromRed()]},r.prototype._getEndoBasis=function(t){for(var e,n,r,i,o,a,s,c,f,l=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=t,d=this.n.clone(),p=new u(1),y=new u(0),m=new u(0),v=new u(1),g=0;0!==h.cmpn(0);){var b=d.div(h);c=d.sub(b.mul(h)),f=m.sub(b.mul(p));var _=v.sub(b.mul(y));if(!r&&c.cmp(l)<0)e=s.neg(),n=p,r=c.neg(),i=f;else if(r&&2===++g)break;s=c,d=h,h=c,m=p,p=f,v=y,y=_}o=c.neg(),a=f;var w=r.sqr().add(i.sqr());return o.sqr().add(a.sqr()).cmp(w)>=0&&(o=e,a=n),r.negative&&(r=r.neg(),i=i.neg()),o.negative&&(o=o.neg(),a=a.neg()),[{a:r,b:i},{a:o,b:a}]},r.prototype._endoSplit=function(t){var e=this.endo.basis,n=e[0],r=e[1],i=r.b.mul(t).divRound(this.n),o=n.b.neg().mul(t).divRound(this.n),a=i.mul(n.a),s=o.mul(r.a),u=i.mul(n.b),c=o.mul(r.b);return{k1:t.sub(a).sub(s),k2:u.add(c).neg()}},r.prototype.pointFromX=function(t,e){t=new u(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr().redMul(t).redIAdd(t.redMul(this.a)).redIAdd(this.b),r=n.redSqrt();if(0!==r.redSqr().redSub(n).cmp(this.zero))throw new Error("invalid point");var i=r.fromRed().isOdd();return(e&&!i||!e&&i)&&(r=r.redNeg()),this.point(t,r)},r.prototype.validate=function(t){if(t.inf)return!0;var e=t.x,n=t.y,r=this.a.redMul(e),i=e.redSqr().redMul(e).redIAdd(r).redIAdd(this.b);return 0===n.redSqr().redISub(i).cmpn(0)},r.prototype._endoWnafMulAdd=function(t,e,n){for(var r=this._endoWnafT1,i=this._endoWnafT2,o=0;o<t.length;o++){var a=this._endoSplit(e[o]),s=t[o],u=s._getBeta();a.k1.negative&&(a.k1.ineg(),s=s.neg(!0)),a.k2.negative&&(a.k2.ineg(),u=u.neg(!0)),r[2*o]=s,r[2*o+1]=u,i[2*o]=a.k1,i[2*o+1]=a.k2}for(var c=this._wnafMulAdd(1,r,i,2*o,n),f=0;f<2*o;f++)r[f]=null,i[f]=null;return c},c(i,f.BasePoint),r.prototype.point=function(t,e,n){return new i(this,t,e,n)},r.prototype.pointFromJSON=function(t,e){return i.fromJSON(this,t,e)},i.prototype._getBeta=function(){if(this.curve.endo){var t=this.precomputed;if(t&&t.beta)return t.beta;var e=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(t){var n=this.curve,r=function(t){return n.point(t.x.redMul(n.endo.beta),t.y)};t.beta=e,e.precomputed={beta:null,naf:t.naf&&{wnd:t.naf.wnd,points:t.naf.points.map(r)},doubles:t.doubles&&{step:t.doubles.step,points:t.doubles.points.map(r)}}}return e}},i.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},i.fromJSON=function(t,e,n){function r(e){return t.point(e[0],e[1],n)}"string"===typeof e&&(e=JSON.parse(e));var i=t.point(e[0],e[1],n);if(!e[2])return i;var o=e[2];return i.precomputed={beta:null,doubles:o.doubles&&{step:o.doubles.step,points:[i].concat(o.doubles.points.map(r))},naf:o.naf&&{wnd:o.naf.wnd,points:[i].concat(o.naf.points.map(r))}},i},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return this.inf},i.prototype.add=function(t){if(this.inf)return t;if(t.inf)return this;if(this.eq(t))return this.dbl();if(this.neg().eq(t))return this.curve.point(null,null);if(0===this.x.cmp(t.x))return this.curve.point(null,null);var e=this.y.redSub(t.y);0!==e.cmpn(0)&&(e=e.redMul(this.x.redSub(t.x).redInvm()));var n=e.redSqr().redISub(this.x).redISub(t.x),r=e.redMul(this.x.redSub(n)).redISub(this.y);return this.curve.point(n,r)},i.prototype.dbl=function(){if(this.inf)return this;var t=this.y.redAdd(this.y);if(0===t.cmpn(0))return this.curve.point(null,null);var e=this.curve.a,n=this.x.redSqr(),r=t.redInvm(),i=n.redAdd(n).redIAdd(n).redIAdd(e).redMul(r),o=i.redSqr().redISub(this.x.redAdd(this.x)),a=i.redMul(this.x.redSub(o)).redISub(this.y);return this.curve.point(o,a)},i.prototype.getX=function(){return this.x.fromRed()},i.prototype.getY=function(){return this.y.fromRed()},i.prototype.mul=function(t){return t=new u(t,16),this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve.endo?this.curve._endoWnafMulAdd([this],[t]):this.curve._wnafMul(this,t)},i.prototype.mulAdd=function(t,e,n){var r=[this,e],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i):this.curve._wnafMulAdd(1,r,i,2)},i.prototype.jmulAdd=function(t,e,n){var r=[this,e],i=[t,n];return this.curve.endo?this.curve._endoWnafMulAdd(r,i,!0):this.curve._wnafMulAdd(1,r,i,2,!0)},i.prototype.eq=function(t){return this===t||this.inf===t.inf&&(this.inf||0===this.x.cmp(t.x)&&0===this.y.cmp(t.y))},i.prototype.neg=function(t){if(this.inf)return this;var e=this.curve.point(this.x,this.y.redNeg());if(t&&this.precomputed){var n=this.precomputed,r=function(t){return t.neg()};e.precomputed={naf:n.naf&&{wnd:n.naf.wnd,points:n.naf.points.map(r)},doubles:n.doubles&&{step:n.doubles.step,points:n.doubles.points.map(r)}}}return e},i.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},c(o,f.BasePoint),r.prototype.jpoint=function(t,e,n){return new o(this,t,e,n)},o.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var t=this.z.redInvm(),e=t.redSqr(),n=this.x.redMul(e),r=this.y.redMul(e).redMul(t);return this.curve.point(n,r)},o.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},o.prototype.add=function(t){if(this.isInfinity())return t;if(t.isInfinity())return this;var e=t.z.redSqr(),n=this.z.redSqr(),r=this.x.redMul(e),i=t.x.redMul(n),o=this.y.redMul(e.redMul(t.z)),a=t.y.redMul(n.redMul(this.z)),s=r.redSub(i),u=o.redSub(a);if(0===s.cmpn(0))return 0!==u.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),f=c.redMul(s),l=r.redMul(c),h=u.redSqr().redIAdd(f).redISub(l).redISub(l),d=u.redMul(l.redISub(h)).redISub(o.redMul(f)),p=this.z.redMul(t.z).redMul(s);return this.curve.jpoint(h,d,p)},o.prototype.mixedAdd=function(t){if(this.isInfinity())return t.toJ();if(t.isInfinity())return this;var e=this.z.redSqr(),n=this.x,r=t.x.redMul(e),i=this.y,o=t.y.redMul(e).redMul(this.z),a=n.redSub(r),s=i.redSub(o);if(0===a.cmpn(0))return 0!==s.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=a.redSqr(),c=u.redMul(a),f=n.redMul(u),l=s.redSqr().redIAdd(c).redISub(f).redISub(f),h=s.redMul(f.redISub(l)).redISub(i.redMul(c)),d=this.z.redMul(a);return this.curve.jpoint(l,h,d)},o.prototype.dblp=function(t){if(0===t)return this;if(this.isInfinity())return this;if(!t)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var e=this,n=0;n<t;n++)e=e.dbl();return e}for(var r=this.curve.a,i=this.curve.tinv,o=this.x,a=this.y,s=this.z,u=s.redSqr().redSqr(),c=a.redAdd(a),n=0;n<t;n++){var f=o.redSqr(),l=c.redSqr(),h=l.redSqr(),d=f.redAdd(f).redIAdd(f).redIAdd(r.redMul(u)),p=o.redMul(l),y=d.redSqr().redISub(p.redAdd(p)),m=p.redISub(y),v=d.redMul(m);v=v.redIAdd(v).redISub(h);var g=c.redMul(s);n+1<t&&(u=u.redMul(h)),o=y,s=g,c=v}return this.curve.jpoint(o,c.redMul(i),s)},o.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},o.prototype._zeroDbl=function(){var t,e,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r),u=s.redSqr().redISub(a).redISub(a),c=o.redIAdd(o);c=c.redIAdd(c),c=c.redIAdd(c),t=u,e=s.redMul(a.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),l=this.y.redSqr(),h=l.redSqr(),d=this.x.redAdd(l).redSqr().redISub(f).redISub(h);d=d.redIAdd(d);var p=f.redAdd(f).redIAdd(f),y=p.redSqr(),m=h.redIAdd(h);m=m.redIAdd(m),m=m.redIAdd(m),t=y.redISub(d).redISub(d),e=p.redMul(d.redISub(t)).redISub(m),n=this.y.redMul(this.z),n=n.redIAdd(n)}return this.curve.jpoint(t,e,n)},o.prototype._threeDbl=function(){var t,e,n;if(this.zOne){var r=this.x.redSqr(),i=this.y.redSqr(),o=i.redSqr(),a=this.x.redAdd(i).redSqr().redISub(r).redISub(o);a=a.redIAdd(a);var s=r.redAdd(r).redIAdd(r).redIAdd(this.curve.a),u=s.redSqr().redISub(a).redISub(a);t=u;var c=o.redIAdd(o);c=c.redIAdd(c),c=c.redIAdd(c),e=s.redMul(a.redISub(u)).redISub(c),n=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),l=this.y.redSqr(),h=this.x.redMul(l),d=this.x.redSub(f).redMul(this.x.redAdd(f));d=d.redAdd(d).redIAdd(d);var p=h.redIAdd(h);p=p.redIAdd(p);var y=p.redAdd(p);t=d.redSqr().redISub(y),n=this.y.redAdd(this.z).redSqr().redISub(l).redISub(f);var m=l.redSqr();m=m.redIAdd(m),m=m.redIAdd(m),m=m.redIAdd(m),e=d.redMul(p.redISub(t)).redISub(m)}return this.curve.jpoint(t,e,n)},o.prototype._dbl=function(){var t=this.curve.a,e=this.x,n=this.y,r=this.z,i=r.redSqr().redSqr(),o=e.redSqr(),a=n.redSqr(),s=o.redAdd(o).redIAdd(o).redIAdd(t.redMul(i)),u=e.redAdd(e);u=u.redIAdd(u);var c=u.redMul(a),f=s.redSqr().redISub(c.redAdd(c)),l=c.redISub(f),h=a.redSqr();h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var d=s.redMul(l).redISub(h),p=n.redAdd(n).redMul(r);return this.curve.jpoint(f,d,p)},o.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr(),r=e.redSqr(),i=t.redAdd(t).redIAdd(t),o=i.redSqr(),a=this.x.redAdd(e).redSqr().redISub(t).redISub(r);a=a.redIAdd(a),a=a.redAdd(a).redIAdd(a),a=a.redISub(o);var s=a.redSqr(),u=r.redIAdd(r);u=u.redIAdd(u),u=u.redIAdd(u),u=u.redIAdd(u);var c=i.redIAdd(a).redSqr().redISub(o).redISub(s).redISub(u),f=e.redMul(c);f=f.redIAdd(f),f=f.redIAdd(f);var l=this.x.redMul(s).redISub(f);l=l.redIAdd(l),l=l.redIAdd(l);var h=this.y.redMul(c.redMul(u.redISub(c)).redISub(a.redMul(s)));h=h.redIAdd(h),h=h.redIAdd(h),h=h.redIAdd(h);var d=this.z.redAdd(a).redSqr().redISub(n).redISub(s);return this.curve.jpoint(l,h,d)},o.prototype.mul=function(t,e){return t=new u(t,e),this.curve._wnafMul(this,t)},o.prototype.eq=function(t){if("affine"===t.type)return this.eq(t.toJ());if(this===t)return!0;var e=this.z.redSqr(),n=t.z.redSqr();if(0!==this.x.redMul(n).redISub(t.x.redMul(e)).cmpn(0))return!1;var r=e.redMul(this.z),i=n.redMul(t.z);return 0===this.y.redMul(i).redISub(t.y.redMul(r)).cmpn(0)},o.prototype.eqXToP=function(t){var e=this.z.redSqr(),n=t.toRed(this.curve.red).redMul(e);if(0===this.x.cmp(n))return!0;for(var r=t.clone(),i=this.curve.redN.redMul(e);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(n.redIAdd(i),0===this.x.cmp(n))return!0}},o.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},o.prototype.isInfinity=function(){return 0===this.z.cmpn(0)}},function(t,e,n){"use strict";function r(t){u.call(this,"mont",t),this.a=new a(t.a,16).toRed(this.red),this.b=new a(t.b,16).toRed(this.red),this.i4=new a(4).toRed(this.red).redInvm(),this.two=new a(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}function i(t,e,n){u.BasePoint.call(this,t,"projective"),null===e&&null===n?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new a(e,16),this.z=new a(n,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}var o=n(95),a=n(5),s=n(0),u=o.base,c=n(12),f=c.utils;s(r,u),t.exports=r,r.prototype.validate=function(t){var e=t.normalize().x,n=e.redSqr(),r=n.redMul(e).redAdd(n.redMul(this.a)).redAdd(e);return 0===r.redSqrt().redSqr().cmp(r)},s(i,u.BasePoint),r.prototype.decodePoint=function(t,e){return this.point(f.toArray(t,e),1)},r.prototype.point=function(t,e){return new i(this,t,e)},r.prototype.pointFromJSON=function(t){return i.fromJSON(this,t)},i.prototype.precompute=function(){},i.prototype._encode=function(){return this.getX().toArray("be",this.curve.p.byteLength())},i.fromJSON=function(t,e){return new i(t,e[0],e[1]||t.one)},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},i.prototype.dbl=function(){var t=this.x.redAdd(this.z),e=t.redSqr(),n=this.x.redSub(this.z),r=n.redSqr(),i=e.redSub(r),o=e.redMul(r),a=i.redMul(r.redAdd(this.curve.a24.redMul(i)));return this.curve.point(o,a)},i.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.diffAdd=function(t,e){var n=this.x.redAdd(this.z),r=this.x.redSub(this.z),i=t.x.redAdd(t.z),o=t.x.redSub(t.z),a=o.redMul(n),s=i.redMul(r),u=e.z.redMul(a.redAdd(s).redSqr()),c=e.x.redMul(a.redISub(s).redSqr());return this.curve.point(u,c)},i.prototype.mul=function(t){for(var e=t.clone(),n=this,r=this.curve.point(null,null),i=this,o=[];0!==e.cmpn(0);e.iushrn(1))o.push(e.andln(1));for(var a=o.length-1;a>=0;a--)0===o[a]?(n=n.diffAdd(r,i),r=r.dbl()):(r=n.diffAdd(r,i),n=n.dbl());return r},i.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},i.prototype.eq=function(t){return 0===this.getX().cmp(t.getX())},i.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},i.prototype.getX=function(){return this.normalize(),this.x.fromRed()}},function(t,e,n){"use strict";function r(t){this.twisted=1!==(0|t.a),this.mOneA=this.twisted&&-1===(0|t.a),this.extended=this.mOneA,c.call(this,"edwards",t),this.a=new s(t.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new s(t.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new s(t.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),f(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1===(0|t.c)}function i(t,e,n,r,i){c.BasePoint.call(this,t,"projective"),null===e&&null===n&&null===r?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new s(e,16),this.y=new s(n,16),this.z=r?new s(r,16):this.curve.one,this.t=i&&new s(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}var o=n(95),a=n(12),s=n(5),u=n(0),c=o.base,f=a.utils.assert;u(r,c),t.exports=r,r.prototype._mulA=function(t){return this.mOneA?t.redNeg():this.a.redMul(t)},r.prototype._mulC=function(t){return this.oneC?t:this.c.redMul(t)},r.prototype.jpoint=function(t,e,n,r){return this.point(t,e,n,r)},r.prototype.pointFromX=function(t,e){t=new s(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),r=this.c2.redSub(this.a.redMul(n)),i=this.one.redSub(this.c2.redMul(this.d).redMul(n)),o=r.redMul(i.redInvm()),a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");var u=a.fromRed().isOdd();return(e&&!u||!e&&u)&&(a=a.redNeg()),this.point(t,a)},r.prototype.pointFromY=function(t,e){t=new s(t,16),t.red||(t=t.toRed(this.red));var n=t.redSqr(),r=n.redSub(this.c2),i=n.redMul(this.d).redMul(this.c2).redSub(this.a),o=r.redMul(i.redInvm());if(0===o.cmp(this.zero)){if(e)throw new Error("invalid point");return this.point(this.zero,t)}var a=o.redSqrt();if(0!==a.redSqr().redSub(o).cmp(this.zero))throw new Error("invalid point");return a.fromRed().isOdd()!==e&&(a=a.redNeg()),this.point(a,t)},r.prototype.validate=function(t){if(t.isInfinity())return!0;t.normalize();var e=t.x.redSqr(),n=t.y.redSqr(),r=e.redMul(this.a).redAdd(n),i=this.c2.redMul(this.one.redAdd(this.d.redMul(e).redMul(n)));return 0===r.cmp(i)},u(i,c.BasePoint),r.prototype.pointFromJSON=function(t){return i.fromJSON(this,t)},r.prototype.point=function(t,e,n,r){return new i(this,t,e,n,r)},i.fromJSON=function(t,e){return new i(t,e[0],e[1],e[2])},i.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},i.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},i.prototype._extDbl=function(){var t=this.x.redSqr(),e=this.y.redSqr(),n=this.z.redSqr();n=n.redIAdd(n);var r=this.curve._mulA(t),i=this.x.redAdd(this.y).redSqr().redISub(t).redISub(e),o=r.redAdd(e),a=o.redSub(n),s=r.redSub(e),u=i.redMul(a),c=o.redMul(s),f=i.redMul(s),l=a.redMul(o);return this.curve.point(u,c,l,f)},i.prototype._projDbl=function(){var t,e,n,r=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),o=this.y.redSqr();if(this.curve.twisted){var a=this.curve._mulA(i),s=a.redAdd(o);if(this.zOne)t=r.redSub(i).redSub(o).redMul(s.redSub(this.curve.two)),e=s.redMul(a.redSub(o)),n=s.redSqr().redSub(s).redSub(s);else{var u=this.z.redSqr(),c=s.redSub(u).redISub(u);t=r.redSub(i).redISub(o).redMul(c),e=s.redMul(a.redSub(o)),n=s.redMul(c)}}else{var a=i.redAdd(o),u=this.curve._mulC(this.z).redSqr(),c=a.redSub(u).redSub(u);t=this.curve._mulC(r.redISub(a)).redMul(c),e=this.curve._mulC(a).redMul(i.redISub(o)),n=a.redMul(c)}return this.curve.point(t,e,n)},i.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},i.prototype._extAdd=function(t){var e=this.y.redSub(this.x).redMul(t.y.redSub(t.x)),n=this.y.redAdd(this.x).redMul(t.y.redAdd(t.x)),r=this.t.redMul(this.curve.dd).redMul(t.t),i=this.z.redMul(t.z.redAdd(t.z)),o=n.redSub(e),a=i.redSub(r),s=i.redAdd(r),u=n.redAdd(e),c=o.redMul(a),f=s.redMul(u),l=o.redMul(u),h=a.redMul(s);return this.curve.point(c,f,h,l)},i.prototype._projAdd=function(t){var e,n,r=this.z.redMul(t.z),i=r.redSqr(),o=this.x.redMul(t.x),a=this.y.redMul(t.y),s=this.curve.d.redMul(o).redMul(a),u=i.redSub(s),c=i.redAdd(s),f=this.x.redAdd(this.y).redMul(t.x.redAdd(t.y)).redISub(o).redISub(a),l=r.redMul(u).redMul(f);return this.curve.twisted?(e=r.redMul(c).redMul(a.redSub(this.curve._mulA(o))),n=u.redMul(c)):(e=r.redMul(c).redMul(a.redSub(o)),n=this.curve._mulC(u).redMul(c)),this.curve.point(l,e,n)},i.prototype.add=function(t){return this.isInfinity()?t:t.isInfinity()?this:this.curve.extended?this._extAdd(t):this._projAdd(t)},i.prototype.mul=function(t){return this._hasDoubles(t)?this.curve._fixedNafMul(this,t):this.curve._wnafMul(this,t)},i.prototype.mulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2,!1)},i.prototype.jmulAdd=function(t,e,n){return this.curve._wnafMulAdd(1,[this,e],[t,n],2,!0)},i.prototype.normalize=function(){if(this.zOne)return this;var t=this.z.redInvm();return this.x=this.x.redMul(t),this.y=this.y.redMul(t),this.t&&(this.t=this.t.redMul(t)),this.z=this.curve.one,this.zOne=!0,this},i.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},i.prototype.getX=function(){return this.normalize(),this.x.fromRed()},i.prototype.getY=function(){return this.normalize(),this.y.fromRed()},i.prototype.eq=function(t){return this===t||0===this.getX().cmp(t.getX())&&0===this.getY().cmp(t.getY())},i.prototype.eqXToP=function(t){var e=t.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(e))return!0;for(var n=t.clone(),r=this.curve.redN.redMul(this.z);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(e.redIAdd(r),0===this.x.cmp(e))return!0}},i.prototype.toP=i.prototype.normalize,i.prototype.mixedAdd=i.prototype.add},function(t,e,n){"use strict";function r(t){"short"===t.type?this.curve=new s.curve.short(t):"edwards"===t.type?this.curve=new s.curve.edwards(t):this.curve=new s.curve.mont(t),this.g=this.curve.g,this.n=this.curve.n,this.hash=t.hash,u(this.g.validate(),"Invalid curve"),u(this.g.mul(this.n).isInfinity(),"Invalid curve, G*N != O")}function i(t,e){Object.defineProperty(o,t,{configurable:!0,enumerable:!0,get:function(){var n=new r(e);return Object.defineProperty(o,t,{configurable:!0,enumerable:!0,value:n}),n}})}var o=e,a=n(161),s=n(12),u=s.utils.assert;o.PresetCurve=r,i("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:a.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),i("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:a.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),i("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:a.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),i("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:a.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),i("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:a.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),i("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["9"]}),i("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",hash:a.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]});var c;try{c=n(573)}catch(t){c=void 0}i("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:a.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",c]})},function(t,e,n){"use strict";e.sha1=n(568),e.sha224=n(569),e.sha256=n(272),e.sha384=n(570),e.sha512=n(273)},function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;l.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}var i=n(20),o=n(66),a=n(271),s=i.rotl32,u=i.sum32,c=i.sum32_5,f=a.ft_1,l=o.BlockHash,h=[1518500249,1859775393,2400959708,3395469782];i.inherits(r,l),t.exports=r,r.blockSize=512,r.outSize=160,r.hmacStrength=80,r.padLength=64,r.prototype._update=function(t,e){for(var n=this.W,r=0;r<16;r++)n[r]=t[e+r];for(;r<n.length;r++)n[r]=s(n[r-3]^n[r-8]^n[r-14]^n[r-16],1);var i=this.h[0],o=this.h[1],a=this.h[2],l=this.h[3],d=this.h[4];for(r=0;r<n.length;r++){var p=~~(r/20),y=c(s(i,5),f(p,o,a,l),d,n[r],h[p]);d=l,l=a,a=s(o,30),o=i,i=y}this.h[0]=u(this.h[0],i),this.h[1]=u(this.h[1],o),this.h[2]=u(this.h[2],a),this.h[3]=u(this.h[3],l),this.h[4]=u(this.h[4],d)},r.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h,"big"):i.split32(this.h,"big")}},function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;o.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}var i=n(20),o=n(272);i.inherits(r,o),t.exports=r,r.blockSize=512,r.outSize=224,r.hmacStrength=192,r.padLength=64,r.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h.slice(0,7),"big"):i.split32(this.h.slice(0,7),"big")}},function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;o.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}var i=n(20),o=n(273);i.inherits(r,o),t.exports=r,r.blockSize=1024,r.outSize=384,r.hmacStrength=192,r.padLength=128,r.prototype._digest=function(t){return"hex"===t?i.toHex32(this.h.slice(0,12),"big"):i.split32(this.h.slice(0,12),"big")}},function(t,e,n){"use strict";function r(){if(!(this instanceof r))return new r;d.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}function i(t,e,n,r){return t<=15?e^n^r:t<=31?e&n|~e&r:t<=47?(e|~n)^r:t<=63?e&r|n&~r:e^(n|~r)}function o(t){return t<=15?0:t<=31?1518500249:t<=47?1859775393:t<=63?2400959708:2840853838}function a(t){return t<=15?1352829926:t<=31?1548603684:t<=47?1836072691:t<=63?2053994217:0}var s=n(20),u=n(66),c=s.rotl32,f=s.sum32,l=s.sum32_3,h=s.sum32_4,d=u.BlockHash;s.inherits(r,d),e.ripemd160=r,r.blockSize=512,r.outSize=160,r.hmacStrength=192,r.padLength=64,r.prototype._update=function(t,e){for(var n=this.h[0],r=this.h[1],s=this.h[2],u=this.h[3],d=this.h[4],g=n,b=r,_=s,w=u,E=d,S=0;S<80;S++){var T=f(c(h(n,i(S,r,s,u),t[p[S]+e],o(S)),m[S]),d);n=d,d=u,u=c(s,10),s=r,r=T,T=f(c(h(g,i(79-S,b,_,w),t[y[S]+e],a(S)),v[S]),E),g=E,E=w,w=c(_,10),_=b,b=T}T=l(this.h[1],s,w),this.h[1]=l(this.h[2],u,E),this.h[2]=l(this.h[3],d,g),this.h[3]=l(this.h[4],n,b),this.h[4]=l(this.h[0],r,_),this.h[0]=T},r.prototype._digest=function(t){return"hex"===t?s.toHex32(this.h,"little"):s.split32(this.h,"little")};var p=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],y=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],m=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],v=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11]},function(t,e,n){"use strict";function r(t,e,n){if(!(this instanceof r))return new r(t,e,n);this.Hash=t,this.blockSize=t.blockSize/8,this.outSize=t.outSize/8,this.inner=null,this.outer=null,this._init(i.toArray(e,n))}var i=n(20),o=n(13);t.exports=r,r.prototype._init=function(t){t.length>this.blockSize&&(t=(new this.Hash).update(t).digest()),o(t.length<=this.blockSize);for(var e=t.length;e<this.blockSize;e++)t.push(0);for(e=0;e<t.length;e++)t[e]^=54;for(this.inner=(new this.Hash).update(t),e=0;e<t.length;e++)t[e]^=106;this.outer=(new this.Hash).update(t)},r.prototype.update=function(t,e){return this.inner.update(t,e),this},r.prototype.digest=function(t){return this.outer.update(this.inner.digest()),this.outer.digest(t)}},function(t,e){t.exports={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}}},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);"string"===typeof t&&(u(a.curves.hasOwnProperty(t),"Unknown curve "+t),t=a.curves[t]),t instanceof a.curves.PresetCurve&&(t={curve:t}),this.curve=t.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=t.curve.g,this.g.precompute(t.curve.n.bitLength()+1),this.hash=t.hash||t.curve.hash}var i=n(5),o=n(575),a=n(12),s=a.utils,u=s.assert,c=n(576),f=n(577);t.exports=r,r.prototype.keyPair=function(t){return new c(this,t)},r.prototype.keyFromPrivate=function(t,e){return c.fromPrivate(this,t,e)},r.prototype.keyFromPublic=function(t,e){return c.fromPublic(this,t,e)},r.prototype.genKeyPair=function(t){t||(t={});for(var e=new o({hash:this.hash,pers:t.pers,persEnc:t.persEnc||"utf8",entropy:t.entropy||a.rand(this.hash.hmacStrength),entropyEnc:t.entropy&&t.entropyEnc||"utf8",nonce:this.n.toArray()}),n=this.n.byteLength(),r=this.n.sub(new i(2));;){var s=new i(e.generate(n));if(!(s.cmp(r)>0))return s.iaddn(1),this.keyFromPrivate(s)}},r.prototype._truncateToN=function(t,e){var n=8*t.byteLength()-this.n.bitLength();return n>0&&(t=t.ushrn(n)),!e&&t.cmp(this.n)>=0?t.sub(this.n):t},r.prototype.sign=function(t,e,n,r){"object"===typeof n&&(r=n,n=null),r||(r={}),e=this.keyFromPrivate(e,n),t=this._truncateToN(new i(t,16));for(var a=this.n.byteLength(),s=e.getPrivate().toArray("be",a),u=t.toArray("be",a),c=new o({hash:this.hash,entropy:s,nonce:u,pers:r.pers,persEnc:r.persEnc||"utf8"}),l=this.n.sub(new i(1)),h=0;!0;h++){var d=r.k?r.k(h):new i(c.generate(this.n.byteLength()));if(d=this._truncateToN(d,!0),!(d.cmpn(1)<=0||d.cmp(l)>=0)){var p=this.g.mul(d);if(!p.isInfinity()){var y=p.getX(),m=y.umod(this.n);if(0!==m.cmpn(0)){var v=d.invm(this.n).mul(m.mul(e.getPrivate()).iadd(t));if(v=v.umod(this.n),0!==v.cmpn(0)){var g=(p.getY().isOdd()?1:0)|(0!==y.cmp(m)?2:0);return r.canonical&&v.cmp(this.nh)>0&&(v=this.n.sub(v),g^=1),new f({r:m,s:v,recoveryParam:g})}}}}}},r.prototype.verify=function(t,e,n,r){t=this._truncateToN(new i(t,16)),n=this.keyFromPublic(n,r),e=new f(e,"hex");var o=e.r,a=e.s;if(o.cmpn(1)<0||o.cmp(this.n)>=0)return!1;if(a.cmpn(1)<0||a.cmp(this.n)>=0)return!1;var s=a.invm(this.n),u=s.mul(t).umod(this.n),c=s.mul(o).umod(this.n);if(!this.curve._maxwellTrick){var l=this.g.mulAdd(u,n.getPublic(),c);return!l.isInfinity()&&0===l.getX().umod(this.n).cmp(o)}var l=this.g.jmulAdd(u,n.getPublic(),c);return!l.isInfinity()&&l.eqXToP(o)},r.prototype.recoverPubKey=function(t,e,n,r){u((3&n)===n,"The recovery param is more than two bits"),e=new f(e,r);var o=this.n,a=new i(t),s=e.r,c=e.s,l=1&n,h=n>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&h)throw new Error("Unable to find sencond key candinate");s=h?this.curve.pointFromX(s.add(this.curve.n),l):this.curve.pointFromX(s,l);var d=e.r.invm(o),p=o.sub(a).mul(d).umod(o),y=c.mul(d).umod(o);return this.g.mulAdd(p,s,y)},r.prototype.getKeyRecoveryParam=function(t,e,n,r){if(e=new f(e,r),null!==e.recoveryParam)return e.recoveryParam;for(var i=0;i<4;i++){var o;try{o=this.recoverPubKey(t,e,i)}catch(t){continue}if(o.eq(n))return i}throw new Error("Unable to find valid recovery factor")}},function(t,e,n){"use strict";function r(t){if(!(this instanceof r))return new r(t);this.hash=t.hash,this.predResist=!!t.predResist,this.outLen=this.hash.outSize,this.minEntropy=t.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var e=o.toArray(t.entropy,t.entropyEnc||"hex"),n=o.toArray(t.nonce,t.nonceEnc||"hex"),i=o.toArray(t.pers,t.persEnc||"hex");a(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(e,n,i)}var i=n(161),o=n(270),a=n(13);t.exports=r,r.prototype._init=function(t,e,n){var r=t.concat(e).concat(n);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(r),this._reseed=1,this.reseedInterval=281474976710656},r.prototype._hmac=function(){return new i.hmac(this.hash,this.K)},r.prototype._update=function(t){var e=this._hmac().update(this.V).update([0]);t&&(e=e.update(t)),this.K=e.digest(),this.V=this._hmac().update(this.V).digest(),t&&(this.K=this._hmac().update(this.V).update([1]).update(t).digest(),this.V=this._hmac().update(this.V).digest())},r.prototype.reseed=function(t,e,n,r){"string"!==typeof e&&(r=n,n=e,e=null),t=o.toArray(t,e),n=o.toArray(n,r),a(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(t.concat(n||[])),this._reseed=1},r.prototype.generate=function(t,e,n,r){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!==typeof e&&(r=n,n=e,e=null),n&&(n=o.toArray(n,r||"hex"),this._update(n));for(var i=[];i.length<t;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,t);return this._update(n),this._reseed++,o.encode(a,e)}},function(t,e,n){"use strict";function r(t,e){this.ec=t,this.priv=null,this.pub=null,e.priv&&this._importPrivate(e.priv,e.privEnc),e.pub&&this._importPublic(e.pub,e.pubEnc)}var i=n(5),o=n(12),a=o.utils,s=a.assert;t.exports=r,r.fromPublic=function(t,e,n){return e instanceof r?e:new r(t,{pub:e,pubEnc:n})},r.fromPrivate=function(t,e,n){return e instanceof r?e:new r(t,{priv:e,privEnc:n})},r.prototype.validate=function(){var t=this.getPublic();return t.isInfinity()?{result:!1,reason:"Invalid public key"}:t.validate()?t.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},r.prototype.getPublic=function(t,e){return"string"===typeof t&&(e=t,t=null),this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},r.prototype.getPrivate=function(t){return"hex"===t?this.priv.toString(16,2):this.priv},r.prototype._importPrivate=function(t,e){this.priv=new i(t,e||16),this.priv=this.priv.umod(this.ec.curve.n)},r.prototype._importPublic=function(t,e){if(t.x||t.y)return"mont"===this.ec.curve.type?s(t.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||s(t.x&&t.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(t.x,t.y));this.pub=this.ec.curve.decodePoint(t,e)},r.prototype.derive=function(t){return t.mul(this.priv).getX()},r.prototype.sign=function(t,e,n){return this.ec.sign(t,this,e,n)},r.prototype.verify=function(t,e){return this.ec.verify(t,e,this)},r.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"}},function(t,e,n){"use strict";function r(t,e){if(t instanceof r)return t;this._importDER(t,e)||(l(t.r&&t.s,"Signature without r or s"),this.r=new u(t.r,16),this.s=new u(t.s,16),void 0===t.recoveryParam?this.recoveryParam=null:this.recoveryParam=t.recoveryParam)}function i(){this.place=0}function o(t,e){var n=t[e.place++];if(!(128&n))return n;for(var r=15&n,i=0,o=0,a=e.place;o<r;o++,a++)i<<=8,i|=t[a];return e.place=a,i}function a(t){for(var e=0,n=t.length-1;!t[e]&&!(128&t[e+1])&&e<n;)e++;return 0===e?t:t.slice(e)}function s(t,e){if(e<128)return void t.push(e);var n=1+(Math.log(e)/Math.LN2>>>3);for(t.push(128|n);--n;)t.push(e>>>(n<<3)&255);t.push(e)}var u=n(5),c=n(12),f=c.utils,l=f.assert;t.exports=r,r.prototype._importDER=function(t,e){t=f.toArray(t,e);var n=new i;if(48!==t[n.place++])return!1;if(o(t,n)+n.place!==t.length)return!1;if(2!==t[n.place++])return!1;var r=o(t,n),a=t.slice(n.place,r+n.place);if(n.place+=r,2!==t[n.place++])return!1;var s=o(t,n);if(t.length!==s+n.place)return!1;var c=t.slice(n.place,s+n.place);return 0===a[0]&&128&a[1]&&(a=a.slice(1)),0===c[0]&&128&c[1]&&(c=c.slice(1)),this.r=new u(a),this.s=new u(c),this.recoveryParam=null,!0},r.prototype.toDER=function(t){var e=this.r.toArray(),n=this.s.toArray();for(128&e[0]&&(e=[0].concat(e)),128&n[0]&&(n=[0].concat(n)),e=a(e),n=a(n);!n[0]&&!(128&n[1]);)n=n.slice(1);var r=[2];s(r,e.length),r=r.concat(e),r.push(2),s(r,n.length);var i=r.concat(n),o=[48];return s(o,i.length),o=o.concat(i),f.encode(o,t)}},function(t,e,n){"use strict";function r(t){if(s("ed25519"===t,"only tested with ed25519 so far"),!(this instanceof r))return new r(t);var t=o.curves[t].curve;this.curve=t,this.g=t.g,this.g.precompute(t.n.bitLength()+1),this.pointClass=t.point().constructor,this.encodingLength=Math.ceil(t.n.bitLength()/8),this.hash=i.sha512}var i=n(161),o=n(12),a=o.utils,s=a.assert,u=a.parseBytes,c=n(579),f=n(580);t.exports=r,r.prototype.sign=function(t,e){t=u(t);var n=this.keyFromSecret(e),r=this.hashInt(n.messagePrefix(),t),i=this.g.mul(r),o=this.encodePoint(i),a=this.hashInt(o,n.pubBytes(),t).mul(n.priv()),s=r.add(a).umod(this.curve.n);return this.makeSignature({R:i,S:s,Rencoded:o})},r.prototype.verify=function(t,e,n){t=u(t),e=this.makeSignature(e);var r=this.keyFromPublic(n),i=this.hashInt(e.Rencoded(),r.pubBytes(),t),o=this.g.mul(e.S());return e.R().add(r.pub().mul(i)).eq(o)},r.prototype.hashInt=function(){for(var t=this.hash(),e=0;e<arguments.length;e++)t.update(arguments[e]);return a.intFromLE(t.digest()).umod(this.curve.n)},r.prototype.keyFromPublic=function(t){return c.fromPublic(this,t)},r.prototype.keyFromSecret=function(t){return c.fromSecret(this,t)},r.prototype.makeSignature=function(t){return t instanceof f?t:new f(this,t)},r.prototype.encodePoint=function(t){var e=t.getY().toArray("le",this.encodingLength);return e[this.encodingLength-1]|=t.getX().isOdd()?128:0,e},r.prototype.decodePoint=function(t){t=a.parseBytes(t);var e=t.length-1,n=t.slice(0,e).concat(-129&t[e]),r=0!==(128&t[e]),i=a.intFromLE(n);return this.curve.pointFromY(i,r)},r.prototype.encodeInt=function(t){return t.toArray("le",this.encodingLength)},r.prototype.decodeInt=function(t){return a.intFromLE(t)},r.prototype.isPoint=function(t){return t instanceof this.pointClass}},function(t,e,n){"use strict";function r(t,e){this.eddsa=t,this._secret=s(e.secret),t.isPoint(e.pub)?this._pub=e.pub:this._pubBytes=s(e.pub)}var i=n(12),o=i.utils,a=o.assert,s=o.parseBytes,u=o.cachedProperty;r.fromPublic=function(t,e){return e instanceof r?e:new r(t,{pub:e})},r.fromSecret=function(t,e){return e instanceof r?e:new r(t,{secret:e})},r.prototype.secret=function(){return this._secret},u(r,"pubBytes",function(){return this.eddsa.encodePoint(this.pub())}),u(r,"pub",function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())}),u(r,"privBytes",function(){var t=this.eddsa,e=this.hash(),n=t.encodingLength-1,r=e.slice(0,t.encodingLength);return r[0]&=248,r[n]&=127,r[n]|=64,r}),u(r,"priv",function(){return this.eddsa.decodeInt(this.privBytes())}),u(r,"hash",function(){return this.eddsa.hash().update(this.secret()).digest()}),u(r,"messagePrefix",function(){return this.hash().slice(this.eddsa.encodingLength)}),r.prototype.sign=function(t){return a(this._secret,"KeyPair can only verify"),this.eddsa.sign(t,this)},r.prototype.verify=function(t,e){return this.eddsa.verify(t,e,this)},r.prototype.getSecret=function(t){return a(this._secret,"KeyPair is public only"),o.encode(this.secret(),t)},r.prototype.getPublic=function(t){return o.encode(this.pubBytes(),t)},t.exports=r},function(t,e,n){"use strict";function r(t,e){this.eddsa=t,"object"!==typeof e&&(e=c(e)),Array.isArray(e)&&(e={R:e.slice(0,t.encodingLength),S:e.slice(t.encodingLength)}),s(e.R&&e.S,"Signature without R or S"),t.isPoint(e.R)&&(this._R=e.R),e.S instanceof i&&(this._S=e.S),this._Rencoded=Array.isArray(e.R)?e.R:e.Rencoded,this._Sencoded=Array.isArray(e.S)?e.S:e.Sencoded}var i=n(5),o=n(12),a=o.utils,s=a.assert,u=a.cachedProperty,c=a.parseBytes;u(r,"S",function(){return this.eddsa.decodeInt(this.Sencoded())}),u(r,"R",function(){return this.eddsa.decodePoint(this.Rencoded())}),u(r,"Rencoded",function(){return this.eddsa.encodePoint(this.R())}),u(r,"Sencoded",function(){return this.eddsa.encodeInt(this.S())}),r.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},r.prototype.toHex=function(){return a.encode(this.toBytes(),"hex").toUpperCase()},t.exports=r},function(t,e,n){"use strict";var r=n(67);e.certificate=n(592);var i=r.define("RSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())});e.RSAPrivateKey=i;var o=r.define("RSAPublicKey",function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())});e.RSAPublicKey=o;var a=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(s),this.key("subjectPublicKey").bitstr())});e.PublicKey=a;var s=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("none").null_().optional(),this.key("curve").objid().optional(),this.key("params").seq().obj(this.key("p").int(),this.key("q").int(),this.key("g").int()).optional())}),u=r.define("PrivateKeyInfo",function(){this.seq().obj(this.key("version").int(),this.key("algorithm").use(s),this.key("subjectPrivateKey").octstr())});e.PrivateKey=u;var c=r.define("EncryptedPrivateKeyInfo",function(){this.seq().obj(this.key("algorithm").seq().obj(this.key("id").objid(),this.key("decrypt").seq().obj(this.key("kde").seq().obj(this.key("id").objid(),this.key("kdeparams").seq().obj(this.key("salt").octstr(),this.key("iters").int())),this.key("cipher").seq().obj(this.key("algo").objid(),this.key("iv").octstr()))),this.key("subjectPrivateKey").octstr())});e.EncryptedPrivateKey=c;var f=r.define("DSAPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("p").int(),this.key("q").int(),this.key("g").int(),this.key("pub_key").int(),this.key("priv_key").int())});e.DSAPrivateKey=f,e.DSAparam=r.define("DSAparam",function(){this.int()});var l=r.define("ECPrivateKey",function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").optional().explicit(0).use(h),this.key("publicKey").optional().explicit(1).bitstr())});e.ECPrivateKey=l;var h=r.define("ECParameters",function(){this.choice({namedCurve:this.objid()})});e.signature=r.define("signature",function(){this.seq().obj(this.key("r").int(),this.key("s").int())})},function(t,e,n){function r(t,e){this.name=t,this.body=e,this.decoders={},this.encoders={}}var i=n(67),o=n(0);e.define=function(t,e){return new r(t,e)},r.prototype._createNamed=function(t){var e;try{e=n(583).runInThisContext("(function "+this.name+"(entity) {\n  this._initNamed(entity);\n})")}catch(t){e=function(t){this._initNamed(t)}}return o(e,t),e.prototype._initNamed=function(e){t.call(this,e)},new e(this)},r.prototype._getDecoder=function(t){return t=t||"der",this.decoders.hasOwnProperty(t)||(this.decoders[t]=this._createNamed(i.decoders[t])),this.decoders[t]},r.prototype.decode=function(t,e,n){return this._getDecoder(e).decode(t,n)},r.prototype._getEncoder=function(t){return t=t||"der",this.encoders.hasOwnProperty(t)||(this.encoders[t]=this._createNamed(i.encoders[t])),this.encoders[t]},r.prototype.encode=function(t,e,n){return this._getEncoder(e).encode(t,n)}},function(module,exports,__webpack_require__){function Context(){}var indexOf=__webpack_require__(584),Object_keys=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var n in t)e.push(n);return e},forEach=function(t,e){if(t.forEach)return t.forEach(e);for(var n=0;n<t.length;n++)e(t[n],n,t)},defineProp=function(){try{return Object.defineProperty({},"_",{}),function(t,e,n){Object.defineProperty(t,e,{writable:!0,enumerable:!1,configurable:!0,value:n})}}catch(t){return function(t,e,n){t[e]=n}}}(),globals=["Array","Boolean","Date","Error","EvalError","Function","Infinity","JSON","Math","NaN","Number","Object","RangeError","ReferenceError","RegExp","String","SyntaxError","TypeError","URIError","decodeURI","decodeURIComponent","encodeURI","encodeURIComponent","escape","eval","isFinite","isNaN","parseFloat","parseInt","undefined","unescape"];Context.prototype={};var Script=exports.Script=function(t){if(!(this instanceof Script))return new Script(t);this.code=t};Script.prototype.runInContext=function(t){if(!(t instanceof Context))throw new TypeError("needs a 'context' argument.");var e=document.createElement("iframe");e.style||(e.style={}),e.style.display="none",document.body.appendChild(e);var n=e.contentWindow,r=n.eval,i=n.execScript;!r&&i&&(i.call(n,"null"),r=n.eval),forEach(Object_keys(t),function(e){n[e]=t[e]}),forEach(globals,function(e){t[e]&&(n[e]=t[e])});var o=Object_keys(n),a=r.call(n,this.code);return forEach(Object_keys(n),function(e){(e in t||-1===indexOf(o,e))&&(t[e]=n[e])}),forEach(globals,function(e){e in t||defineProp(t,e,n[e])}),document.body.removeChild(e),a},Script.prototype.runInThisContext=function(){return eval(this.code)},Script.prototype.runInNewContext=function(t){var e=Script.createContext(t),n=this.runInContext(e);return forEach(Object_keys(e),function(n){t[n]=e[n]}),n},forEach(Object_keys(Script.prototype),function(t){exports[t]=Script[t]=function(e){var n=Script(e);return n[t].apply(n,[].slice.call(arguments,1))}}),exports.createScript=function(t){return exports.Script(t)},exports.createContext=Script.createContext=function(t){var e=new Context;return"object"===typeof t&&forEach(Object_keys(t),function(n){e[n]=t[n]}),e}},function(t,e){var n=[].indexOf;t.exports=function(t,e){if(n)return t.indexOf(e);for(var r=0;r<t.length;++r)if(t[r]===e)return r;return-1}},function(t,e,n){function r(t){this._reporterState={obj:null,path:[],options:t||{},errors:[]}}function i(t,e){this.path=t,this.rethrow(e)}var o=n(0);e.Reporter=r,r.prototype.isError=function(t){return t instanceof i},r.prototype.save=function(){var t=this._reporterState;return{obj:t.obj,pathLen:t.path.length}},r.prototype.restore=function(t){var e=this._reporterState;e.obj=t.obj,e.path=e.path.slice(0,t.pathLen)},r.prototype.enterKey=function(t){return this._reporterState.path.push(t)},r.prototype.exitKey=function(t){var e=this._reporterState;e.path=e.path.slice(0,t-1)},r.prototype.leaveKey=function(t,e,n){var r=this._reporterState;this.exitKey(t),null!==r.obj&&(r.obj[e]=n)},r.prototype.path=function(){return this._reporterState.path.join("/")},r.prototype.enterObject=function(){var t=this._reporterState,e=t.obj;return t.obj={},e},r.prototype.leaveObject=function(t){var e=this._reporterState,n=e.obj;return e.obj=t,n},r.prototype.error=function(t){var e,n=this._reporterState,r=t instanceof i;if(e=r?t:new i(n.path.map(function(t){return"["+JSON.stringify(t)+"]"}).join(""),t.message||t,t.stack),!n.options.partial)throw e;return r||n.errors.push(e),e},r.prototype.wrapResult=function(t){var e=this._reporterState;return e.options.partial?{result:this.isError(t)?null:t,errors:e.errors}:t},o(i,Error),i.prototype.rethrow=function(t){if(this.message=t+" at: "+(this.path||"(shallow)"),Error.captureStackTrace&&Error.captureStackTrace(this,i),!this.stack)try{throw new Error(this.message)}catch(t){this.stack=t.stack}return this}},function(t,e,n){function r(t,e){var n={};this._baseState=n,n.enc=t,n.parent=e||null,n.children=null,n.tag=null,n.args=null,n.reverseArgs=null,n.choice=null,n.optional=!1,n.any=!1,n.obj=!1,n.use=null,n.useDecoder=null,n.key=null,n.default=null,n.explicit=null,n.implicit=null,n.contains=null,n.parent||(n.children=[],this._wrap())}var i=n(68).Reporter,o=n(68).EncoderBuffer,a=n(68).DecoderBuffer,s=n(13),u=["seq","seqof","set","setof","objid","bool","gentime","utctime","null_","enum","int","objDesc","bitstr","bmpstr","charstr","genstr","graphstr","ia5str","iso646str","numstr","octstr","printstr","t61str","unistr","utf8str","videostr"],c=["key","obj","use","optional","explicit","implicit","def","choice","any","contains"].concat(u),f=["_peekTag","_decodeTag","_use","_decodeStr","_decodeObjid","_decodeTime","_decodeNull","_decodeInt","_decodeBool","_decodeList","_encodeComposite","_encodeStr","_encodeObjid","_encodeTime","_encodeNull","_encodeInt","_encodeBool"];t.exports=r;var l=["enc","parent","children","tag","args","reverseArgs","choice","optional","any","obj","use","alteredUse","key","default","explicit","implicit","contains"];r.prototype.clone=function(){var t=this._baseState,e={};l.forEach(function(n){e[n]=t[n]});var n=new this.constructor(e.parent);return n._baseState=e,n},r.prototype._wrap=function(){var t=this._baseState;c.forEach(function(e){this[e]=function(){var n=new this.constructor(this);return t.children.push(n),n[e].apply(n,arguments)}},this)},r.prototype._init=function(t){var e=this._baseState;s(null===e.parent),t.call(this),e.children=e.children.filter(function(t){return t._baseState.parent===this},this),s.equal(e.children.length,1,"Root node can have only one child")},r.prototype._useArgs=function(t){var e=this._baseState,n=t.filter(function(t){return t instanceof this.constructor},this);t=t.filter(function(t){return!(t instanceof this.constructor)},this),0!==n.length&&(s(null===e.children),e.children=n,n.forEach(function(t){t._baseState.parent=this},this)),0!==t.length&&(s(null===e.args),e.args=t,e.reverseArgs=t.map(function(t){if("object"!==typeof t||t.constructor!==Object)return t;var e={};return Object.keys(t).forEach(function(n){n==(0|n)&&(n|=0);var r=t[n];e[r]=n}),e}))},f.forEach(function(t){r.prototype[t]=function(){var e=this._baseState;throw new Error(t+" not implemented for encoding: "+e.enc)}}),u.forEach(function(t){r.prototype[t]=function(){var e=this._baseState,n=Array.prototype.slice.call(arguments);return s(null===e.tag),e.tag=t,this._useArgs(n),this}}),r.prototype.use=function(t){s(t);var e=this._baseState;return s(null===e.use),e.use=t,this},r.prototype.optional=function(){return this._baseState.optional=!0,this},r.prototype.def=function(t){var e=this._baseState;return s(null===e.default),e.default=t,e.optional=!0,this},r.prototype.explicit=function(t){var e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.explicit=t,this},r.prototype.implicit=function(t){var e=this._baseState;return s(null===e.explicit&&null===e.implicit),e.implicit=t,this},r.prototype.obj=function(){var t=this._baseState,e=Array.prototype.slice.call(arguments);return t.obj=!0,0!==e.length&&this._useArgs(e),this},r.prototype.key=function(t){var e=this._baseState;return s(null===e.key),e.key=t,this},r.prototype.any=function(){return this._baseState.any=!0,this},r.prototype.choice=function(t){var e=this._baseState;return s(null===e.choice),e.choice=t,this._useArgs(Object.keys(t).map(function(e){return t[e]})),this},r.prototype.contains=function(t){var e=this._baseState;return s(null===e.use),e.contains=t,this},r.prototype._decode=function(t,e){var n=this._baseState;if(null===n.parent)return t.wrapResult(n.children[0]._decode(t,e));var r=n.default,i=!0,o=null;if(null!==n.key&&(o=t.enterKey(n.key)),n.optional){var s=null;if(null!==n.explicit?s=n.explicit:null!==n.implicit?s=n.implicit:null!==n.tag&&(s=n.tag),null!==s||n.any){if(i=this._peekTag(t,s,n.any),t.isError(i))return i}else{var u=t.save();try{null===n.choice?this._decodeGeneric(n.tag,t,e):this._decodeChoice(t,e),i=!0}catch(t){i=!1}t.restore(u)}}var c;if(n.obj&&i&&(c=t.enterObject()),i){if(null!==n.explicit){var f=this._decodeTag(t,n.explicit);if(t.isError(f))return f;t=f}var l=t.offset;if(null===n.use&&null===n.choice){if(n.any)var u=t.save();var h=this._decodeTag(t,null!==n.implicit?n.implicit:n.tag,n.any);if(t.isError(h))return h;n.any?r=t.raw(u):t=h}if(e&&e.track&&null!==n.tag&&e.track(t.path(),l,t.length,"tagged"),e&&e.track&&null!==n.tag&&e.track(t.path(),t.offset,t.length,"content"),r=n.any?r:null===n.choice?this._decodeGeneric(n.tag,t,e):this._decodeChoice(t,e),t.isError(r))return r;if(n.any||null!==n.choice||null===n.children||n.children.forEach(function(n){n._decode(t,e)}),n.contains&&("octstr"===n.tag||"bitstr"===n.tag)){var d=new a(r);r=this._getUse(n.contains,t._reporterState.obj)._decode(d,e)}}return n.obj&&i&&(r=t.leaveObject(c)),null===n.key||null===r&&!0!==i?null!==o&&t.exitKey(o):t.leaveKey(o,n.key,r),r},r.prototype._decodeGeneric=function(t,e,n){var r=this._baseState;return"seq"===t||"set"===t?null:"seqof"===t||"setof"===t?this._decodeList(e,t,r.args[0],n):/str$/.test(t)?this._decodeStr(e,t,n):"objid"===t&&r.args?this._decodeObjid(e,r.args[0],r.args[1],n):"objid"===t?this._decodeObjid(e,null,null,n):"gentime"===t||"utctime"===t?this._decodeTime(e,t,n):"null_"===t?this._decodeNull(e,n):"bool"===t?this._decodeBool(e,n):"objDesc"===t?this._decodeStr(e,t,n):"int"===t||"enum"===t?this._decodeInt(e,r.args&&r.args[0],n):null!==r.use?this._getUse(r.use,e._reporterState.obj)._decode(e,n):e.error("unknown tag: "+t)},r.prototype._getUse=function(t,e){var n=this._baseState;return n.useDecoder=this._use(t,e),s(null===n.useDecoder._baseState.parent),n.useDecoder=n.useDecoder._baseState.children[0],n.implicit!==n.useDecoder._baseState.implicit&&(n.useDecoder=n.useDecoder.clone(),n.useDecoder._baseState.implicit=n.implicit),n.useDecoder},r.prototype._decodeChoice=function(t,e){var n=this._baseState,r=null,i=!1;return Object.keys(n.choice).some(function(o){var a=t.save(),s=n.choice[o];try{var u=s._decode(t,e);if(t.isError(u))return!1;r={type:o,value:u},i=!0}catch(e){return t.restore(a),!1}return!0},this),i?r:t.error("Choice not matched")},r.prototype._createEncoderBuffer=function(t){return new o(t,this.reporter)},r.prototype._encode=function(t,e,n){var r=this._baseState;if(null===r.default||r.default!==t){var i=this._encodeValue(t,e,n);if(void 0!==i&&!this._skipDefault(i,e,n))return i}},r.prototype._encodeValue=function(t,e,n){var r=this._baseState;if(null===r.parent)return r.children[0]._encode(t,e||new i);var o=null;if(this.reporter=e,r.optional&&void 0===t){if(null===r.default)return;t=r.default}var a=null,s=!1;if(r.any)o=this._createEncoderBuffer(t);else if(r.choice)o=this._encodeChoice(t,e);else if(r.contains)a=this._getUse(r.contains,n)._encode(t,e),s=!0;else if(r.children)a=r.children.map(function(n){if("null_"===n._baseState.tag)return n._encode(null,e,t);if(null===n._baseState.key)return e.error("Child should have a key");var r=e.enterKey(n._baseState.key);if("object"!==typeof t)return e.error("Child expected, but input is not object");var i=n._encode(t[n._baseState.key],e,t);return e.leaveKey(r),i},this).filter(function(t){return t}),a=this._createEncoderBuffer(a);else if("seqof"===r.tag||"setof"===r.tag){if(!r.args||1!==r.args.length)return e.error("Too many args for : "+r.tag);if(!Array.isArray(t))return e.error("seqof/setof, but data is not Array");var u=this.clone();u._baseState.implicit=null,a=this._createEncoderBuffer(t.map(function(n){var r=this._baseState;return this._getUse(r.args[0],t)._encode(n,e)},u))}else null!==r.use?o=this._getUse(r.use,n)._encode(t,e):(a=this._encodePrimitive(r.tag,t),s=!0);var o;if(!r.any&&null===r.choice){var c=null!==r.implicit?r.implicit:r.tag,f=null===r.implicit?"universal":"context";null===c?null===r.use&&e.error("Tag could be omitted only for .use()"):null===r.use&&(o=this._encodeComposite(c,s,f,a))}return null!==r.explicit&&(o=this._encodeComposite(r.explicit,!1,"context",o)),o},r.prototype._encodeChoice=function(t,e){var n=this._baseState,r=n.choice[t.type];return r||s(!1,t.type+" not found in "+JSON.stringify(Object.keys(n.choice))),r._encode(t.value,e)},r.prototype._encodePrimitive=function(t,e){var n=this._baseState;if(/str$/.test(t))return this._encodeStr(e,t);if("objid"===t&&n.args)return this._encodeObjid(e,n.reverseArgs[0],n.args[1]);if("objid"===t)return this._encodeObjid(e,null,null);if("gentime"===t||"utctime"===t)return this._encodeTime(e,t);if("null_"===t)return this._encodeNull();if("int"===t||"enum"===t)return this._encodeInt(e,n.args&&n.reverseArgs[0]);if("bool"===t)return this._encodeBool(e);if("objDesc"===t)return this._encodeStr(e,t);throw new Error("Unsupported tag: "+t)},r.prototype._isNumstr=function(t){return/^[0-9 ]*$/.test(t)},r.prototype._isPrintstr=function(t){return/^[A-Za-z0-9 '\(\)\+,\-\.\/:=\?]*$/.test(t)}},function(t,e,n){var r=n(275);e.tagClass={0:"universal",1:"application",2:"context",3:"private"},e.tagClassByName=r._reverse(e.tagClass),e.tag={0:"end",1:"bool",2:"int",3:"bitstr",4:"octstr",5:"null_",6:"objid",7:"objDesc",8:"external",9:"real",10:"enum",11:"embed",12:"utf8str",13:"relativeOid",16:"seq",17:"set",18:"numstr",19:"printstr",20:"t61str",21:"videostr",22:"ia5str",23:"utctime",24:"gentime",25:"graphstr",26:"iso646str",27:"genstr",28:"unistr",29:"charstr",30:"bmpstr"},e.tagByName=r._reverse(e.tag)},function(t,e,n){var r=e;r.der=n(276),r.pem=n(589)},function(t,e,n){function r(t){a.call(this,t),this.enc="pem"}var i=n(0),o=n(7).Buffer,a=n(276);i(r,a),t.exports=r,r.prototype.decode=function(t,e){for(var n=t.toString().split(/[\r\n]+/g),r=e.label.toUpperCase(),i=/^-----(BEGIN|END) ([^-]+)-----$/,s=-1,u=-1,c=0;c<n.length;c++){var f=n[c].match(i);if(null!==f&&f[2]===r){if(-1!==s){if("END"!==f[1])break;u=c;break}if("BEGIN"!==f[1])break;s=c}}if(-1===s||-1===u)throw new Error("PEM section not found for: "+r);var l=n.slice(s+1,u).join("");l.replace(/[^a-z0-9\+\/=]+/gi,"");var h=new o(l,"base64");return a.prototype.decode.call(this,h,e)}},function(t,e,n){var r=e;r.der=n(277),r.pem=n(591)},function(t,e,n){function r(t){o.call(this,t),this.enc="pem"}var i=n(0),o=n(277);i(r,o),t.exports=r,r.prototype.encode=function(t,e){for(var n=o.prototype.encode.call(this,t),r=n.toString("base64"),i=["-----BEGIN "+e.label+"-----"],a=0;a<r.length;a+=64)i.push(r.slice(a,a+64));return i.push("-----END "+e.label+"-----"),i.join("\n")}},function(t,e,n){"use strict";var r=n(67),i=r.define("Time",function(){this.choice({utcTime:this.utctime(),generalTime:this.gentime()})}),o=r.define("AttributeTypeValue",function(){this.seq().obj(this.key("type").objid(),this.key("value").any())}),a=r.define("AlgorithmIdentifier",function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional())}),s=r.define("SubjectPublicKeyInfo",function(){this.seq().obj(this.key("algorithm").use(a),this.key("subjectPublicKey").bitstr())}),u=r.define("RelativeDistinguishedName",function(){this.setof(o)}),c=r.define("RDNSequence",function(){this.seqof(u)}),f=r.define("Name",function(){this.choice({rdnSequence:this.use(c)})}),l=r.define("Validity",function(){this.seq().obj(this.key("notBefore").use(i),this.key("notAfter").use(i))}),h=r.define("Extension",function(){this.seq().obj(this.key("extnID").objid(),this.key("critical").bool().def(!1),this.key("extnValue").octstr())}),d=r.define("TBSCertificate",function(){this.seq().obj(this.key("version").explicit(0).int(),this.key("serialNumber").int(),this.key("signature").use(a),this.key("issuer").use(f),this.key("validity").use(l),this.key("subject").use(f),this.key("subjectPublicKeyInfo").use(s),this.key("issuerUniqueID").implicit(1).bitstr().optional(),this.key("subjectUniqueID").implicit(2).bitstr().optional(),this.key("extensions").explicit(3).seqof(h).optional())}),p=r.define("X509Certificate",function(){this.seq().obj(this.key("tbsCertificate").use(d),this.key("signatureAlgorithm").use(a),this.key("signatureValue").bitstr())});t.exports=p},function(t,e){t.exports={"2.16.840.1.101.3.4.1.1":"aes-128-ecb","2.16.840.1.101.3.4.1.2":"aes-128-cbc","2.16.840.1.101.3.4.1.3":"aes-128-ofb","2.16.840.1.101.3.4.1.4":"aes-128-cfb","2.16.840.1.101.3.4.1.21":"aes-192-ecb","2.16.840.1.101.3.4.1.22":"aes-192-cbc","2.16.840.1.101.3.4.1.23":"aes-192-ofb","2.16.840.1.101.3.4.1.24":"aes-192-cfb","2.16.840.1.101.3.4.1.41":"aes-256-ecb","2.16.840.1.101.3.4.1.42":"aes-256-cbc","2.16.840.1.101.3.4.1.43":"aes-256-ofb","2.16.840.1.101.3.4.1.44":"aes-256-cfb"}},function(t,e,n){(function(e){var r=/Proc-Type: 4,ENCRYPTED[\n\r]+DEK-Info: AES-((?:128)|(?:192)|(?:256))-CBC,([0-9A-H]+)[\n\r]+([0-9A-z\n\r\+\/\=]+)[\n\r]+/m,i=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----/m,o=/^-----BEGIN ((?:.* KEY)|CERTIFICATE)-----([0-9A-z\n\r\+\/\=]+)-----END \1-----$/m,a=n(94),s=n(158);t.exports=function(t,n){var u,c=t.toString(),f=c.match(r);if(f){var l="aes"+f[1],h=new e(f[2],"hex"),d=new e(f[3].replace(/[\r\n]/g,""),"base64"),p=a(n,h.slice(0,8),parseInt(f[1],10)).key,y=[],m=s.createDecipheriv(l,p,h);y.push(m.update(d)),y.push(m.final()),u=e.concat(y)}else{var v=c.match(o);u=new e(v[2].replace(/[\r\n]/g,""),"base64")}return{tag:c.match(i)[1],data:u}}}).call(e,n(7).Buffer)},function(t,e,n){(function(e){function r(t,n,r,a,u){var f=c(r);if("ec"===f.type){if("ecdsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong public key type");return i(t,n,f)}if("dsa"===f.type){if("dsa"!==a)throw new Error("wrong public key type");return o(t,n,f)}if("rsa"!==a&&"ecdsa/rsa"!==a)throw new Error("wrong public key type");n=e.concat([u,n]);for(var l=f.modulus.byteLength(),h=[1],d=0;n.length+h.length+2<l;)h.push(255),d++;h.push(0);for(var p=-1;++p<n.length;)h.push(n[p]);h=new e(h);var y=s.mont(f.modulus);t=new s(t).toRed(y),t=t.redPow(new s(f.publicExponent)),t=new e(t.fromRed().toArray());var m=d<8?1:0;for(l=Math.min(t.length,h.length),t.length!==h.length&&(m=1),p=-1;++p<l;)m|=t[p]^h[p];return 0===m}function i(t,e,n){var r=f[n.data.algorithm.curve.join(".")];if(!r)throw new Error("unknown curve "+n.data.algorithm.curve.join("."));var i=new u(r),o=n.data.subjectPrivateKey.data;return i.verify(e,t,o)}function o(t,e,n){var r=n.data.p,i=n.data.q,o=n.data.g,u=n.data.pub_key,f=c.signature.decode(t,"der"),l=f.s,h=f.r;a(l,i),a(h,i);var d=s.mont(r),p=l.invm(i);return 0===o.toRed(d).redPow(new s(e).mul(p).mod(i)).fromRed().mul(u.toRed(d).redPow(h.mul(p).mod(i)).fromRed()).mod(r).mod(i).cmp(h)}function a(t,e){if(t.cmpn(0)<=0)throw new Error("invalid sig");if(t.cmp(e)>=e)throw new Error("invalid sig")}var s=n(5),u=n(12).ec,c=n(96),f=n(278);t.exports=r}).call(e,n(7).Buffer)},function(t,e,n){(function(e){function r(t){this.curveType=s[t],this.curveType||(this.curveType={name:t}),this.curve=new o.ec(this.curveType.name),this.keys=void 0}function i(t,n,r){Array.isArray(t)||(t=t.toArray());var i=new e(t);if(r&&i.length<r){var o=new e(r-i.length);o.fill(0),i=e.concat([o,i])}return n?i.toString(n):i}var o=n(12),a=n(5);t.exports=function(t){return new r(t)};var s={secp256k1:{name:"secp256k1",byteLength:32},secp224r1:{name:"p224",byteLength:28},prime256v1:{name:"p256",byteLength:32},prime192v1:{name:"p192",byteLength:24},ed25519:{name:"ed25519",byteLength:32},secp384r1:{name:"p384",byteLength:48},secp521r1:{name:"p521",byteLength:66}};s.p224=s.secp224r1,s.p256=s.secp256r1=s.prime256v1,s.p192=s.secp192r1=s.prime192v1,s.p384=s.secp384r1,s.p521=s.secp521r1,r.prototype.generateKeys=function(t,e){return this.keys=this.curve.genKeyPair(),this.getPublicKey(t,e)},r.prototype.computeSecret=function(t,n,r){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),i(this.curve.keyFromPublic(t).getPublic().mul(this.keys.getPrivate()).getX(),r,this.curveType.byteLength)},r.prototype.getPublicKey=function(t,e){var n=this.keys.getPublic("compressed"===e,!0);return"hybrid"===e&&(n[n.length-1]%2?n[0]=7:n[0]=6),i(n,t)},r.prototype.getPrivateKey=function(t){return i(this.keys.getPrivate(),t)},r.prototype.setPublicKey=function(t,n){return n=n||"utf8",e.isBuffer(t)||(t=new e(t,n)),this.keys._importPublic(t),this},r.prototype.setPrivateKey=function(t,n){n=n||"utf8",e.isBuffer(t)||(t=new e(t,n));var r=new a(t);return r=r.toString(16),this.keys=this.curve.genKeyPair(),this.keys._importPrivate(r),this}}).call(e,n(7).Buffer)},function(t,e,n){e.publicEncrypt=n(598),e.privateDecrypt=n(599),e.privateEncrypt=function(t,n){return e.publicEncrypt(t,n,!0)},e.publicDecrypt=function(t,n){return e.privateDecrypt(t,n,!0)}},function(t,e,n){function r(t,e){var n=t.modulus.byteLength(),r=e.length,i=u("sha1").update(p.alloc(0)).digest(),o=i.length,a=2*o;if(r>n-a-2)throw new Error("message too long");var h=p.alloc(n-r-a-2),d=n-o-1,y=s(o),m=f(p.concat([i,h,p.alloc(1,1),e],d),c(y,d)),v=f(y,c(m,o));return new l(p.concat([p.alloc(1),v,m],n))}function i(t,e,n){var r=e.length,i=t.modulus.byteLength();if(r>i-11)throw new Error("message too long");var a;return a=n?p.alloc(i-r-3,255):o(i-r-3),new l(p.concat([p.from([0,n?1:2]),a,p.alloc(1),e],i))}function o(t){for(var e,n=p.allocUnsafe(t),r=0,i=s(2*t),o=0;r<t;)o===i.length&&(i=s(2*t),o=0),(e=i[o++])&&(n[r++]=e);return n}var a=n(96),s=n(44),u=n(63),c=n(279),f=n(280),l=n(5),h=n(281),d=n(160),p=n(1).Buffer;t.exports=function(t,e,n){var o;o=t.padding?t.padding:n?1:4;var s,u=a(t);if(4===o)s=r(u,e);else if(1===o)s=i(u,e,n);else{if(3!==o)throw new Error("unknown padding");if(s=new l(e),s.cmp(u.modulus)>=0)throw new Error("data too long for modulus")}return n?d(s,u):h(s,u)}},function(t,e,n){function r(t,e){var n=t.modulus.byteLength(),r=l("sha1").update(d.alloc(0)).digest(),i=r.length;if(0!==e[0])throw new Error("decryption error");var a=e.slice(1,i+1),c=e.slice(i+1),f=u(a,s(c,i)),h=u(c,s(f,n-i-1));if(o(r,h.slice(0,i)))throw new Error("decryption error");for(var p=i;0===h[p];)p++;if(1!==h[p++])throw new Error("decryption error");return h.slice(p)}function i(t,e,n){for(var r=e.slice(0,2),i=2,o=0;0!==e[i++];)if(i>=e.length){o++;break}var a=e.slice(2,i-1);if(("0002"!==r.toString("hex")&&!n||"0001"!==r.toString("hex")&&n)&&o++,a.length<8&&o++,o)throw new Error("decryption error");return e.slice(i)}function o(t,e){t=d.from(t),e=d.from(e);var n=0,r=t.length;t.length!==e.length&&(n++,r=Math.min(t.length,e.length));for(var i=-1;++i<r;)n+=t[i]^e[i];return n}var a=n(96),s=n(279),u=n(280),c=n(5),f=n(160),l=n(63),h=n(281),d=n(1).Buffer;t.exports=function(t,e,n){var o;o=t.padding?t.padding:n?1:4;var s=a(t),u=s.modulus.byteLength();if(e.length>u||new c(e).cmp(s.modulus)>=0)throw new Error("decryption error");var l;l=n?h(new c(e),s):f(e,s);var p=d.alloc(u-l.length);if(l=d.concat([p,l],u),4===o)return r(s,l);if(1===o)return i(s,l,n);if(3===o)return l;throw new Error("unknown padding")}},function(t,e,n){"use strict";(function(t,r){function i(){throw new Error("secure random number generation not supported by this browser\nuse chrome, FireFox or Internet Explorer 11")}function o(t,e){if("number"!==typeof t||t!==t)throw new TypeError("offset must be a number");if(t>y||t<0)throw new TypeError("offset must be a uint32");if(t>d||t>e)throw new RangeError("offset out of range")}function a(t,e,n){if("number"!==typeof t||t!==t)throw new TypeError("size must be a number");if(t>y||t<0)throw new TypeError("size must be a uint32");if(t+e>n||t>d)throw new RangeError("buffer too small")}function s(e,n,r,i){if(!h.isBuffer(e)&&!(e instanceof t.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');if("function"===typeof n)i=n,n=0,r=e.length;else if("function"===typeof r)i=r,r=e.length-n;else if("function"!==typeof i)throw new TypeError('"cb" argument must be a function');return o(n,e.length),a(r,n,e.length),u(e,n,r,i)}function u(t,e,n,i){if(r.browser){var o=t.buffer,a=new Uint8Array(o,e,n);return p.getRandomValues(a),i?void r.nextTick(function(){i(null,t)}):t}return i?void l(n,function(n,r){if(n)return i(n);r.copy(t,e),i(null,t)}):(l(n).copy(t,e),t)}function c(e,n,r){if("undefined"===typeof n&&(n=0),!h.isBuffer(e)&&!(e instanceof t.Uint8Array))throw new TypeError('"buf" argument must be a Buffer or Uint8Array');return o(n,e.length),void 0===r&&(r=e.length-n),a(r,n,e.length),u(e,n,r)}var f=n(1),l=n(44),h=f.Buffer,d=f.kMaxLength,p=t.crypto||t.msCrypto,y=Math.pow(2,32)-1;p&&p.getRandomValues||!r.browser?(e.randomFill=s,e.randomFillSync=c):(e.randomFill=i,e.randomFillSync=i)}).call(e,n(8),n(22))},function(t,e,n){function r(){this.chars=""}var i=n(602);r.prototype.setType=function(t){var e,n="abcdefghijklmnopqrstuvwxyz",r=n.toUpperCase();e="alphanumeric"===t?"0123456789"+n+r:"numeric"===t?"0123456789":"alphabetic"===t?n+r:"hex"===t?"0123456789abcdef":t,this.chars=e},r.prototype.removeUnreadable=function(){var t=/[0OIl]/g;this.chars=this.chars.replace(t,"")},r.prototype.setcapitalization=function(t){"uppercase"===t?this.chars=this.chars.toUpperCase():"lowercase"===t&&(this.chars=this.chars.toLowerCase())},r.prototype.removeDuplicates=function(){var t=this.chars.split("");t=i(t),this.chars=t.join("")},t.exports=r},function(t,e,n){"use strict";(function(e){function n(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function r(t){var e=new Set;return t.filter(function(t){if(!e.has(t))return e.add(t),!0})}function i(t){var e=[];return new Set(t).forEach(function(t){e.push(t)}),e}"Set"in e?"function"===typeof Set.prototype.forEach&&function(){var t=!1;return new Set([!0]).forEach(function(e){t=e}),!0===t}()?t.exports=i:t.exports=r:t.exports=n}).call(e,n(8))},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(3),u=n.n(s),c=n(21),f=n(38),l=(n.n(f),n(17)),h=n(29),d=n(62),p=(n.n(d),n(246)),y=n(282),m=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),v=function(t){function e(t){i(this,e);var n=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return n.onHandleChange=function(t){var e=t.target,i=e.name,o=e.value;n.setState(r({},i,o))},n.onHandleSubmit=function(t){t.preventDefault();var e=n.props.auth.uid,r=n.state.idReceiver,i=e>r?e+r:r+e,o={idSender:e,idReceiver:r,idSum:i,message:{text:n.state.message,images:n.state.images,idSender:e,photoURL:n.props.auth.photoURL,time:new Date}},a={idSender:e,idReceiver:r,timeChat:new Date};(""!==n.state.message||n.state.images.length>0)&&(n.props.sendMessage(o),n.props.updatePriority(a),n.setState({message:"",image:"",images:[],previewURL:[]}))},n.handleKeyPress=function(t){"Enter"==t.key&&n.onHandleSubmit(t)},n.state={message:"",idReceiver:"",image:"",url:"",previewURL:[],images:[]},n}return a(e,t),m(e,[{key:"componentDidMount",value:function(){this.setState({idReceiver:this.props.match.params.id})}},{key:"componentWillReceiveProps",value:function(t){this.setState({idReceiver:t.match.params.id})}},{key:"render",value:function(){var t=this.state.message;return u.a.createElement("div",{className:"type_msg"},u.a.createElement("div",{className:"input_msg_write"},u.a.createElement("input",{type:"text",name:"message",onChange:this.onHandleChange,className:"write_msg",value:t,placeholder:"Type a message",onKeyPress:this.handleKeyPress}),u.a.createElement("button",{onClick:this.onHandleSubmit,className:"msg_send_btn",type:"button"},u.a.createElement("i",{className:"fa fa-paper-plane-o",style:{marginRight:"10px"},"aria-hidden":"true"}))))}}]),e}(s.Component),g=function(t){return{chatingUser:t.chatingUser,users:t.firestore.data.users,auth:t.firebase.auth}},b=function(t){return{sendMessage:function(e){return t(Object(p.a)(e))},updatePriority:function(e){return t(Object(y.a)(e))}}};e.a=Object(c.e)(Object(h.d)(Object(l.b)(g,b),Object(f.firestoreConnect)([{collection:"users"}]))(v))},function(t,e,n){"use strict";function r(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,n){function r(i,o){try{var a=e[i](o),s=a.value}catch(t){return void n(t)}if(!a.done)return Promise.resolve(s).then(function(t){r("next",t)},function(t){r("throw",t)});t(s)}return r("next")})}}function i(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function o(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function a(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var s=n(605),u=n.n(s),c=n(3),f=n.n(c),l=n(21),h=n(38),d=(n.n(h),n(17)),p=n(29),y=n(62),m=n.n(y),v=n(282),g=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),b=function(t){function e(t){var n=this;i(this,e);var a=o(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t));return a.onHandleStar=function(){var t=r(u.a.mark(function t(e){return u.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,a.setState({star:!a.state.star});case 2:a.props.updateUser({idSender:a.props.idSender,idReceiver:a.state.id,star:!e,updateStar:!0});case 3:case"end":return t.stop()}},t,n)}));return function(e){return t.apply(this,arguments)}}(),a.state={id:"",star:!1},a}return a(e,t),g(e,[{key:"componentDidMount",value:function(){this.setState({id:this.props.match.params.id})}},{key:"componentWillReceiveProps",value:function(t){this.setState({id:t.match.params.id})}},{key:"render",value:function(){var t=this,e=m.a.values(this.props.users),n=(this.props.idSender,m.a.find(e,{uid:this.state.id})),r="",i="",o="fa fa-star uncheck";return n&&(r=n.username,i=n.photoURL,n.star&&(o="fa fa-star check")),f.a.createElement("div",{className:"contact-profile"},f.a.createElement("img",{className:"rounded-circle",src:i,alt:"Logo",style:{width:"40px",marginRight:"10px"}}),f.a.createElement("label",{style:{fontFamily:"'Spectral', serif"}},r),f.a.createElement("button",{className:"btn btn-circle",type:"button",onClick:function(){return t.onHandleStar(n.star)}},f.a.createElement("i",{className:o,"aria-hidden":"true"})))}}]),e}(c.Component),_=function(t){return{chatingUser:t.chatingUser,users:t.firestore.data.users,idSender:t.firebase.auth.uid}},w=function(t){return{updateUser:function(e){return t(Object(v.a)(e))}}};e.a=Object(l.e)(Object(p.d)(Object(d.b)(_,w),Object(h.firestoreConnect)([{collection:"users"}]))(b))},function(t,e,n){t.exports=n(606)},function(t,e,n){var r=function(){return this}()||Function("return this")(),i=r.regeneratorRuntime&&Object.getOwnPropertyNames(r).indexOf("regeneratorRuntime")>=0,o=i&&r.regeneratorRuntime;if(r.regeneratorRuntime=void 0,t.exports=n(607),i)r.regeneratorRuntime=o;else try{delete r.regeneratorRuntime}catch(t){r.regeneratorRuntime=void 0}},function(t,e){!function(e){"use strict";function n(t,e,n,r){var o=e&&e.prototype instanceof i?e:i,a=Object.create(o.prototype),s=new d(r||[]);return a._invoke=c(t,n,s),a}function r(t,e,n){try{return{type:"normal",arg:t.call(e,n)}}catch(t){return{type:"throw",arg:t}}}function i(){}function o(){}function a(){}function s(t){["next","throw","return"].forEach(function(e){t[e]=function(t){return this._invoke(e,t)}})}function u(t){function e(n,i,o,a){var s=r(t[n],t,i);if("throw"!==s.type){var u=s.arg,c=u.value;return c&&"object"===typeof c&&g.call(c,"__await")?Promise.resolve(c.__await).then(function(t){e("next",t,o,a)},function(t){e("throw",t,o,a)}):Promise.resolve(c).then(function(t){u.value=t,o(u)},a)}a(s.arg)}function n(t,n){function r(){return new Promise(function(r,i){e(t,n,r,i)})}return i=i?i.then(r,r):r()}var i;this._invoke=n}function c(t,e,n){var i=C;return function(o,a){if(i===A)throw new Error("Generator is already running");if(i===O){if("throw"===o)throw a;return y()}for(n.method=o,n.arg=a;;){var s=n.delegate;if(s){var u=f(s,n);if(u){if(u===k)continue;return u}}if("next"===n.method)n.sent=n._sent=n.arg;else if("throw"===n.method){if(i===C)throw i=O,n.arg;n.dispatchException(n.arg)}else"return"===n.method&&n.abrupt("return",n.arg);i=A;var c=r(t,e,n);if("normal"===c.type){if(i=n.done?O:I,c.arg===k)continue;return{value:c.arg,done:n.done}}"throw"===c.type&&(i=O,n.method="throw",n.arg=c.arg)}}}function f(t,e){var n=t.iterator[e.method];if(n===m){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=m,f(t,e),"throw"===e.method))return k;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return k}var i=r(n,t.iterator,e.arg);if("throw"===i.type)return e.method="throw",e.arg=i.arg,e.delegate=null,k;var o=i.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=m),e.delegate=null,k):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,k)}function l(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function h(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function d(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(l,this),this.reset(!0)}function p(t){if(t){var e=t[_];if(e)return e.call(t);if("function"===typeof t.next)return t;if(!isNaN(t.length)){var n=-1,r=function e(){for(;++n<t.length;)if(g.call(t,n))return e.value=t[n],e.done=!1,e;return e.value=m,e.done=!0,e};return r.next=r}}return{next:y}}function y(){return{value:m,done:!0}}var m,v=Object.prototype,g=v.hasOwnProperty,b="function"===typeof Symbol?Symbol:{},_=b.iterator||"@@iterator",w=b.asyncIterator||"@@asyncIterator",E=b.toStringTag||"@@toStringTag",S="object"===typeof t,T=e.regeneratorRuntime;if(T)return void(S&&(t.exports=T));T=e.regeneratorRuntime=S?t.exports:{},T.wrap=n;var C="suspendedStart",I="suspendedYield",A="executing",O="completed",k={},R={};R[_]=function(){return this};var P=Object.getPrototypeOf,x=P&&P(P(p([])));x&&x!==v&&g.call(x,_)&&(R=x);var D=a.prototype=i.prototype=Object.create(R);o.prototype=D.constructor=a,a.constructor=o,a[E]=o.displayName="GeneratorFunction",T.isGeneratorFunction=function(t){var e="function"===typeof t&&t.constructor;return!!e&&(e===o||"GeneratorFunction"===(e.displayName||e.name))},T.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,a):(t.__proto__=a,E in t||(t[E]="GeneratorFunction")),t.prototype=Object.create(D),t},T.awrap=function(t){return{__await:t}},s(u.prototype),u.prototype[w]=function(){return this},T.AsyncIterator=u,T.async=function(t,e,r,i){var o=new u(n(t,e,r,i));return T.isGeneratorFunction(e)?o:o.next().then(function(t){return t.done?t.value:o.next()})},s(D),D[E]="Generator",D[_]=function(){return this},D.toString=function(){return"[object Generator]"},T.keys=function(t){var e=[];for(var n in t)e.push(n);return e.reverse(),function n(){for(;e.length;){var r=e.pop();if(r in t)return n.value=r,n.done=!1,n}return n.done=!0,n}},T.values=p,d.prototype={constructor:d,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=m,this.done=!1,this.delegate=null,this.method="next",this.arg=m,this.tryEntries.forEach(h),!t)for(var e in this)"t"===e.charAt(0)&&g.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=m)},stop:function(){this.done=!0;var t=this.tryEntries[0],e=t.completion;if("throw"===e.type)throw e.arg;return this.rval},dispatchException:function(t){function e(e,r){return o.type="throw",o.arg=t,n.next=e,r&&(n.method="next",n.arg=m),!!r}if(this.done)throw t;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return e("end");if(i.tryLoc<=this.prev){var a=g.call(i,"catchLoc"),s=g.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return e(i.catchLoc,!0);if(this.prev<i.finallyLoc)return e(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return e(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return e(i.finallyLoc)}}}},abrupt:function(t,e){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&g.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===t||"continue"===t)&&i.tryLoc<=e&&e<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=t,o.arg=e,i?(this.method="next",this.next=i.finallyLoc,k):this.complete(o)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),k},finish:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.finallyLoc===t)return this.complete(n.completion,n.afterLoc),h(n),k}},catch:function(t){for(var e=this.tryEntries.length-1;e>=0;--e){var n=this.tryEntries[e];if(n.tryLoc===t){var r=n.completion;if("throw"===r.type){var i=r.arg;h(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,n){return this.delegate={iterator:p(t),resultName:e,nextLoc:n},"next"===this.method&&(this.arg=m),k}}}(function(){return this}()||Function("return this")())},function(t,e,n){"use strict";n.d(e,"a",function(){return r});var r=function(t){return function(e,n,r){var i=r.getFirestore,o=r.getFirebase,a=i();o();a.get({collection:"users",where:[["uid","==",t]]}).then(function(t){var n=t.docs[0].data();e({type:"ADD_CHATING_USER",user:n})})}}},function(t,e,n){"use strict";function r(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function i(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e}function o(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)}var a=n(3),s=n.n(a),u=n(21),c=n(105),f=n(17),l=function(){function t(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r.key,r)}}return function(e,n,r){return n&&t(e.prototype,n),r&&t(e,r),e}}(),h=function(t){function e(){var t,n,o,a;r(this,e);for(var s=arguments.length,u=Array(s),c=0;c<s;c++)u[c]=arguments[c];return n=o=i(this,(t=e.__proto__||Object.getPrototypeOf(e)).call.apply(t,[this].concat(u))),o.onSignOut=function(){console.log("sign out"),o.props.signOut(function(){o.props.history.push("/")})},a=n,i(o,a)}return o(e,t),l(e,[{key:"render",value:function(){return s.a.createElement("button",{className:"btn btn-danger ml-auto",onClick:this.onSignOut},"Sign out ",s.a.createElement("i",{className:"fa fa-sign-out"}))}}]),e}(a.Component),d=function(t){return{users:t.firestore.ordered.users,auth:t.firebase.auth}},p=function(t){return{signOut:function(e){return t(Object(c.c)(e))}}};e.a=Object(u.e)(Object(f.b)(d,p)(h))},function(t,e,n){"use strict";function r(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var t="/service-worker.js";a?(o(t),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):i(t)})}}function i(t){navigator.serviceWorker.register(t).then(function(t){t.onupdatefound=function(){var e=t.installing;e.onstatechange=function(){"installed"===e.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(t){console.error("Error during service worker registration:",t)})}function o(t){fetch(t).then(function(e){404===e.status||-1===e.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(t){t.unregister().then(function(){window.location.reload()})}):i(t)}).catch(function(){console.log("No internet connection found. App is running in offline mode.")})}e.a=r;var a=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/))},function(t,e,n){"use strict";var r=n(612),i=n(29),o=n(283),a=(n.n(o),n(38)),s=(n.n(a),n(638)),u=n(639),c=Object(i.c)({auth:r.a,firestore:o.firestoreReducer,firebase:a.firebaseReducer,currentChat:s.a,chatingUser:u.a});e.a=c},function(t,e,n){"use strict";var r={},i=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r,e=arguments[1];switch(e.type){case"SIGNIN_SUCCESS":return console.log("sign in success",e.user),Object.assign({},e.user);case"SIGNOUT_SUCCESS":return{};default:return t}};e.a=i},function(t,e,n){"use strict";function r(t,e){return function(n){return function(r,a,c){var f=n(r,a,c),l=i({},o.defaultConfig,e);return u=(0,s.default)(t.firebase_||t,l,f.dispatch),f.firestore=u,f}}}Object.defineProperty(e,"__esModule",{value:!0}),e.getFirestore=void 0;var i=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=r;var o=n(15),a=n(284),s=function(t){return t&&t.__esModule?t:{default:t}}(a),u=void 0;e.getFirestore=function(){if(!u)throw new Error("Firebase instance does not yet exist. Check your compose function.");return u}},function(t,e,n){var r=n(135),i=n(137),o=i(function(t,e,n){r(t,e,n)});t.exports=o},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t,e,n){for(var r=arguments.length,i=Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a=(0,I.getQueryConfig)(n);return(0,T.wrapInDispatch)(e,{ref:(0,I.firestoreRef)(t,e,a),method:"add",meta:a,args:i,types:[C.actionTypes.ADD_REQUEST,{type:C.actionTypes.ADD_SUCCESS,payload:function(t){return{id:t.id,data:i[0]}}},C.actionTypes.ADD_FAILURE]})}function o(t,e,n){for(var r=arguments.length,i=Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a=(0,I.getQueryConfig)(n);return(0,T.wrapInDispatch)(e,{ref:(0,I.firestoreRef)(t,e,a),method:"set",meta:a,args:i,types:[C.actionTypes.SET_REQUEST,C.actionTypes.SET_SUCCESS,C.actionTypes.SET_FAILURE]})}function a(t,e,n){var r=(0,I.getQueryConfig)(n),i=t._.config||{},o=i.mergeOrdered,a=i.mergeOrderedDocUpdates,s=i.mergeOrderedCollectionUpdates;return(0,T.wrapInDispatch)(e,{ref:(0,I.firestoreRef)(t,e,r),method:"get",meta:r,types:[C.actionTypes.GET_REQUEST,{type:C.actionTypes.GET_SUCCESS,payload:function(t){return{data:(0,I.dataByIdSnapshot)(t),ordered:(0,I.orderedFromSnap)(t)}},merge:{docs:o&&a,collections:o&&s}},C.actionTypes.GET_FAILURE]})}function s(t,e,n){for(var r=arguments.length,i=Array(r>3?r-3:0),o=3;o<r;o++)i[o-3]=arguments[o];var a=(0,I.getQueryConfig)(n);return(0,T.wrapInDispatch)(e,{ref:(0,I.firestoreRef)(t,e,a),method:"update",meta:a,args:i,types:[C.actionTypes.UPDATE_REQUEST,C.actionTypes.UPDATE_SUCCESS,C.actionTypes.UPDATE_FAILURE]})}function u(t,e,n){var r=(0,I.getQueryConfig)(n),i=t._.config;return!r.doc||r.subcollections&&!(0,m.default)(r.subcollections,"doc")?(0,g.default)(i.onAttemptCollectionDelete)?i.onAttemptCollectionDelete(n,e,t):Promise.reject(new Error("Only documents can be deleted.")):(0,T.wrapInDispatch)(e,{ref:(0,I.firestoreRef)(t,e,r),method:"delete",meta:r,types:[C.actionTypes.DELETE_REQUEST,{type:C.actionTypes.DELETE_SUCCESS,preserve:t._.config.preserveOnDelete},C.actionTypes.DELETE_FAILURE]})}function c(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=S({},e,{path:t.doc.ref.path});return e.subcollections&&!e.storeAs?n.subcollections[0]=S({},n.subcollections[0],{doc:t.doc.id}):n.doc=t.doc.id,{type:O[t.type]||C.actionTypes.DOCUMENT_MODIFIED,meta:n,payload:{data:t.doc.data(),ordered:{oldIndex:t.oldIndex,newIndex:t.newIndex}}}}function f(t,e,n,r,i){var o=(0,I.getQueryConfig)(n),a=t._.config||{},s=a.mergeOrdered,u=a.mergeOrderedDocUpdates,f=a.mergeOrderedCollectionUpdates,l=(0,I.firestoreRef)(t,e,o).onSnapshot(function(t){var n="function"===typeof t.docChanges?t.docChanges():t.docChanges;n&&n.length<t.size?1===n.length?e(c(n[0],o)):n.forEach(function(t){e(c(t,o))}):e({type:C.actionTypes.LISTENER_RESPONSE,meta:o,payload:{data:(0,I.dataByIdSnapshot)(t),ordered:(0,I.orderedFromSnap)(t)},merge:{docs:s&&u,collections:s&&f}}),r&&r(t)},function(n){var r=t._.config||{},a=r.logListenerError,c=r.preserveOnListenerError;a&&(0,_.default)(console,"error",n),e({type:C.actionTypes.LISTENER_ERROR,meta:o,payload:n,merge:{docs:s&&u,collections:s&&f},preserve:c}),i&&i(n)});(0,I.attachListener)(t,e,o,l)}function l(t,e,n){if(!(0,E.default)(n))throw new Error("Listeners must be an Array of listener configs (Strings/Objects).");var r=t._.config;return r.oneListenerPerPath?n.forEach(function(n){var r=(0,I.getQueryName)(n),i=A[r]||0;A[r]=i+1,i>0||f(t,e,n)}):n.forEach(function(n){var i=(0,g.default)(r.allowMultipleListeners)?r.allowMultipleListeners(n,t._.listeners):r.allowMultipleListeners;(0,I.listenerExists)(t,n)&&!i||f(t,e,n)})}function h(t,e,n){return(0,I.detachListener)(t,e,(0,I.getQueryConfig)(n))}function d(t,e,n){if(!(0,E.default)(n))throw new Error("Listeners must be an Array of listener configs (Strings/Objects).");if(t._.config.oneListenerPerPath)return void n.forEach(function(n){var r=(0,I.getQueryName)(n);A[r]-=1,0===A[r]&&h(t,e,n)});n.forEach(function(n){h(t,e,n)})}function p(t,e,n){return(0,T.wrapInDispatch)(e,{ref:t.firestore(),method:"runTransaction",args:[n],types:[C.actionTypes.TRANSACTION_START,C.actionTypes.TRANSACTION_SUCCESS,C.actionTypes.TRANSACTION_FAILURE]})}Object.defineProperty(e,"__esModule",{value:!0});var y=n(225),m=r(y),v=n(9),g=r(v),b=n(616),_=r(b),w=n(2),E=r(w),S=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.add=i,e.set=o,e.get=a,e.update=s,e.deleteRef=u,e.setListener=f,e.setListeners=l,e.unsetListener=h,e.unsetListeners=d,e.runTransaction=p;var T=n(287),C=n(15),I=n(162),A={},O={added:C.actionTypes.DOCUMENT_ADDED,removed:C.actionTypes.DOCUMENT_REMOVED,modified:C.actionTypes.DOCUMENT_MODIFIED};e.default={get:a,firestoreRef:I.firestoreRef,add:i,update:s,setListener:f,setListeners:l,unsetListener:h,unsetListeners:d,runTransaction:p}},function(t,e,n){var r=n(617),i=n(60),o=i(r);t.exports=o},function(t,e,n){function r(t,e,n){e=o(e,t),t=s(t,e);var r=null==t?t:t[u(a(e))];return null==r?void 0:i(r,t,n)}var i=n(58),o=n(32),a=n(54),s=n(202),u=n(26);t.exports=r},function(t,e,n){function r(t,e,n){if((t=c(t))&&(n||void 0===e))return t.replace(f,"");if(!t||!(e=i(e)))return t;var r=u(t),l=u(e),h=s(r,l),d=a(r,l)+1;return o(r,h,d).join("")}var i=n(122),o=n(146),a=n(619),s=n(288),u=n(147),c=n(33),f=/^\s+|\s+$/g;t.exports=r},function(t,e,n){function r(t,e){for(var n=t.length;n--&&i(e,t[n],0)>-1;);return n}var i=n(143);t.exports=r},function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var r=n(46),i=n(622);e.default=(0,r.combineReducers)({status:i.statusReducer,data:i.dataReducer,ordered:i.orderedReducer,listeners:i.listenersReducer,errors:i.errorsReducer})},function(t,e,n){function r(t,e,n){if((t=u(t))&&(n||void 0===e))return t.replace(c,"");if(!t||!(e=i(e)))return t;var r=s(t),f=a(r,s(e));return o(r,f).join("")}var i=n(122),o=n(146),a=n(288),s=n(147),u=n(33),c=/^\s+/;t.exports=r},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0}),e.statusReducer=e.orderedReducer=e.listenersReducer=e.errorsReducer=e.dataReducer=void 0;var i=n(623),o=r(i),a=n(624),s=r(a),u=n(625),c=r(u),f=n(626),l=r(f),h=n(636),d=r(h);e.dataReducer=o.default,e.errorsReducer=s.default,e.listenersReducer=c.default,e.orderedReducer=l.default,e.statusReducer=d.default,e.default={dataReducer:o.default,errorsReducer:s.default,listenersReducer:c.default,orderedReducer:l.default,statusReducer:d.default}},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];switch(e.type){case p:case y:var n=e.meta,r=e.payload;if(!r||void 0===r.data)return t;var i=function t(e){return e.subcollections?t(e.subcollections.slice(-1)[0]):e.doc}(n),o=i?(0,f.default)(r.data,i):r.data,s=(0,f.default)(t,n.storeAs||(0,h.pathFromMeta)(n));if(!s||n.subcollections)return(0,u.default)(Object,n.storeAs||(0,h.pathFromMeta)(n),o,t);var c=(0,a.default)(s,o);return(0,u.default)(Object,n.storeAs||(0,h.pathFromMeta)(n),c,t);case b:case g:return(0,u.default)(Object,(0,h.pathFromMeta)(e.meta),e.payload.data,t);case _:case v:var l=(0,h.pathFromMeta)(e.meta),w=(0,u.default)(Object,l,null,t);return e.preserve&&e.preserve.data?(0,h.preserveValuesFromState)(t,e.preserve.data,w):w;case d:return e.preserve&&e.preserve.data?(0,h.preserveValuesFromState)(t,e.preserve.data,{}):{};case m:var E=(0,u.default)(Object,(0,h.pathFromMeta)(e.meta),null,t);if(e.preserve&&e.preserve.data)return(0,h.preserveValuesFromState)(t,e.preserve.data,E);return(0,f.default)(t,(0,h.pathFromMeta)(e.meta))?t:E;default:return t}}Object.defineProperty(e,"__esModule",{value:!0});var o=n(243),a=r(o),s=n(244),u=r(s),c=n(31),f=r(c);e.default=i;var l=n(15),h=n(46),d=l.actionTypes.CLEAR_DATA,p=l.actionTypes.GET_SUCCESS,y=l.actionTypes.LISTENER_RESPONSE,m=l.actionTypes.LISTENER_ERROR,v=l.actionTypes.DELETE_SUCCESS,g=l.actionTypes.DOCUMENT_ADDED,b=l.actionTypes.DOCUMENT_MODIFIED,_=l.actionTypes.DOCUMENT_REMOVED},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n=e.meta;switch(e.type){case d:case p:return-1!==t.indexOf((0,c.getQueryName)(n))?t:[].concat(i(t),[(0,c.getQueryName)(n)]);case l:return[];case h:return t.filter(function(t){return t!==(0,c.getQueryName)(n)});default:return t}}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=e.meta,i=e.payload;switch(e.type){case p:case d:return s({},t,r({},(0,c.getQueryName)(n),i));case h:return s({},t,r({},(0,c.getQueryName)(n),null));default:return t}}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},u=n(15),c=n(162),f=n(46),l=u.actionTypes.CLEAR_ERRORS,h=u.actionTypes.CLEAR_ERROR,d=u.actionTypes.LISTENER_ERROR,p=u.actionTypes.ERROR,y=(0,f.combineReducers)({byQuery:a,allIds:o});e.default=y},function(t,e,n){"use strict";function r(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function i(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=e.type,r=e.path,o=e.payload;switch(n){case f.actionTypes.SET_LISTENER:return c({},t,i({},o.name,{name:o.name,path:r}));case f.actionTypes.UNSET_LISTENER:return(0,u.default)(t,[o.name]);default:return t}}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n=e.type,i=e.payload;switch(n){case f.actionTypes.SET_LISTENER:return[].concat(r(t),[i.name]);case f.actionTypes.UNSET_LISTENER:return t.filter(function(t){return t!==i.name});default:return t}}Object.defineProperty(e,"__esModule",{value:!0});var s=n(87),u=function(t){return t&&t.__esModule?t:{default:t}}(s),c=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},f=n(15),l=n(46),h=(0,l.combineReducers)({byId:o,allIds:a});e.default=h},function(t,e,n){"use strict";function r(t){return t&&t.__esModule?t:{default:t}}function i(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)}function o(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function a(t,e){if(!e.meta.subcollections||e.meta.storeAs)return(0,D.updateItemInArray)(t,e.meta.doc,function(t){return(0,d.default)(t,e.payload.data)});var n=(0,D.pathToArr)(e.meta.path),r=P(n,4),i=r[1],a=r[2],s=r[3];return(0,D.updateItemInArray)(t,i,function(t){return R({},t,o({},a,(0,D.updateItemInArray)((0,A.default)(t,a,[]),s,function(t){return(0,d.default)(t,e.payload.data)})))})}function s(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],e=arguments[1],n=e.meta,r=e.payload;return!n.subcollections||n.storeAs?[].concat(i(t.slice(0,r.ordered.newIndex)),[R({id:n.doc},r.data)],i(t.slice(r.ordered.newIndex))):a(t,e)}function u(t,e){if(!e.meta.subcollections||e.meta.storeAs)return(0,S.default)(t,{id:e.meta.doc});var n=e.meta.subcollections[0];return n.doc?(0,D.updateItemInArray)(t,e.meta.doc,function(e){return(0,A.default)(e,n.collection,[]).length?R({},e,o({},n.collection,(0,S.default)(t,{id:n.doc}))):e}):(0,D.updateItemInArray)(t,e.meta.doc,function(t){return(0,w.default)(t,[n.collection])})}function c(t,e){var n=e.meta,r=e.merge,i=void 0===r?{doc:!0,collections:!0}:r;if(n.storeAs)return e.payload.ordered;var s=(0,k.default)(t),u=!!(0,k.default)(e.payload.ordered);if(n.doc&&i.doc&&s)return a(t,e);if(s&&i.collections){if(!u)return[];var c=t&&(0,v.default)(t,"id");return(0,b.default)(e.payload.ordered,function(t){var e=(0,A.default)(c,t.id);return e&&!(0,y.default)(e,t)?R({},e,t):t})}if(n.doc&&n.subcollections){var f=n.subcollections[0];return s?(0,D.updateItemInArray)(t,n.doc,function(t){return u?R({},t,o({},f.collection,(0,C.default)((0,A.default)(t,f.collection,[]),e.payload.ordered,"id"))):(0,w.default)(t,[f.collection])}):[o({id:n.doc},f.collection,e.payload.ordered)]}return n.doc&&s?(0,D.updateItemInArray)(t,n.doc,function(t){return(0,d.default)(t,e.payload.ordered[0])}):e.payload.ordered}function f(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1];if(!e.type)return t;if(e.type===j)return e.preserve&&e.preserve.ordered?(0,D.preserveValuesFromState)(t,e.preserve.ordered,{}):{};if(!Object.prototype.hasOwnProperty.call(q,e.type))return t;if(!e.meta||!e.meta.storeAs&&!e.meta.collection)return t;var n=e.meta.storeAs||e.meta.collection,r=(0,A.default)(t,n);return R({},t,o({},n,W(r,e)))}Object.defineProperty(e,"__esModule",{value:!0});var l,h=n(285),d=r(h),p=n(148),y=r(p),m=n(627),v=r(m),g=n(55),b=r(g),_=n(87),w=r(_),E=n(631),S=r(E),T=n(633),C=r(T),I=n(31),A=r(I),O=n(57),k=r(O),R=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},P=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}();e.default=f;var x=n(15),D=n(46),N=x.actionTypes.DOCUMENT_ADDED,M=x.actionTypes.GET_SUCCESS,L=x.actionTypes.LISTENER_RESPONSE,j=x.actionTypes.CLEAR_DATA,U=x.actionTypes.DELETE_SUCCESS,F=x.actionTypes.DOCUMENT_REMOVED,B=x.actionTypes.DOCUMENT_MODIFIED,q=(l={},o(l,N,s),o(l,B,a),o(l,F,u),o(l,U,u),o(l,L,c),o(l,M,c),l),W=(0,D.createReducer)(void 0,q)},function(t,e,n){var r=n(56),i=n(628),o=i(function(t,e,n){r(t,n,e)});t.exports=o},function(t,e,n){function r(t,e){return function(n,r){var u=s(n)?i:o,c=e?e():{};return u(n,t,a(r,2),c)}}var i=n(629),o=n(630),a=n(14),s=n(2);t.exports=r},function(t,e){function n(t,e,n,r){for(var i=-1,o=null==t?0:t.length;++i<o;){var a=t[i];e(r,a,n(a),t)}return r}t.exports=n},function(t,e,n){function r(t,e,n,r){return i(t,function(t,i,o){e(r,t,n(t),o)}),r}var i=n(34);t.exports=r},function(t,e,n){function r(t,e){return(s(t)?i:o)(t,u(a(e,3)))}var i=n(116),o=n(209),a=n(14),s=n(2),u=n(632);t.exports=r},function(t,e){function n(t){if("function"!=typeof t)throw new TypeError(r);return function(){var e=arguments;switch(e.length){case 0:return!t.call(this);case 1:return!t.call(this,e[0]);case 2:return!t.call(this,e[0],e[1]);case 3:return!t.call(this,e[0],e[1],e[2])}return!t.apply(this,e)}}var r="Expected a function";t.exports=n},function(t,e,n){var r=n(81),i=n(14),o=n(60),a=n(634),s=n(136),u=n(54),c=o(function(t){var e=u(t);return s(e)&&(e=void 0),a(r(t,1,s,!0),i(e,2))});t.exports=c},function(t,e,n){function r(t,e,n){var r=-1,l=o,h=t.length,d=!0,p=[],y=p;if(n)d=!1,l=a;else if(h>=f){var m=e?null:u(t);if(m)return c(m);d=!1,l=s,y=new i}else y=e?[]:p;t:for(;++r<h;){var v=t[r],g=e?e(v):v;if(v=n||0!==v?v:0,d&&g===g){for(var b=y.length;b--;)if(y[b]===g)continue t;e&&y.push(g),p.push(v)}else l(y,g,n)||(y!==p&&y.push(g),p.push(v))}return p}var i=n(111),o=n(142),a=n(242),s=n(112),u=n(635),c=n(113),f=200;t.exports=r},function(t,e,n){var r=n(194),i=n(233),o=n(113),a=r&&1/o(new r([,-0]))[1]==1/0?function(t){return new r(t)}:i;t.exports=a},function(t,e,n){"use strict";function r(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function i(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=e.type,i=e.meta;switch(n){case l:return s({},t,r({},(0,c.getSlashStrPath)((0,f.getQueryName)(i)),!0));case h:case d:return s({},t,r({},(0,c.getSlashStrPath)((0,f.getQueryName)(i)),!1));default:return t}}function o(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=e.type,i=e.meta;switch(n){case l:return s({},t,r({},(0,f.getQueryName)(i),!1));case h:case d:return s({},t,r({},(0,f.getQueryName)(i),!0));default:return t}}function a(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=e.type,i=e.meta;switch(n){case l:return s({},t,r({},(0,f.getQueryName)(i),Date.now()));default:return t}}Object.defineProperty(e,"__esModule",{value:!0});var s=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.requestingReducer=i,e.requestedReducer=o,e.timestampsReducer=a;var u=n(15),c=n(46),f=n(162),l=u.actionTypes.SET_LISTENER,h=u.actionTypes.LISTENER_ERROR,d=u.actionTypes.LISTENER_RESPONSE;e.default=(0,c.combineReducers)({requesting:i,requested:o,timestamps:a})},function(t,e,n){"use strict";function r(t,e){var n=e.method,r=e.modelArgs,i=e.methodArgs;if((0,a.default)(r)||(r=[r]),(0,a.default)(i)||(i=[i]),!t||!t.firestore)throw new Error("firestore is not a Firebase namespace");return i?t.firestore()[n].apply(t,i):t.firestore()[n]}function i(t){return function(e){return function(n){return function(i){function o(t){var e=u({},i,t);return delete e[f],e}var a=i.type===f?i:void 0;if("undefined"===typeof a)return n(i);var c=a.method;if("function"===typeof c&&(c=c(e.getState())),"string"!==typeof c)throw new Error("Specify a method.");var h=a.args,d=l[c];if(!Array.isArray(d)||3!==d.length)throw new Error("Expected an array of three action types.");if(!d.every(function(t){return"string"===typeof t}))throw new Error("Expected action types to be strings.");var p=s(d,3),y=p[0],m=p[1],v=p[2];return n({type:y}),r(t,{method:c}).then(function(t){return n({response:t,method:c,args:h,type:m})}).catch(function(t){return n(o({type:v,error:t.message||t||"Something bad happened"}))})}}}}Object.defineProperty(e,"__esModule",{value:!0}),e.CALL_FIRESTORE=void 0;var o=n(2),a=function(t){return t&&t.__esModule?t:{default:t}}(o),s=function(){function t(t,e){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!e||n.length!==e);r=!0);}catch(t){i=!0,o=t}finally{try{!r&&s.return&&s.return()}finally{if(i)throw o}}return n}return function(e,n){if(Array.isArray(e))return e;if(Symbol.iterator in Object(e))return t(e,n);throw new TypeError("Invalid attempt to destructure non-iterable instance")}}(),u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t};e.default=i;var c=n(15),f=e.CALL_FIRESTORE="CALL_FIRESTORE",l={get:[c.actionTypes.GET_REQUEST,c.actionTypes.GET_SUCCESS,c.actionTypes.GET_FAILURE]}},function(t,e,n){"use strict";var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments[1];switch(e.type){case"CHAT_WITH_USER":return e.id;default:return t}};e.a=r},function(t,e,n){"use strict";var r=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments[1];switch(e.type){case"ADD_CHATING_USER":return Object.assign({},e.user);case"CLEAR_CHATING_USER":default:return t}};e.a=r},function(t,e,n){"use strict";function r(t){return function(e){var n=e.dispatch,r=e.getState;return function(e){return function(i){return"function"===typeof i?i(n,r,t):e(i)}}}}var i=r();i.withExtraArgument=r,e.a=i}]);
//# sourceMappingURL=main.ec4d44c9.js.map